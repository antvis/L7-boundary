(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/L7-boundary/",n(n.s=0)})({"++zV":function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:o(arguments[3]);s(e,t,a(n),r)}})},"+2oP":function(e,t,n){"use strict";var r=n("I+eb"),i=n("hh1v"),a=n("6LWA"),o=n("I8vh"),s=n("UMSQ"),u=n("/GqU"),l=n("hBjN"),c=n("tiKp"),f=n("Hd5f"),p=n("rkAj"),d=f("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),m=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!d||!h},{slice:function(e,t){var n,r,c,f=u(this),p=s(f.length),d=o(e,p),h=o(void 0===t?p:t,p);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,d,h);for(r=new(void 0===n?Array:n)(y(h-d,0)),c=0;d<h;d++,c++)d in f&&l(r,c,f[d]);return r.length=c,r}})},"+6XX":function(e,t,n){var r=n("y1pI");function i(e){return r(this.__data__,e)>-1}e.exports=i},"+9pV":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("Sx5r"),u=r(n("u5ea")),l=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"swipePoint",void 0),(0,o["default"])(this,"swipeTouch",void 0),(0,o["default"])(this,"tapTime",void 0),(0,o["default"])(this,"tap",void 0),this.tap=new u["default"]({numTouches:1,numTaps:1}),this.reset()}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1,delete this.swipePoint,delete this.swipeTouch,delete this.tapTime,this.tap.reset()}},{key:"touchstart",value:function(e,t,n){this.swipePoint||(this.tapTime&&e.timeStamp-this.tapTime>s.MAX_TAP_INTERVAL&&this.reset(),this.tapTime?n.length>0&&(this.swipePoint=t[0],this.swipeTouch=n[0].identifier):this.tap.touchstart(e,t,n))}},{key:"touchmove",value:function(e,t,n){if(this.tapTime){if(this.swipePoint){if(n[0].identifier!==this.swipeTouch)return;var r=t[0],i=r.y-this.swipePoint.y;return this.swipePoint=r,e.preventDefault(),this.active=!0,{zoomDelta:i/128}}}else this.tap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){if(this.tapTime)this.swipePoint&&0===n.length&&this.reset();else{var r=this.tap.touchend(e,t,n);r&&(this.tapTime=e.timeStamp)}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();t["default"]=l},"+K+b":function(e,t,n){var r=n("JHRd");function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},"+LVB":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("RIqP")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=n("IOcx"),l=r(n("I12Z")),c=function(){function e(t,n){(0,a["default"])(this,e),(0,s["default"])(this,"width",void 0),(0,s["default"])(this,"height",void 0),(0,s["default"])(this,"grid",void 0),(0,s["default"])(this,"viewportPadding",100),(0,s["default"])(this,"screenRightBoundary",void 0),(0,s["default"])(this,"screenBottomBoundary",void 0),(0,s["default"])(this,"gridRightBoundary",void 0),(0,s["default"])(this,"gridBottomBoundary",void 0),this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new l["default"](t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return(0,o["default"])(e,[{key:"placeCollisionBox",value:function(e){var t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,i=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,i)||this.grid.hitTest(t,n,r,i)?{box:[]}:{box:[t,n,r,i]}}},{key:"insertCollisionBox",value:function(e,t){var n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}},{key:"project",value:function(e,t,n){var r=u.vec4.fromValues(t,n,0,1),a=u.vec4.create(),o=u.mat4.fromValues.apply(u.mat4,(0,i["default"])(e));return u.vec4.transformMat4(a,r,o),{x:(a[0]/a[3]+1)/2*this.width+this.viewportPadding,y:(-a[1]/a[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}]),e}();t["default"]=c},"+M1K":function(e,t,n){var r=n("ppGB");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),a=n("cq/+"),o=n("T1AV"),s=n("GoyQ"),u=n("mTTR"),l=n("itsj");function c(e,t,n,f,p){e!==t&&a(t,(function(a,u){if(p||(p=new r),s(a))o(e,t,u,n,c,f,p);else{var d=f?f(l(e,u),a,u+"",e,t,p):void 0;void 0===d&&(d=a),i(e,u,d)}}),u)}e.exports=c},"+c4W":function(e,t,n){var r=n("711d"),i=n("4/ic"),a=n("9ggG"),o=n("9Nap");function s(e){return a(e)?r(o(e)):i(e)}e.exports=s},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),a=n("6sVZ");function o(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}e.exports=o},"+iGO":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("J4zp")),s=r(n("lwsE")),u=r(n("W8MJ")),l=r(n("lSNA")),c=n("IOcx"),f=n("4cb6");n("mNvP");var p=(i=(0,f.injectable)(),i(a=function(){function e(){(0,s["default"])(this,e),(0,l["default"])(this,"viewport",void 0),(0,l["default"])(this,"overridedViewProjectionMatrix",void 0),(0,l["default"])(this,"jitteredViewProjectionMatrix",void 0),(0,l["default"])(this,"jitteredProjectionMatrix",void 0),(0,l["default"])(this,"viewMatrixInverse",void 0),(0,l["default"])(this,"cameraPosition",void 0)}return(0,u["default"])(e,[{key:"init",value:function(){}},{key:"update",value:function(e){this.viewport=e,this.viewMatrixInverse=c.mat4.create(),c.mat4.invert(this.viewMatrixInverse,e.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var e=this.viewport.getCenter(),t=(0,o["default"])(e,2),n=t[0],r=t[1];return[n,r]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}},{key:"setViewProjectionMatrix",value:function(e){this.overridedViewProjectionMatrix=e}},{key:"jitterProjectionMatrix",value:function(e,t){var n=c.mat4.fromTranslation(c.mat4.create(),[e,t,0]);this.jitteredProjectionMatrix=c.mat4.multiply(c.mat4.create(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=c.mat4.multiply(c.mat4.create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}())||a);t["default"]=p},"+wdc":function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,h=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)t.unstable_now=function(){return p.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var g=!1,b=null,_=-1,x=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+x;try{b(!0,e)?S.postMessage(null):(g=!1,b=null)}catch(n){throw S.postMessage(null),n}}else g=!1},r=function(e){b=e,g||(g=!0,S.postMessage(null))},i=function(e,n){_=h((function(){e(t.unstable_now())}),n)},a=function(){v(_),_=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return e=e[0],void 0===e?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],M=[],P=1,I=null,R=3,j=!1,L=!1,N=!1;function D(e){for(var t=O(M);null!==t;){if(null===t.callback)T(M);else{if(!(t.startTime<=e))break;T(M),t.sortIndex=t.expirationTime,k(A,t)}t=O(M)}}function F(e){if(N=!1,D(e),!L)if(null!==O(A))L=!0,r(z);else{var t=O(M);null!==t&&i(F,t.startTime-e)}}function z(e,n){L=!1,N&&(N=!1,a()),j=!0;var r=R;try{for(D(n),I=O(A);null!==I&&(!(I.expirationTime>n)||e&&!o());){var s=I.callback;if(null!==s){I.callback=null,R=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===O(A)&&T(A),D(n)}else T(A);I=O(A)}if(null!==I)var l=!0;else{var c=O(M);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{I=null,R=r,j=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||j||(L=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return O(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:B(e)}else o=B(e),u=s;return o=u+o,e={id:P++,callback:n,priorityLevel:e,startTime:u,expirationTime:o,sortIndex:-1},u>s?(e.sortIndex=u,k(M,e),null===O(A)&&e===O(M)&&(N?a():N=!0,i(F,u-s))):(e.sortIndex=o,k(A,e),L||j||(L=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=O(A);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},"+ywr":function(e,t,n){var r=n("dOgj");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"/+Gl":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;(0,i["default"])(this,e),(0,o["default"])(this,"limit",void 0),(0,o["default"])(this,"cache",void 0),(0,o["default"])(this,"destroy",void 0),(0,o["default"])(this,"order",void 0),this.limit=t,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return(0,a["default"])(e,[{key:"clear",value:function(){var e=this;this.order.forEach((function(t){e["delete"](t)})),this.cache={},this.order=[]}},{key:"get",value:function(e){var t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}},{key:"set",value:function(e,t){this.cache[e]?(this["delete"](e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this["delete"](this.order[0]),this.cache[e]=t,this.appendOrder(e))}},{key:"delete",value:function(e){var t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}},{key:"deleteCache",value:function(e){delete this.cache[e]}},{key:"deleteOrder",value:function(e){var t=this.order.findIndex((function(t){return t===e}));t>=0&&this.order.splice(t,1)}},{key:"appendOrder",value:function(e){this.order.push(e)}},{key:"defaultDestroy",value:function(e,t){return null}}]),e}();t.LRUCache=s},"/7QA":function(e,t,n){"use strict";var r=n("EgBx");n.d(t,"CityLayer",(function(){return r["a"]}));var i=n("GQRD");n.d(t,"CountryLayer",(function(){return i["a"]}));var a=n("c/Ax");n.d(t,"CountyLayer",(function(){return a["a"]}));var o=n("3Q4G");n.d(t,"DrillDownLayer",(function(){return o["a"]}));var s=n("3m+5");n.d(t,"ProvinceLayer",(function(){return s["a"]}));var u=n("vKKe");n.d(t,"WorldLayer",(function(){return u["a"]}));var l=n("NeDX");n.d(t,"RegionLayer",(function(){return l["a"]}));n("1wtQ");var c=n("NEDz");n.o(c,"RegionList")&&n.d(t,"RegionList",(function(){return c["RegionList"]}));var f=n("pd6k");n.d(t,"RegionList",(function(){return f["b"]}));n("gEmk")},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7"),a="[object Symbol]";function o(e){return"symbol"==typeof e||i(e)&&r(e)==a}e.exports=o},"/FUP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=n("W3HW"),i=v(r),a=n("lreK"),o=v(a),s=n("KfSR"),u=v(s),l=n("VYtm"),c=v(l),f=n("XQvf"),p=v(f),d=n("B5Mt"),h=v(d);function v(e){return e&&e.__esModule?e:{default:e}}t.hover=c["default"],t.handleHover=c["default"],t.handleActive=p["default"],t.loop=h["default"];var m=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=(0,i["default"])(n),s=(0,o["default"])(e,a);return(0,u["default"])(s)};t["default"]=m},"/GqU":function(e,t,n){var r=n("RK3t"),i=n("HYAF");e.exports=function(e){return r(i(e))}},"/H4K":function(e,t,n){},"/LGU":function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a["default"]=a,e.exports=a):(r=[],i=function(){return a}.apply(t,r),void 0===i||(e.exports=i))})()},"/NRP":function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("PJYZ")),u=i(n("7W2i")),l=i(n("a1gu")),c=i(n("Nsbk")),f=i(n("lSNA")),p=n("z0pJ"),d=r(n("04D5"));function h(e){var t=v();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,u["default"])(n,e);var t=h(n);function n(e){var r;return(0,a["default"])(this,n),r=t.call(this,e),(0,f["default"])((0,s["default"])(r),"mScale",void 0),(0,f["default"])((0,s["default"])(r),"iScale",void 0),(0,p.bindAll)(["update"],(0,s["default"])(r)),r}return(0,o["default"])(n,[{key:"getDefault",value:function(){return{position:d.PositionType.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var e="l7-control-scale",t=p.DOM.create("div",e);this.addScales(e+"-line",t);var n=this.controlOption.updateWhenIdle;return this.mapsService.on(n?"moveend":"mapmove",this.update),this.mapsService.on(n?"zoomend":"zoomchange",this.update),this.update(),t}},{key:"onRemove",value:function(){var e=this.controlOption.updateWhenIdle;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var e=this.mapsService,t=this.controlOption.maxWidth,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),i=e.containerToLngLat([t,n]),a=(0,p.lnglatDistance)([r.lng,r.lat],[i.lng,i.lat]);this.updateScales(a)}},{key:"updateScales",value:function(e){var t=this.controlOption,n=t.metric,r=t.imperial;n&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e)}},{key:"updateMetric",value:function(e){var t=this.getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,n,t/e)}},{key:"updateImperial",value:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(i),this.updateScale(this.iScale,r+" ft",r/i))}},{key:"updateScale",value:function(e,t,n){var r=this.controlOption.maxWidth;e.style.width=Math.round(r*n)+"px",e.innerHTML=t}},{key:"getRoundNum",value:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}},{key:"addScales",value:function(e,t){var n=this.controlOption,r=n.metric,i=n.imperial;r&&(this.mScale=p.DOM.create("div",e,t)),i&&(this.iScale=p.DOM.create("div",e,t))}}]),n}(d["default"]);t["default"]=m},"/Yfv":function(e,t,n){var r=n("dOgj");r("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"/Zof":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("z0pJ"),u=n("4cb6");n("mNvP");var l,c,f=n("0t2r");function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(l=(0,u.injectable)(),l(c=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"container",void 0),(0,o["default"])(this,"controlCorners",void 0),(0,o["default"])(this,"controlContainer",void 0),(0,o["default"])(this,"scene",void 0),(0,o["default"])(this,"mapsService",void 0),(0,o["default"])(this,"controls",[]),(0,o["default"])(this,"unAddControls",[])}return(0,a["default"])(e,[{key:"init",value:function(e,t){this.container=e.container,this.scene=t,this.mapsService=t.get(f.TYPES.IMapService),this.initControlPos()}},{key:"addControl",value:function(e,t){var n=t.get(f.TYPES.IMapService);n.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}},{key:"getControlByName",value:function(e){return this.controls.find((function(t){return t.controlOption.name===e}))}},{key:"removeControl",value:function(e){var t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}},{key:"addControls",value:function(){var e=this;this.unAddControls.forEach((function(t){t.addTo(e.scene),e.controls.push(t)})),this.unAddControls=[]}},{key:"destroy",value:function(){var e,t=p(this.controls);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.remove()}}catch(r){t.e(r)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var e=this.controlCorners={},t="l7-",n=this.controlContainer=s.DOM.create("div",t+"control-container",this.container);function r(r,i){var a=t+r+" "+t+i;e[r+i]=s.DOM.create("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")}},{key:"clearControlPos",value:function(){for(var e in this.controlCorners)this.controlCorners[e]&&s.DOM.remove(this.controlCorners[e]);this.controlContainer&&s.DOM.remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),e}())||c);t["default"]=v},"/b8u":function(e,t,n){var r=n("STAE");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/og/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("J4zp")),a=r(n("RIqP")),o=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("lSNA")),l=n("IOcx"),c=function(){function e(){(0,o["default"])(this,e),(0,u["default"])(this,"projectionMatrix",l.mat4.create()),(0,u["default"])(this,"viewMatrix",l.mat4.create()),(0,u["default"])(this,"viewProjectionMatrix",l.mat4.create()),(0,u["default"])(this,"ViewProjectionMatrixUncentered",l.mat4.create()),(0,u["default"])(this,"viewUncenteredMatrix",l.mat4.create()),(0,u["default"])(this,"zoom",void 0),(0,u["default"])(this,"center",void 0)}return(0,s["default"])(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.center,i=void 0===r?[0,0]:r,o=e.offsetOrigin,s=void 0===o?[0,0]:o,u=e.cameraPosition,c=void 0===u?[0,0,0]:u,f=e.up,p=void 0===f?[0,1,0]:f,d=e.lookAt,h=void 0===d?[0,0,0]:d,v=e.aspect,m=void 0===v?1:v,y=e.near,g=void 0===y?.1:y,b=e.far,_=void 0===b?1e3:b,x=e.fov,w=void 0===x?45:x;this.zoom=n,this.center=i,l.mat4.perspective(this.projectionMatrix,w/180*Math.PI,m,g,_);var E=l.vec3.fromValues.apply(l.vec3,(0,a["default"])(c)),S=l.vec3.fromValues.apply(l.vec3,(0,a["default"])(h)),k=l.vec3.fromValues.apply(l.vec3,(0,a["default"])(p));l.mat4.lookAt(this.viewMatrix,E,S,k),this.viewUncenteredMatrix=l.mat4.clone(this.viewMatrix),l.mat4.translate(this.viewMatrix,this.viewMatrix,l.vec3.fromValues(-s[0],s[1],0)),l.mat4.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),l.mat4.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var e=(0,i["default"])(this.center,2),t=e[0],n=e[1];return[t,n]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),i=256<<20,a=Math.PI/180,o=e[0]*a,s=r*a;s=Math.log(Math.tan(Math.PI/4+s/2));var u=.5/Math.PI,l=.5,c=-.5/Math.PI;return a=.5,o=i*(u*o+l)-215440491,s=-(i*(c*s+a)-106744817),[o,s]}}]),e}();t["default"]=c},"/qmn":function(e,t,n){var r=n("2oRo");e.exports=r.Promise},"/s5C":function(e,t,n){"use strict";function r(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=r},"/sMl":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getContainer=o,t.trim=s,t.splitWords=u,t.create=c,t.remove=f,t.addClass=p,t.removeClass=d,t.hasClass=h,t.setClass=v,t.getClass=m,t.empty=y,t.setTransform=b,t.triggerResize=_,t.printCanvas=x,t.getViewPortScale=w,t.DPR=void 0;var i=r(n("J4zp")),a=window.document.documentElement.style;function o(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}function s(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return s(e).split(/\s+/)}function l(e){if(!a)return e[0];for(var t in e)if(e[t]&&e[t]in a)return e[t];return e[0]}function c(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function p(e,t){if(void 0!==e.classList)for(var n=u(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!h(e,t)){var a=m(e);v(e,(a?a+" ":"")+t)}}function d(e,t){void 0!==e.classList?e.classList.remove(t):v(e,s((" "+m(e)+" ").replace(" "+t+" "," ")))}function h(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=m(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function v(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function m(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function y(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}var g=l(["transform","WebkitTransform"]);function b(e,t){e.style[g]=t}function _(){if("function"===typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function x(e){var t=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log("%c\n",t.join(""))}function w(){var e,t=document.querySelector('meta[name="viewport"]');if(!t)return 1;var n=null===(e=t.content)||void 0===e?void 0:e.split(","),r=n.find((function(e){var t=e.split("="),n=(0,i["default"])(t,2),r=n[0];n[1];return"initial-scale"===r}));return r?1*r.split("=")[1]:1}var E=w()<1?1:window.devicePixelRatio;t.DPR=E},"/vyB":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=n("z0pJ"),d=n("uhBA");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,s["default"])(n,e);var t=m(n);function n(e){var r;return(0,i["default"])(this,n),r=t.call(this),(0,c["default"])((0,o["default"])(r),"popupOption",void 0),(0,c["default"])((0,o["default"])(r),"mapsService",void 0),(0,c["default"])((0,o["default"])(r),"sceneSerive",void 0),(0,c["default"])((0,o["default"])(r),"lngLat",void 0),(0,c["default"])((0,o["default"])(r),"content",void 0),(0,c["default"])((0,o["default"])(r),"closeButton",void 0),(0,c["default"])((0,o["default"])(r),"timeoutInstance",void 0),(0,c["default"])((0,o["default"])(r),"container",void 0),(0,c["default"])((0,o["default"])(r),"tip",void 0),(0,c["default"])((0,o["default"])(r),"scene",void 0),r.popupOption=v(v({},r.getdefault()),e),(0,p.bindAll)(["update","onClickClose","remove"],(0,o["default"])(r)),r}return(0,a["default"])(n,[{key:"addTo",value:function(e){var t=this;return this.mapsService=e.get(f.TYPES.IMapService),this.sceneSerive=e.get(f.TYPES.ISceneService),this.mapsService.on("camerachange",this.update),this.scene=e,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){t.mapsService.on("click",t.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(e){var t,n=window.document.createDocumentFragment(),r=window.document.createElement("body");r.innerHTML=e;while(1){if(t=r.firstChild,!t)break;n.appendChild(t)}return this.setDOMContent(n)}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&this.mapsService.on("camerachange",this.update),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(e){return this.setDOMContent(window.document.createTextNode(e))}},{key:"setMaxWidth",value:function(e){return this.popupOption.maxWidth=e,this.update(),this}},{key:"setDOMContent",value:function(e){return this.createContent(),this.content.appendChild(e),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&p.DOM.remove(this.content),this.content=p.DOM.create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=p.DOM.create("button","l7-popup-close-button",this.content),this.popupOption.closeButtonOffsets&&(this.closeButton.style.right=this.popupOption.closeButtonOffsets[0]+"px",this.closeButton.style.top=this.popupOption.closeButtonOffsets[1]+"px"),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"removeDom",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:p.anchorType.BOTTOM,className:"",stopPropagation:!0}}},{key:"onClickClose",value:function(e){e.stopPropagation&&e.stopPropagation(),this.remove()}},{key:"update",value:function(){var e=this,t=this.lngLat,n=this.popupOption,r=n.className,i=n.maxWidth,a=n.anchor;if(this.mapsService&&t&&this.content){var o=this.mapsService.getMarkerContainer();if(!this.container&&o){this.container=this.creatDom("div","l7-popup",o),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(t){return e.container.classList.add(t)}));var s=this.popupOption.stopPropagation;s&&["mousemove","mousedown","mouseup","click","dblclick"].forEach((function(t){e.container.addEventListener(t,(function(e){e.stopPropagation()}))}))}i&&this.container.style.maxWidth!==i&&(this.container.style.maxWidth=i),this.updatePosition(),p.DOM.setTransform(this.container,"".concat(p.anchorTranslate[a])),(0,p.applyAnchorClass)(this.container,a,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.lngLat,t=e.lng,n=e.lat,r=this.popupOption.offsets,i=this.mapsService.lngLatToContainer([t,n]);this.container.style.left=i.x+r[0]+"px",this.container.style.top=i.y-r[1]+"px"}}}]),n}(d.EventEmitter);t["default"]=g},"/xke":function(e,t,n){"use strict";n.r(t);n("cIOH"),n("rSSe")},0:function(e,t,n){e.exports=n("tB8F")},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},"04D5":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.PositionType=void 0;var i,a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=n("gHHc"),d=n("z0pJ"),h=n("uhBA");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,f["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=g();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}t.PositionType=i,function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft"}(i||(t.PositionType=i={}));var b=0,_=function(e){(0,u["default"])(n,e);var t=y(n);function n(e){var r;return(0,a["default"])(this,n),r=t.call(this),(0,f["default"])((0,s["default"])(r),"controlOption",void 0),(0,f["default"])((0,s["default"])(r),"container",void 0),(0,f["default"])((0,s["default"])(r),"sceneContainer",void 0),(0,f["default"])((0,s["default"])(r),"mapsService",void 0),(0,f["default"])((0,s["default"])(r),"renderService",void 0),(0,f["default"])((0,s["default"])(r),"layerService",void 0),(0,f["default"])((0,s["default"])(r),"controlService",void 0),(0,f["default"])((0,s["default"])(r),"isShow",void 0),r.controlOption=m(m({},r.getDefault()),e||{}),r}return(0,o["default"])(n,[{key:"getDefault",value:function(){return{position:i.TOPRIGHT,name:"".concat(b++)}}},{key:"setPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottomright",t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(e){this.mapsService=e.get(p.TYPES.IMapService),this.renderService=e.get(p.TYPES.IRendererService),this.layerService=e.get(p.TYPES.ILayerService),this.controlService=e.get(p.TYPES.IControlService),this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();var t=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return d.DOM.addClass(t,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var e=this.container;d.DOM.addClass(e,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var e=this.container;d.DOM.removeClass(e,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;d.DOM.remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){var t=this.mapsService.getContainer();null!==t&&t.focus()}}}]),n}(h.EventEmitter);t["default"]=_},"07d7":function(e,t,n){var r=n("AO7/"),i=n("busE"),a=n("sEFX");r||i(Object.prototype,"toString",a,{unsafe:!0})},"0BK2":function(e,t){e.exports={}},"0Bia":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("9kvl"),s=(n("mdU6"),function(e){var t=e.location,n=Object(r["useContext"])(a["context"]),s=n.base,u=n.locale,l=n.config.locales,c=l.find((function(e){var t=e.name;return t!==u}));function f(e){var n=s.replace("/".concat(u),""),r=t.pathname.replace(s,n)||"/";if(e!==l[0].name){var i="".concat(n,"/").concat(e).replace(/\/\//,"/"),a=t.pathname.replace(s.replace(/^\/$/,"//"),"");return"".concat(i).concat(a).replace(/\/$/,"")}return r}return c?i.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":l.length},l.length>2?i.a.createElement("select",{value:u,onChange:function(e){return o["a"].push(f(e.target.value))}},l.map((function(e){return i.a.createElement("option",{value:e.name,key:e.name},e.label)}))):i.a.createElement(a["Link"],{to:f(c.name)},c.label)):null}),u=s,l=(n("fVI1"),function(e){var t=e.onMobileMenuClick,n=e.navPrefix,o=e.location,s=e.darkPrefix,l=Object(r["useContext"])(a["context"]),c=l.base,f=l.config,p=f.mode,d=f.title,h=f.logo,v=l.nav;return i.a.createElement("div",{className:"__dumi-default-navbar","data-mode":p},i.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:t}),i.a.createElement(a["Link"],{className:"__dumi-default-navbar-logo",style:{backgroundImage:h&&"url('".concat(h,"')")},to:c,"data-plaintext":!1===h||void 0},d),i.a.createElement("nav",null,n,v.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(a["NavLink"],{to:e.path},e.title))})));return i.a.createElement("span",{key:e.title||e.path},e.path?i.a.createElement(a["NavLink"],{to:e.path,key:e.path},e.title):e.title,n)})),i.a.createElement("div",{className:"__dumi-default-navbar-tool"},i.a.createElement(u,{location:o}),s)))}),c=l,f=(n("hJnp"),["slugs"]);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i=h(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var v=function(e){var t=e.slugs,n=d(e,f);return i.a.createElement("ul",p({role:"slug-list"},n),t.filter((function(e){var t=e.depth;return t>1&&t<4})).map((function(e){return i.a.createElement("li",{key:e.heading,title:e.value,"data-depth":e.depth},i.a.createElement(a["AnchorLink"],{to:"#".concat(e.heading)},i.a.createElement("span",null,e.value)))})))},m=v,y=(n("Mpie"),function(e){var t=e.mobileMenuCollapsed,n=e.location,o=e.darkPrefix,s=Object(r["useContext"])(a["context"]),l=s.config,c=l.logo,f=l.title,p=l.description,d=l.mode,h=l.repository.url,v=s.menu,y=s.nav,g=s.base,b=s.meta,_=Boolean((b.hero||b.features||b.gapless)&&"site"===d)||!1===b.sidemenu||void 0;return i.a.createElement("div",{className:"__dumi-default-menu","data-mode":d,"data-hidden":_,"data-mobile-show":!t||void 0},i.a.createElement("div",{className:"__dumi-default-menu-inner"},i.a.createElement("div",{className:"__dumi-default-menu-header"},i.a.createElement(a["Link"],{to:g,className:"__dumi-default-menu-logo",style:{backgroundImage:c&&"url('".concat(c,"')")}}),i.a.createElement("h1",null,f),i.a.createElement("p",null,p),/github\.com/.test(h)&&"doc"===d&&i.a.createElement("p",null,i.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(h.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),i.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},!!y.length&&i.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},y.map((function(e){var t,n=Boolean(null===(t=e.children)||void 0===t?void 0:t.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(a["NavLink"],{to:e.path},e.title))})));return i.a.createElement("li",{key:e.path||e.title},e.path?i.a.createElement(a["NavLink"],{to:e.path},e.title):e.title,n)}))),i.a.createElement(u,{location:n}),o),i.a.createElement("ul",{className:"__dumi-default-menu-list"},!_&&v.map((function(e){var t,r=Boolean(null===(t=b.slugs)||void 0===t?void 0:t.length),o=e.children&&Boolean(e.children.length),s="menu"===b.toc&&!o&&r&&e.path===n.pathname.replace(/([^^])\/$/,"$1");return i.a.createElement("li",{key:e.path||e.title},i.a.createElement(a["NavLink"],{to:e.path,exact:!(e.children&&e.children.length)},e.title),Boolean(e.children&&e.children.length)&&i.a.createElement("ul",null,e.children.map((function(e){return i.a.createElement("li",{key:e.path},i.a.createElement(a["NavLink"],{to:e.path,exact:!0},i.a.createElement("span",null,e.title)),Boolean("menu"===b.toc&&"undefined"!==typeof window&&e.path===n.pathname&&r)&&i.a.createElement(m,{slugs:b.slugs}))}))),s&&i.a.createElement(m,{slugs:b.slugs}))})))))}),g=y;n("AK2Z");function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){return k(e)||S(e,t)||w(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function k(e){if(Array.isArray(e))return e}var O=function(){var e=Object(r["useState"])(""),t=_(e,2),n=t[0],o=t[1],s=Object(r["useState"])([]),u=_(s,2),l=u[0],c=u[1],f=Object(r["useRef"])(),p=Object(a["useSearch"])(n),d=i.a.createElement("svg",{className:"__dumi-default-search-empty",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2347",width:"32",height:"32"},i.a.createElement("path",{d:"M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z"}));return Object(r["useEffect"])((function(){Array.isArray(p)?c(p):"function"===typeof p&&p(".".concat(f.current.className))}),[p]),i.a.createElement("div",{className:"__dumi-default-search"},i.a.createElement("input",b({className:"__dumi-default-search-input",type:"search",ref:f},Array.isArray(p)?{value:n,onChange:function(e){return o(e.target.value)}}:{})),i.a.createElement("ul",null,l.length>0&&l.map((function(e){var t;return i.a.createElement("li",{key:e.path,onClick:function(){return o("")}},i.a.createElement(a["AnchorLink"],{to:e.path},(null===(t=e.parent)||void 0===t?void 0:t.title)&&i.a.createElement("span",null,e.parent.title),e.title))})),0==l.length&&n&&i.a.createElement("li",{style:{textAlign:"center"}},d)))};n("Zkgb");function T(e,t){return I(e)||P(e,t)||A(e,t)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function I(e){if(Array.isArray(e))return e}var R=function(e){var t=e.darkSwitch,n=e.onDarkSwitchClick,r=e.isSideMenu,o=["dark","light","auto"],s=Object(a["usePrefersColor"])(),u=T(s,2),l=u[0],c=u[1],f=l,p=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4026",width:"22",height:"22"},i.a.createElement("path",{d:"M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z","p-id":"4027"})),d=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3854",width:"22",height:"22"},i.a.createElement("path",{d:"M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z","p-id":"3855"})),h=i.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11002",width:"22",height:"22"},i.a.createElement("path",{d:"M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z","p-id":"11003"})),v=o.filter((function(e){return e!==f})),m=function(e,t){!r&&n&&n(e),t!==f&&c(t)},y=function(e){switch(e){case"dark":return i.a.createElement("button",{key:"dumi-dark-btn-moon",title:"Dark theme",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-moon ".concat(e===f?"__dumi-default-dark-switch-active":"")},d);case"light":return i.a.createElement("button",{key:"dumi-dark-btn-sun",title:"Light theme",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-sun ".concat(e===f?"__dumi-default-dark-switch-active":"")},p);case"auto":return i.a.createElement("button",{key:"dumi-dark-btn-auto",title:"Default to system",onClick:function(t){return m(t,e)},className:"__dumi-default-dark-auto ".concat(e===f?"__dumi-default-dark-switch-active":"")},h);default:}};return i.a.createElement("div",{className:"__dumi-default-dark"},i.a.createElement("div",{className:"__dumi-default-dark-switch ".concat(!r&&t?"__dumi-default-dark-switch-open":"")},r?o.map((function(e){return y(e)})):y(f)),!r&&t&&i.a.createElement("div",{className:"__dumi-default-dark-switch-list"},v.map((function(e){return y(e)}))))},j=R;n("AQPS");function L(e,t){return B(e)||z(e,t)||D(e,t)||N()}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function B(e){if(Array.isArray(e))return e}var U=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"__dumi-default-layout-hero"},e.image&&i.a.createElement("img",{src:e.image}),i.a.createElement("h1",null,e.title),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.desc}}),e.actions&&e.actions.map((function(e){return i.a.createElement(a["Link"],{to:e.link,key:e.text},i.a.createElement("button",{type:"button"},e.text))}))))},V=function(e){return i.a.createElement("div",{className:"__dumi-default-layout-features"},e.map((function(e){return i.a.createElement("dl",{key:e.title,style:{backgroundImage:e.icon?"url(".concat(e.icon,")"):void 0}},e.link?i.a.createElement(a["Link"],{to:e.link},i.a.createElement("dt",null,e.title)):i.a.createElement("dt",null,e.title),i.a.createElement("dd",{dangerouslySetInnerHTML:{__html:e.desc}}))})))},H=function(e){var t,n,o=e.children,s=e.location,u=Object(r["useContext"])(a["context"]),l=u.config,f=l.mode,p=l.repository,d=(u.nav,u.meta),h=u.locale,v=p.url,y=p.branch,b=p.platform,_=Object(r["useState"])(!0),x=L(_,2),w=x[0],E=x[1],S=Object(r["useState"])(!1),k=L(S,2),T=k[0],C=k[1],A="site"===f,M=A&&d.hero,P=A&&d.features,I=!1!==d.sidemenu&&!M&&!P&&!d.gapless,R=!M&&!P&&Boolean(null===(t=d.slugs)||void 0===t?void 0:t.length)&&("content"===d.toc||void 0===d.toc)&&!d.gapless,N=/^zh|cn$/i.test(h),D=new Date(d.updatedTime),F="".concat(D.toLocaleDateString([],{hour12:!1})," ").concat(D.toLocaleTimeString([],{hour12:!1})),z={github:"GitHub",gitlab:"GitLab"}[(null===(n=(v||"").match(/(github|gitlab)/))||void 0===n?void 0:n[1])||"nothing"]||b;return i.a.createElement("div",{className:"__dumi-default-layout","data-route":s.pathname,"data-show-sidemenu":String(I),"data-show-slugs":String(R),"data-site-mode":A,"data-gapless":String(!!d.gapless),onClick:function(){C(!1),w||E(!0)}},i.a.createElement(c,{location:s,navPrefix:i.a.createElement(O,null),darkPrefix:i.a.createElement(j,{darkSwitch:T,onDarkSwitchClick:function(e){C((function(e){return!e})),e.stopPropagation()},isSideMenu:!1}),onMobileMenuClick:function(e){E((function(e){return!e})),e.stopPropagation()}}),i.a.createElement(g,{darkPrefix:i.a.createElement(j,{darkSwitch:T,isSideMenu:!0}),mobileMenuCollapsed:w,location:s}),R&&i.a.createElement(m,{slugs:d.slugs,className:"__dumi-default-layout-toc"}),M&&U(d.hero),P&&V(d.features),i.a.createElement("div",{className:"__dumi-default-layout-content"},o,!M&&!P&&d.filePath&&!d.gapless&&i.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},z&&i.a.createElement(a["Link"],{to:"".concat(v,"/edit/").concat(y,"/").concat(d.filePath)},N?"\u5728 ".concat(z," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(z)),i.a.createElement("span",{"data-updated-text":N?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},F)),(M||P)&&d.footer&&i.a.createElement("div",{className:"__dumi-default-layout-footer",dangerouslySetInnerHTML:{__html:d.footer}})))};t["default"]=H},"0Cz8":function(e,t,n){var r=n("Xi7e"),i=n("ebwN"),a=n("e4Nc"),o=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"0GbY":function(e,t,n){var r=n("Qo9l"),i=n("2oRo"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},"0JQy":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",o=r+i+a,s="\\ufe0e\\ufe0f",u="["+n+"]",l="["+o+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",p="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=f+"?",y="["+s+"]?",g="(?:"+v+"(?:"+[p,d,h].join("|")+")"+y+m+")*",b=y+m+g,_="(?:"+[p+l+"?",l,d,h,u].join("|")+")",x=RegExp(c+"(?="+c+")|"+_+b,"g");function w(e){return e.match(x)||[]}e.exports=w},"0ZTe":function(e,t,n){var r=n("wy8a"),i=n("quyA"),a=n("Em2t"),o=n("dt0z");function s(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}e.exports=s},"0eef":function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},"0gSV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n("GXnB"),i=n("Ztfv");function a(e,t){return function(n,a,o){var s=new r.Metadata(e,t);"number"===typeof o?i.tagParameter(n,a,o,s):i.tagProperty(n,a,s)}}t.tagged=a},"0jNN":function(e,t,n){"use strict";var r=n("sxOR"),i=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}},u=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},l=function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return a(t)&&!a(n)&&(o=u(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(i.call(t,a)){var o=t[a];o&&"object"===typeof o&&n&&"object"===typeof n?t[a]=e(o,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var o=n[a];return i.call(t,a)?t[a]=e(t[a],o,r):t[a]=o,t}),o)},c=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},f=function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},p=function(e,t,n,i,a){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",l=0;l<s.length;++l){var c=s.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===r.RFC1738&&(40===c||41===c)?u+=s.charAt(l):c<128?u+=o[c]:c<2048?u+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?u+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(l)),u+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return u},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),u=0;u<o.length;++u){var l=o[u],c=a[l];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:l}),n.push(c))}return s(t),e},h=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},v=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},m=function(e,t){return[].concat(e,t)},y=function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)};e.exports={arrayToObject:u,assign:c,combine:m,compact:d,decode:f,encode:p,isBuffer:v,isRegExp:h,maybeMap:y,merge:l}},"0q/z":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("Sssf"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(n)}),void 0,!0,!0).result}})},"0rvr":function(e,t,n){var r=n("glrk"),i=n("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},"0t2r":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=void 0;var r={IEventEmitter:Symbol["for"]("IEventEmitter"),ISceneService:Symbol["for"]("ISceneService"),IGlobalConfigService:Symbol["for"]("IGlobalConfigService"),ICameraService:Symbol["for"]("ICameraService"),ICoordinateSystemService:Symbol["for"]("ICoordinateSystemService"),ILayerService:Symbol["for"]("ILayerService"),ILayerMappingService:Symbol["for"]("ILayerMappingService"),ILayerStyleService:Symbol["for"]("ILayerStyleService"),IMapService:Symbol["for"]("IMapService"),IMarkerService:Symbol["for"]("IMarkerService"),IPopupService:Symbol["for"]("PopupService"),IFactoryMapService:Symbol["for"]("Factory<IMapService>"),IRendererService:Symbol["for"]("IRendererService"),IShaderModuleService:Symbol["for"]("IShaderModuleService"),IIconService:Symbol["for"]("IIconService"),IFontService:Symbol["for"]("IFontService"),IInteractionService:Symbol["for"]("IInteractionService"),IPickingService:Symbol["for"]("IPickingService"),IControlService:Symbol["for"]("IControlService"),IStyleAttributeService:Symbol["for"]("IStyleAttributeService"),ILayer:Symbol["for"]("ILayer"),ILayerPlugin:Symbol["for"]("ILayerPlugin"),INormalPass:Symbol["for"]("INormalPass"),IPostProcessor:Symbol["for"]("IPostProcessor"),IPostProcessingPass:Symbol["for"]("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol["for"]("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol["for"]("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol["for"]("IMultiPassRenderer"),SceneID:Symbol["for"]("SceneID"),MapConfig:Symbol["for"]("MapConfig")};t.TYPES=r},"0wsv":function(e,t,n){"use strict";n.r(t),n.d(t,"earthRadius",(function(){return r})),n.d(t,"factors",(function(){return i})),n.d(t,"unitsFactors",(function(){return a})),n.d(t,"areaFactors",(function(){return o})),n.d(t,"feature",(function(){return s})),n.d(t,"geometry",(function(){return u})),n.d(t,"point",(function(){return l})),n.d(t,"points",(function(){return c})),n.d(t,"polygon",(function(){return f})),n.d(t,"polygons",(function(){return p})),n.d(t,"lineString",(function(){return d})),n.d(t,"lineStrings",(function(){return h})),n.d(t,"featureCollection",(function(){return v})),n.d(t,"multiLineString",(function(){return m})),n.d(t,"multiPoint",(function(){return y})),n.d(t,"multiPolygon",(function(){return g})),n.d(t,"geometryCollection",(function(){return b})),n.d(t,"round",(function(){return _})),n.d(t,"radiansToLength",(function(){return x})),n.d(t,"lengthToRadians",(function(){return w})),n.d(t,"lengthToDegrees",(function(){return E})),n.d(t,"bearingToAzimuth",(function(){return S})),n.d(t,"radiansToDegrees",(function(){return k})),n.d(t,"degreesToRadians",(function(){return O})),n.d(t,"convertLength",(function(){return T})),n.d(t,"convertArea",(function(){return C})),n.d(t,"isNumber",(function(){return A})),n.d(t,"isObject",(function(){return M})),n.d(t,"validateBBox",(function(){return P})),n.d(t,"validateId",(function(){return I}));var r=6371008.8,i={centimeters:100*r,centimetres:100*r,degrees:r/111325,feet:3.28084*r,inches:39.37*r,kilometers:r/1e3,kilometres:r/1e3,meters:r,metres:r,miles:r/1609.344,millimeters:1e3*r,millimetres:1e3*r,nauticalmiles:r/1852,radians:1,yards:1.0936*r},a={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1.0936133},o={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function s(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function u(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return l(t).geometry;case"LineString":return d(t).geometry;case"Polygon":return f(t).geometry;case"MultiPoint":return y(t).geometry;case"MultiLineString":return m(t).geometry;case"MultiPolygon":return g(t).geometry;default:throw new Error(e+" is invalid")}}function l(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(e[0])||!A(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return s(r,t,n)}function c(e,t,n){return void 0===n&&(n={}),v(e.map((function(e){return l(e,t)})),n)}function f(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var u={type:"Polygon",coordinates:e};return s(u,t,n)}function p(e,t,n){return void 0===n&&(n={}),v(e.map((function(e){return f(e,t)})),n)}function d(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return s(r,t,n)}function h(e,t,n){return void 0===n&&(n={}),v(e.map((function(e){return d(e,t)})),n)}function v(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function m(e,t,n){void 0===n&&(n={});var r={type:"MultiLineString",coordinates:e};return s(r,t,n)}function y(e,t,n){void 0===n&&(n={});var r={type:"MultiPoint",coordinates:e};return s(r,t,n)}function g(e,t,n){void 0===n&&(n={});var r={type:"MultiPolygon",coordinates:e};return s(r,t,n)}function b(e,t,n){void 0===n&&(n={});var r={type:"GeometryCollection",geometries:e};return s(r,t,n)}function _(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function x(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e*n}function w(e,t){void 0===t&&(t="kilometers");var n=i[t];if(!n)throw new Error(t+" units is invalid");return e/n}function E(e,t){return k(w(e,t))}function S(e){var t=e%360;return t<0&&(t+=360),t}function k(e){var t=e%(2*Math.PI);return 180*t/Math.PI}function O(e){var t=e%360;return t*Math.PI/180}function T(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return x(w(e,t),n)}function C(e,t,n){if(void 0===t&&(t="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=o[t];if(!r)throw new Error("invalid original units");var i=o[n];if(!i)throw new Error("invalid final units");return e/r*i}function A(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function M(e){return!!e&&e.constructor===Object}function P(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!A(e))throw new Error("bbox must only contain numbers")}))}function I(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},"0ycA":function(e,t){function n(){return[]}e.exports=n},1:function(e,t){},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),a=n("mdPL"),o=a&&a.isSet,s=o?i(o):r;e.exports=s},"14Sl":function(e,t,n){"use strict";n("rB9j");var r=n("busE"),i=n("0Dky"),a=n("tiKp"),o=n("kmMV"),s=n("kRJp"),u=a("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),f=a("replace"),p=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=a(e),v=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!v||!m||"replace"===e&&(!l||!c||p)||"split"===e&&!d){var y=/./[h],g=n(h,""[e],(function(e,t,n,r,i){return t.exec===o?v&&!i?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=g[0],_=g[1];r(String.prototype,e,b),r(RegExp.prototype,h,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},1815:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Control",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"Layers",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"Logo",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"Scale",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"Zoom",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"Marker",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"MarkerLayer",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"Popup",{enumerable:!0,get:function(){return f["default"]}});var i=r(n("04D5")),a=r(n("hsaa")),o=r(n("Q2XI")),s=r(n("/NRP")),u=r(n("Lbjt")),l=r(n("jIE7")),c=r(n("FTpR")),f=r(n("/vyB"));function p(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}p('.l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n }\n\n.l7-marker {\n\tposition: absolute !important;\n\ttop: 0;\n\tleft: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: column-reverse;\n            flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 5px;\n\t}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n\n\n.l7-popup-anchor-left {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-top: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-top: none;\n\tborder-right: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-bottom: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-bottom: none;\n\tborder-left: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-bottom: none;\n\tborder-right: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-left: none;\n\tborder-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-right: none;\n\tborder-left-color: #fff;\n}\n\n.l7-popup-close-button {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tborder: 0;\n\tpadding: 0;\n\tfont-size: 25px;\n\tline-height: 20px;\n\tborder-radius: 0 3px 0 0;\n\tcursor: pointer;\n\tbackground-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n\tbackground-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n\tposition: relative;\n\tbackground: #fff;\n\tborder-radius: 3px;\n\t-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\t        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\tpadding: 10px 10px 15px;\n\tpointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n\tborder-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n\tborder-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n\tborder-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n\tborder-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n.l7-popup-track-pointer * {\n\tpointer-events: none;\n\t-webkit-user-select: none;\n\t   -moz-user-select: none;\n\t    -ms-user-select: none;\n\t        user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\tborder-radius: 4px;\n\t}\n.l7-bar a,\n.l7-bar a:hover {\n\tbackground-color: #fff;\n\twidth: 30px;\n\theight: 30px;\n  font-size: 20px;\n\tdisplay: block;\n\ttext-align: center;\n\ttext-decoration: none;\n\tcolor: #8E9DAB;\n\t}\n.l7-bar a,\n.l7-control-layers-toggle {\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tdisplay: block;\n\t}\n.l7-bar a:hover {\n\tbackground-color: #f4f4f4;\n\t}\n.l7-bar a:first-child {\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t}\n.l7-bar a:last-child {\n\tborder-bottom-left-radius: 2px;\n\tborder-bottom-right-radius: 2px;\n\tborder-bottom: none;\n\t}\n.l7-bar a.l7-disabled {\n\tcursor: default;\n\tbackground-color: #f4f4f4;\n\tcolor: #bbb;\n\t}\n\n\n/* control positioning */\n\n.l7-control-container {\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n\tdisplay: none;\n}\n.l7-control {\n\tposition: relative;\n\tz-index: 800;\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\n\tpointer-events: auto;\n\t}\n.l7-control {\n\tfloat: left;\n\tclear: both;\n\t}.l7-top,\n  .l7-bottom {\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    }\n  .l7-top {\n    top: 0;\n    }\n  .l7-right {\n    right: 0;\n    }\n  .l7-bottom {\n    bottom: 0;\n    }\n  .l7-left {\n    left: 0;\n    }\n\n  .l7-control {\n    float: left;\n    clear: both;\n    }\n  .l7-right .l7-control {\n    float: right;\n    }\n  .l7-top .l7-control {\n    margin-top: 10px;\n    }\n  .l7-bottom .l7-control {\n    margin-bottom: 10px;\n    }\n  .l7-left .l7-control {\n    margin-left: 10px;\n    }\n  .l7-right .l7-control {\n    margin-right: 10px;\n    }\n\n  /* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n\tbackground: #fff;\n\tbackground: rgba(255, 255, 255, 0.7);\n\tmargin: 0;\n\t}\n.l7-control-attribution,\n.l7-control-scale-line {\n\tpadding: 0 5px;\n  color: #333;\n\t}\n.l7-control-attribution a {\n\ttext-decoration: none;\n\t}\n.l7-control-attribution a:hover {\n\ttext-decoration: underline;\n\t}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n\t}\n.l7-left .l7-control-scale {\n\tmargin-left: 5px;\n\t}\n.l7-bottom .l7-control-scale {\n\tmargin-bottom: 5px;\n\t}\n.l7-control-scale-line {\n\tborder: 2px solid #000;\n  border-top: none;\n  color: #000;\n\tline-height: 1.1;\n\tpadding: 2px 5px 1px;\n\tfont-size: 11px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\n\tbackground: #fff;\n\t}\n.l7-control-scale-line:not(:first-child) {\n\tborder-top: 2px solid #777;\n\tborder-bottom: none;\n\tmargin-top: -2px;\n\t}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n\tborder-bottom: 2px solid #777;\n\t}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\t-webkit-box-shadow: none;\n\t        box-shadow: none;\n\t}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\tborder: 2px solid rgba(0,0,0,0.2);\n\tbackground-clip: padding-box;\n  }\n  /*logo */\n\n  .l7-ctrl-logo {\n    background-size: 100% 100%;\n    width: 89px;\n    height: 16px;\n    margin: 0 0 -3px -3px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC\');\n}\n\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 2px;\n\t}\n.l7-control-layers-toggle {\n\tbackground-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC\');\n\twidth: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n\t}\n\n.l7-touch .l7-control-layers-toggle {\n\twidth: 44px;\n\theight: 44px;\n\t}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n\tdisplay: none;\n\t}\n.l7-control-layers-expanded .l7-control-layers-list {\n\tdisplay: block;\n\tposition: relative;\n\t}\n.l7-control-layers-expanded {\n\tpadding: 6px 10px 6px 6px;\n\tcolor: #59626B;\n\tbackground: #fff;\n\t}\n.l7-control-layers-scrollbar {\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tpadding-right: 5px;\n\t}\n.l7-control-layers-selector {\n\tmargin-top: 2px;\n\tposition: relative;\n\ttop: 1px;\n\t}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n  }\n  .l7-control-layers label input[type="radio"],\n  .l7-control-layers label input[type="checkbox"] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n\theight: 0;\n\tborder-top: 1px solid #D8D8D8;\n\tmargin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n }\n .amap-logo{\n  display: none !important;\n }\n')},"1ABj":function(e,t){function n(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"1E5z":function(e,t,n){var r=n("m/L8").f,i=n("UTVS"),a=n("tiKp"),o=a("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},"1OyB":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},"1TtJ":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.extent=s,t.tranfrormCoord=l,t.lngLatToMeters=f,t.metersToLngLat=p,t.longitude=d,t.latitude=h,t.validateLngLat=v,t.aProjectFlat=m,t.unProjectFlat=y,t.lnglatDistance=g,t.project=b,t.padBounds=_,t.boundsContains=x,t.bBoxToBounds=w;var i=r(n("J4zp")),a=n("0wsv"),o=2*Math.PI*6378137/2;function s(e){var t=[1/0,1/0,-1/0,-1/0];return e.forEach((function(e){var n=e.coordinates;u(t,n)})),t}function u(e,t){return Array.isArray(t[0])?t.forEach((function(t){u(e,t)})):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function l(e,t){return c(e,t)}function c(e,t){return Array.isArray(e[0])?e.map((function(e){return c(e,t)})):t(e)}function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1};e=v(e,t);var r=e[0],i=e[1],a=r*o/180,s=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return s=s*o/180,n.enable&&(a=Number(a.toFixed(n.decimal)),s=Number(s.toFixed(n.decimal))),3===e.length?[a,s,e[2]]:[a,s]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=e[0],r=e[1],i=n/o*180,a=r/o*180;return a=180/Math.PI*(2*Math.atan(Math.exp(a*Math.PI/180))-Math.PI/2),void 0!==t&&null!==t&&(i=Number(i.toFixed(t)),a=Number(a.toFixed(t))),3===e.length?[i,a,e[2]]:[i,a]}function d(e){if(void 0===e||null===e)throw new Error("lng is required");return(e>180||e<-180)&&(e%=360,e>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function h(e){if(void 0===e||null===e)throw new Error("lat is required");return(e>90||e<-90)&&(e%=180,e>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function v(e,t){if(!1===t)return e;var n=d(e[0]),r=h(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function m(e){var t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20,i=Math.PI/180,a=e[0]*i,o=n*i;o=Math.log(Math.tan(Math.PI/4+o/2));var s=.5/Math.PI,u=.5,l=-.5/Math.PI;return i=.5,a=r*(s*a+u),o=r*(l*o+i),[Math.floor(a),Math.floor(o)]}function y(e){var t=.5/Math.PI,n=.5,r=-.5/Math.PI,a=.5,o=256<<20,s=(0,i["default"])(e,2),u=s[0],l=s[1];u=(u/o-n)/t,l=(l/o-a)/r,l=2*(Math.atan(Math.pow(Math.E,l))-Math.PI/4),a=Math.PI/180;var c=l/a,f=u/a;return[f,c]}function g(e,t,n){var r=(0,a.degreesToRadians)(t[1]-e[1]),i=(0,a.degreesToRadians)(t[0]-e[0]),o=(0,a.degreesToRadians)(e[1]),s=(0,a.degreesToRadians)(t[1]),u=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(o)*Math.cos(s);return(0,a.radiansToLength)(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),"meters")}function b(e){var t=Math.PI/180,n=85.0511287798,r=6378137,i=Math.max(Math.min(n,e[1]),-n),a=Math.sin(i*t),o=r*e[0]*t,s=r*Math.log((1+a)/(1-a))/2;return[o,s]}function _(e,t){var n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function x(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function w(e){return[[e[0],e[1]],[e[2],e[3]]]}},"1WJl":function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},"1Y/n":function(e,t,n){var r=n("HAuM"),i=n("ewvW"),a=n("RK3t"),o=n("UMSQ"),s=function(e){return function(t,n,s,u){r(n);var l=i(t),c=a(l),f=o(l.length),p=e?f-1:0,d=e?-1:1;if(s<2)while(1){if(p in c){u=c[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in c&&(u=n(u,c[p],p,l));return u}};e.exports={left:s(!1),right:s(!0)}},"1aS1":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n("Ri0D"),a=r(n("33aj"));function o(e,t){var n=(0,i.csvParse)(e);return(0,a["default"])(n,t)}},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),a=n("3A9y");function o(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},"1kQv":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"Set",stat:!0},{from:i})},"1wtQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));n("QkVN");var r=2,i={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/ad26cd25-96ea-40fd-935d-7e21a5c08893.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/62f61f5f-cca7-4137-845d-13c8f9969664.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/71ac4de3-bb14-449d-a97d-2b98e25ec8df.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/522c6496-c711-4581-88db-c3741cd39abd.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/f6a4e2b1-359b-43a6-921c-39d2088d1dab.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/0024caaf-86b2-4e75-a3d1-6d2146490b67.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/516b2703-d692-44e6-80dd-b3f5df0186e7.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},a={world:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/35bb8365-1926-471c-b357-db2c02ff3a81.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8ec671c3-a4f9-4fdf-8e88-85d2ab1d8930.bin"},label:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/90c51eb3-04d7-402f-bd05-95e4bd27dd62.bin",parser:{type:"geojson"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"}},country:{CHN:{1:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/380370e0-76aa-4240-8874-5732de77e71d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/70ec087e-c48a-4b76-8825-6452f17bae7a.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"},label:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/36832a45-68f8-4b51-b006-9dec71f92a23.json"}},2:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/feeb1f06-11c6-4495-84c9-f41ea6f77123.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},3:{fill:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/24a9ee83-2be1-4fc1-b187-769ac939269d.bin"},line:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},countryLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/bc97875a-90f2-42c0-a62c-43d2efd7460d.bin"},cityLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/8bfbfe7e-bd0e-4bbe-84d8-629f4dc7abc4.bin"},provinceLine:{type:"pbf",url:"https://gw.alipayobjects.com/os/bmw-prod/778ad7ba-5a3f-4ed6-a94a-b8ab8acae9d6.bin"}},nationalBoundaries:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/ee493a41-0558-4c0e-bee6-520276c4f1a8.json"},nationalBoundaries2:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/f2189cc4-662b-4358-8573-36f0f918b7ca.json"},island:{type:"json",url:"https://gw.alipayobjects.com/os/bmw-prod/fe49b393-1147-4769-94ed-70471f4ff15d.json"}}},province:{11e4:""}},o={1:a,2:i};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return o[e]}function u(e){r=e}o[r]},"25BE":function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,"a",(function(){return r}))},"27RR":function(e,t,n){var r=n("I+eb"),i=n("g6v/"),a=n("Vu81"),o=n("/GqU"),s=n("Bs8V"),u=n("hBjN");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=s.f,l=a(r),c={},f=0;while(l.length>f)n=i(r,t=l[f++]),void 0!==n&&u(c,t,n);return c}})},"284h":function(e,t,n){var r=n("cDf5")["default"];function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a["default"]=e,n&&n.set(e,a),a}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},"2B1R":function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").map,a=n("Hd5f"),o=n("rkAj"),s=a("map"),u=o("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"2FAK":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.gl=void 0,t.gl=r,function(e){e[e["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",e[e["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",e[e["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",e[e["POINTS"]=0]="POINTS",e[e["LINES"]=1]="LINES",e[e["LINE_LOOP"]=2]="LINE_LOOP",e[e["LINE_STRIP"]=3]="LINE_STRIP",e[e["TRIANGLES"]=4]="TRIANGLES",e[e["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",e[e["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",e[e["ZERO"]=0]="ZERO",e[e["ONE"]=1]="ONE",e[e["SRC_COLOR"]=768]="SRC_COLOR",e[e["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",e[e["SRC_ALPHA"]=770]="SRC_ALPHA",e[e["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",e[e["DST_ALPHA"]=772]="DST_ALPHA",e[e["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",e[e["DST_COLOR"]=774]="DST_COLOR",e[e["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",e[e["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",e[e["FUNC_ADD"]=32774]="FUNC_ADD",e[e["BLEND_EQUATION"]=32777]="BLEND_EQUATION",e[e["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",e[e["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",e[e["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",e[e["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",e[e["MAX_EXT"]=32776]="MAX_EXT",e[e["MIN_EXT"]=32775]="MIN_EXT",e[e["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",e[e["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",e[e["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",e[e["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",e[e["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",e[e["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",e[e["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",e[e["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e["BLEND_COLOR"]=32773]="BLEND_COLOR",e[e["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",e[e["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",e[e["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",e[e["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e["STREAM_DRAW"]=35040]="STREAM_DRAW",e[e["STATIC_DRAW"]=35044]="STATIC_DRAW",e[e["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",e[e["BUFFER_SIZE"]=34660]="BUFFER_SIZE",e[e["BUFFER_USAGE"]=34661]="BUFFER_USAGE",e[e["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",e[e["FRONT"]=1028]="FRONT",e[e["BACK"]=1029]="BACK",e[e["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",e[e["CULL_FACE"]=2884]="CULL_FACE",e[e["BLEND"]=3042]="BLEND",e[e["DITHER"]=3024]="DITHER",e[e["STENCIL_TEST"]=2960]="STENCIL_TEST",e[e["DEPTH_TEST"]=2929]="DEPTH_TEST",e[e["SCISSOR_TEST"]=3089]="SCISSOR_TEST",e[e["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",e[e["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",e[e["NO_ERROR"]=0]="NO_ERROR",e[e["INVALID_ENUM"]=1280]="INVALID_ENUM",e[e["INVALID_VALUE"]=1281]="INVALID_VALUE",e[e["INVALID_OPERATION"]=1282]="INVALID_OPERATION",e[e["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",e[e["CW"]=2304]="CW",e[e["CCW"]=2305]="CCW",e[e["LINE_WIDTH"]=2849]="LINE_WIDTH",e[e["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",e[e["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",e[e["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",e[e["FRONT_FACE"]=2886]="FRONT_FACE",e[e["DEPTH_RANGE"]=2928]="DEPTH_RANGE",e[e["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",e[e["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",e[e["DEPTH_FUNC"]=2932]="DEPTH_FUNC",e[e["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",e[e["STENCIL_FUNC"]=2962]="STENCIL_FUNC",e[e["STENCIL_FAIL"]=2964]="STENCIL_FAIL",e[e["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",e[e["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",e[e["STENCIL_REF"]=2967]="STENCIL_REF",e[e["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",e[e["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",e[e["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",e[e["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",e[e["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",e[e["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",e[e["VIEWPORT"]=2978]="VIEWPORT",e[e["SCISSOR_BOX"]=3088]="SCISSOR_BOX",e[e["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",e[e["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",e[e["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",e[e["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",e[e["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",e[e["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",e[e["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",e[e["RED_BITS"]=3410]="RED_BITS",e[e["GREEN_BITS"]=3411]="GREEN_BITS",e[e["BLUE_BITS"]=3412]="BLUE_BITS",e[e["ALPHA_BITS"]=3413]="ALPHA_BITS",e[e["DEPTH_BITS"]=3414]="DEPTH_BITS",e[e["STENCIL_BITS"]=3415]="STENCIL_BITS",e[e["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",e[e["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",e[e["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",e[e["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",e[e["SAMPLES"]=32937]="SAMPLES",e[e["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",e[e["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",e[e["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",e[e["DONT_CARE"]=4352]="DONT_CARE",e[e["FASTEST"]=4353]="FASTEST",e[e["NICEST"]=4354]="NICEST",e[e["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",e[e["BYTE"]=5120]="BYTE",e[e["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",e[e["SHORT"]=5122]="SHORT",e[e["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",e[e["INT"]=5124]="INT",e[e["UNSIGNED_INT"]=5125]="UNSIGNED_INT",e[e["FLOAT"]=5126]="FLOAT",e[e["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",e[e["ALPHA"]=6406]="ALPHA",e[e["RGB"]=6407]="RGB",e[e["RGBA"]=6408]="RGBA",e[e["LUMINANCE"]=6409]="LUMINANCE",e[e["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",e[e["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",e[e["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",e[e["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",e[e["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",e[e["VERTEX_SHADER"]=35633]="VERTEX_SHADER",e[e["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",e[e["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",e[e["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e["SHADER_TYPE"]=35663]="SHADER_TYPE",e[e["DELETE_STATUS"]=35712]="DELETE_STATUS",e[e["LINK_STATUS"]=35714]="LINK_STATUS",e[e["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",e[e["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",e[e["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",e[e["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",e[e["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",e[e["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",e[e["NEVER"]=512]="NEVER",e[e["LESS"]=513]="LESS",e[e["EQUAL"]=514]="EQUAL",e[e["LEQUAL"]=515]="LEQUAL",e[e["GREATER"]=516]="GREATER",e[e["NOTEQUAL"]=517]="NOTEQUAL",e[e["GEQUAL"]=518]="GEQUAL",e[e["ALWAYS"]=519]="ALWAYS",e[e["KEEP"]=7680]="KEEP",e[e["REPLACE"]=7681]="REPLACE",e[e["INCR"]=7682]="INCR",e[e["DECR"]=7683]="DECR",e[e["INVERT"]=5386]="INVERT",e[e["INCR_WRAP"]=34055]="INCR_WRAP",e[e["DECR_WRAP"]=34056]="DECR_WRAP",e[e["VENDOR"]=7936]="VENDOR",e[e["RENDERER"]=7937]="RENDERER",e[e["VERSION"]=7938]="VERSION",e[e["NEAREST"]=9728]="NEAREST",e[e["LINEAR"]=9729]="LINEAR",e[e["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",e[e["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",e[e["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",e[e["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",e[e["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",e[e["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",e[e["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",e[e["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",e[e["TEXTURE_2D"]=3553]="TEXTURE_2D",e[e["TEXTURE"]=5890]="TEXTURE",e[e["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",e[e["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",e[e["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e["TEXTURE0"]=33984]="TEXTURE0",e[e["TEXTURE1"]=33985]="TEXTURE1",e[e["TEXTURE2"]=33986]="TEXTURE2",e[e["TEXTURE3"]=33987]="TEXTURE3",e[e["TEXTURE4"]=33988]="TEXTURE4",e[e["TEXTURE5"]=33989]="TEXTURE5",e[e["TEXTURE6"]=33990]="TEXTURE6",e[e["TEXTURE7"]=33991]="TEXTURE7",e[e["TEXTURE8"]=33992]="TEXTURE8",e[e["TEXTURE9"]=33993]="TEXTURE9",e[e["TEXTURE10"]=33994]="TEXTURE10",e[e["TEXTURE11"]=33995]="TEXTURE11",e[e["TEXTURE12"]=33996]="TEXTURE12",e[e["TEXTURE13"]=33997]="TEXTURE13",e[e["TEXTURE14"]=33998]="TEXTURE14",e[e["TEXTURE15"]=33999]="TEXTURE15",e[e["TEXTURE16"]=34e3]="TEXTURE16",e[e["TEXTURE17"]=34001]="TEXTURE17",e[e["TEXTURE18"]=34002]="TEXTURE18",e[e["TEXTURE19"]=34003]="TEXTURE19",e[e["TEXTURE20"]=34004]="TEXTURE20",e[e["TEXTURE21"]=34005]="TEXTURE21",e[e["TEXTURE22"]=34006]="TEXTURE22",e[e["TEXTURE23"]=34007]="TEXTURE23",e[e["TEXTURE24"]=34008]="TEXTURE24",e[e["TEXTURE25"]=34009]="TEXTURE25",e[e["TEXTURE26"]=34010]="TEXTURE26",e[e["TEXTURE27"]=34011]="TEXTURE27",e[e["TEXTURE28"]=34012]="TEXTURE28",e[e["TEXTURE29"]=34013]="TEXTURE29",e[e["TEXTURE30"]=34014]="TEXTURE30",e[e["TEXTURE31"]=34015]="TEXTURE31",e[e["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",e[e["REPEAT"]=10497]="REPEAT",e[e["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",e[e["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",e[e["FLOAT_VEC2"]=35664]="FLOAT_VEC2",e[e["FLOAT_VEC3"]=35665]="FLOAT_VEC3",e[e["FLOAT_VEC4"]=35666]="FLOAT_VEC4",e[e["INT_VEC2"]=35667]="INT_VEC2",e[e["INT_VEC3"]=35668]="INT_VEC3",e[e["INT_VEC4"]=35669]="INT_VEC4",e[e["BOOL"]=35670]="BOOL",e[e["BOOL_VEC2"]=35671]="BOOL_VEC2",e[e["BOOL_VEC3"]=35672]="BOOL_VEC3",e[e["BOOL_VEC4"]=35673]="BOOL_VEC4",e[e["FLOAT_MAT2"]=35674]="FLOAT_MAT2",e[e["FLOAT_MAT3"]=35675]="FLOAT_MAT3",e[e["FLOAT_MAT4"]=35676]="FLOAT_MAT4",e[e["SAMPLER_2D"]=35678]="SAMPLER_2D",e[e["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",e[e["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e["COMPILE_STATUS"]=35713]="COMPILE_STATUS",e[e["LOW_FLOAT"]=36336]="LOW_FLOAT",e[e["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",e[e["HIGH_FLOAT"]=36338]="HIGH_FLOAT",e[e["LOW_INT"]=36339]="LOW_INT",e[e["MEDIUM_INT"]=36340]="MEDIUM_INT",e[e["HIGH_INT"]=36341]="HIGH_INT",e[e["FRAMEBUFFER"]=36160]="FRAMEBUFFER",e[e["RENDERBUFFER"]=36161]="RENDERBUFFER",e[e["RGBA4"]=32854]="RGBA4",e[e["RGB5_A1"]=32855]="RGB5_A1",e[e["RGB565"]=36194]="RGB565",e[e["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",e[e["STENCIL_INDEX"]=6401]="STENCIL_INDEX",e[e["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",e[e["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",e[e["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",e[e["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",e[e["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",e[e["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",e[e["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",e[e["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",e[e["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",e[e["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",e[e["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",e[e["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",e[e["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",e[e["NONE"]=0]="NONE",e[e["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",e[e["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",e[e["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",e[e["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",e[e["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",e[e["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",e[e["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",e[e["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL"}(r||(t.gl=r={}))},"2N97":function(e,t,n){"use strict";var r=n("xbqb"),i=n("Lw8S");function a(){var e=n("q1tI");return a=function(){return e},e}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p,d="data-prefers-color",h="dumi:prefers-color",v=function(){function e(){var t=this;r(this,e),this.color=void 0,this.callbacks=[],this.color=localStorage.getItem(h)||document.documentElement.getAttribute(d),["light","dark"].forEach((function(e){var n=t.getColorMedia(e),r=function(n){n.matches&&"auto"===t.color&&(document.documentElement.setAttribute(d,e),t.applyCallbacks())};n.addEventListener?n.addEventListener("change",r):n.addListener&&n.addListener(r)}))}return i(e,[{key:"getColorMedia",value:function(e){return window.matchMedia("(prefers-color-scheme: ".concat(e,")"))}},{key:"isColorMode",value:function(e){return this.getColorMedia(e).matches}},{key:"applyCallbacks",value:function(){var e=this;this.callbacks.forEach((function(t){return t(e.color)}))}},{key:"listen",value:function(e){this.callbacks.push(e)}},{key:"unlisten",value:function(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}},{key:"set",value:function(e){return this.color=e,localStorage.setItem(h,e),this.applyCallbacks(),"auto"===e?document.documentElement.setAttribute(d,this.isColorMode("dark")?"dark":"light"):document.documentElement.setAttribute(d,e),e}}]),e}(),m=function(){var e=(0,a().useState)(),t=o(e,2),n=t[0],r=t[1],i=(0,a().useCallback)((function(e){p.set(e)}),[]);return(0,a().useEffect)((function(){return p=p||new v,p.listen(r),r(p.color),function(){return p.unlisten(r)}}),[]),[n,i]};t["default"]=m},"2ajD":function(e,t){function n(e){return e!==e}e.exports=n},"2csf":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.computeMiter=v,t.computeNormal=m,t.direction=y,t["default"]=void 0;var i=r(n("J4zp")),a=r(n("RIqP")),o=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("lSNA")),l=n("z0pJ"),c=n("IOcx"),f=c.vec2.create(),p=(c.vec2.create(),c.vec2.create()),d=c.vec2.create(),h=c.vec2.create();function v(e,t,n,r,i){c.vec2.add(e,n,r),c.vec2.normalize(e,e),t=c.vec2.fromValues(-e[1],e[0]);var a=c.vec2.fromValues(-n[1],n[0]);return[i/c.vec2.dot(t,a),t]}function m(e,t){return c.vec2.set(e,-t[1],t[0])}function y(e,t,n){return c.vec2.sub(e,t,n),c.vec2.normalize(e,e),e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o["default"])(this,e),(0,u["default"])(this,"complex",void 0),(0,u["default"])(this,"join",void 0),(0,u["default"])(this,"cap",void 0),(0,u["default"])(this,"miterLimit",void 0),(0,u["default"])(this,"thickness",void 0),(0,u["default"])(this,"normal",void 0),(0,u["default"])(this,"lastFlip",-1),(0,u["default"])(this,"miter",c.vec2.fromValues(0,0)),(0,u["default"])(this,"started",!1),(0,u["default"])(this,"dash",!1),(0,u["default"])(this,"totalDistance",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0}}return(0,s["default"])(e,[{key:"extrude_gaode2",value:function(e,t){var n=this.complex;if(e.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=e.length,i=n.startIndex,a=1;a<r;a++){var o=e[a-1],s=t[a-1],u=e[a],l=t[a],c=a<e.length-1?e[a+1]:null,f=a<t.length-1?t[a+1]:null,p=this.segment_gaode2(n,i,o,u,c,s,l,f);i+=p}if(this.dash)for(var d=0;d<n.positions.length/6;d++)n.positions[6*d+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"extrude",value:function(e){var t=this.complex;if(e.length<=1)return t;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=e.length,r=t.startIndex,i=1;i<n;i++){var a=e[i-1],o=e[i],s=i<e.length-1?e[i+1]:null,u=this.segment(t,r,a,o,s);r+=u}if(this.dash)for(var l=0;l<t.positions.length/6;l++)t.positions[6*l+5]=this.totalDistance;return t.startIndex=t.positions.length/6,t}},{key:"segment_gaode2",value:function(e,t,n,r,o,s,u,b){var _=0,x=e.indices,w=e.positions,E=e.normals,S="square"===this.cap,k="bevel"===this.join,O=(0,l.aProjectFlat)([u[0],u[1]]),T=(0,l.aProjectFlat)([s[0],s[1]]);y(p,r,n);var C=0;if(this.dash&&(C=this.lineSegmentDistance(O,T),this.totalDistance+=C),this.normal||(this.normal=c.vec2.create(),m(this.normal,p)),!this.started)if(this.started=!0,S){var A=c.vec2.create(),M=c.vec2.create();c.vec2.add(A,this.normal,p),c.vec2.add(M,this.normal,p),E.push(M[0],M[1],0),E.push(A[0],A[1],0),w.push(n[0],n[1],0,this.totalDistance-C,-this.thickness,0),w.push(n[0],n[1],0,this.totalDistance-C,this.thickness,0)}else this.extrusions(w,E,n,this.normal,this.thickness,this.totalDistance-C);if(x.push(t+0,t+1,t+2),o){g(r,o)&&c.vec2.add(o,r,c.vec2.normalize(o,c.vec2.subtract(o,r,n))),y(d,o,r);var P=v(h,c.vec2.create(),p,d,this.thickness),I=(0,i["default"])(P,2),R=I[0],j=I[1],L=c.vec2.dot(h,this.normal)<0?-1:1,N=k;if(!N&&"miter"===this.join){var D=R;D>this.miterLimit&&(N=!0)}N?(E.push(this.normal[0],this.normal[1],0),E.push(j[0],j[1],0),w.push(r[0],r[1],0,this.totalDistance,-this.thickness*L,0),w.push(r[0],r[1],0,this.totalDistance,this.thickness*L,0),x.push.apply(x,(0,a["default"])(this.lastFlip!==-L?[t,t+2,t+3]:[t+2,t+1,t+3])),x.push(t+2,t+3,t+4),m(f,d),c.vec2.copy(this.normal,f),E.push(this.normal[0],this.normal[1],0),w.push(r[0],r[1],0,this.totalDistance,-this.thickness*L,0),_+=3):(this.extrusions(w,E,r,j,R,this.totalDistance),x.push.apply(x,(0,a["default"])(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),L=-1,c.vec2.copy(this.normal,j),_+=2),this.lastFlip=L}else{if(m(this.normal,p),S){var F=c.vec2.create(),z=c.vec2.create();c.vec2.sub(z,p,this.normal),c.vec2.add(F,p,this.normal),E.push(z[0],z[1],0),E.push(F[0],F[1],0),w.push(r[0],r[1],0,this.totalDistance,this.thickness,0),w.push(r[0],r[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(w,E,r,this.normal,this.thickness,this.totalDistance);x.push.apply(x,(0,a["default"])(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),_+=2}return _}},{key:"segment",value:function(e,t,n,r,o){var s=0,u=e.indices,b=e.positions,_=e.normals,x="square"===this.cap,w="bevel"===this.join,E=(0,l.aProjectFlat)([r[0],r[1]]),S=(0,l.aProjectFlat)([n[0],n[1]]);y(p,E,S);var k=0;if(this.dash&&(k=this.lineSegmentDistance(E,S),this.totalDistance+=k),this.normal||(this.normal=c.vec2.create(),m(this.normal,p)),!this.started)if(this.started=!0,x){var O=c.vec2.create(),T=c.vec2.create();c.vec2.add(O,this.normal,p),c.vec2.add(T,this.normal,p),_.push(T[0],T[1],0),_.push(O[0],O[1],0),b.push(n[0],n[1],0,this.totalDistance-k,-this.thickness,0),b.push(n[0],n[1],0,this.totalDistance-k,this.thickness,0)}else this.extrusions(b,_,n,this.normal,this.thickness,this.totalDistance-k);if(u.push(t+0,t+1,t+2),o){var C=(0,l.aProjectFlat)([o[0],o[1]]);g(E,C)&&c.vec2.add(C,E,c.vec2.normalize(C,c.vec2.subtract(C,E,S))),y(d,C,E);var A=v(h,c.vec2.create(),p,d,this.thickness),M=(0,i["default"])(A,2),P=M[0],I=M[1],R=c.vec2.dot(h,this.normal)<0?-1:1,j=w;if(!j&&"miter"===this.join){var L=P;L>this.miterLimit&&(j=!0)}j?(_.push(this.normal[0],this.normal[1],0),_.push(I[0],I[1],0),b.push(r[0],r[1],0,this.totalDistance,-this.thickness*R,0),b.push(r[0],r[1],0,this.totalDistance,this.thickness*R,0),u.push.apply(u,(0,a["default"])(this.lastFlip!==-R?[t,t+2,t+3]:[t+2,t+1,t+3])),u.push(t+2,t+3,t+4),m(f,d),c.vec2.copy(this.normal,f),_.push(this.normal[0],this.normal[1],0),b.push(r[0],r[1],0,this.totalDistance,-this.thickness*R,0),s+=3):(this.extrusions(b,_,r,I,P,this.totalDistance),u.push.apply(u,(0,a["default"])(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),R=-1,c.vec2.copy(this.normal,I),s+=2),this.lastFlip=R}else{if(m(this.normal,p),x){var N=c.vec2.create(),D=c.vec2.create();c.vec2.sub(D,p,this.normal),c.vec2.add(N,p,this.normal),_.push(D[0],D[1],0),_.push(N[0],N[1],0),b.push(r[0],r[1],0,this.totalDistance,this.thickness,0),b.push(r[0],r[1],0,this.totalDistance,this.thickness,0)}else this.extrusions(b,_,r,this.normal,this.thickness,this.totalDistance);u.push.apply(u,(0,a["default"])(1===this.lastFlip?[t,t+2,t+3]:[t+2,t+1,t+3])),s+=2}return s}},{key:"extrusions",value:function(e,t,n,r,i,a){t.push(r[0],r[1],0),t.push(r[0],r[1],0),e.push(n[0],n[1],0,a,-i,0),e.push(n[0],n[1],0,a,i,0)}},{key:"lineSegmentDistance",value:function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}}]),e}();t["default"]=b},"2gN3":function(e,t,n){var r=n("Kz5y"),i=r["__core-js_shared__"];e.exports=i},"2hQO":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("qXrd")),u=n("i4Tg"),l=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"map",void 0),(0,o["default"])(this,"el",void 0),(0,o["default"])(this,"container",void 0),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"startPos",void 0),(0,o["default"])(this,"lastPos",void 0),(0,o["default"])(this,"box",void 0),(0,o["default"])(this,"clickTolerance",void 0),this.map=t,this.el=t.getCanvasContainer(),this.container=t.getContainer(),this.clickTolerance=n.clickTolerance||1}return(0,a["default"])(e,[{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active}},{key:"enable",value:function(){this.isEnabled()||(this.enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(s["default"].disableDrag(),this.startPos=this.lastPos=t,this.active=!0)}},{key:"mousemoveWindow",value:function(e,t){if(this.active){var n=t;if(!(this.lastPos.equals(n)||!this.box&&n.dist(this.startPos)<this.clickTolerance)){var r=this.startPos;this.lastPos=n,this.box||(this.box=s["default"].create("div","l7-boxzoom",this.container),this.container.classList.add("l7-crosshair"),this.fireEvent("boxzoomstart",e));var i=Math.min(r.x,n.x),a=Math.max(r.x,n.x),o=Math.min(r.y,n.y),u=Math.max(r.y,n.y);s["default"].setTransform(this.box,"translate(".concat(i,"px,").concat(o,"px)")),this.box&&(this.box.style.width="".concat(a-i,"px"),this.box.style.height="".concat(u-o,"px"))}}}},{key:"mouseupWindow",value:function(e,t){var n=this;if(this.active&&0===e.button){var r=this.startPos,i=t;if(this.reset(),s["default"].suppressClick(),r.x!==i.x||r.y!==i.y)return this.map.emit("boxzoomend",new u.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(e){return e.fitScreenCoordinates(r,i,n.map.getBearing(),{linear:!0})}};this.fireEvent("boxzoomcancel",e)}}},{key:"keydown",value:function(e){this.active&&27===e.keyCode&&(this.reset(),this.fireEvent("boxzoomcancel",e))}},{key:"reset",value:function(){this.active=!1,this.container.classList.remove("l7-crosshair"),this.box&&(s["default"].remove(this.box),this.box=null),s["default"].enableDrag(),delete this.startPos,delete this.lastPos}},{key:"fireEvent",value:function(e,t){return this.map.emit(e,new u.Event(e,{originalEvent:t}))}}]),e}(),c=l;t["default"]=c},"2k90":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lSNA")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=n("4cb6");n("mNvP");var f,p,d=r(n("2stA"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g='varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}',b="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",_=(f=(0,c.injectable)(),f(p=function(e){(0,s["default"])(n,e);var t=m(n);function n(){return(0,a["default"])(this,n),t.apply(this,arguments)}return(0,o["default"])(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:b,fs:g});var e=this.shaderModuleService.getModule("colorhalftone-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),a=i.width,o=i.height;return{vs:t,fs:n,uniforms:v(v({},r),{},{u_ViewportSize:[a,o]})}}}]),n}(d["default"]))||p);t["default"]=_},"2mql":function(e,t,n){"use strict";var r=n("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return r.isMemo(e)?s:u[e["$$typeof"]]||i}u[r.ForwardRef]=o,u[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,v=Object.prototype;function m(e,t,n){if("string"!==typeof t){if(v){var r=h(t);r&&r!==v&&m(e,r,n)}var i=f(t);p&&(i=i.concat(p(t)));for(var o=l(e),s=l(t),u=0;u<i.length;++u){var y=i[u];if(!a[y]&&(!n||!n[y])&&(!s||!s[y])&&(!o||!o[y])){var g=d(t,y);try{c(e,y,g)}catch(b){}}}}return e}e.exports=m},"2oRo":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("IyRk"))},"2stA":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("U+yc")),l=(r(n("1ABj")),r(n("gQMU"))),c=r(n("J2iB")),f=r(n("u6S6")),p=n("4cb6");n("mNvP");var d,h,v,m,y,g=n("2FAK"),b=n("0t2r"),_=n("y6zh");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,s["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",S=(d=(0,p.injectable)(),h=(0,p.inject)(b.TYPES.IShaderModuleService),d((m=function(){function e(){(0,a["default"])(this,e),(0,i["default"])(this,"shaderModuleService",y,this),(0,s["default"])(this,"rendererService",void 0),(0,s["default"])(this,"config",void 0),(0,s["default"])(this,"quad",E),(0,s["default"])(this,"enabled",!0),(0,s["default"])(this,"renderToScreen",!1),(0,s["default"])(this,"model",void 0),(0,s["default"])(this,"name",void 0),(0,s["default"])(this,"optionsToUpdate",{})}return(0,o["default"])(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getType",value:function(){return _.PassType.PostProcessing}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(b.TYPES.IRendererService);var n=this.rendererService,r=n.createAttribute,i=n.createBuffer,a=n.createModel,o=this.setupShaders(),s=o.vs,u=o.fs,l=o.uniforms;this.model=a({vs:s,fs:u,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:g.gl.FLOAT}),size:2})},uniforms:w(w({u_Texture:null},l),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(e){var t=this,n=e.multiPassRenderer.getPostProcessor(),r=this.rendererService,i=r.useFramebuffer,a=r.getViewportSize,o=r.clear,s=a(),u=s.width,l=s.height;i(this.renderToScreen?null:n.getWriteFBO(),(function(){o({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:w({u_Texture:n.getReadFBO(),u_ViewportSize:[u,l]},t.convertOptionsToUniforms(t.optionsToUpdate))})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"setRenderToScreen",value:function(e){this.renderToScreen=e}},{key:"updateOptions",value:function(e){this.optionsToUpdate=w(w({},this.optionsToUpdate),e)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Object.keys(e).forEach((function(n){(0,c["default"])(e[n])||(t["u_".concat((0,l["default"])((0,f["default"])(n)))]=e[n])})),t}}]),e}(),y=(0,u["default"])(m.prototype,"shaderModuleService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v);t["default"]=S},"2tOg":function(e,t,n){"use strict";var r=n("g6v/"),i=n("RNIs"),a=n("ewvW"),o=n("UMSQ"),s=n("m/L8").f;r&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=a(this),t=o(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=a(this),n=o(t.length);return t[0==n?0:n-1]=e}}),i("lastItem"))},"33Wh":function(e,t,n){var r=n("yoRg"),i=n("eDl+");e.exports=Object.keys||function(e){return r(e,i)}},"33aj":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var i=r(n("lSNA")),a=r(n("RIqP")),o=r(n("LvWW"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n=t.x,r=t.y,i=t.x1,s=t.y1,l=t.coordinates,c=[];return e.forEach((function(e,t){var f=[];if(n&&r&&(f=[parseFloat(e[n]),parseFloat(e[r])]),n&&r&&i&&s){var p=[parseFloat(e[n]),parseFloat(e[r])],d=[parseFloat(e[i]),parseFloat(e[s])];f=[p,d]}if(l){var h="Polygon";Array.isArray(l[0])||(h="Point"),Array.isArray(l[0])&&!Array.isArray(l[0][0])&&(h="LineString");var v={type:h,coordinates:(0,a["default"])(e[l])};(0,o["default"])(v,!0),f=v.coordinates}var m=u(u({},e),{},{_id:t,coordinates:f});c.push(m)})),{dataArray:c}}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,r="/"===o.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),47===t){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("Q2Ig"))},"3A9y":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"3DQS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggregatorToGrid=u;var r=n("z0pJ");function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=6378e3;function u(e,t){var n=e.dataArray,r=t.size,i=void 0===r?10:r,a=i/(2*Math.PI*s)*(256<<20)/2,o=l(n,i),u=o.gridHash,c=o.gridOffset,f=d(u,c,t);return{yOffset:a,xOffset:a,radius:a,type:"grid",dataArray:f}}function l(e,t){var n,r,a=1/0,o=-1/0,s=i(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;n=u.coordinates[1],Number.isFinite(n)&&(a=n<a?n:a,o=n>o?n:o)}}catch(x){s.e(x)}finally{s.f()}var l=(a+o)/2,f=c(t,l);if(f.xOffset<=0||f.yOffset<=0)return{gridHash:{},gridOffset:f};var p,d={},h=i(e);try{for(h.s();!(p=h.n()).done;){var v=p.value,m=v.coordinates[1],y=v.coordinates[0];if(Number.isFinite(m)&&Number.isFinite(y)){var g=Math.floor((m+90)/f.yOffset),b=Math.floor((y+180)/f.xOffset),_="".concat(g,"-").concat(b);d[_]=d[_]||{count:0,points:[]},d[_].count+=1,d[_].points.push(v)}}}catch(x){h.e(x)}finally{h.f()}return{gridHash:d,gridOffset:f}}function c(e,t){var n=f(e),r=p(t,e);return{yOffset:n,xOffset:r}}function f(e){return e/s*(180/Math.PI)}function p(e,t){return t/s*(180/Math.PI)/Math.cos(e*Math.PI/180)}function d(e,t,n){return Object.keys(e).reduce((function(i,a,o){var s=a.split("-"),u=parseInt(s[0],10),l=parseInt(s[1],10),c={};if(n.field&&n.method){var f=r.Satistics.getColumn(e[a].points,n.field);c[n.method]=r.Satistics.statMap[n.method](f)}return Object.assign(c,{_id:o,coordinates:(0,r.aProjectFlat)([t.xOffset*(l+.5)-180,t.yOffset*(u+.5)-90]),rawData:e[a].points,count:e[a].count}),i.push(c),i}),[])}},"3Fdi":function(e,t){var n=Function.prototype,r=n.toString;function i(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},"3I1R":function(e,t,n){var r=n("dG/n");r("hasInstance")},"3Jhb":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("iu3m")),a=r(n("Jwqz")),o=r(n("KYxC")),s=r(n("UkeQ")),u=r(n("3JiE")),l=r(n("jrcR")),c=r(n("4yJM")),f=r(n("Kqk8")),p={fill:f["default"],line:i["default"],extrude:c["default"],text:l["default"],point_fill:o["default"],point_image:s["default"],point_normal:u["default"],point_extrude:a["default"]},d=p;t["default"]=d},"3JiE":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.PointTriangulation=y,t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("RIqP")),c=r(n("UB5X")),f=n("gHHc"),p=r(n("YenN"));function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v='\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\nvarying vec4 v_color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n\n  gl_FragColor = v_color;\n  // gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor.a =gl_FragColor.a * opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m='\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n\n\n\nuniform float u_opacity : 1;\nuniform vec2 u_offsets;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n#pragma include "project"\nvoid main() {\n  v_color = a_Color;\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n  \n  // vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n  // vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  // gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\\\n  // \n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 offset = project_pixel((u_offsets));\n    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);\n  } else { // else\n    // vec2 offset = project_pixel(u_offsets);\n    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));\n  }\n\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n  setPickingColor(a_PickingColor);\n}\n';function y(e){var t=e.coordinates;return{vertices:(0,l["default"])(t),indices:[0],size:t.length}}var g=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.offsets,i=void 0===r?[0,0]:r;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,offsets:i})){this.judgeStyleAttributes({opacity:n,offsets:i});var a=this.layer.getEncodedData(),o=this.calDataFrame(this.cellLength,a,this.cellProperties),s=o.data,u=o.width,l=o.height;this.rowCount=l,this.dataTexture=this.cellLength>0&&s.length>0?this.createTexture2D({flipY:!0,data:s,format:f.gl.LUMINANCE,type:f.gl.FLOAT,width:u,height:l}):this.createTexture2D({flipY:!0,data:[1],format:f.gl.LUMINANCE,type:f.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,c["default"])(n)?n:1,u_offsets:this.isOffsetStatic(i)?i:[0,0]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:m,fragmentShader:v,triangulation:y,depth:{enable:!1},primitive:f.gl.POINTS,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0]]:[a]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:f.BlendType.additive}}}]),n}(p["default"]);t["default"]=g},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");function a(e){return i(e)&&r(e)}e.exports=a},"3Nzz":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=r["createContext"](void 0),a=function(e){var t=e.children,n=e.size;return r["createElement"](i.Consumer,null,(function(e){return r["createElement"](i.Provider,{value:n||e},t)}))};t["b"]=i},"3Q4G":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("k1fw"),i=n("JBE3"),a=n.n(i),o=n("EgBx"),s=n("GQRD"),u=n("NeDX"),l=n("3m+5"),c=n("pd6k");function f(e,t){if(Array.isArray(t))return t}class p{constructor(e,t){this.drillState=void 0,this.options=void 0,this.regionLayer=void 0,this.cityLayer=void 0,this.countyLayer=void 0,this.provinceLayer=void 0,this.scene=void 0,this.layers=[],this.drillList=void 0,this.options=a()(this.getDefaultOption(),t,f),this.drillState=this.options.viewStart,this.scene=e,this.drillList=this.getViewList(),this.initLayers(e),this.initLayerEvent(),this.scene.setMapStatus({doubleClickZoom:!1})}getDefaultOption(){return{drillDepth:2,drillStart:1,customTrigger:!1,autoUpdateData:!0,regionDrill:!1,drillDownTriggerEvent:"click",drillUpTriggerEvent:"undblclick",provinceData:[],viewStart:"Country",viewEnd:"County",cityData:[],countyData:[],city:{adcode:[],depth:2},region:{adcode:[],depth:1},county:{adcode:[]}}}addCountryEvent(){var e=this.options,t=e.drillDownTriggerEvent,n=e.drillDownEvent;this.provinceLayer.fillLayer.on(t,(e=>{var t=e.feature.properties.adcode,r="Province";if(this.drillState="Province",this.options.regionDrill){var i=e.feature.properties.REGION_CODE;t=c["b"][i].child,this.drillState="Region",r="Region"}this.options.autoUpdateData&&this.drillDown(t),-1!==this.drillList.indexOf(r)&&(this.provinceLayer.hide(),n&&n(e.feature.properties,r,t))}))}addRegionEvent(){var e=this.options,t=e.drillDownTriggerEvent,n=e.drillUpTriggerEvent,r=e.drillUpEvent,i=e.drillDownEvent;this.regionLayer.fillLayer.on(n,(e=>{this.drillUp("Country"),-1!==this.drillList.indexOf("Country")&&r&&r({from:"region",to:"country"})})),this.regionLayer.fillLayer.on(t,(e=>{this.drillState="Province",this.options.autoUpdateData&&this.drillDown(e.feature.properties.adcode),-1!==this.drillList.indexOf("Province")&&(this.regionLayer.hide(),i&&i(e.feature.properties,"Province",e.feature.properties.adcode))}))}addProvinceEvent(){var e=this.options,t=e.drillDownTriggerEvent,n=e.drillUpTriggerEvent,r=e.drillUpEvent,i=e.drillDownEvent;this.cityLayer.fillLayer.on(n,(()=>{this.drillState="Province";var e=this.options.regionDrill?"Region":"Country";this.drillUp(e),-1!==this.drillList.indexOf(e)&&r&&r({to:e,from:"Province"})})),this.cityLayer.fillLayer.on(t,(e=>{this.drillState="City",this.options.autoUpdateData&&this.drillDown(e.feature.properties.adcode),-1!==this.drillList.indexOf("City")&&i&&i(e.feature.properties,"City",e.feature.properties.adcode)}))}addCityEvent(){var e=this.options,t=(e.drillDownTriggerEvent,e.drillUpTriggerEvent),n=e.drillUpEvent;this.countyLayer.fillLayer.on(t,(()=>{this.drillUp("Province"),-1!==this.drillList.indexOf("Province")&&n&&n({to:"Province",from:"city"})}))}show(){this.layers.forEach((e=>e.show()))}hide(){this.layers.forEach((e=>e.hide()))}destroy(){this.layers.forEach((e=>e.destroy()))}showProvinceView(e,t,n){this.cityLayer.show(),this.cityLayer.updateDistrict(e,t,n),this.cityLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.provinceLayer.hide(),this.drillState="Province"}showCityView(e,t,n){this.countyLayer.show();var r="".concat(e);"5000"===r.substr(0,4)?r=[r.substr(0,2)+"0100",r.substr(0,2)+"0200"]:"00"===r.substr(2,2)&&"810000"!==r&&"820000"!==r&&(r=[r.substr(0,2)+"0100"]),this.countyLayer.updateDistrict(r,t,n),this.countyLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="City"}showRegionView(e,t,n){this.regionLayer.show(),this.regionLayer.updateDistrict(e,t,n),this.regionLayer.fillLayer.fitBounds(),this.provinceLayer.hide(),this.drillState="Region"}drillUp(e){if(-1!==this.drillList.indexOf(e))switch(e){case"Province":this.cityLayer.show(),this.cityLayer.fillLayer.fitBounds(),this.countyLayer.hide(),this.drillState="Province";break;case"Country":this.provinceLayer.show(),this.provinceLayer.fillLayer.fitBounds(),this.options.regionDrill?this.regionLayer.hide():this.cityLayer.hide(),this.drillState="Country";break;case"Region":this.options.regionDrill&&(this.regionLayer.show(),this.regionLayer.fillLayer.fitBounds(),this.cityLayer.hide(),this.drillState="Region");break}}drillDown(e,t,n){if(-1!==this.drillList.indexOf(this.drillState))switch(this.drillState){case"Province":this.showProvinceView(e,t,n);break;case"Region":this.showRegionView(e,t,n);break;case"City":this.showCityView(e,t,n);break}}updateData(e,t,n){switch(e){case"Country":case"province":this.provinceLayer.updateData(t,n);break;case"Region":case"region":this.regionLayer.updateData(t,n);break;case"Province":case"city":this.cityLayer.updateData(t,n);break;case"City":case"county":this.countyLayer.updateData(t,n)}}getLayerOption(e){var t=this.options,n=t.joinBy,i=t.label,a=t.bubble,o=t.fill,s=t.popup,u=t.geoDataLevel,l=t.onClick,c=e.toLowerCase()+"Data";return Object(r["a"])({data:this.options[c],joinBy:n,label:i,bubble:a,fill:o,popup:s,onClick:l,geoDataLevel:u},this.options[e.toLowerCase()])}initLayers(e){var t=this.getViewList();-1!==t.indexOf("Country")&&(this.provinceLayer=new s["a"](e,Object(r["a"])({},this.getLayerOption("Province")))),-1!==t.indexOf("Region")&&(this.regionLayer=new u["a"](e,this.getLayerOption("Region"))),-1!==t.indexOf("Province")&&(this.cityLayer=new l["a"](e,this.getLayerOption("City"))),-1!==t.indexOf("City")&&(this.countyLayer=new o["a"](e,this.getLayerOption("County")))}initLayerEvent(){var e=this.getViewList();this.options.customTrigger||(-1!==e.indexOf("Country")&&this.provinceLayer.on("loaded",(()=>{this.addCountryEvent(),"Country"!==this.options.viewStart&&this.provinceLayer.hide(),this.layers.push(this.provinceLayer)})),-1!==e.indexOf("Region")&&this.regionLayer.on("loaded",(()=>{this.addRegionEvent(),"Region"!==this.options.viewStart&&this.regionLayer.hide(),this.layers.push(this.regionLayer)})),-1!==e.indexOf("Province")&&this.cityLayer.on("loaded",(()=>{this.addProvinceEvent(),"Province"!==this.options.viewStart&&this.cityLayer.hide(),this.layers.push(this.cityLayer)})),-1!==e.indexOf("City")&&this.countyLayer.on("loaded",(()=>{this.addCityEvent(),"City"!==this.options.viewStart&&this.countyLayer.hide(),this.layers.push(this.countyLayer)})))}getViewList(){var e=this.options,t=e.viewStart,n=e.viewEnd,r=c["a"];this.options.regionDrill||-1===r.indexOf("Region")||r.splice(1,1);var i=r.indexOf(t),a=r.indexOf(n);if(-1===i||-1===a||a<i)throw new Error("\u4e0b\u94bb viewStart, viewEnd \u53c2\u6570\u9519\u8bef");return r.slice(i,a+1)}getProperties(e,t){var n=Array.isArray(t)?t:[t],r=e.features.filter((e=>{var t=e.properties.adcode;return-1!==n.indexOf(t)||-1!==n.indexOf(""+t)}));return r[0]?r[0].properties:{}}enablePopup(){this.cityLayer&&this.cityLayer.enablePopup(),this.countyLayer&&this.countyLayer.enablePopup(),this.provinceLayer&&this.provinceLayer.enablePopup(),this.regionLayer&&this.regionLayer.enablePopup()}disablePopup(){this.cityLayer&&this.cityLayer.disablePopup(),this.countyLayer&&this.countyLayer.disablePopup(),this.provinceLayer&&this.provinceLayer.disablePopup(),this.regionLayer&&this.regionLayer.disablePopup()}}},"3QDa":function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function a(){var e=s(n("x2v5"));return a=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=s(n("nLCz"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return d(e)||p(e,t)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function d(e){if(Array.isArray(e))return e}function h(e,t,n){return Object.entries(a()["default"][e]).reduce((function(e,i){var a=r(i,2),o=a[0],s=a[1];return e[o]=s.map((function(e){var r=Object.assign({},e);return Object.keys(e).forEach((function(e){if(/^description(\.|$)/.test(e)){var i=e.match(/^description\.?(.*)$/),a=u(i,2),o=a[1];o&&o!==t||!o&&!n?delete r[e]:r.description=r[e]}})),r})),e}),{})}var v=function(e){var t=(0,i().useContext)(o["default"]),n=t.locale,r=t.config.locales,a=!r.length||r[0].name===n,s=(0,i().useState)(h(e,n,a)),l=u(s,2),c=l[0],f=l[1];return(0,i().useEffect)((function(){f(h(e,n,a))}),[e,n,a]),c};t["default"]=v},"3Rn+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("QILm")),o=r(n("yXPU")),s=r(n("J4zp")),u=r(n("yG8O")),l=r(n("lwsE")),c=r(n("W8MJ")),f=r(n("lSNA")),p=r(n("U+yc")),d=(r(n("1ABj")),r(n("hi0z"))),h=n("gHHc"),v=n("z0pJ"),m=n("IOcx"),y=n("4cb6");n("mNvP");var g,b,_,x,w,E,S,k,O,T,C,A=n("WqfA"),M=n("MC4F"),P=n("fZWH"),I=r(n("tvnk"));function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,f["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}L(".amap-logo{\n display: none !important;\n}\n");var N=0;window.forceWebGL=!0;var D="15cd8a57710d40c9b7c0e3cc120f1200",F="1.4.15",z="amap-script",B=!1,U=[],V=12,H=(g=(0,y.injectable)(),b=(0,y.inject)(h.TYPES.IGlobalConfigService),_=(0,y.inject)(h.TYPES.MapConfig),x=(0,y.inject)(h.TYPES.ICoordinateSystemService),w=(0,y.inject)(h.TYPES.IEventEmitter),g((S=function(){function e(){var t=this;(0,l["default"])(this,e),(0,f["default"])(this,"version",M.Version["GAODE1.x"]),(0,f["default"])(this,"map",void 0),(0,u["default"])(this,"configService",k,this),(0,u["default"])(this,"config",O,this),(0,u["default"])(this,"coordinateSystemService",T,this),(0,u["default"])(this,"eventEmitter",C,this),(0,f["default"])(this,"markerContainer",void 0),(0,f["default"])(this,"$mapContainer",void 0),(0,f["default"])(this,"viewport",void 0),(0,f["default"])(this,"cameraChangedCallback",void 0),(0,f["default"])(this,"handleCameraChanged",(function(e){var n=e.camera,r=n.fov,i=n.near,a=n.far,o=n.height,s=n.pitch,u=n.rotation,l=n.aspect,c=n.position,f=t.getCenter(),p=f.lng,d=f.lat;if(t.cameraChangedCallback){t.viewport.syncWithMapCamera({aspect:l,bearing:360-u,far:a,fov:r,cameraHeight:o,near:i,pitch:s,zoom:t.map.getZoom()-1,center:[p,d],offsetOrigin:[c.x,c.y]});var v=t.config.offsetZoom,m=void 0===v?V:v;t.viewport.getZoom()>m?t.coordinateSystemService.setCoordinateSystem(h.CoordinateSystem.P20_OFFSET):t.coordinateSystemService.setCoordinateSystem(h.CoordinateSystem.P20),t.cameraChangedCallback(t.viewport)}}))}return(0,c["default"])(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getContainer();if(null!==e){var t=e.getElementsByClassName("amap-maps")[0];this.markerContainer=v.DOM.create("div","l7-marker-container",t)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==h.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==h.MapServiceEvent.indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(e){if(null!==e&&void 0!==e&&e.padding){var t=this.getCenter(),n=this.getSize(),r=(0,s["default"])(n,2),i=(r[0],r[1],(0,A.toPaddingOptions)(e.padding)),a=this.lngLatToPixel([t.lng,t.lat]),o=[(i.right-i.left)/2,(i.bottom-i.top)/2],u=this.pixelToLngLat([a.x-o[0],a.y-o[1]]);return u}var l=this.map.getCenter();return{lng:l.getLng(),lat:l.getLat()}}},{key:"setCenter",value:function(e,t){if(null!==t&&void 0!==t&&t.padding){var n=(0,A.toPaddingOptions)(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],a=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([a.lng,a.lat])}else this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds().toBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),a=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[a,n.getLat()],[i,t.getLat()]]}},{key:"getMinZoom",value:function(){var e=this.map.get("zooms");return e[0]-1}},{key:"getMaxZoom",value:function(){var e=this.map.get("zooms");return e[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.map.panTo(e)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.map.setMapStyle(this.getMapStyle(e))}},{key:"setMapStatus",value:function(e){this.map.setStatus(e)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var t=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:t.getX(),y:t.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null===n||void 0===n?void 0:n.getLng(),lat:null===n||void 0===n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=new AMap.LngLat(e[0],e[1]),n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.viewport.projectFlat(e),a=m.mat4.create();return m.mat4.translate(a,a,m.vec3.fromValues(i[0],i[1],t)),m.mat4.scale(a,a,m.vec3.fromValues(r[0],r[1],r[2])),m.mat4.rotateX(a,a,n[0]),m.mat4.rotateY(a,a,n[1]),m.mat4.rotateZ(a,a,n[2]),a}},{key:"init",value:function(){var e=(0,o["default"])(i["default"].mark((function e(){var t,n,r,o,s,u,l,c,f,p,h,v,m,y,g=this;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,o=void 0===r?"light":r,s=t.minZoom,u=void 0===s?0:s,l=t.maxZoom,c=void 0===l?18:l,f=t.token,p=void 0===f?D:f,h=t.mapInstance,v=t.plugin,m=void 0===v?[]:v,y=(0,a["default"])(t,["id","style","minZoom","maxZoom","token","mapInstance","plugin"]),e.next=3,new Promise((function(e){var t=function(){if(h)g.map=h,g.$mapContainer=g.map.getContainer(),setTimeout((function(){g.map.on("camerachange",g.handleCameraChanged),e()}),30);else{g.$mapContainer=g.creatAmapContainer(n);var t=new AMap.Map(g.$mapContainer,j({mapStyle:g.getMapStyle(o),zooms:[u,c],viewMode:"3D"},y));t.on("camerachange",g.handleCameraChanged),g.map=t,setTimeout((function(){e()}),10)}};B||h?B&&window.AMap||h?t():U.push(t):(p===D&&console.warn(g.configService.getSceneWarninfo("MapToken")),B=!0,m.push("Map3D"),d["default"].load({key:p,version:F,plugins:m}).then((function(e){t(),U.length&&(U.forEach((function(e){return e()})),U=[])}))["catch"]((function(e){throw new Error(e)})))}));case 3:this.viewport=new I["default"];case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){this.map.destroy(),delete window.initAMap;var e=document.getElementById(z);e&&document.head.removeChild(e)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"getMapStyle",value:function(e){return P.MapTheme[e]?P.MapTheme[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+N++,t.appendChild(n),n}}]),e}(),k=(0,p["default"])(S.prototype,"configService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,p["default"])(S.prototype,"config",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,p["default"])(S.prototype,"coordinateSystemService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,p["default"])(S.prototype,"eventEmitter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=S))||E);t["default"]=H},"3WF5":function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),a=n("l9OW"),o=n("Z0cm");function s(e,t){var n=o(e)?r:a;return n(e,i(t,3))}e.exports=s},"3bBZ":function(e,t,n){var r=n("2oRo"),i=n("/byt"),a=n("4mDm"),o=n("kRJp"),s=n("tiKp"),u=s("iterator"),l=s("toStringTag"),c=a.values;for(var f in i){var p=r[f],d=p&&p.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(v){d[u]=c}if(d[l]||o(d,l,f),i[f])for(var h in a)if(d[h]!==a[h])try{o(d,h,a[h])}catch(v){d[h]=a[h]}}}},"3cYt":function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},"3cmf":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("Bc+9"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","HeatMapLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"renderModels",value:function(){var e=this,t=this.getModelType();return"heatmap"===t?(this.layerModel&&this.layerModel.render(),this):(this.layerModelNeedUpdate&&(this.models=this.layerModel.buildModels(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){return t.draw({uniforms:e.layerModel.getUninforms()})})),this)}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=this.getLayerConfig(),r=n.shape3d,i=this.getSource(),a=i.data.type,o=(null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field)||"heatmap";return"heatmap"===o||"heatmap3d"===o?"heatmap":"hexagon"===a?-1===(null===r||void 0===r?void 0:r.indexOf(o))?"hexagon":"grid3d":"grid"===a?-1===(null===r||void 0===r?void 0:r.indexOf(o))?"grid":"grid3d":"heatmap"}}]),n}(f["default"]);t["default"]=v},"3m+5":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("k1fw"),i=n("9og8"),a=n("WmNS"),o=n.n(a),s=n("QkVN"),u=n.n(s),l=n("1wtQ"),c=n("AAZ5");class f extends c["a"]{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.fillRawData=void 0,this.lineRawData=void 0,this.labelRawData=void 0,this.layerType="Province",this.addProvinceFillLayer()}updateDistrict(e,t,n){if(e||!Array.isArray(e)||0!==e.length){var r=this.options,i=r.label,a=r.showBorder;this.setOption({adcode:e});var o=this.filterData(this.fillRawData,e),s=this.filterData(this.lineRawData,e),u=this.filterLabelData(this.labelRawData,e);this.fillData=o,this.updateData(t,n),a&&this.lineLayer.setData(s),i.enable&&this.labelLayer&&this.labelLayer.setData(u),this.show()}else this.hide()}getDefaultOption(){var e=super.getDefaultOption();return u()({},e,{adcode:["110000"],depth:2,label:{field:"NAME_CHN",textAllowOverlap:!1},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}})}filterData(e,t){var n=Array.isArray(t)?t:[t],r=e.features.filter((e=>{var t=e.properties,r=t.adcode_pro,i=t.adcode;return-1!==n.indexOf(r)||-1!==n.indexOf(i)||-1!==n.indexOf(""+r)||-1!==n.indexOf(""+i)}));return{type:"FeatureCollection",features:r}}filterLabelData(e,t){var n=Array.isArray(t)?t:[t],r=e.filter((e=>{var t=e.adcode_pro,r=e.adcode;return-1!==n.indexOf(t)||-1!==n.indexOf(r)||-1!==n.indexOf(""+t)||-1!==n.indexOf(""+r)}));return r}addProvinceFillLayer(){var e=this;return Object(i["a"])(o.a.mark((function t(){var n,i,a,s,u,c,f,p,d;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.options,i=n.depth,a=n.adcode,s=n.label,u=n.showBorder,c=Object(l["a"])(e.options.geoDataLevel).country.CHN[i],t.next=4,e.fetchData(c.fill);case 4:f=t.sent,e.labelRawData=f.features.map((e=>Object(r["a"])(Object(r["a"])({},e.properties),{},{center:[e.properties.x,e.properties.y]}))),p=e.filterData(f,a),e.fillData=p,d=e.filterLabelData(e.labelRawData,a),e.fillRawData=f,e.addFillLayer(p),s.enable&&e.addLabelLayer(d),e.lineRawData=f,u&&e.addFillLine(p),e.emit("loaded"),e.loaded=!0;case 16:case"end":return t.stop()}}),t)})))()}}},"3nxo":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("QILm")),o=r(n("yXPU")),s=r(n("J4zp")),u=r(n("RIqP")),l=r(n("yG8O")),c=r(n("lwsE")),f=r(n("W8MJ")),p=r(n("lSNA")),d=r(n("U+yc")),h=(r(n("1ABj")),r(n("hi0z"))),v=n("gHHc"),m=n("z0pJ"),y=n("IOcx"),g=n("4cb6");n("mNvP");var b,_,x,w,E,S,k,O,T,C,A,M=n("WqfA"),P=n("MC4F"),I=n("rAnu"),R=r(n("/og/"));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,p["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}N(".amap-logo{\n display: none !important;\n}\n");var D=0;window.forceWebGL=!0;var F="ff533602d57df6f8ab3b0fea226ae52f",z="2.0",B="amap-script",U=!1,V=[],H=(b=(0,g.injectable)(),_=(0,g.inject)(v.TYPES.IGlobalConfigService),x=(0,g.inject)(v.TYPES.MapConfig),w=(0,g.inject)(v.TYPES.ICoordinateSystemService),E=(0,g.inject)(v.TYPES.IEventEmitter),b((k=function(){function e(){var t=this;(0,c["default"])(this,e),(0,p["default"])(this,"version",P.Version["GAODE2.x"]),(0,p["default"])(this,"map",void 0),(0,p["default"])(this,"sceneCenter",void 0),(0,p["default"])(this,"sceneCenterMKT",void 0),(0,l["default"])(this,"configService",O,this),(0,l["default"])(this,"config",T,this),(0,l["default"])(this,"coordinateSystemService",C,this),(0,l["default"])(this,"eventEmitter",A,this),(0,p["default"])(this,"markerContainer",void 0),(0,p["default"])(this,"$mapContainer",void 0),(0,p["default"])(this,"viewport",void 0),(0,p["default"])(this,"cameraChangedCallback",void 0),(0,p["default"])(this,"handleViewChanged",(function(e){var n=t.map.customCoords.getCameraParams(),r=n.fov,i=n.near,a=n.far,o=n.aspect,s=n.position,u=n.lookAt,l=n.up,c=e.zoom,f=t.map.customCoords.getCenter();t.cameraChangedCallback&&(t.viewport.syncWithMapCamera({aspect:o,far:a,fov:r,cameraPosition:s,lookAt:u,up:l,near:i,zoom:c-1,center:f,offsetOrigin:[s[0],s[1]]}),t.coordinateSystemService.setCoordinateSystem(v.CoordinateSystem.P20_2),t.cameraChangedCallback(t.viewport))}))}return(0,f["default"])(e,[{key:"setCustomCoordCenter",value:function(e){var t;this.sceneCenter=e,this.sceneCenterMKT=(t=this.map.getProjection()).project.apply(t,(0,u["default"])(this.sceneCenter))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMKT}},{key:"lngLatToCoord",value:function(e){var t=this.map.getProjection(),n=t.project;return this.sceneCenter||(this.map.customCoords.setCenter(e),this.setCustomCoordCenter(e)),this._sub(n(e[0],e[1]),this.sceneCenterMKT)}},{key:"lngLatToCoords",value:function(e){var t=this;return e.map((function(e){return"number"===typeof e[0]?t.lngLatToCoord(e):e.map((function(e){return t.lngLatToCoord(e)}))}))}},{key:"addMarkerContainer",value:function(){if(this.map){var e=this.map.getContainer();null!==e&&(this.markerContainer=m.DOM.create("div","l7-marker-container2",e))}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==v.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(e,t)}},{key:"off",value:function(e,t){-1!==v.MapServiceEvent.indexOf(e)?this.eventEmitter.off(e,t):this.map.off(e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var e;return null===(e=this.map.getContainer())||void 0===e?void 0:e.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var e=this.map.getSize();return[e.getWidth(),e.getHeight()]}},{key:"getType",value:function(){return"amap2"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(e){if(null!==e&&void 0!==e&&e.padding){var t=this.getCenter(),n=this.getSize(),r=(0,s["default"])(n,2),i=(r[0],r[1],(0,M.toPaddingOptions)(e.padding)),a=this.lngLatToPixel([t.lng,t.lat]),o=[(i.right-i.left)/2,(i.bottom-i.top)/2],u=this.pixelToLngLat([a.x-o[0],a.y-o[1]]);return u}var l=this.map.getCenter();return{lng:l.getLng(),lat:l.getLat()}}},{key:"setCenter",value:function(e,t){if(null!==t&&void 0!==t&&t.padding){var n=(0,M.toPaddingOptions)(t.padding),r=this.lngLatToPixel(e),i=[(n.right-n.left)/2,(n.bottom-n.top)/2],a=this.pixelToLngLat([r.x+i[0],r.y+i[1]]);this.map.setCenter([a.lng,a.lat])}else this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var e=this.map.getBounds(),t=e.getNorthEast(),n=e.getSouthWest(),r=this.getCenter(),i=r.lng>t.getLng()||r.lng<n.getLng()?180-t.getLng():t.getLng(),a=r.lng<n.getLng()?n.getLng()-180:n.getLng();return[[a,n.getLat()],[i,t.getLat()]]}},{key:"getMinZoom",value:function(){var e=this.map.getZooms();return e[0]-1}},{key:"getMaxZoom",value:function(){var e=this.map.getZooms();return e[1]-1}},{key:"setRotation",value:function(e){return this.map.setRotation(e)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.map.panTo(e)}},{key:"fitBounds",value:function(e){this.map.setBounds(new AMap.Bounds([e[0][0],e[0][1],e[1][0],e[1][1]]))}},{key:"setZoomAndCenter",value:function(e,t){this.map.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.map.setMapStyle(this.getMapStyle(e))}},{key:"setMapStatus",value:function(e){this.map.setStatus(e)}},{key:"pixelToLngLat",value:function(e){var t=this.map.pixelToLngLat(new AMap.Pixel(e[0],e[1]));return{lng:t.getLng(),lat:t.getLat()}}},{key:"lngLatToPixel",value:function(e){var t=this.map.lnglatToPixel(new AMap.LngLat(e[0],e[1]));return{x:t.getX(),y:t.getY()}}},{key:"containerToLngLat",value:function(e){var t=new AMap.Pixel(e[0],e[1]),n=this.map.containerToLngLat(t);return{lng:null===n||void 0===n?void 0:n.getLng(),lat:null===n||void 0===n?void 0:n.getLat()}}},{key:"lngLatToContainer",value:function(e){var t=new AMap.LngLat(e[0],e[1]),n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}},{key:"lngLatToMercator",value:function(e,t){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=this.viewport.projectFlat(e),a=y.mat4.create();return y.mat4.translate(a,a,y.vec3.fromValues(i[0],i[1],t)),y.mat4.scale(a,a,y.vec3.fromValues(r[0],r[1],r[2])),y.mat4.rotateX(a,a,n[0]),y.mat4.rotateY(a,a,n[1]),y.mat4.rotateZ(a,a,n[2]),a}},{key:"init",value:function(){var e=(0,o["default"])(i["default"].mark((function e(){var t,n,r,o,s,u,l,c,f,p,d,v,m,y,g,b,_=this;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.config,n=t.id,r=t.style,o=void 0===r?"light":r,s=t.minZoom,u=void 0===s?0:s,l=t.maxZoom,c=void 0===l?18:l,f=t.token,p=void 0===f?F:f,d=t.mapInstance,v=t.plugin,m=void 0===v?[]:v,y=t.version,g=void 0===y?z:y,b=(0,a["default"])(t,["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"]),e.next=3,new Promise((function(e){var t=function(){if(d){var t;_.map=d,_.$mapContainer=_.map.getContainer();var r=_.map.getCenter();null===(t=_.map.customCoords)||void 0===t||t.setCenter([r.lng,r.lat]),_.setCustomCoordCenter([r.lng,r.lat]),setTimeout((function(){_.map.on("viewchange",_.handleViewChanged),e()}),30)}else{_.$mapContainer=_.creatAmapContainer(n);var i=new AMap.Map(_.$mapContainer,L({mapStyle:_.getMapStyle(o),zooms:[u,c],viewMode:"3D"},b));_.map=i;var a=i.getCenter();i.customCoords.setCenter([a.lng,a.lat]),_.setCustomCoordCenter([a.lng,a.lat]),i.on("viewchange",_.handleViewChanged),setTimeout((function(){e()}),10)}};_.viewport=new R["default"],U||d?U&&window.AMap||d?t():V.push(t):(p===F&&console.warn(_.configService.getSceneWarninfo("MapToken")),U=!0,m.push("Map3D"),h["default"].load({key:p,version:g,plugins:m}).then((function(e){t(),V.length&&(V.forEach((function(e){return e()})),V=[])}))["catch"]((function(e){throw new Error(e)})))}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"exportMap",value:function(e){var t,n=null===(t=this.getContainer())||void 0===t?void 0:t.getElementsByClassName("amap-layer")[0],r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"destroy",value:function(){this.map.destroy(),delete window.initAMap;var e=document.getElementById(B);e&&document.head.removeChild(e)}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"initViewPort",value:function(){var e,t=null===(e=this.map.customCoords)||void 0===e?void 0:e.getCameraParams(),n=t.fov,r=t.near,i=t.far,a=t.aspect,o=t.position,s=t.lookAt,u=t.up,l=this.map.customCoords.getCenter(),c=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:a,far:i,fov:n,cameraPosition:o,lookAt:s,near:r,up:u,zoom:c-1,center:l,offsetOrigin:[o[0],o[1]]}),this.coordinateSystemService.setCoordinateSystem(v.CoordinateSystem.P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(e,t){var n=[0,0];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}},{key:"getMapStyle",value:function(e){return I.MapTheme[e]?I.MapTheme[e]:e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_amap_div"+D++,t.appendChild(n),n}}]),e}(),O=(0,d["default"])(k.prototype,"configService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,d["default"])(k.prototype,"config",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,d["default"])(k.prototype,"coordinateSystemService",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,d["default"])(k.prototype,"eventEmitter",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=k))||S);t["default"]=H},"3uUd":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("A2ZE"),l=n("SEBh"),c=n("WGBp"),f=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Set"))),p=s(i.add);return f(n,(function(e){r(e,e,t)&&p.call(i,e)}),void 0,!1,!0),i}})},"4/ic":function(e,t,n){var r=n("ZWtO");function i(e){return function(t){return r(t,e)}}e.exports=i},"406g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n("z4Hk"),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},"44Ds":function(e,t,n){var r=n("e4Nc"),i="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},"49+q":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("fXLg");r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},"4Brf":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("2oRo"),o=n("UTVS"),s=n("hh1v"),u=n("m/L8").f,l=n("6JNq"),c=a.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new c(e):void 0===e?c():c(e);return""===e&&(f[t]=!0),t};l(p,c);var d=p.prototype=c.prototype;d.constructor=p;var h=d.toString,v="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(o(f,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},"4IlW":function(e,t,n){"use strict";var r={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=r.F1&&t<=r.F12)return!1;switch(t){case r.ALT:case r.CAPS_LOCK:case r.CONTEXT_MENU:case r.CTRL:case r.DOWN:case r.END:case r.ESC:case r.HOME:case r.INSERT:case r.LEFT:case r.MAC_FF_META:case r.META:case r.NUMLOCK:case r.NUM_CENTER:case r.PAGE_DOWN:case r.PAGE_UP:case r.PAUSE:case r.PRINT_SCREEN:case r.RIGHT:case r.SHIFT:case r.UP:case r.WIN_KEY:case r.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=r.ZERO&&e<=r.NINE)return!0;if(e>=r.NUM_ZERO&&e<=r.NUM_MULTIPLY)return!0;if(e>=r.A&&e<=r.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case r.SPACE:case r.QUESTION_MARK:case r.NUM_PLUS:case r.NUM_MINUS:case r.NUM_PERIOD:case r.NUM_DIVISION:case r.SEMICOLON:case r.DASH:case r.EQUALS:case r.COMMA:case r.PERIOD:case r.SLASH:case r.APOSTROPHE:case r.SINGLE_QUOTE:case r.OPEN_SQUARE_BRACKET:case r.BACKSLASH:case r.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t["a"]=r},"4WOD":function(e,t,n){var r=n("UTVS"),i=n("ewvW"),a=n("93I0"),o=n("4Xet"),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},"4XaG":function(e,t,n){var r=n("dG/n");r("observable")},"4Xet":function(e,t,n){var r=n("0Dky");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4ZJM":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var a="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",o={};e(o),n=i(o),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:"text/javascript"})))}else t=i;else e=i}return r(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r;function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var i=a;function a(e,t){this.x=e,this.y=t}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(e){return e instanceof a?e:Array.isArray(e)?new a(e[0],e[1]):e};var o="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(e,t,r,i){var a=new n(e,t,r,i);return function(e){return a.solve(e)}}var l=u(.25,.1,.25,1);function c(e,t,n){return Math.min(n,Math.max(t,e))}function f(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function p(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}var d=1;function h(){return d++}function v(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function g(e,t){return-1!==e.indexOf(t,e.length-t.length)}function b(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function _(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?b(e,x):e}var w={};function E(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function S(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function k(e){for(var t=0,n=0,r=e.length,i=r-1,a=void 0,o=void 0;n<r;i=n++)t+=((o=e[i]).x-(a=e[n]).x)*(a.y+o.y);return t}function O(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function T(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,r,i){var a=r||i;return t[n]=!a||a.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}var C=null;function A(e){if(null==C){var t=e.navigator?e.navigator.userAgent:null;C=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return C}function M(e){try{var t=o[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var P,I,R,j,L=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now.bind(Date),N=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame,D=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.msCancelAnimationFrame,F={now:L,frame:function(e){var t=N(e);return{cancel:function(){return D(t)}}},getImageData:function(e,t){void 0===t&&(t=0);var n=o.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return P||(P=o.document.createElement("a")),P.href=e,P.href},hardwareConcurrency:o.navigator&&o.navigator.hardwareConcurrency||4,get devicePixelRatio(){return o.devicePixelRatio},get prefersReducedMotion(){return!!o.matchMedia&&(null==I&&(I=o.matchMedia("(prefers-reduced-motion: reduce)")),I.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(e){!U&&j&&(V?H(e):R=e)}},U=!1,V=!1;function H(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,j),e.isContextLost())return;B.supported=!0}catch(e){}e.deleteTexture(t),U=!0}o.document&&((j=o.document.createElement("img")).onload=function(){R&&H(R),R=null,V=!0},j.onerror=function(){U=!0,R=null},j.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var W="01",q=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};function G(e){return 0===e.indexOf("mapbox:")}q.prototype._createSkuToken=function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},q.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},q.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},q.prototype.normalizeStyleURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},q.prototype.normalizeGlyphsURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)},q.prototype.normalizeSourceURL=function(e,t){if(!G(e))return e;var n=K(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||t)},q.prototype.normalizeSpriteURL=function(e,t,n,r){var i=K(e);return G(e)?(i.path="/styles/v1"+i.path+"/sprite"+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+t+n,J(i))},q.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!G(e))return e;var n=K(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(F.devicePixelRatio>=2||512===t?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},q.prototype.canonicalizeTileURL=function(e,t){var n=K(e);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return e;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return t&&(i=i.filter((function(e){return!e.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},q.prototype.canonicalizeTileset=function(e,t){for(var n=!!t&&G(t),r=[],i=0,a=e.tiles||[];i<a.length;i+=1){var o=a[i];Y(o)?r.push(this.canonicalizeTileURL(o,n)):r.push(o)}return r},q.prototype._makeAPIURL=function(e,t){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=K(z.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"http"===e.protocol){var i=e.params.indexOf("secure");i>=0&&e.params.splice(i,1)}if("/"!==r.path&&(e.path=""+r.path+e.path),!z.REQUIRE_ACCESS_TOKEN)return J(e);if(!(t=t||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token="+t),J(e)};var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Y(e){return Z.test(e)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(e){var t=e.match(X);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function J(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function Q(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(o.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var $=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(e){var t,n=Q(z.ACCESS_TOKEN);return t=n&&n.u?o.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):z.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+t:"mapbox.eventData:"+t},$.prototype.fetchEventData=function(){var e=M("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var r=o.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=o.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){E("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var e=M("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{o.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&o.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){E("Unable to write to LocalStorage")}},$.prototype.processRequests=function(e){},$.prototype.postEvent=function(e,t,n,r){var i=this;if(z.EVENTS_URL){var a=K(z.EVENTS_URL);a.params.push("access_token="+(r||z.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:W,userId:this.anonId},s=t?p(o,t):o,u={url:J(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xe(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(r)}))}},$.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ee,te,ne=function(e){function t(){e.call(this,"map.load"),this.success={},this.skuToken=""}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(z.EVENTS_URL&&r||z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Y(e)})))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=v()),this.postEvent(i,{skuToken:this.skuToken},(function(e){e||r&&(t.success[r]=!0)}),e))}},t}($),re=new(function(e){function t(t){e.call(this,"appUserTurnstile"),this._customAccessToken=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.postTurnstileEvent=function(e,t){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return G(e)||Y(e)}))&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=Q(z.ACCESS_TOKEN),r=n?n.u:z.ACCESS_TOKEN,i=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=v(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),u=(a-this.eventData.lastSuccess)/864e5;i=i||u>=1||u<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)}),e)}},t}($)),ie=re.postTurnstileEvent.bind(re),ae=new ne,oe=ae.postMapLoadEvent.bind(ae),se=500,ue=50;function le(){o.caches&&!ee&&(ee=o.caches.open("mapbox-tiles"))}function ce(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var fe,pe=1/0;function de(){return null==fe&&(fe=o.OffscreenCanvas&&new o.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof o.createImageBitmap),fe}var he={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(he);var ve,me,ye=function(e){function t(t,n,r){401===n&&Y(r)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error),ge=O()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===o.location.protocol?o.parent:o).location.href},be=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(ge())&&!/^\w+:/.test(n))){if(o.fetch&&o.Request&&o.AbortController&&o.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n,r=new o.AbortController,i=new o.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:ge(),signal:r.signal}),a=!1,s=!1,u=(n=i.url).indexOf("sku=")>0&&Y(n);"json"===e.type&&i.headers.set("Accept","application/json");var l=function(n,r,a){if(!s){if(n&&"SecurityError"!==n.message&&E(n),r&&a)return c(r);var l=Date.now();o.fetch(i).then((function(n){if(n.ok){var r=u?n.clone():null;return c(n,r,l)}return t(new ye(n.statusText,n.status,e.url))}))["catch"]((function(e){20!==e.code&&t(new Error(e.message))}))}},c=function(n,r,u){("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((function(e){s||(r&&u&&function(e,t,n){if(le(),ee){var r={status:t.status,statusText:t.statusText,headers:new o.Headers};t.headers.forEach((function(e,t){return r.headers.set(t,e)}));var i=T(t.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(e,t){if(void 0===te)try{new Response(new ReadableStream),te=!0}catch(e){te=!1}te?t(e.body):e.blob().then(t)}(t,(function(t){var n=new o.Response(t,r);le(),ee&&ee.then((function(t){return t.put(ce(e.url),n)}))["catch"]((function(e){return E(e.message)}))})))}}(i,r,u),a=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))}))["catch"]((function(e){s||t(new Error(e.message))}))};return u?function(e,t){if(le(),!ee)return t(null);var n=ce(e.url);ee.then((function(e){e.match(n).then((function(r){var i=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),n=T(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(r);e["delete"](n),i&&e.put(n,r.clone()),t(null,r,i)}))["catch"](t)}))["catch"](t)}(i,l):l(null,null),{cancel:function(){s=!0,a||r.abort()}}}(e,t);if(O()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){var n=new o.XMLHttpRequest;for(var r in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(r,e.headers[r]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ye(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},_e=function(e,t){return be(p(e,{type:"arrayBuffer"}),t)},xe=function(e,t){return be(p(e,{method:"POST"}),t)},we="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";ve=[],me=0;var Ee=function e(t,n){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),me>=z.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return ve.push(r),r}me++;var i=!1,a=function(){if(!i)for(i=!0,me--;ve.length&&me<z.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ve.shift();t.cancelled||(t.cancel=e(t.requestParameters,t.callback).cancel)}},s=_e(t,(function(e,t,r,i){a(),e?n(e):t&&(de()?function(e,t){var n=new o.Blob([new Uint8Array(e)],{type:"image/png"});o.createImageBitmap(n).then((function(e){t(null,e)}))["catch"]((function(e){t(new Error("Could not load image because of "+e.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(t,n):function(e,t,n,r){var i=new o.Image,a=o.URL;i.onload=function(){t(null,i),a.revokeObjectURL(i.src),i.onload=null,o.requestAnimationFrame((function(){i.src=we}))},i.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new o.Blob([new Uint8Array(e)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=e.byteLength?a.createObjectURL(s):we}(t,n,r,i))}));return{cancel:function(){s.cancel(),a()}}};function Se(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function ke(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var Oe=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},Te=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",p({error:t},n))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Oe),Ce=function(){};Ce.prototype.on=function(e,t){return this._listeners=this._listeners||{},Se(e,t,this._listeners),this},Ce.prototype.off=function(e,t){return ke(e,t,this._listeners),ke(e,t,this._oneTimeListeners),this},Ce.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},Se(e,t,this._oneTimeListeners),this},Ce.prototype.fire=function(e,t){"string"==typeof e&&(e=new Oe(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,e);for(var a=0,o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];a<o.length;a+=1){var s=o[a];ke(n,s,this._oneTimeListeners),s.call(this,e)}var u=this._eventedParent;u&&(p(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof Te&&console.error(e.error);return this},Ce.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},Ce.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Ae={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Me=function(e,t,n,r){this.message=(e?e+": ":"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)};function Pe(e){var t=e.value;return t?[new Me(e.key,t,"constants have been deprecated as of v8")]:[]}function Ie(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}function Re(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function je(e){if(Array.isArray(e))return e.map(je);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=je(e[n]);return t}return Re(e)}var Le=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),Ne=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Ne.prototype.concat=function(e){return new Ne(this,e)},Ne.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Ne.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var De={kind:"null"},Fe={kind:"number"},ze={kind:"string"},Be={kind:"boolean"},Ue={kind:"color"},Ve={kind:"object"},He={kind:"value"},We={kind:"collator"},qe={kind:"formatted"},Ge={kind:"resolvedImage"};function Ze(e,t){return{kind:"array",itemType:e,N:t}}function Ye(e){if("array"===e.kind){var t=Ye(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var Xe=[De,Fe,ze,Be,Ue,qe,Ve,Ze(He),Ge];function Ke(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ke(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,r=Xe;n<r.length;n+=1)if(!Ke(r[n],t))return null}return"Expected "+Ye(e)+" but found "+Ye(t)+" instead."}function Je(e,t){return t.some((function(t){return t.kind===e.kind}))}function Qe(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var $e=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function a(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function o(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),f=s.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==f.length)return null;p=a(f.pop());case"rgb":return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),p];case"hsla":if(4!==f.length)return null;p=a(f.pop());case"hsl":if(3!==f.length)return null;var d=(parseFloat(f[0])%360+360)%360/360,h=a(f[1]),v=a(f[2]),m=v<=.5?v*(h+1):v+h-v*h,y=2*v-m;return[r(255*o(y,m,d+1/3)),r(255*o(y,m,d)),r(255*o(y,m,d-1/3)),p];default:return null}}return null}}catch(e){}})).parseCSSColor,et=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};et.parse=function(e){if(e){if(e instanceof et)return e;if("string"==typeof e){var t=$e(e);if(t)return new et(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},et.prototype.toString=function(){var e=this.toArray(),t=e[1],n=e[2],r=e[3];return"rgba("+Math.round(e[0])+","+Math.round(t)+","+Math.round(n)+","+r+")"},et.prototype.toArray=function(){var e=this.a;return 0===e?[0,0,0,0]:[255*this.r/e,255*this.g/e,255*this.b/e,e]},et.black=new et(0,0,0,1),et.white=new et(1,1,1,1),et.transparent=new et(0,0,0,0),et.red=new et(1,0,0,1);var tt=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};tt.prototype.compare=function(e,t){return this.collator.compare(e,t)},tt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var nt=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},rt=function(e){this.sections=e};rt.fromString=function(e){return new rt([new nt(e,null,null,null,null)])},rt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},rt.factory=function(e){return e instanceof rt?e:rt.fromString(e)},rt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},rt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image)e.push(["image",r.image.name]);else{e.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),e.push(i)}}return e};var it=function(e){this.name=e.name,this.available=e.available};function at(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ot(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof et)return!0;if(e instanceof tt)return!0;if(e instanceof rt)return!0;if(e instanceof it)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1)if(!ot(n[t]))return!1;return!0}if("object"==typeof e){for(var r in e)if(!ot(e[r]))return!1;return!0}return!1}function st(e){if(null===e)return De;if("string"==typeof e)return ze;if("boolean"==typeof e)return Be;if("number"==typeof e)return Fe;if(e instanceof et)return Ue;if(e instanceof tt)return We;if(e instanceof rt)return qe;if(e instanceof it)return Ge;if(Array.isArray(e)){for(var t,n=e.length,r=0,i=e;r<i.length;r+=1){var a=st(i[r]);if(t){if(t===a)continue;t=He;break}t=a}return Ze(t||He,n)}return Ve}function ut(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof et||e instanceof rt||e instanceof it?e.toString():JSON.stringify(e)}it.prototype.toString=function(){return this.name},it.fromString=function(e){return e?new it({name:e,available:!1}):null},it.prototype.serialize=function(){return["image",this.name]};var lt=function(e,t){this.type=e,this.value=t};lt.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!ot(e[1]))return t.error("invalid value");var n=e[1],r=st(n),i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new lt(r,n)},lt.prototype.evaluate=function(){return this.value},lt.prototype.eachChild=function(){},lt.prototype.outputDefined=function(){return!0},lt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof et?["rgba"].concat(this.value.toArray()):this.value instanceof rt?this.value.serialize():this.value};var ct=function(e){this.name="ExpressionEvaluationError",this.message=e};ct.prototype.toJSON=function(){return this.message};var ft={string:ze,number:Fe,boolean:Be,object:Ve},pt=function(e,t){this.type=e,this.args=t};pt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,r=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ft)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=ft[s],r++}else a=He;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=Ze(a,o)}else n=ft[i];for(var u=[];r<e.length;r++){var l=t.parse(e[r],r,He);if(!l)return null;u.push(l)}return new pt(n,u)},pt.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Ke(this.type,st(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type "+Ye(this.type)+", but found "+Ye(st(n))+" instead.")}return null},pt.prototype.eachChild=function(e){this.args.forEach(e)},pt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},pt.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var dt=function(e){this.type=qe,this.sections=e};dt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");for(var r=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,Fe)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,Ze(ze))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,Ue)))return null;var c=r[r.length-1];c.scale=s,c.font=u,c.textColor=l}else{var f=t.parse(e[a],1,He);if(!f)return null;var p=f.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:f,scale:null,font:null,textColor:null})}}return new dt(r)},dt.prototype.evaluate=function(e){return new rt(this.sections.map((function(t){var n=t.content.evaluate(e);return st(n)===Ge?new nt("",n,null,null,null):new nt(ut(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},dt.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},dt.prototype.outputDefined=function(){return!1},dt.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),e.push(i)}return e};var ht=function(e){this.type=Ge,this.input=e};ht.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,ze);return n?new ht(n):t.error("No image name provided.")},ht.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},ht.prototype.eachChild=function(e){e(this.input)},ht.prototype.outputDefined=function(){return!1},ht.prototype.serialize=function(){return["image",this.input.serialize()]};var vt={"to-boolean":Be,"to-color":Ue,"to-number":Fe,"to-string":ze},mt=function(e,t){this.type=e,this.args=t};mt.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var r=vt[n],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,He);if(!o)return null;i.push(o)}return new mt(r,i)},mt.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(t=i[r].evaluate(e))instanceof et)return t;if("string"==typeof t){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":at(t[0],t[1],t[2],t[3])))return new et(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new ct("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?rt.fromString(ut(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?it.fromString(ut(this.args[0].evaluate(e))):ut(this.args[0].evaluate(e))},mt.prototype.eachChild=function(e){this.args.forEach(e)},mt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){if("formatted"===this.type.kind)return new dt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ht(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var yt=["Unknown","Point","LineString","Polygon"],gt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};gt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},gt.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?yt[this.feature.type]:this.feature.type:null},gt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},gt.prototype.canonicalID=function(){return this.canonical},gt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},gt.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=et.parse(e)),t};var bt=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};bt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},bt.parse=function(e,t){var n,r=e[0],i=bt.definitions[r];if(!i)return t.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var f=c[l],p=f[0],d=f[1];u=new Ut(t.registry,t.path,null,t.scope);for(var h=[],v=!1,m=1;m<e.length;m++){var y=e[m],g=Array.isArray(p)?p[m-1]:p.type,b=u.parse(y,1+h.length,g);if(!b){v=!0;break}h.push(b)}if(!v)if(Array.isArray(p)&&p.length!==h.length)u.error("Expected "+p.length+" arguments, but found "+h.length+" instead.");else{for(var _=0;_<h.length;_++){var x=Array.isArray(p)?p[_]:p.type,w=h[_];u.concat(_+1).checkSubtype(x,w.type)}if(0===u.errors.length)return new bt(r,a,d,h)}}if(1===s.length)(n=t.errors).push.apply(n,u.errors);else{for(var E=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ye).join(", ")+")":"("+Ye(t.type)+"...)"})).join(" | "),S=[],k=1;k<e.length;k++){var O=t.parse(e[k],1+S.length);if(!O)return null;S.push(Ye(O.type))}t.error("Expected arguments of type "+E+", but found ("+S.join(", ")+") instead.")}return null},bt.register=function(e,t){for(var n in bt.definitions=t,t)e[n]=bt};var _t=function(e,t,n){this.type=We,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function xt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function wt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Et(e,t){var n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function St(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function kt(e,t){for(var n,r,i,a,o,s,u,l=!1,c=0,f=t.length;c<f;c++)for(var p=t[c],d=0,h=p.length;d<h-1;d++){if((a=(n=e)[0]-(r=p[d])[0])*(u=n[1]-(i=p[d+1])[1])-(s=n[0]-i[0])*(o=n[1]-r[1])==0&&a*s<=0&&o*u<=0)return!1;St(e,p[d],p[d+1])&&(l=!l)}return l}function Ot(e,t){for(var n=0;n<t.length;n++)if(kt(e,t[n]))return!0;return!1}function Tt(e,t,n,r){var i=r[0]-n[0],a=r[1]-n[1],o=(e[0]-n[0])*a-i*(e[1]-n[1]),s=(t[0]-n[0])*a-i*(t[1]-n[1]);return o>0&&s<0||o<0&&s>0}function Ct(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var a=i[r],o=0;o<a.length-1;++o)if(0!=(f=[(c=a[o+1])[0]-(l=a[o])[0],c[1]-l[1]])[0]*(p=[(u=t)[0]-(s=e)[0],u[1]-s[1]])[1]-f[1]*p[0]&&Tt(s,u,l,c)&&Tt(l,c,s,u))return!0;var s,u,l,c,f,p;return!1}function At(e,t){for(var n=0;n<e.length;++n)if(!kt(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(Ct(e[r],e[r+1],t))return!1;return!0}function Mt(e,t){for(var n=0;n<t.length;n++)if(At(e,t[n]))return!0;return!1}function Pt(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Et(e[i][o],n);xt(t,s),a.push(s)}r.push(a)}return r}function It(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=Pt(e[i],t,n);r.push(a)}return r}function Rt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=.5*r,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;0===a&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}xt(t,e)}function jt(e,t,n,r){for(var i=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],o=[],s=0,u=e;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var f=c[l],p=[f.x+a[0],f.y+a[1]];Rt(p,t,n,i),o.push(p)}return o}function Lt(e,t,n,r){for(var i,a=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],s=[],u=0,l=e;u<l.length;u+=1){for(var c=[],f=0,p=l[u];f<p.length;f+=1){var d=p[f],h=[d.x+o[0],d.y+o[1]];xt(t,h),c.push(h)}s.push(c)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var v=0,m=s;v<m.length;v+=1)for(var y=0,g=m[v];y<g.length;y+=1)Rt(g[y],t,n,a)}return s}_t.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Be);if(!r)return null;var i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Be);if(!i)return null;var a=null;return n.locale&&!(a=t.parse(n.locale,1,ze))?null:new _t(r,i,a)},_t.prototype.evaluate=function(e){return new tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},_t.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var Nt=function(e,t){this.type=Be,this.geojson=e,this.geometries=t};function Dt(e){if(e instanceof bt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Nt)return!1;var t=!0;return e.eachChild((function(e){t&&!Dt(e)&&(t=!1)})),t}function Ft(e){if(e instanceof bt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Ft(e)&&(t=!1)})),t}function zt(e,t){if(e instanceof bt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!zt(e,t)&&(n=!1)})),n}Nt.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(ot(e[1])){var n=e[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Nt(n,n.features[r].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new Nt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Nt(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Nt.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=Pt(t.coordinates,r,i),o=jt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!kt(u[s],a))return!1}if("MultiPolygon"===t.type){var l=It(t.coordinates,r,i),c=jt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Ot(p[f],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){var a=Pt(t.coordinates,r,i),o=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!At(u[s],a))return!1}if("MultiPolygon"===t.type){var l=It(t.coordinates,r,i),c=Lt(e.geometry(),n,r,i);if(!wt(n,r))return!1;for(var f=0,p=c;f<p.length;f+=1)if(!Mt(p[f],l))return!1}return!0}(e,this.geometries)}return!1},Nt.prototype.eachChild=function(){},Nt.prototype.outputDefined=function(){return!0},Nt.prototype.serialize=function(){return["within",this.geojson]};var Bt=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Bt.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new Bt(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Bt.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Bt.prototype.eachChild=function(){},Bt.prototype.outputDefined=function(){return!1},Bt.prototype.serialize=function(){return["var",this.name]};var Ut=function(e,t,n,r,i){void 0===t&&(t=[]),void 0===r&&(r=new Ne),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Vt(e,t){for(var n,r=e.length-1,i=0,a=r,o=0;i<=a;)if((n=e[o=Math.floor((i+a)/2)])<=t){if(o===r||t<e[o+1])return o;i=o+1}else{if(!(n>t))throw new ct("Input is not a number.");a=o-1}return 0}Ut.prototype.parse=function(e,t,n,r,i){return void 0===i&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},Ut.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new pt(t,[e]):"coerce"===n?new mt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=e[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=n(a,o,t.typeAnnotation||"coerce");else a=n(a,o,t.typeAnnotation||"assert")}if(!(a instanceof lt)&&"resolvedImage"!==a.type.kind&&function e(t){if(t instanceof Bt)return e(t.boundExpression);if(t instanceof bt&&"error"===t.name)return!1;if(t instanceof _t)return!1;if(t instanceof Nt)return!1;var n=t instanceof mt||t instanceof pt,r=!0;return t.eachChild((function(t){r=n?r&&e(t):r&&t instanceof lt})),!!r&&Dt(t)&&zt(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(a)){var u=new gt;try{a=new lt(a.type,a.evaluate(u))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof e+" instead.")},Ut.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Ut(this.registry,r,t||null,i,this.errors)},Ut.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new Le(r,e))},Ut.prototype.checkSubtype=function(e,t){var n=Ke(e,t);return n&&this.error(n),n};var Ht=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var a=i[r],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function Wt(e,t,n){return e*(1-n)+t*n}Ht.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var n=t.parse(e[1],1,Fe);if(!n)return null;var r=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,l=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=t.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([o,c])}return new Ht(i,n,r)},Ht.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[Vt(t,r)].evaluate(e)},Ht.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Ht.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ht.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var qt=Object.freeze({__proto__:null,number:Wt,color:function(e,t,n){return new et(Wt(e.r,t.r,n),Wt(e.g,t.g,n),Wt(e.b,t.b,n),Wt(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,r){return Wt(e,t[r],n)}))}}),Gt=6/29*3*(6/29),Zt=Math.PI/180,Yt=180/Math.PI;function Xt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Gt+4/29}function Kt(e){return e>6/29?e*e*e:Gt*(e-4/29)}function Jt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function $t(e){var t=Qt(e.r),n=Qt(e.g),r=Qt(e.b),i=Xt((.4124564*t+.3575761*n+.1804375*r)/.95047),a=Xt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Xt((.0193339*t+.119192*n+.9503041*r)/1.08883)),alpha:e.a}}function en(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Kt(t),n=.95047*Kt(n),r=1.08883*Kt(r),new et(Jt(3.2404542*n-1.5371385*t-.4985314*r),Jt(-.969266*n+1.8760108*t+.041556*r),Jt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function tn(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:$t,reverse:en,interpolate:function(e,t,n){return{l:Wt(e.l,t.l,n),a:Wt(e.a,t.a,n),b:Wt(e.b,t.b,n),alpha:Wt(e.alpha,t.alpha,n)}}},rn={forward:function(e){var t=$t(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*Yt;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*Zt,n=e.c;return en({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:tn(e.h,t.h,n),c:Wt(e.c,t.c,n),l:Wt(e.l,t.l,n),alpha:Wt(e.alpha,t.alpha,n)}}},an=Object.freeze({__proto__:null,lab:nn,hcl:rn}),on=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function sn(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}on.interpolationFactor=function(e,t,r,i){var a=0;if("exponential"===e.name)a=sn(t,e.base,r,i);else if("linear"===e.name)a=sn(t,1,r,i);else if("cubic-bezier"===e.name){var o=e.controlPoints;a=new n(o[0],o[1],o[2],o[3]).solve(sn(t,1,r,i))}return a},on.parse=function(e,t){var n=e[0],r=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var o=r[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:o}}else{if("cubic-bezier"!==r[0])return t.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,Fe)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Ue:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var c=0;c<a.length;c+=2){var f=a[c],p=a[c+1],d=c+3,h=c+4;if("number"!=typeof f)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var v=t.parse(p,h,l);if(!v)return null;l=l||v.type,u.push([f,v])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new on(l,n,r,i,u):t.error("Type "+Ye(l)+" is not interpolatable.")},on.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var a=Vt(t,r),o=on.interpolationFactor(this.interpolation,r,t[a],t[a+1]),s=n[a].evaluate(e),u=n[a+1].evaluate(e);return"interpolate"===this.operator?qt[this.type.kind.toLowerCase()](s,u,o):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(s),rn.forward(u),o)):nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),o))},on.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},on.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},on.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var un=function(e,t){this.type=e,this.args=t};un.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=t.parse(o[a],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,i.push(s)}var u=r&&i.some((function(e){return Ke(r,e.type)}));return new un(u?He:n,i)},un.prototype.evaluate=function(e){for(var t,n=null,r=0,i=0,a=this.args;i<a.length&&(r++,(n=a[i].evaluate(e))&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null===n);i+=1);return n},un.prototype.eachChild=function(e){this.args.forEach(e)},un.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},un.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var ln=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};ln.prototype.evaluate=function(e){return this.result.evaluate(e)},ln.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},ln.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=t.parse(e[r+1],r+1);if(!a)return null;n.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new ln(n,o):null},ln.prototype.outputDefined=function(){return this.result.outputDefined()},ln.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e.push(r[0],r[1].serialize())}return e.push(this.result.serialize()),e};var cn=function(e,t,n){this.type=e,this.index=t,this.input=n};cn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,Fe),r=t.parse(e[2],2,Ze(t.expectedType||He));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new ct("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found "+t+" instead.");return n[t]},cn.prototype.eachChild=function(e){e(this.index),e(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fn=function(e,t){this.type=Be,this.needle=e,this.haystack=t};fn.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);return n&&r?Je(n.type,[Be,ze,Fe,De,He])?new fn(n,r):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(n.type)+" instead"):null},fn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Qe(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ye(st(n))+" instead.");return n.indexOf(t)>=0},fn.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},fn.prototype.outputDefined=function(){return!0},fn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var pn=function(e,t,n){this.type=Fe,this.needle=e,this.haystack=t,this.fromIndex=n};pn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,He);if(!n||!r)return null;if(!Je(n.type,[Be,ze,Fe,De,He]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Ye(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new pn(n,r,i):null}return new pn(n,r)},pn.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Qe(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found "+Ye(st(t))+" instead.");if(!Qe(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found "+Ye(st(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},pn.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var dn=function(e,t,n,r,i,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=a};dn.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var p=f[c];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,st(p)))return null}else n=st(p);if(void 0!==i[String(p)])return l.error("Branch labels must be unique.");i[String(p)]=a.length}var d=t.parse(u,o,r);if(!d)return null;r=r||d.type,a.push(d)}var h=t.parse(e[1],1,He);if(!h)return null;var v=t.parse(e[e.length-1],e.length-1,r);return v?"value"!==h.type.kind&&t.concat(1).checkSubtype(n,h.type)?null:new dn(n,r,h,i,a,v):null},dn.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(st(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},dn.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},dn.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],r={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(f=r[this.cases[o]])?(r[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[f][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=n;u<l.length;u+=1){var c=l[u],f=c[0],p=c[1];t.push(1===p.length?s(p[0]):p.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var hn=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};hn.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,Be);if(!a)return null;var o=t.parse(e[i+1],i+1,n);if(!o)return null;r.push([a,o]),n=n||o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new hn(n,r,s):null},hn.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];if(r[0].evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},hn.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[1];e(r[0]),e(i)}e(this.otherwise)},hn.prototype.outputDefined=function(){return this.branches.every((function(e){return e[1].outputDefined()}))&&this.otherwise.outputDefined()},hn.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var vn=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};function mn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function yn(e,t,n,r){return 0===r.compare(t,n)}function gn(e,t,n){var r="=="!==e&&"!="!==e;return function(){function i(e,t,n){this.type=Be,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],a=t.parse(e[1],1,He);if(!a)return null;if(!mn(n,a.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ye(a.type)+"'.");var o=t.parse(e[2],2,He);if(!o)return null;if(!mn(n,o.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ye(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+Ye(a.type)+"' and '"+Ye(o.type)+"'.");r&&("value"===a.type.kind&&"value"!==o.type.kind?a=new pt(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new pt(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,We)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=st(a),u=st(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ct('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=st(a),c=st(o);if("string"!==l.kind||"string"!==c.kind)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}vn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,He),r=t.parse(e[2],2,Fe);if(!n||!r)return null;if(!Je(n.type,[Ze(He),ze,He]))return t.error("Expected first argument to be of type array or string, but found "+Ye(n.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,Fe);return i?new vn(n.type,n,r,i):null}return new vn(n.type,n,r)},vn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Qe(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found "+Ye(st(t))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},vn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},vn.prototype.outputDefined=function(){return!1},vn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var bn=gn("==",(function(e,t,n){return t===n}),yn),_n=gn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!yn(0,t,n,r)})),xn=gn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),wn=gn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),En=gn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),Sn=gn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0})),kn=function(e,t,n,r,i){this.type=ze,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};kn.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,Fe);if(!n)return null;var r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=t.parse(r.locale,1,ze)))return null;var a=null;if(r.currency&&!(a=t.parse(r.currency,1,ze)))return null;var o=null;if(r["min-fraction-digits"]&&!(o=t.parse(r["min-fraction-digits"],1,Fe)))return null;var s=null;return r["max-fraction-digits"]&&!(s=t.parse(r["max-fraction-digits"],1,Fe))?null:new kn(n,i,a,o,s)},kn.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},kn.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},kn.prototype.outputDefined=function(){return!1},kn.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var On=function(e){this.type=Fe,this.input=e};On.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ye(n.type)+" instead."):new On(n):null},On.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found "+Ye(st(t))+" instead.")},On.prototype.eachChild=function(e){e(this.input)},On.prototype.outputDefined=function(){return!1},On.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Tn={"==":bn,"!=":_n,">":wn,"<":xn,">=":Sn,"<=":En,array:pt,at:cn,boolean:pt,case:hn,coalesce:un,collator:_t,format:dt,image:ht,in:fn,"index-of":pn,interpolate:on,"interpolate-hcl":on,"interpolate-lab":on,length:On,let:ln,literal:lt,match:dn,number:pt,"number-format":kn,object:pt,slice:vn,step:Ht,string:pt,"to-boolean":mt,"to-color":mt,"to-number":mt,"to-string":mt,var:Bt,within:Nt};function Cn(e,t){var n=t[0],r=t[1],i=t[2],a=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=at(n,r,i,o);if(s)throw new ct(s);return new et(n/255*o,r/255*o,i/255*o,o)}function An(e,t){return e in t}function Mn(e,t){var n=t[e];return void 0===n?null:n}function Pn(e){return{type:e}}function In(e){return{result:"success",value:e}}function Rn(e){return{result:"error",value:e}}function jn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Ln(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Nn(e){return!!e.expression&&e.expression.interpolated}function Dn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Fn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function zn(e){return e}function Bn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Un(e,t,n,r,i){return Bn(typeof n===i?r[n]:void 0,e["default"],t["default"])}function Vn(e,t,n){if("number"!==Dn(n))return Bn(e["default"],t["default"]);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=Vt(e.stops.map((function(e){return e[0]})),n);return e.stops[i][1]}function Hn(e,t,n){var r=void 0!==e.base?e.base:1;if("number"!==Dn(n))return Bn(e["default"],t["default"]);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=Vt(e.stops.map((function(e){return e[0]})),n),o=function(e,t,n,r){var i=r-n,a=e-n;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],u=e.stops[a+1][1],l=qt[t.type]||zn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=an[e.colorSpace];l=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),o))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=u.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return l(n,r,o)}}:l(s,u,o)}function Wn(e,t,n){return"color"===t.type?n=et.parse(n):"formatted"===t.type?n=rt.fromString(n.toString()):"resolvedImage"===t.type?n=it.fromString(n.toString()):Dn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Bn(n,e["default"],t["default"])}bt.register(Tn,{error:[{kind:"error"},[ze],function(e,t){throw new ct(t[0].evaluate(e))}],typeof:[ze,[He],function(e,t){return Ye(st(t[0].evaluate(e)))}],"to-rgba":[Ze(Fe,4),[Ue],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Ue,[Fe,Fe,Fe],Cn],rgba:[Ue,[Fe,Fe,Fe,Fe],Cn],has:{type:Be,overloads:[[[ze],function(e,t){return An(t[0].evaluate(e),e.properties())}],[[ze,Ve],function(e,t){var n=t[1];return An(t[0].evaluate(e),n.evaluate(e))}]]},get:{type:He,overloads:[[[ze],function(e,t){return Mn(t[0].evaluate(e),e.properties())}],[[ze,Ve],function(e,t){var n=t[1];return Mn(t[0].evaluate(e),n.evaluate(e))}]]},"feature-state":[He,[ze],function(e,t){return Mn(t[0].evaluate(e),e.featureState||{})}],properties:[Ve,[],function(e){return e.properties()}],"geometry-type":[ze,[],function(e){return e.geometryType()}],id:[He,[],function(e){return e.id()}],zoom:[Fe,[],function(e){return e.globals.zoom}],"heatmap-density":[Fe,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Fe,[],function(e){return e.globals.lineProgress||0}],accumulated:[He,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Fe,Pn(Fe),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[Fe,Pn(Fe),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:Fe,overloads:[[[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)-n.evaluate(e)}],[[Fe],function(e,t){return-t[0].evaluate(e)}]]},"/":[Fe,[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)/n.evaluate(e)}],"%":[Fe,[Fe,Fe],function(e,t){var n=t[1];return t[0].evaluate(e)%n.evaluate(e)}],ln2:[Fe,[],function(){return Math.LN2}],pi:[Fe,[],function(){return Math.PI}],e:[Fe,[],function(){return Math.E}],"^":[Fe,[Fe,Fe],function(e,t){var n=t[1];return Math.pow(t[0].evaluate(e),n.evaluate(e))}],sqrt:[Fe,[Fe],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[Fe,[Fe],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[Fe,[Fe],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[Fe,[Fe],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[Fe,[Fe],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[Fe,[Fe],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[Fe,[Fe],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[Fe,[Fe],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[Fe,Pn(Fe),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[Fe,Pn(Fe),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[Fe,[Fe],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[Fe,[Fe],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Fe,[Fe],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[Fe,[Fe],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[Be,[ze,He],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[Be,[He],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Be,[ze],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Be,[ze,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<a}],"filter-id-<":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Be,[ze,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>a}],"filter-id->":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Be,[ze,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Be,[ze,He],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[Be,[He],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Be,[He],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Be,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[Be,[Ze(ze)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Be,[Ze(He)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Be,[ze,Ze(He)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Be,[ze,Ze(He)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)&&n.evaluate(e)}],[Pn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:Be,overloads:[[[Be,Be],function(e,t){var n=t[1];return t[0].evaluate(e)||n.evaluate(e)}],[Pn(Be),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[Be,[Be],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Be,[ze],function(e,t){var n=e.globals&&e.globals.isSupportedScript;return!n||n(t[0].evaluate(e))}],upcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[ze,[ze],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[ze,Pn(He),function(e,t){return t.map((function(t){return ut(t.evaluate(e))})).join("")}],"resolved-locale":[ze,[We],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var qn=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new gt,this._defaultValue=t?function(e){return"color"===e.type&&Fn(e["default"])?new et(0,0,0,0):"color"===e.type?et.parse(e["default"])||null:void 0===e["default"]?null:e["default"]}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null};function Gn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Tn}function Zn(e,t){var n=new Ut(Tn,[],t?function(e){var t={color:Ue,string:ze,number:Fe,enum:ze,boolean:Be,formatted:qe,resolvedImage:Ge};return"array"===e.type?Ze(t[e.value]||He,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?In(new qn(r,t)):Rn(n.errors)}qn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},qn.prototype.evaluate=function(e,t,n,r,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||"number"==typeof o&&o!=o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new ct("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(o)+" instead.");return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var Yn=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ft(t.expression)};Yn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},Yn.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)};var Xn=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ft(t.expression),this.interpolationType=r};function Kn(e,t){if("error"===(e=Zn(e,t)).result)return e;var n=e.value.expression,r=Dt(n);if(!r&&!jn(t))return Rn([new Le("","data expressions not supported")]);var i=zt(n,["zoom"]);if(!i&&!Ln(t))return Rn([new Le("","zoom expressions not supported")]);var a=function e(t){var n=null;if(t instanceof ln)n=e(t.result);else if(t instanceof un)for(var r=0,i=t.args;r<i.length&&!(n=e(i[r]));r+=1);else(t instanceof Ht||t instanceof on)&&t.input instanceof bt&&"zoom"===t.input.name&&(n=t);return n instanceof Le||t.eachChild((function(t){var r=e(t);r instanceof Le?n=r:!n&&r?n=new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Le("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return a||i?a instanceof Le?Rn([a]):a instanceof on&&!Nn(t)?Rn([new Le("",'"interpolate" expressions cannot be used with this property')]):In(a?new Xn(r?"camera":"composite",e.value,a.labels,a instanceof on?a.interpolation:void 0):new Yn(r?"constant":"source",e.value)):Rn([new Le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xn.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},Xn.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)},Xn.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?on.interpolationFactor(this.interpolationType,e,t,n):0};var Jn=function(e,t){this._parameters=e,this._specification=t,Ie(this,function e(t,n){var r,i,a,o="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],u=s||!(s||void 0!==t.property),l=t.type||(Nn(n)?"exponential":"interval");if(o&&((t=Ie({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],et.parse(e[1])]}))),t["default"]=et.parse(t["default"]?t["default"]:n["default"])),t.colorSpace&&"rgb"!==t.colorSpace&&!an[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)r=Hn;else if("interval"===l)r=Vn;else if("categorical"===l){r=Un,i=Object.create(null);for(var c=0,f=t.stops;c<f.length;c+=1){var p=f[c];i[p[0]]=p[1]}a=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');r=Wn}if(s){for(var d={},h=[],v=0;v<t.stops.length;v++){var m=t.stops[v],y=m[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:t.type,property:t.property,default:t["default"],stops:[]},h.push(y)),d[y].stops.push([m[0].value,m[1]])}for(var g=[],b=0,_=h;b<_.length;b+=1){var x=_[b];g.push([d[x].zoom,e(d[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:on.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(e,r){var i=e.zoom;return Hn({stops:g,base:t.base},n,i).evaluate(i,r)}}}if(u){var E="exponential"===l?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:on.interpolationFactor.bind(void 0,E),zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){return r(t,n,e.zoom,i,a)}}}return{kind:"source",evaluate:function(e,o){var s=o&&o.properties?o.properties[t.property]:void 0;return void 0===s?Bn(t["default"],n["default"]):r(t,n,s,i,a)}}}(this._parameters,this._specification))};function Qn(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],u=Dn(n);if("object"!==u)return[new Me(t,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],p=void 0;if(i[c])p=i[c];else if(r[c])p=Er;else if(i["*"])p=i["*"];else{if(!r["*"]){s.push(new Me(t,n[l],'unknown property "'+l+'"'));continue}p=Er}s=s.concat(p({key:(t?t+".":t)+l,value:n[l],valueSpec:f,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var d in r)i[d]||r[d].required&&void 0===r[d]["default"]&&void 0===n[d]&&s.push(new Me(t,n,'missing required property "'+d+'"'));return s}function $n(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||Er;if("array"!==Dn(t))return[new Me(a,t,"array expected, "+Dn(t)+" found")];if(n.length&&t.length!==n.length)return[new Me(a,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Me(a,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s["function"]=n["function"]),"object"===Dn(n.value)&&(s=n.value);for(var u=[],l=0;l<t.length;l++)u=u.concat(o({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:a+"["+l+"]"}));return u}function er(e){var t=e.key,n=e.value,r=e.valueSpec,i=Dn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Me(t,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Me(t,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Me(t,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(e){var t,n,r,i=e.valueSpec,a=Re(e.value.type),o={},s="categorical"!==a&&void 0===e.value.property,u=!s,l="array"===Dn(e.value.stops)&&"array"===Dn(e.value.stops[0])&&"object"===Dn(e.value.stops[0][0]),c=Qn({key:e.key,value:e.value,valueSpec:e.styleSpec["function"],style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===a)return[new Me(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===Dn(n)&&0===n.length&&t.push(new Me(e.key,n,"array must have at least one stop")),t},default:function(e){return Er({key:e.key,value:e.value,valueSpec:i,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===a&&s&&c.push(new Me(e.key,e.value,'missing required property "property"')),"identity"===a||e.value.stops||c.push(new Me(e.key,e.value,'missing required property "stops"')),"exponential"===a&&e.valueSpec.expression&&!Nn(e.valueSpec)&&c.push(new Me(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(u&&!jn(e.valueSpec)?c.push(new Me(e.key,e.value,"property functions not supported")):s&&!Ln(e.valueSpec)&&c.push(new Me(e.key,e.value,"zoom functions not supported"))),"categorical"!==a&&!l||void 0!==e.value.property||c.push(new Me(e.key,e.value,'"property" property is required')),c;function f(e){var t=[],a=e.value,s=e.key;if("array"!==Dn(a))return[new Me(s,a,"array expected, "+Dn(a)+" found")];if(2!==a.length)return[new Me(s,a,"array length 2 expected, length "+a.length+" found")];if(l){if("object"!==Dn(a[0]))return[new Me(s,a,"object expected, "+Dn(a[0])+" found")];if(void 0===a[0].zoom)return[new Me(s,a,"object stop key must have zoom")];if(void 0===a[0].value)return[new Me(s,a,"object stop key must have value")];if(r&&r>Re(a[0].zoom))return[new Me(s,a[0].zoom,"stop zoom values must appear in ascending order")];Re(a[0].zoom)!==r&&(r=Re(a[0].zoom),n=void 0,o={}),t=t.concat(Qn({key:s+"[0]",value:a[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:er,value:p}}))}else t=t.concat(p({key:s+"[0]",value:a[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},a));return Gn(je(a[1]))?t.concat([new Me(s+"[1]",a[1],"expressions are not allowed in function stops.")]):t.concat(Er({key:s+"[1]",value:a[1],valueSpec:i,style:e.style,styleSpec:e.styleSpec}))}function p(e,r){var s=Dn(e.value),u=Re(e.value),l=null!==e.value?e.value:r;if(t){if(s!==t)return[new Me(e.key,l,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Me(e.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==a){var c="number expected, "+s+" found";return jn(i)&&void 0===a&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Me(e.key,l,c)]}return"categorical"!==a||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==a&&"number"===s&&void 0!==n&&u<n?[new Me(e.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===a&&u in o?[new Me(e.key,l,"stop domain values must be unique")]:(o[u]=!0,[])):[new Me(e.key,l,"integer expected, found "+u)]}}function nr(e){var t=("property"===e.expressionContext?Kn:Zn)(je(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Me(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Me(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Ft(n))return[new Me(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Ft(n))return[new Me(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!zt(n,["zoom","feature-state"]))return[new Me(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!Dt(n))return[new Me(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function rr(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Re(n))&&i.push(new Me(t,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Re(n))&&i.push(new Me(t,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function ir(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ir(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Jn.deserialize=function(e){return new Jn(e._parameters,e._specification)},Jn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var ar={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function or(e){if(null==e)return{filter:function(){return!0},needGeometry:!1};ir(e)||(e=ur(e));var t=Zn(e,ar);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var n=1;n<t.length;n++)if(e(t[n]))return!0;return!1}(e)}}function sr(e,t){return e<t?-1:e>t?1:0}function ur(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?lr(e[1],e[2],"=="):"!="===n?pr(lr(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?lr(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(ur))):"all"===n?["all"].concat(e.slice(1).map(ur)):"none"===n?["all"].concat(e.slice(1).map(ur).map(pr)):"in"===n?cr(e[1],e.slice(2)):"!in"===n?pr(cr(e[1],e.slice(2))):"has"===n?fr(e[1]):"!has"===n?pr(fr(e[1])):"within"!==n||e}function lr(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function cr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(sr)]]:["filter-in-small",e,["literal",t]]}}function fr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function pr(e){return["!",e]}function dr(e){return ir(je(e.value))?nr(Ie({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,r=t.key;if("array"!==Dn(n))return[new Me(r,n,"array expected, "+Dn(n)+" found")];var i,a=t.styleSpec,o=[];if(n.length<1)return[new Me(r,n,"filter array must have at least 1 element")];switch(o=o.concat(rr({key:r+"[0]",value:n[0],valueSpec:a.filter_operator,style:t.style,styleSpec:t.styleSpec})),Re(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Re(n[1])&&o.push(new Me(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&o.push(new Me(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Dn(n[1]))&&o.push(new Me(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Dn(n[s]),"$type"===Re(n[1])?o=o.concat(rr({key:r+"["+s+"]",value:n[s],valueSpec:a.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new Me(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)o=o.concat(e({key:r+"["+u+"]",value:n[u],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=Dn(n[1]),2!==n.length?o.push(new Me(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&o.push(new Me(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Dn(n[1]),2!==n.length?o.push(new Me(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&o.push(new Me(r+"[1]",n[1],"object expected, "+i+" found"))}return o}(e)}function hr(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+"_"+e.layerType];if(!s)return[];var u=o.match(/^(.*)-transition$/);if("paint"===t&&u&&s[u[1]]&&s[u[1]].transition)return Er({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var l,c=e.valueSpec||s[o];if(!c)return[new Me(n,a,'unknown property "'+o+'"')];if("string"===Dn(a)&&jn(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(a)))return[new Me(n,a,'"'+o+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&f.push(new Me(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&Fn(je(a))&&"identity"===Re(a.type)&&f.push(new Me(n,a,'"text-font" does not support identity functions'))),f.concat(Er({key:e.key,value:a,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:o}))}function vr(e){return hr(e,"paint")}function mr(e){return hr(e,"layout")}function yr(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;n.type||n.ref||t.push(new Me(r,n,'either "type" or "ref" is required'));var o,s=Re(n.type),u=Re(n.ref);if(n.id)for(var l=Re(n.id),c=0;c<e.arrayIndex;c++){var f=i.layers[c];Re(f.id)===l&&t.push(new Me(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Me(r,n[e],'"'+e+'" is prohibited for ref layers'))})),i.layers.forEach((function(e){Re(e.id)===u&&(o=e)})),o?o.ref?t.push(new Me(r,n.ref,"ref cannot reference another ref layer")):s=Re(o.type):t.push(new Me(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=i.sources&&i.sources[n.source],d=p&&Re(p.type);p?"vector"===d&&"raster"===s?t.push(new Me(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===d&&"raster"!==s?t.push(new Me(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==d||n["source-layer"]?"raster-dem"===d&&"hillshade"!==s?t.push(new Me(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===d&&p.lineMetrics||t.push(new Me(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Me(r,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Me(r,n.source,'source "'+n.source+'" not found'))}else t.push(new Me(r,n,'missing required property "source"'));return t=t.concat(Qn({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Er({key:r+".type",value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:dr,layout:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return mr(Ie({layerType:s},e))}}})},paint:function(e){return Qn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return vr(Ie({layerType:s},e))}}})}}}))}function gr(e){var t=e.value,n=e.key,r=Dn(t);return"string"!==r?[new Me(n,t,"string expected, "+r+" found")]:[]}var br={promoteId:function(e){var t=e.key,n=e.value;if("string"===Dn(n))return gr({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,gr({key:t+"."+i,value:n[i]}));return r}};function _r(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new Me(n,t,'"type" is required')];var a,o=Re(t.type);switch(o){case"vector":case"raster":case"raster-dem":return Qn({key:n,value:t,valueSpec:r["source_"+o.replace("-","_")],style:e.style,styleSpec:r,objectElementValidators:br});case"geojson":if(a=Qn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:br}),t.cluster)for(var s in t.clusterProperties){var u=t.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;a.push.apply(a,nr({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),a.push.apply(a,nr({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return a;case"video":return Qn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Qn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Me(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rr({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Dn(t);if(void 0===t)return a;if("object"!==o)return a.concat([new Me("light",t,"object expected, "+o+" found")]);for(var s in t){var u=s.match(/^(.*)-transition$/);a=a.concat(u&&r[u[1]]&&r[u[1]].transition?Er({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n}):r[s]?Er({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Me(s,t[s],'unknown property "'+s+'"')])}return a}var wr={"*":function(){return[]},array:$n,boolean:function(e){var t=e.value,n=e.key,r=Dn(t);return"boolean"!==r?[new Me(n,t,"boolean expected, "+r+" found")]:[]},number:er,color:function(e){var t=e.key,n=e.value,r=Dn(n);return"string"!==r?[new Me(t,n,"color expected, "+r+" found")]:null===$e(n)?[new Me(t,n,'color expected, "'+n+'" found')]:[]},constants:Pe,enum:rr,filter:dr,function:tr,layer:yr,object:Qn,source:_r,light:xr,string:gr,formatted:function(e){return 0===gr(e).length?[]:nr(e)},resolvedImage:function(e){return 0===gr(e).length?[]:nr(e)}};function Er(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Fn(Re(t))?tr(e):n.expression&&Gn(je(t))?nr(e):n.type&&wr[n.type]?wr[n.type](e):Qn(Ie({},e,{valueSpec:n.type?r[n.type]:n}))}function Sr(e){var t=e.value,n=e.key,r=gr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Me(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Me(n,t,'"glyphs" url must include a "{range}" token'))),r}function kr(e,t){void 0===t&&(t=Ae);var n=[];return n=n.concat(Er({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Sr,"*":function(){return[]}}})),e.constants&&(n=n.concat(Pe({key:"constants",value:e.constants,style:e,styleSpec:t}))),Or(n)}function Or(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Tr(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Or(e.apply(this,t))}}kr.source=Tr(_r),kr.light=Tr(xr),kr.layer=Tr(yr),kr.filter=Tr(dr),kr.paintProperty=Tr(vr),kr.layoutProperty=Tr(mr);var Cr=kr,Ar=Cr.light,Mr=Cr.paintProperty,Pr=Cr.layoutProperty;function Ir(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1)e.fire(new Te(new Error(i[r].message))),n=!0;return n}var Rr=jr;function jr(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(var a=0;a<this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];r.push(o===s?null:i.subarray(o,s))}var u=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var l=0;l<this.d*this.d;l++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var c=n/t*e;this.min=-c,this.max=e+c}jr.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},jr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},jr.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},jr.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},jr.prototype._queryCell=function(e,t,n,r,i,a,o,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,f=0;f<u.length;f++){var p=u[f];if(void 0===o[p]){var d=4*p;(s?s(c[d+0],c[d+1],c[d+2],c[d+3]):e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1])?(o[p]=!0,a.push(l[p])):o[p]=!1}}},jr.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var u=this._convertToCellCoord(e),l=this._convertToCellCoord(t),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),p=u;p<=c;p++)for(var d=l;d<=f;d++){var h=this.d*d+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(d),this._convertFromCellCoord(p+1),this._convertFromCellCoord(d+1)))&&i.call(this,e,t,n,r,h,a,o,s))return}},jr.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},jr.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},jr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+e.length]=a,i.set(this.keys,a),i[3+e.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Lr=o.ImageData,Nr=o.ImageBitmap,Dr={};function Fr(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Dr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var zr in Fr("Object",Object),Rr.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Rr.deserialize=function(e){return new Rr(e.buffer)},Fr("Grid",Rr),Fr("Color",et),Fr("Error",Error),Fr("ResolvedImage",it),Fr("StylePropertyFunction",Jn),Fr("StyleExpression",qn,{omit:["_evaluator"]}),Fr("ZoomDependentExpression",Xn),Fr("ZoomConstantExpression",Yn),Fr("CompoundExpression",bt,{omit:["_evaluate"]}),Tn)Tn[zr]._classRegistryKey||Fr("Expression_"+zr,Tn[zr]);function Br(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Ur(e){return Nr&&e instanceof Nr}function Vr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Br(e)||Ur(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Lr)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,a=e;i<a.length;i+=1)r.push(Vr(a[i],t));return r}if("object"==typeof e){var o=e.constructor,s=o._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=o.serialize?o.serialize(e,t):{};if(!o.serialize){for(var l in e)if(e.hasOwnProperty(l)&&!(Dr[s].omit.indexOf(l)>=0)){var c=e[l];u[l]=Dr[s].shallow.indexOf(l)>=0?c:Vr(c,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof e)}function Hr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Br(e)||Ur(e)||ArrayBuffer.isView(e)||e instanceof Lr)return e;if(Array.isArray(e))return e.map(Hr);if("object"==typeof e){var t=e.$name||"Object",n=Dr[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if("$name"!==o){var s=e[o];r[o]=Dr[t].shallow.indexOf(o)>=0?s:Hr(s)}}return r}throw new Error("can't deserialize object of type "+typeof e)}var Wr=function(){this.first=!0};Wr.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var qr={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function Gr(e){for(var t=0,n=e;t<n.length;t+=1)if(Zr(n[t].charCodeAt(0)))return!0;return!1}function Zr(e){return!(746!==e&&747!==e&&(e<4352||!(qr["Bopomofo Extended"](e)||qr.Bopomofo(e)||qr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||qr["CJK Compatibility Ideographs"](e)||qr["CJK Compatibility"](e)||qr["CJK Radicals Supplement"](e)||qr["CJK Strokes"](e)||!(!qr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||qr["CJK Unified Ideographs Extension A"](e)||qr["CJK Unified Ideographs"](e)||qr["Enclosed CJK Letters and Months"](e)||qr["Hangul Compatibility Jamo"](e)||qr["Hangul Jamo Extended-A"](e)||qr["Hangul Jamo Extended-B"](e)||qr["Hangul Jamo"](e)||qr["Hangul Syllables"](e)||qr.Hiragana(e)||qr["Ideographic Description Characters"](e)||qr.Kanbun(e)||qr["Kangxi Radicals"](e)||qr["Katakana Phonetic Extensions"](e)||qr.Katakana(e)&&12540!==e||!(!qr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!qr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||qr["Unified Canadian Aboriginal Syllabics"](e)||qr["Unified Canadian Aboriginal Syllabics Extended"](e)||qr["Vertical Forms"](e)||qr["Yijing Hexagram Symbols"](e)||qr["Yi Syllables"](e)||qr["Yi Radicals"](e))))}function Yr(e){return!(Zr(e)||function(e){return!!(qr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||qr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||qr["Letterlike Symbols"](e)||qr["Number Forms"](e)||qr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||qr["Control Pictures"](e)&&9251!==e||qr["Optical Character Recognition"](e)||qr["Enclosed Alphanumerics"](e)||qr["Geometric Shapes"](e)||qr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||qr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||qr["CJK Symbols and Punctuation"](e)||qr.Katakana(e)||qr["Private Use Area"](e)||qr["CJK Compatibility Forms"](e)||qr["Small Form Variants"](e)||qr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Xr(e){return e>=1424&&e<=2303||qr["Arabic Presentation Forms-A"](e)||qr["Arabic Presentation Forms-B"](e)}function Kr(e,t){return!(!t&&Xr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||qr.Khmer(e))}function Jr(e){for(var t=0,n=e;t<n.length;t+=1)if(Xr(n[t].charCodeAt(0)))return!0;return!1}var Qr=null,$r="unavailable",ei=null,ti=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&($r="error"),Qr&&Qr(e)};function ni(){ri.fire(new Oe("pluginStateChange",{pluginStatus:$r,pluginURL:ei}))}var ri=new Ce,ii=function(){return $r},ai=function(){if("deferred"!==$r||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");$r="loading",ni(),ei&&_e({url:ei},(function(e){e?ti(e):($r="loaded",ni())}))},oi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===$r||null!=oi.applyArabicShaping},isLoading:function(){return"loading"===$r},setState:function(e){$r=e.pluginStatus,ei=e.pluginURL},isParsed:function(){return null!=oi.applyArabicShaping&&null!=oi.processBidirectionalText&&null!=oi.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Wr,this.transition={})};si.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,r=e;n<r.length;n+=1)if(!Kr(r[n].charCodeAt(0),t))return!1;return!0}(e,oi.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var ui=function(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Fn(e))return new Jn(e,t);if(Gn(e)){var n=Kn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var r=e;return"string"==typeof e&&"color"===t.type&&(r=et.parse(e)),{kind:"constant",evaluate:function(){return r}}}(void 0===t?e.specification["default"]:t,e.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var li=function(e){this.property=e,this.value=new ui(e,void 0)};li.prototype.transitioned=function(e,t){return new fi(this.property,this.value,t,p({},e.transition,this.transition),e.now)},li.prototype.untransitioned=function(){return new fi(this.property,this.value,null,{},0)};var ci=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};ci.prototype.getValue=function(e){return x(this._values[e].value.value)},ci.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].value=new ui(this._values[e].property,null===t?void 0:x(t))},ci.prototype.getTransition=function(e){return x(this._values[e].transition)},ci.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new li(this._values[e].property)),this._values[e].transition=x(t)||void 0},ci.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i);var a=this.getTransition(r);void 0!==a&&(e[r+"-transition"]=a)}return e},ci.prototype.transitioned=function(e,t){for(var n=new pi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n},ci.prototype.untransitioned=function(){for(var e=new pi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var fi=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};fi.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(o))}return i};var pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};pi.prototype.possiblyEvaluate=function(e,t,n){for(var r=new vi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r},pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1)if(this._values[t[e]].prior)return!0;return!1};var di=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};di.prototype.getValue=function(e){return x(this._values[e].value)},di.prototype.setValue=function(e,t){this._values[e]=new ui(this._values[e].property,null===t?void 0:x(t))},di.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},di.prototype.possiblyEvaluate=function(e,t,n){for(var r=new vi(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r};var hi=function(e,t,n){this.property=e,this.value=t,this.parameters=n};hi.prototype.isConstant=function(){return"constant"===this.value.kind},hi.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},hi.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var vi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};vi.prototype.get=function(e){return this._values[e]};var mi=function(e){this.specification=e};mi.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},mi.prototype.interpolate=function(e,t,n){var r=qt[this.specification.type];return r?r(e,t,n):e};var yi=function(e,t){this.specification=e,this.overrides=t};yi.prototype.possiblyEvaluate=function(e,t,n,r){return new hi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)},yi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new hi(this,{kind:"constant",value:void 0},e.parameters);var r=qt[this.specification.type];return r?new hi(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e},yi.prototype.evaluate=function(e,t,n,r,i,a){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,a)};var gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0===e.value)return new hi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r),a="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,o=this._calculate(a,a,a,t);return new hi(this,{kind:"constant",value:o},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new hi(this,{kind:"constant",value:s},t)}return new hi(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,a){if("source"===e.kind){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(yi),bi=function(e){this.specification=e};bi.prototype.possiblyEvaluate=function(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new si(Math.floor(t.zoom-1),t)),e.expression.evaluate(new si(Math.floor(t.zoom),t)),e.expression.evaluate(new si(Math.floor(t.zoom+1),t)),t)}},bi.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},bi.prototype.interpolate=function(e){return e};var _i=function(e){this.specification=e};_i.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},_i.prototype.interpolate=function(){return!1};var xi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new li(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Fr("DataDrivenProperty",yi),Fr("DataConstantProperty",mi),Fr("CrossFadedDataDrivenProperty",gi),Fr("CrossFadedProperty",bi),Fr("ColorRampProperty",_i);var wi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new di(n.layout)),n.paint)){for(var r in this._transitionablePaint=new ci(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new vi(n.paint)}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){void 0===n&&(n={}),null!=t&&this._validate(Pr,"layers."+this.id+".layout."+e,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)},t.prototype.getPaintProperty=function(e){return g(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t&&this._validate(Mr,"layers."+this.id+".paint."+e,e,t,n))return!1;if(g(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var r=this._transitionablePaint._values[e],i="cross-faded-data-driven"===r.property.specification["property-type"],a=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(e,o,s)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),_(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Ir(this,e.call(Cr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Ae,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof hi&&jn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(Ce),Ei={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Si=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ki=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Oi(e,t){void 0===t&&(t=1);var n=0,r=0;return{members:e.map((function(e){var i=Ei[e.type].BYTES_PER_ELEMENT,a=n=Ti(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}})),size:Ti(n,Math.max(r,t)),alignment:t}}function Ti(e,t){return Math.ceil(e/t)*t}ki.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},ki.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},ki.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ki.prototype.clear=function(){this.length=0},ki.prototype.resize=function(e){this.reserve(e),this.length=e},ki.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},ki.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ci=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(ki);Ci.prototype.bytesPerElement=4,Fr("StructArrayLayout2i4",Ci);var Ai=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e},t}(ki);Ai.prototype.bytesPerElement=8,Fr("StructArrayLayout4i8",Ai);var Mi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(ki);Mi.prototype.bytesPerElement=12,Fr("StructArrayLayout2i4i12",Mi);var Pi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=4*e,u=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[u+4]=r,this.uint8[u+5]=i,this.uint8[u+6]=a,this.uint8[u+7]=o,e},t}(ki);Pi.prototype.bytesPerElement=8,Fr("StructArrayLayout2i4ub8",Pi);var Ii=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(ki);Ii.prototype.bytesPerElement=8,Fr("StructArrayLayout2f8",Ii);var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,a,o,s,u,l)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,c){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=n,this.uint16[f+2]=r,this.uint16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=u,this.uint16[f+8]=l,this.uint16[f+9]=c,e},t}(ki);Ri.prototype.bytesPerElement=20,Fr("StructArrayLayout10ui20",Ri);var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,c,f){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,r,i,a,o,s,u,l,c,f)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,c,f,p){var d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=u,this.int16[d+8]=l,this.int16[d+9]=c,this.int16[d+10]=f,this.int16[d+11]=p,e},t}(ki);ji.prototype.bytesPerElement=24,Fr("StructArrayLayout4i4ui4i24",ji);var Li=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(ki);Li.prototype.bytesPerElement=12,Fr("StructArrayLayout3f12",Li);var Ni=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint32[1*e+0]=t,e},t}(ki);Ni.prototype.bytesPerElement=4,Fr("StructArrayLayout1ul4",Ni);var Di=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s,u)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l){var c=10*e,f=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=a,this.int16[c+5]=o,this.uint32[f+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,e},t}(ki);Di.prototype.bytesPerElement=20,Fr("StructArrayLayout6i1ul2ui20",Di);var Fi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(ki);Fi.prototype.bytesPerElement=12,Fr("StructArrayLayout2i2i2i12",Fi);var zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,a){var o=4*e,s=8*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e},t}(ki);zi.prototype.bytesPerElement=16,Fr("StructArrayLayout2f1f2i16",zi);var Bi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=12*e,o=3*e;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e},t}(ki);Bi.prototype.bytesPerElement=12,Fr("StructArrayLayout2ub2f12",Bi);var Ui=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(ki);Ui.prototype.bytesPerElement=6,Fr("StructArrayLayout3ui6",Ui);var Vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m){var y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m,y){var g=24*e,b=12*e,_=48*e;return this.int16[g+0]=t,this.int16[g+1]=n,this.uint16[g+2]=r,this.uint16[g+3]=i,this.uint32[b+2]=a,this.uint32[b+3]=o,this.uint32[b+4]=s,this.uint16[g+10]=u,this.uint16[g+11]=l,this.uint16[g+12]=c,this.float32[b+7]=f,this.float32[b+8]=p,this.uint8[_+36]=d,this.uint8[_+37]=h,this.uint8[_+38]=v,this.uint32[b+10]=m,this.int16[g+22]=y,e},t}(ki);Vi.prototype.bytesPerElement=48,Fr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vi);var Hi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m,y,g,b,_,x,w,E,S,k,O,T){var C=this.length;return this.resize(C+1),this.emplace(C,e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m,y,g,b,_,x,w,E,S,k,O,T)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m,y,g,b,_,x,w,E,S,k,O,T,C){var A=34*e,M=17*e;return this.int16[A+0]=t,this.int16[A+1]=n,this.int16[A+2]=r,this.int16[A+3]=i,this.int16[A+4]=a,this.int16[A+5]=o,this.int16[A+6]=s,this.int16[A+7]=u,this.uint16[A+8]=l,this.uint16[A+9]=c,this.uint16[A+10]=f,this.uint16[A+11]=p,this.uint16[A+12]=d,this.uint16[A+13]=h,this.uint16[A+14]=v,this.uint16[A+15]=m,this.uint16[A+16]=y,this.uint16[A+17]=g,this.uint16[A+18]=b,this.uint16[A+19]=_,this.uint16[A+20]=x,this.uint16[A+21]=w,this.uint16[A+22]=E,this.uint32[M+12]=S,this.float32[M+13]=k,this.float32[M+14]=O,this.float32[M+15]=T,this.float32[M+16]=C,e},t}(ki);Hi.prototype.bytesPerElement=68,Fr("StructArrayLayout8i15ui1ul4f68",Hi);var Wi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.float32[1*e+0]=t,e},t}(ki);Wi.prototype.bytesPerElement=4,Fr("StructArrayLayout1f4",Wi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(ki);qi.prototype.bytesPerElement=6,Fr("StructArrayLayout3i6",qi);var Gi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e},t}(ki);Gi.prototype.bytesPerElement=8,Fr("StructArrayLayout1ul2ui8",Gi);var Zi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(ki);Zi.prototype.bytesPerElement=4,Fr("StructArrayLayout2ui4",Zi);var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){return this.uint16[1*e+0]=t,e},t}(ki);Yi.prototype.bytesPerElement=2,Fr("StructArrayLayout1ui2",Yi);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=4*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e},t}(ki);Xi.prototype.bytesPerElement=16,Fr("StructArrayLayout4f16",Xi);var Ki=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Si);Ki.prototype.size=20;var Ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Ki(this,e)},t}(Di);Fr("CollisionBoxArray",Ji);var Qi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Si);Qi.prototype.size=48;var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new Qi(this,e)},t}(Vi);Fr("PlacedSymbolArray",$i);var ea=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Si);ea.prototype.size=68;var ta=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new ea(this,e)},t}(Hi);Fr("SymbolInstanceArray",ta);var na=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t}(Wi);Fr("GlyphOffsetArray",na);var ra=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t}(qi);Fr("SymbolLineVertexArray",ra);var ia=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Si);ia.prototype.size=8;var aa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.get=function(e){return new ia(this,e)},t}(Gi);Fr("FeatureIndexArray",aa);var oa=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,sa=function(e){void 0===e&&(e=[]),this.segments=e};function ua(e,t){return 256*(e=c(Math.floor(e),0,255))+c(Math.floor(t),0,255)}sa.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>sa.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+sa.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!i||i.vertexLength+e>sa.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},sa.prototype.get=function(){return this.segments},sa.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},sa.simpleSegment=function(e,t,n,r){return new sa([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},sa.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fr("SegmentVector",sa);var la=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ca=t((function(e){e.exports=function(e,t){var n,r,i,a,o,s,u,l;for(r=e.length-(n=3&e.length),i=t,o=3432918353,s=461845907,l=0;l<r;)u=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(l+2))<<16;case 2:u^=(255&e.charCodeAt(l+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(l)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),fa=t((function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),pa=ca,da=fa;pa.murmur3=ca,pa.murmur2=da;var ha=function(){this.ids=[],this.positions=[],this.indexed=!1};ha.prototype.add=function(e,t,n,r){this.ids.push(ma(e)),this.positions.push(t,n,r)},ha.prototype.getPositions=function(e){for(var t=ma(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;)a.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return a},ha.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return function e(t,n,r,i){for(;r<i;){for(var a=t[r+i>>1],o=r-1,s=i+1;;){do{o++}while(t[o]<a);do{s--}while(t[s]>a);if(o>=s)break;ya(t,o,s),ya(n,3*o,3*s),ya(n,3*o+1,3*s+1),ya(n,3*o+2,3*s+2)}s-r<i-s?(e(t,n,r,s),r=s+1):(e(t,n,s+1,i),i=s)}}(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},ha.deserialize=function(e){var t=new ha;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var va=Math.pow(2,53)-1;function ma(e){var t=+e;return!isNaN(t)&&t<=va?t:pa(String(e))}function ya(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Fr("FeaturePositionMap",ha);var ga=function(e,t){this.gl=e.gl,this.location=t},ba=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(ga),_a=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(ga),xa=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(ga),wa=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(ga),Ea=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(ga),Sa=function(e){function t(t,n){e.call(this,t,n),this.current=et.transparent}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(ga),ka=new Float32Array(16),Oa=function(e){function t(t,n){e.call(this,t,n),this.current=ka}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(ga);function Ta(e){return[ua(255*e.r,255*e.g),ua(255*e.b,255*e.a)]}var Ca=function(e,t,n){this.value=e,this.uniformNames=t.map((function(e){return"u_"+e})),this.type=n};Ca.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},Ca.prototype.getBinding=function(e,t,n){return"color"===this.type?new Sa(e,t):new _a(e,t)};var Aa=function(e,t){this.uniformNames=t.map((function(e){return"u_"+e})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Aa.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},Aa.prototype.setUniform=function(e,t,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)},Aa.prototype.getBinding=function(e,t,n){return"u_pattern"===n.substr(0,9)?new Ea(e,t):new _a(e,t)};var Ma=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};Ma.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new si(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)},Ma.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},Ma.prototype._setPaintValue=function(e,t,n){if("color"===this.type)for(var r=Ta(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Ma.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Pa=function(e,t,n,r,i,a){this.expression=e,this.uniformNames=t.map((function(e){return"u_"+e+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Pa.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.expression.evaluate(new si(this.zoom),t,{},r,[],i),o=this.expression.evaluate(new si(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)},Pa.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,a)},Pa.prototype._setPaintValue=function(e,t,n,r){if("color"===this.type)for(var i=Ta(n),a=Ta(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},Pa.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Pa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Pa.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},Pa.prototype.getBinding=function(e,t,n){return new _a(e,t)};var Ia=function(e,t,n,r,i,a){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ia.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},Ia.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},Ia.prototype._setPaintValues=function(e,t,n,r){if(r&&n){var i=r[n.min],a=r[n.mid],o=r[n.max];if(i&&a&&o)for(var s=e;s<t;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],a.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},Ia.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,la.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,la.members,this.expression.isStateDependent))},Ia.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ra=function(e,t,n){this.binders={},this._buffers=[];var r=[];for(var i in e.paint._values)if(n(i)){var a=e.paint.get(i);if(a instanceof hi&&jn(a.property.specification)){var o=La(i,e.type),s=a.value,u=a.property.specification.type,l=a.property.useIntegerZoom,c=a.property.specification["property-type"],f="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=f?new Aa(s.value,o):new Ca(s.value,o,u),r.push("/u_"+i);else if("source"===s.kind||f){var p=Na(i,u,"source");this.binders[i]=f?new Ia(s,u,l,t,p,e.id):new Ma(s,o,u,p),r.push("/a_"+i)}else{var d=Na(i,u,"composite");this.binders[i]=new Pa(s,o,u,l,t,d),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Ra.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof Ma||t instanceof Pa?t.maxValue:0},Ra.prototype.populatePaintArrays=function(e,t,n,r,i){for(var a in this.binders){var o=this.binders[a];(o instanceof Ma||o instanceof Pa||o instanceof Ia)&&o.populatePaintArray(e,t,n,r,i)}},Ra.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof Aa&&r.setConstantPatternPositions(e,t)}},Ra.prototype.updatePaintArrays=function(e,t,n,r,i){var a=!1;for(var o in e)for(var s=0,u=t.getPositions(o);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var f in this.binders){var p=this.binders[f];if((p instanceof Ma||p instanceof Pa||p instanceof Ia)&&!0===p.expression.isStateDependent){var d=r.paint.get(f);p.expression=d.value,p.updatePaintArray(l.start,l.end,c,e[o],i),a=!0}}}return a},Ra.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof Ca||n instanceof Aa)&&e.push.apply(e,n.uniformNames.map((function(e){return"#define HAS_UNIFORM_"+e})))}return e},Ra.prototype.getBinderAttributes=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Ma||n instanceof Pa)for(var r=0;r<n.paintVertexAttributes.length;r++)e.push(n.paintVertexAttributes[r].name);else if(n instanceof Ia)for(var i=0;i<la.members.length;i++)e.push(la.members[i].name)}return e},Ra.prototype.getBinderUniforms=function(){var e=[];for(var t in this.binders){var n=this.binders[t];if(n instanceof Ca||n instanceof Aa||n instanceof Pa)for(var r=0,i=n.uniformNames;r<i.length;r+=1)e.push(i[r])}return e},Ra.prototype.getPaintVertexBuffers=function(){return this._buffers},Ra.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Ca||i instanceof Aa||i instanceof Pa)for(var a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var u=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:u})}}}return n},Ra.prototype.setUniforms=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,u=o.property;this.binders[u].setUniform(o.binding,r,n.get(u),s)}},Ra.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof Ia){var r=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof Ma||n instanceof Pa)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Ra.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof Ma||n instanceof Pa||n instanceof Ia)&&n.upload(e)}this.updatePaintBuffers()},Ra.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Ma||t instanceof Pa||t instanceof Ia)&&t.destroy()}};var ja=function(e,t,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=e;r<i.length;r+=1){var a=i[r];this.programConfigurations[a.id]=new Ra(a,t,n)}this.needsUpload=!1,this._featureMap=new ha,this._bufferOffset=0};function La(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Na(e,t,n){var r={color:{source:Ii,composite:Xi},number:{source:Wi,composite:Ii}},i=function(e){return{"line-pattern":{source:Ri,composite:Ri},"fill-pattern":{source:Ri,composite:Ri},"fill-extrusion-pattern":{source:Ri,composite:Ri}}[e]}(e);return i&&i[n]||r[t][n]}ja.prototype.populatePaintArrays=function(e,t,n,r,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,i,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},ja.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,a=n;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}},ja.prototype.get=function(e){return this.programConfigurations[e]},ja.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},ja.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},Fr("ConstantBinder",Ca),Fr("CrossFadedConstantBinder",Aa),Fr("SourceExpressionBinder",Ma),Fr("CrossFadedCompositeBinder",Ia),Fr("CompositeExpressionBinder",Pa),Fr("ProgramConfiguration",Ra,{omit:["_buffers"]}),Fr("ProgramConfigurationSet",ja);var Da=Math.pow(2,14)-1,Fa=-Da-1;function za(e){for(var t=8192/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<i.length;a++){var o=i[a],s=Math.round(o.x*t),u=Math.round(o.y*t);o.x=c(s,Fa,Da),o.y=c(u,Fa,Da),(s<o.x||s>o.x+1||u<o.y||u>o.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Ba(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?za(e):[]}}function Ua(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var Va=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.segments=new sa,this.programConfigurations=new ja(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ha(e,t){for(var n=0;n<e.length;n++)if(Qa(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Qa(e,t[r]))return!0;return!!Za(e,t)}function Wa(e,t,n){return!!Qa(e,t)||!!Xa(t,e,n)}function qa(e,t){if(1===e.length)return Ja(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Qa(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(Ja(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(Za(e,t[o]))return!0;return!1}function Ga(e,t,n){if(e.length>1){if(Za(e,t))return!0;for(var r=0;r<t.length;r++)if(Xa(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Xa(e[i],t,n))return!0;return!1}function Za(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++)if(Ya(r,i,t[a],t[a+1]))return!0;return!1}function Ya(e,t,n,r){return S(e,n,r)!==S(t,n,r)&&S(e,t,n)!==S(e,t,r)}function Xa(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(Ka(e,t[i-1],t[i])<r)return!0;return!1}function Ka(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Ja(e,t){for(var n,r,i,a=!1,o=0;o<e.length;o++)for(var s=0,u=(n=e[o]).length-1;s<n.length;u=s++)(r=n[s]).y>t.y!=(i=n[u]).y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(a=!a);return a}function Qa(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function $a(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=S(e,t,n[0]);return a!==S(e,t,n[1])||a!==S(e,t,n[2])||a!==S(e,t,n[3])}function eo(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function to(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function no(e,t,n,r,a){if(!t[0]&&!t[1])return e;var o=i.convert(t)._mult(a);"viewport"===n&&o._rotate(-r);for(var s=[],u=0;u<e.length;u++)s.push(e[u].sub(o));return s}Va.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(var o=0,s=e;o<s.length;o+=1){var u=s[o],l=u.feature,c=u.id,f=u.index,p=u.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,h=Ba(l,d);if(this.layers[0]._featureFilter.filter(new si(this.zoom),h,n)){var v=a?a.evaluate(h,{},n):void 0,m={id:c,properties:l.properties,type:l.type,sourceLayerIndex:p,index:f,geometry:d?h.geometry:za(l),patterns:{},sortKey:v};i.push(m)}}a&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var y=0,g=i;y<g.length;y+=1){var b=g[y],_=b.geometry,x=b.index,w=b.sourceLayerIndex,E=e[x].feature;this.addFeature(b,_,x,n),t.featureIndex.insert(E,_,x,w,this.index)}},Va.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Va.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Va.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Va.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,oa),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Va.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Va.prototype.addFeature=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1)for(var o=0,s=a[i];o<s.length;o+=1){var u=s[o],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=f.vertexLength;Ua(this.layoutVertexArray,l,c,-1,-1),Ua(this.layoutVertexArray,l,c,1,-1),Ua(this.layoutVertexArray,l,c,1,1),Ua(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Fr("CircleBucket",Va,{omit:["layers"]});var ro=new xi({"circle-sort-key":new yi(Ae.layout_circle["circle-sort-key"])}),io={paint:new xi({"circle-radius":new yi(Ae.paint_circle["circle-radius"]),"circle-color":new yi(Ae.paint_circle["circle-color"]),"circle-blur":new yi(Ae.paint_circle["circle-blur"]),"circle-opacity":new yi(Ae.paint_circle["circle-opacity"]),"circle-translate":new mi(Ae.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Ae.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Ae.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Ae.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Ae.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Ae.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Ae.paint_circle["circle-stroke-opacity"])}),layout:ro},ao="undefined"!=typeof Float32Array?Float32Array:Array;function oo(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function so(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=n[0],_=n[1],x=n[2],w=n[3];return e[0]=b*r+_*s+x*f+w*v,e[1]=b*i+_*u+x*p+w*m,e[2]=b*a+_*l+x*d+w*y,e[3]=b*o+_*c+x*h+w*g,e[4]=(b=n[4])*r+(_=n[5])*s+(x=n[6])*f+(w=n[7])*v,e[5]=b*i+_*u+x*p+w*m,e[6]=b*a+_*l+x*d+w*y,e[7]=b*o+_*c+x*h+w*g,e[8]=(b=n[8])*r+(_=n[9])*s+(x=n[10])*f+(w=n[11])*v,e[9]=b*i+_*u+x*p+w*m,e[10]=b*a+_*l+x*d+w*y,e[11]=b*o+_*c+x*h+w*g,e[12]=(b=n[12])*r+(_=n[13])*s+(x=n[14])*f+(w=n[15])*v,e[13]=b*i+_*u+x*p+w*m,e[14]=b*a+_*l+x*d+w*y,e[15]=b*o+_*c+x*h+w*g,e}Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});var uo,lo=so;function co(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}uo=new ao(3),ao!=Float32Array&&(uo[0]=0,uo[1]=0,uo[2]=0),function(){var e=new ao(4);ao!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var fo=(function(){var e=new ao(2);ao!=Float32Array&&(e[0]=0,e[1]=0)}(),function(e){function t(t){e.call(this,t,io)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Va(e)},t.prototype.queryRadius=function(e){var t=e;return eo("circle-radius",this,t)+eo("circle-stroke-width",this,t)+to(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o,s){for(var u=no(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),a.angle,o),l=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),f=c?u:function(e,t){return e.map((function(e){return po(e,t)}))}(u,s),p=c?l*o:l,d=0,h=r;d<h.length;d+=1)for(var v=0,m=h[d];v<m.length;v+=1){var y=m[v],g=c?y:po(y,s),b=p,_=co([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=_[3]/a.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=a.cameraToCenterDistance/_[3]),Wa(f,g,b))return!0}return!1},t}(wi));function po(e,t){var n=co([],[e.x,e.y,0,1],t);return new i(n[0]/n[3],n[1]/n[3])}var ho=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Va);function vo(e,t,n,r){var i=t.width,a=t.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*a*n);return e.width=i,e.height=a,e.data=r,e}function mo(e,t,n){var r=t.width,i=t.height;if(r!==e.width||i!==e.height){var a=vo({},{width:r,height:i},n);yo(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=a.data}}function yo(e,t,n,r,i,a){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var o=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*a,c=((r.y+u)*t.width+r.x)*a,f=0;f<i.width*a;f++)s[c+f]=o[l+f];return t}Fr("HeatmapBucket",ho,{omit:["layers"]});var go=function(e,t){vo(this,e,1,t)};go.prototype.resize=function(e){mo(this,e,1)},go.prototype.clone=function(){return new go({width:this.width,height:this.height},new Uint8Array(this.data))},go.copy=function(e,t,n,r,i){yo(e,t,n,r,i,1)};var bo=function(e,t){vo(this,e,4,t)};bo.prototype.resize=function(e){mo(this,e,4)},bo.prototype.replace=function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e},bo.prototype.clone=function(){return new bo({width:this.width,height:this.height},new Uint8Array(this.data))},bo.copy=function(e,t,n,r,i){yo(e,t,n,r,i,4)},Fr("AlphaImage",go),Fr("RGBAImage",bo);var _o={paint:new xi({"heatmap-radius":new yi(Ae.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Ae.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Ae.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _i(Ae.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Ae.paint_heatmap["heatmap-opacity"])})};function xo(e){var t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new bo({width:n,height:r}),a=function(n,r,a){t[e.evaluationKey]=a;var o=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*o.r/o.a),i.data[n+r+1]=Math.floor(255*o.g/o.a),i.data[n+r+2]=Math.floor(255*o.b/o.a),i.data[n+r+3]=Math.floor(255*o.a)};if(e.clips)for(var o=0,s=0;o<r;++o,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),f=e.clips[o];a(s,l,f.start*(1-c)+f.end*c)}else for(var p=0,d=0;p<n;p++,d+=4)a(0,d,p/(n-1));return i}var wo=function(e){function t(t){e.call(this,t,_o),this._updateColorRamp()}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new ho(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){this.colorRamp=xo({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(wi),Eo={paint:new xi({"hillshade-illumination-direction":new mi(Ae.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Ae.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Ae.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Ae.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Ae.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Ae.paint_hillshade["hillshade-accent-color"])})},So=function(e){function t(t){e.call(this,t,Eo)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(wi),ko=Oi([{name:"a_pos",components:2,type:"Int16"}],4).members,Oo=Co,To=Co;function Co(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,f=c?t[0]*n:e.length,p=Ao(e,0,f,n,!0),d=[];if(!p||p.next===p.prev)return d;if(c&&(p=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=Ao(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Bo(o));for(s.sort(No),i=0;i<s.length;i++)Do(s[i],n),n=Mo(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var h=n;h<f;h+=n)(s=e[h])<r&&(r=s),(u=e[h+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return Po(p,d,n,r,i,l),d}function Ao(e,t,n,r,i){var a,o;if(i===$o(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Ko(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Ko(a,e[a],e[a+1],o);return o&&Wo(o,o.next)&&(Jo(o),o=o.next),o}function Mo(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Wo(r,r.next)&&0!==Ho(r.prev,r,r.next))r=r.next;else{if(Jo(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Po(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=zo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Ro(e,r,i,a):Io(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Jo(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Po(e=jo(Mo(e),t,n),t,n,r,i,a,2):2===o&&Lo(e,t,n,r,i,a):Po(Mo(e),t,n,r,i,a,1);break}}}function Io(e){var t=e.prev,n=e,r=e.next;if(Ho(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Uo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ho(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ro(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Ho(i,a,o)>=0)return!1;for(var s=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,l=zo(i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,t,n,r),c=zo(s,u,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=l&&p&&p.z<=c;){if(f!==e.prev&&f!==e.next&&Uo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ho(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Uo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ho(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=l;){if(f!==e.prev&&f!==e.next&&Uo(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ho(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=c;){if(p!==e.prev&&p!==e.next&&Uo(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ho(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function jo(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Wo(i,a)&&qo(i,r,r.next,a)&&Yo(i,a)&&Yo(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Jo(r),Jo(r.next),r=e=a),r=r.next}while(r!==e);return Mo(r)}function Lo(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Vo(o,s)){var u=Xo(o,s);return o=Mo(o,o.next),u=Mo(u,u.next),Po(o,t,n,r,i,a),void Po(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function No(e,t){return e.x-t.x}function Do(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Uo(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),Yo(r,e)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&Fo(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}(e,t)){var n=Xo(t,e);Mo(t,t.next),Mo(n,n.next)}}function Fo(e,t){return Ho(e.prev,e,t.prev)<0&&Ho(t.next,e,e.next)<0}function zo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Bo(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Uo(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Vo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&qo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Yo(e,t)&&Yo(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ho(e.prev,e,t.prev)||Ho(e,t.prev,t))||Wo(e,t)&&Ho(e.prev,e,e.next)>0&&Ho(t.prev,t,t.next)>0)}function Ho(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Wo(e,t){return e.x===t.x&&e.y===t.y}function qo(e,t,n,r){var i=Zo(Ho(e,t,n)),a=Zo(Ho(e,t,r)),o=Zo(Ho(n,r,e)),s=Zo(Ho(n,r,t));return i!==a&&o!==s||!(0!==i||!Go(e,n,t))||!(0!==a||!Go(e,r,t))||!(0!==o||!Go(n,e,r))||!(0!==s||!Go(n,t,r))}function Go(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Zo(e){return e>0?1:e<0?-1:0}function Yo(e,t){return Ho(e.prev,e,e.next)<0?Ho(e,t,e.next)>=0&&Ho(e,e.prev,t)>=0:Ho(e,t,e.prev)<0||Ho(e,e.next,t)<0}function Xo(e,t){var n=new Qo(e.i,e.x,e.y),r=new Qo(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ko(e,t,n,r){var i=new Qo(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Jo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $o(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}function es(e,t,n,r,i){!function e(t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,u=Math.log(o),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(o-l)/o)*(s-o/2<0?-1:1);e(t,n,Math.max(r,Math.floor(n-s*l/o+c)),Math.min(i,Math.floor(n+(o-s)*l/o+c)),a)}var f=t[n],p=r,d=i;for(ts(t,r,n),a(t[i],f)>0&&ts(t,r,i);p<d;){for(ts(t,p,d),p++,d--;a(t[p],f)<0;)p++;for(;a(t[d],f)>0;)d--}0===a(t[r],f)?ts(t,r,d):ts(t,++d,i),d<=n&&(r=d+1),n<=d&&(i=d-1)}}(e,t,n||0,r||e.length-1,i||ns)}function ts(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ns(e,t){return e<t?-1:e>t?1:0}function rs(e,t){var n=e.length;if(n<=1)return[e];for(var r,i,a=[],o=0;o<n;o++){var s=k(e[o]);0!==s&&(e[o].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&a.push(r),r=[e[o]]):r.push(e[o]))}if(r&&a.push(r),t>1)for(var u=0;u<a.length;u++)a[u].length<=t||(es(a[u],t,1,a[u].length-1,is),a[u]=a[u].slice(0,t));return a}function is(e,t){return t.area-e.area}function as(e,t,n){for(var r=n.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+"-pattern");s.isConstant()||(i=!0);var u=s.constantOr(null);u&&(i=!0,r[u.to]=!0,r[u.from]=!0)}return i}function os(e,t,n,r,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var u=s[o],l=u.paint.get(e+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:r-1},n,{},i.availableImages),f=l.evaluate({zoom:r},n,{},i.availableImages),p=l.evaluate({zoom:r+1},n,{},i.availableImages);f=f&&f.name?f.name:f,p=p&&p.name?p.name:p,a[c=c&&c.name?c.name:c]=!0,a[f]=!0,a[p]=!0,n.patterns[u.id]={min:c,mid:f,max:p}}}return n}Co.deviation=function(e,t,n,r){var i=t&&t.length,a=Math.abs($o(e,0,i?t[0]*n:e.length,n));if(i)for(var o=0,s=t.length;o<s;o++)a-=Math.abs($o(e,t[o]*n,o<s-1?t[o+1]*n:e.length,n));var u=0;for(o=0;o<r.length;o+=3){var l=r[o]*n,c=r[o+1]*n,f=r[o+2]*n;u+=Math.abs((e[l]-e[f])*(e[c+1]-e[l+1])-(e[l]-e[c])*(e[f+1]-e[l+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},Co.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&n.holes.push(r+=e[i-1].length)}return n},Oo["default"]=To;var ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ci,this.indexArray=new Ui,this.indexArray2=new Zi,this.programConfigurations=new ja(e.layers,e.zoom),this.segments=new sa,this.segments2=new sa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};ss.prototype.populate=function(e,t,n){this.hasPattern=as("fill",this.layers,t);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=Ba(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var h=r?r.evaluate(d,{},n,t.availableImages):void 0,v={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:p?d.geometry:za(u),patterns:{},sortKey:h};i.push(v)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,_=g.index,x=g.sourceLayerIndex;if(this.hasPattern){var w=os("fill",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,b,_,n,{});t.featureIndex.insert(e[_].feature,b,_,x,this.index)}},ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ko),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ss.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=rs(t,500);a<o.length;a+=1){for(var s=o[a],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),p=f.vertexLength,d=[],h=[],v=0,m=s;v<m.length;v+=1){var y=m[v];if(0!==y.length){y!==s[0]&&h.push(d.length/2);var g=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),b=g.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(b+y.length-1,b),d.push(y[0].x),d.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(b+_-1,b+_),d.push(y[_].x),d.push(y[_].y);g.vertexLength+=y.length,g.primitiveLength+=y.length}}for(var x=Oo(d,h),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(p+x[w],p+x[w+1],p+x[w+2]);f.vertexLength+=u,f.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Fr("FillBucket",ss,{omit:["layers","patternFeatures"]});var us=new xi({"fill-sort-key":new yi(Ae.layout_fill["fill-sort-key"])}),ls={paint:new xi({"fill-antialias":new mi(Ae.paint_fill["fill-antialias"]),"fill-opacity":new yi(Ae.paint_fill["fill-opacity"]),"fill-color":new yi(Ae.paint_fill["fill-color"]),"fill-outline-color":new yi(Ae.paint_fill["fill-outline-color"]),"fill-translate":new mi(Ae.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Ae.paint_fill["fill-translate-anchor"]),"fill-pattern":new gi(Ae.paint_fill["fill-pattern"])}),layout:us},cs=function(e){function t(t){e.call(this,t,ls)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new ss(e)},t.prototype.queryRadius=function(){return to(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o){return qa(no(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),a.angle,o),r)},t.prototype.isTileClipped=function(){return!0},t}(wi),fs=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ps=ds;function ds(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(hs,this,t)}function hs(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function vs(e){for(var t,n,r=0,i=0,a=e.length,o=a-1;i<a;o=i++)r+=((n=e[o]).x-(t=e[i]).x)*(t.y+n.y);return r}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,a=0,o=0,s=0,u=[];e.pos<n;){if(a<=0){var l=e.readVarint();r=7&l,a=l>>3}if(a--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new i(o,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},ds.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<o&&(o=i),i>s&&(s=i),(a+=e.readSVarint())<u&&(u=a),a>l&&(l=a);else if(7!==n)throw new Error("unknown command "+n)}return[o,u,s,l]},ds.prototype.toGeoJSON=function(e,t,n){var r,i,a=this.extent*Math.pow(2,n),o=this.extent*e,s=this.extent*t,u=this.loadGeometry(),l=ds.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(r=0;r<u.length;r++)f[r]=u[r][0];c(u=f);break;case 2:for(r=0;r<u.length;r++)c(u[r]);break;case 3:for(u=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var o=vs(e[a]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(u),r=0;r<u.length;r++)for(i=0;i<u[r].length;i++)c(u[r][i])}1===u.length?u=u[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var ms=ys;function ys(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(gs,this,t),this.length=this._features.length}function gs(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}function bs(e,t,n){if(3===e){var r=new ms(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}ys.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ps(this._pbf,t,this.extent,this._keys,this._values)};var _s={VectorTile:function(e,t){this.layers=e.readFields(bs,{},t)},VectorTileFeature:ps,VectorTileLayer:ms},xs=_s.VectorTileFeature.types,ws=Math.pow(2,13);function Es(e,t,n,r,i,a,o,s){e.emplaceBack(t,n,2*Math.floor(r*ws)+o,i*ws*2,a*ws*2,Math.round(s))}var Ss=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Mi,this.indexArray=new Ui,this.programConfigurations=new ja(e.layers,e.zoom),this.segments=new sa,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function ks(e,t){return e.x===t.x&&(e.x<0||e.x>8192)||e.y===t.y&&(e.y<0||e.y>8192)}Ss.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=as("fill-extrusion",this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.feature,s=a.id,u=a.index,l=a.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,f=Ba(o,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var p={id:s,sourceLayerIndex:l,index:u,geometry:c?f.geometry:za(o),properties:o.properties,type:o.type,patterns:{}};this.hasPattern?this.features.push(os("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,u,n,{}),t.featureIndex.insert(o,p.geometry,u,l,this.index,!0)}}},Ss.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Ss.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ss.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ss.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ss.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ss.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=rs(t,500);a<o.length;a+=1){for(var s=o[a],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,d=s;p<d.length;p+=1){var h=d[p];if(0!==h.length&&!((I=h).every((function(e){return e.x<0}))||I.every((function(e){return e.x>8192}))||I.every((function(e){return e.y<0}))||I.every((function(e){return e.y>8192}))))for(var v=0,m=0;m<h.length;m++){var y=h[m];if(m>=1){var g=h[m-1];if(!ks(y,g)){f.vertexLength+4>sa.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=y.sub(g)._perp()._unit(),_=g.dist(y);v+_>32768&&(v=0),Es(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,v),Es(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,v),Es(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,0,v+=_),Es(this.layoutVertexArray,g.x,g.y,b.x,b.y,0,1,v);var x=f.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+u>sa.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===xs[e.type]){for(var w=[],E=[],S=f.vertexLength,k=0,O=s;k<O.length;k+=1){var T=O[k];if(0!==T.length){T!==s[0]&&E.push(w.length/2);for(var C=0;C<T.length;C++){var A=T[C];Es(this.layoutVertexArray,A.x,A.y,0,0,1,1,0),w.push(A.x),w.push(A.y)}}}for(var M=Oo(w,E),P=0;P<M.length;P+=3)this.indexArray.emplaceBack(S+M[P],S+M[P+2],S+M[P+1]);f.primitiveLength+=M.length/3,f.vertexLength+=u}}var I;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Fr("FillExtrusionBucket",Ss,{omit:["layers","features"]});var Os={paint:new xi({"fill-extrusion-opacity":new mi(Ae["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Ae["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Ae["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new gi(Ae["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Ae["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Ae["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ts=function(e){function t(t){e.call(this,t,Os)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.createBucket=function(e){return new Ss(e)},t.prototype.queryRadius=function(){return to(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s,u){var l=no(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),f=this.paint.get("fill-extrusion-base").evaluate(t,n),p=function(e,t,n,r){for(var a=[],o=0,s=e;o<s.length;o+=1){var u=s[o],l=[u.x,u.y,0,1];co(l,l,t),a.push(new i(l[0]/l[3],l[1]/l[3]))}return a}(l,u),d=function(e,t,n,r){for(var a=[],o=[],s=r[8]*t,u=r[9]*t,l=r[10]*t,c=r[11]*t,f=r[8]*n,p=r[9]*n,d=r[10]*n,h=r[11]*n,v=0,m=e;v<m.length;v+=1){for(var y=[],g=[],b=0,_=m[v];b<_.length;b+=1){var x=_[b],w=x.x,E=x.y,S=r[0]*w+r[4]*E+r[12],k=r[1]*w+r[5]*E+r[13],O=r[2]*w+r[6]*E+r[14],T=r[3]*w+r[7]*E+r[15],C=O+l,A=T+c,M=S+f,P=k+p,I=O+d,R=T+h,j=new i((S+s)/A,(k+u)/A);j.z=C/A,y.push(j);var L=new i(M/R,P/R);L.z=I/R,g.push(L)}a.push(y),o.push(g)}return[a,o]}(r,f,c,u);return function(e,t,n){var r=1/0;qa(n,t)&&(r=As(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var u=a[s],l=[u,a[s+1],o[s+1],o[s],u];Ha(n,l)&&(r=Math.min(r,As(n,l)))}return r!==1/0&&r}(d[0],d[1],p)},t}(wi);function Cs(e,t){return e.x*t.x+e.y*t.y}function As(e,t){if(1===e.length){for(var n,r=0,i=t[r++];!n||i.equals(n);)if(!(n=t[r++]))return 1/0;for(;r<t.length;r++){var a=t[r],o=e[0],s=n.sub(i),u=a.sub(i),l=o.sub(i),c=Cs(s,s),f=Cs(s,u),p=Cs(u,u),d=Cs(l,s),h=Cs(l,u),v=c*p-f*f,m=(p*d-f*h)/v,y=(c*h-f*d)/v,g=i.z*(1-m-y)+n.z*m+a.z*y;if(isFinite(g))return g}return 1/0}for(var b=1/0,_=0,x=t;_<x.length;_+=1)b=Math.min(b,x[_].z);return b}var Ms=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ps=Oi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Is=_s.VectorTileFeature.types,Rs=Math.cos(Math.PI/180*37.5),js=Math.pow(2,14)/.5,Ls=function(e){var t=this;this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){t.gradients[e.id]={}})),this.layoutVertexArray=new Pi,this.layoutVertexArray2=new Ii,this.indexArray=new Ui,this.programConfigurations=new ja(e.layers,e.zoom),this.segments=new sa,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};Ls.prototype.populate=function(e,t,n){this.hasPattern=as("line",this.layers,t);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],u=s.feature,l=s.id,c=s.index,f=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d=Ba(u,p);if(this.layers[0]._featureFilter.filter(new si(this.zoom),d,n)){var h=r?r.evaluate(d,{},n):void 0,v={id:l,properties:u.properties,type:u.type,sourceLayerIndex:f,index:c,geometry:p?d.geometry:za(u),patterns:{},sortKey:h};i.push(v)}}r&&i.sort((function(e,t){return e.sortKey-t.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var g=y[m],b=g.geometry,_=g.index,x=g.sourceLayerIndex;if(this.hasPattern){var w=os("line",this.layers,g,this.zoom,t);this.patternFeatures.push(w)}else this.addFeature(g,b,_,n,{});t.featureIndex.insert(e[_].feature,b,_,x,this.index)}},Ls.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ls.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Ls.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ls.prototype.upload=function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Ps)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ms),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ls.prototype.lineFeatureClips=function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}},Ls.prototype.addFeature=function(e,t,n,r,i){var a=this.layers[0].layout,o=a.get("line-join").evaluate(e,{}),s=a.get("line-cap"),u=a.get("line-miter-limit"),l=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(var c=0,f=t;c<f.length;c+=1)this.addLine(f[c],e,o,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Ls.prototype.addLine=function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Is[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var c,f=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),d=void 0,h=void 0,v=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=e[l].sub(c=e[u-2])._unit()._perp());for(var y=l;y<u;y++)if(!(h=y===u-1?s?e[l+1]:void 0:e[y+1])||!e[y].equals(h)){m&&(v=m),c&&(d=c),c=e[y],m=h?h.sub(c)._unit()._perp():v;var g=(v=v||m).add(m);0===g.x&&0===g.y||g._unit();var b=v.x*m.x+v.y*m.y,_=g.x*m.x+g.y*m.y,x=0!==_?1/_:1/0,w=2*Math.sqrt(2-2*_),E=_<Rs&&d&&h,S=v.x*m.y-v.y*m.x>0;if(E&&y>l){var k=c.dist(d);if(k>2*f){var O=c.sub(c.sub(d)._mult(f/k)._round());this.updateDistance(d,O),this.addCurrentVertex(O,v,0,0,p),d=O}}var T=d&&h,C=T?n:s?"butt":r;if(T&&"round"===C&&(x<a?C="miter":x<=2&&(C="fakeround")),"miter"===C&&x>i&&(C="bevel"),"bevel"===C&&(x>2&&(C="flipbevel"),x<i&&(C="miter")),d&&this.updateDistance(d,c),"miter"===C)g._mult(x),this.addCurrentVertex(c,g,0,0,p);else if("flipbevel"===C){if(x>100)g=m.mult(-1);else{var A=x*v.add(m).mag()/v.sub(m).mag();g._perp()._mult(A*(S?-1:1))}this.addCurrentVertex(c,g,0,0,p),this.addCurrentVertex(c,g.mult(-1),0,0,p)}else if("bevel"===C||"fakeround"===C){var M=-Math.sqrt(x*x-1),P=S?M:0,I=S?0:M;if(d&&this.addCurrentVertex(c,v,P,I,p),"fakeround"===C)for(var R=Math.round(180*w/Math.PI/20),j=1;j<R;j++){var L=j/R;if(.5!==L){var N=L-.5;L+=L*N*(L-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*N*N+(.848013+b*(.215638*b-1.06021)))}var D=m.sub(v)._mult(L)._add(v)._unit()._mult(S?-1:1);this.addHalfVertex(c,D.x,D.y,!1,S,0,p)}h&&this.addCurrentVertex(c,m,-P,-I,p)}else if("butt"===C)this.addCurrentVertex(c,g,0,0,p);else if("square"===C){var F=d?1:-1;this.addCurrentVertex(c,g,F,F,p)}else"round"===C&&(d&&(this.addCurrentVertex(c,v,0,0,p),this.addCurrentVertex(c,v,1,1,p,!0)),h&&(this.addCurrentVertex(c,m,-1,-1,p,!0),this.addCurrentVertex(c,m,0,0,p)));if(E&&y<u-1){var z=c.dist(h);if(z>2*f){var B=c.add(h.sub(c)._mult(f/z)._round());this.updateDistance(c,B),this.addCurrentVertex(B,m,0,0,p),c=B}}}}},Ls.prototype.addCurrentVertex=function(e,t,n,r,i,a){void 0===a&&(a=!1);var o=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,a,!1,n,i),this.addHalfVertex(e,o,s,a,!0,-r,i),this.distance>js/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,a))},Ls.prototype.addHalfVertex=function(e,t,n,r,i,a,o){var s=.5*(this.lineClips?this.scaledDistance*(js-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e.x<<1)+(r?1:0),(e.y<<1)+(i?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),i?this.e2=u:this.e1=u},Ls.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ls.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Fr("LineBucket",Ls,{omit:["layers","patternFeatures"]});var Ns=new xi({"line-cap":new mi(Ae.layout_line["line-cap"]),"line-join":new yi(Ae.layout_line["line-join"]),"line-miter-limit":new mi(Ae.layout_line["line-miter-limit"]),"line-round-limit":new mi(Ae.layout_line["line-round-limit"]),"line-sort-key":new yi(Ae.layout_line["line-sort-key"])}),Ds={paint:new xi({"line-opacity":new yi(Ae.paint_line["line-opacity"]),"line-color":new yi(Ae.paint_line["line-color"]),"line-translate":new mi(Ae.paint_line["line-translate"]),"line-translate-anchor":new mi(Ae.paint_line["line-translate-anchor"]),"line-width":new yi(Ae.paint_line["line-width"]),"line-gap-width":new yi(Ae.paint_line["line-gap-width"]),"line-offset":new yi(Ae.paint_line["line-offset"]),"line-blur":new yi(Ae.paint_line["line-blur"]),"line-dasharray":new bi(Ae.paint_line["line-dasharray"]),"line-pattern":new gi(Ae.paint_line["line-pattern"]),"line-gradient":new _i(Ae.paint_line["line-gradient"])}),layout:Ns},Fs=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(yi))(Ds.paint.properties["line-width"].specification);Fs.useIntegerZoom=!0;var zs=function(e){function t(t){e.call(this,t,Ds),this.gradientVersion=0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ht,this.gradientVersion=(this.gradientVersion+1)%s)},t.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values["line-floorwidth"]=Fs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ls(e)},t.prototype.queryRadius=function(e){var t=e,n=Bs(eo("line-width",this,t),eo("line-gap-width",this,t)),r=eo("line-offset",this,t);return n/2+Math.abs(r)+to(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,a,o,s){var u=no(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,s),l=s/2*Bs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){for(var n=[],r=new i(0,0),a=0;a<e.length;a++){for(var o=e[a],s=[],u=0;u<o.length;u++){var l=o[u],c=o[u+1],f=0===u?r:l.sub(o[u-1])._unit()._perp(),p=u===o.length-1?r:c.sub(l)._unit()._perp(),d=f._add(p)._unit();d._mult(1/(d.x*p.x+d.y*p.y)),s.push(d._mult(t)._add(l))}n.push(s)}return n}(r,c*s)),function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3)for(var a=0;a<i.length;a++)if(Qa(e,i[a]))return!0;if(Ga(e,i,n))return!0}return!1}(u,r,l)},t.prototype.isTileClipped=function(){return!0},t}(wi);function Bs(e,t){return t>0?t+2*e:e}var Us=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hs=(Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ws=(Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),qs=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Gs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),oi.applyArabicShaping&&(e=oi.applyArabicShaping(e)),e}(e.text,t,n)})),e}Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Zs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ys=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=e[t+f];for(f+=p,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=p,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},Xs=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=h,o/=256,l-=8);e[n+d-h]|=128*v},Ks=Js;function Js(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Js.Varint=0,Js.Fixed64=1,Js.Bytes=2,Js.Fixed32=5;var Qs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function $s(e){return e.type===Js.Bytes?e.readVarint()+e.pos:e.pos+1}function eu(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function tu(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function nu(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function ru(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function iu(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function au(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function ou(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function su(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function uu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function lu(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function cu(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function fu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function pu(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function du(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function hu(e,t,n){1===e&&n.readMessage(vu,t)}function vu(e,t,n){if(3===e){var r=n.readMessage(mu,{}),i=r.width,a=r.height,o=r.left,s=r.top,u=r.advance;t.push({id:r.id,bitmap:new go({width:i+6,height:a+6},r.bitmap),metrics:{width:i,height:a,left:o,top:s,advance:u}})}}function mu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function yu(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];t+=a.w*a.h,n=Math.max(n,a.w)}e.sort((function(e,t){return t.h-e.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,u=0,l=0,c=e;l<c.length;l+=1)for(var f=c[l],p=o.length-1;p>=0;p--){var d=o[p];if(!(f.w>d.w||f.h>d.h)){if(f.x=d.x,f.y=d.y,u=Math.max(u,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===d.w&&f.h===d.h){var h=o.pop();p<o.length&&(o[p]=h)}else f.h===d.h?(d.x+=f.w,d.w-=f.w):f.w===d.w?(d.y+=f.h,d.h-=f.h):(o.push({x:d.x+f.w,y:d.y,w:d.w-f.w,h:f.h}),d.y+=f.h,d.h-=f.h);break}}return{w:s,h:u,fill:t/(s*u)||0}}Js.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=fu(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=du(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*fu(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=fu(this.buf,this.pos)+4294967296*du(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ys(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ys(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return eu(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return eu(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return eu(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return eu(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return eu(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return eu(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Qs?function(e,t,n){return Qs.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var a,o,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)<=127&&(l=null):3===c?(o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&((l=(15&u)<<12|(63&a)<<6|63&o)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&((l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Js.Bytes)return e.push(this.readVarint(t));var n=$s(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Js.Bytes)return e.push(this.readSVarint());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Js.Bytes)return e.push(this.readBoolean());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Js.Bytes)return e.push(this.readFloat());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Js.Bytes)return e.push(this.readDouble());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed32());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Js.Bytes)return e.push(this.readSFixed64());var t=$s(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Js.Varint)for(;this.buf[this.pos++]>127;);else if(t===Js.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Js.Fixed32)this.pos+=4;else{if(t!==Js.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),pu(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),pu(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),pu(this.buf,-1&e,this.pos),pu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),pu(this.buf,-1&e,this.pos),pu(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,a=0;a<t.length;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&tu(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&tu(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,Js.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,nu,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,ru,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,ou,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,iu,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,au,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,su,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,uu,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,lu,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,cu,t)},writeBytesField:function(e,t){this.writeTag(e,Js.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Js.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Js.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Js.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Js.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Js.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Js.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var gu=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=a,this.content=o,this.version=r},bu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};bu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},bu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},bu.tlbr.get=function(){return this.tl.concat(this.br)},bu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(gu.prototype,bu);var _u=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var a=yu(i),o=new bo({width:a.w||1,height:a.h||1});for(var s in e){var u=e[s],l=n[s].paddedRect;bo.copy(u.data,o,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in t){var f=t[c],p=r[c].paddedRect,d=p.x+1,h=p.y+1,v=f.data.width,m=f.data.height;bo.copy(f.data,o,{x:0,y:0},{x:d,y:h},f.data),bo.copy(f.data,o,{x:0,y:m-1},{x:d,y:h-1},{width:v,height:1}),bo.copy(f.data,o,{x:0,y:0},{x:d,y:h+m},{width:v,height:1}),bo.copy(f.data,o,{x:v-1,y:0},{x:d-1,y:h},{width:1,height:m}),bo.copy(f.data,o,{x:0,y:0},{x:d+v,y:h},{width:1,height:m})}this.image=o,this.iconPositions=n,this.patternPositions=r};_u.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(a),t[r]=new gu(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},_u.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},_u.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var r=e.tl;n.update(t.data,void 0,{x:r[0],y:r[1]})}},Fr("ImagePosition",gu),Fr("ImageAtlas",_u);var xu={horizontal:1,vertical:2,horizontalOnly:3},wu=function(){this.scale=1,this.fontStack="",this.imageName=null};wu.forText=function(e,t){var n=new wu;return n.scale=e||1,n.fontStack=t,n},wu.forImage=function(e){var t=new wu;return t.imageName=e,t};var Eu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Su(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v){var m,y=Eu.fromFeature(e,i);f===xu.vertical&&y.verticalizePunctuation();var g=oi.processBidirectionalText,b=oi.processStyledBidirectionalText;if(g&&1===y.sections.length){m=[];for(var _=0,x=g(y.toString(),Pu(y,l,a,t,r,d,h));_<x.length;_+=1){var w=x[_],E=new Eu;E.text=w,E.sections=y.sections;for(var S=0;S<w.length;S++)E.sectionIndex.push(0);m.push(E)}}else if(b){m=[];for(var k=0,O=b(y.text,y.sectionIndex,Pu(y,l,a,t,r,d,h));k<O.length;k+=1){var T=O[k],C=new Eu;C.text=T[0],C.sectionIndex=T[1],C.sections=y.sections,m.push(C)}}else m=function(e,t){for(var n=[],r=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}(y,Pu(y,l,a,t,r,d,h));var A=[],M={positionedLines:A,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,a,o,s,u,l,c,f){for(var p=0,d=-17,h=0,v=0,m="right"===s?1:"left"===s?0:.5,y=0,g=0,b=i;g<b.length;g+=1){var _=b[g];_.trim();var x=_.getMaxScale(),w=24*(x-1),E={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=E;var S=E.positionedGlyphs,k=0;if(_.length()){for(var O=0;O<_.length();O++){var T=_.getSection(O),C=_.getSectionIndex(O),A=_.getCharCode(O),M=0,P=null,I=null,R=null,j=24,L=!(u===xu.horizontal||!c&&!Zr(A)||c&&(ku[A]||(W=A,qr.Arabic(W)||qr["Arabic Supplement"](W)||qr["Arabic Extended-A"](W)||qr["Arabic Presentation Forms-A"](W)||qr["Arabic Presentation Forms-B"](W))));if(T.imageName){var N=r[T.imageName];if(!N)continue;R=T.imageName,e.iconsInText=e.iconsInText||!0,I=N.paddedRect;var D=N.displaySize;T.scale=24*T.scale/f,M=w+(24-D[1]*T.scale),j=(P={width:D[0],height:D[1],left:1,top:-3,advance:L?D[1]:D[0]}).advance;var F=L?D[0]*T.scale-24*x:D[1]*T.scale-24*x;F>0&&F>k&&(k=F)}else{var z=n[T.fontStack],B=z&&z[A];if(B&&B.rect)I=B.rect,P=B.metrics;else{var U=t[T.fontStack],V=U&&U[A];if(!V)continue;P=V.metrics}M=24*(x-T.scale)}L?(e.verticalizable=!0,S.push({glyph:A,imageName:R,x:p,y:d+M,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:C,metrics:P,rect:I}),p+=j*T.scale+l):(S.push({glyph:A,imageName:R,x:p,y:d+M,vertical:L,scale:T.scale,fontStack:T.fontStack,sectionIndex:C,metrics:P,rect:I}),p+=P.advance*T.scale+l)}0!==S.length&&(h=Math.max(p-l,h),Ru(S,0,S.length-1,m,k)),p=0;var H=a*x+k;E.lineOffset=Math.max(k,w),d+=H,v=Math.max(H,v),++y}else d+=a,++y}var W,q=d- -17,G=Iu(o),Z=G.horizontalAlign,Y=G.verticalAlign;(function(e,t,n,r,i,a,o,s,u){var l,c=(t-n)*i;l=a!==o?-s*r- -17:(-r*u+.5)*o;for(var f=0,p=e;f<p.length;f+=1)for(var d=0,h=p[f].positionedGlyphs;d<h.length;d+=1){var v=h[d];v.x+=c,v.y+=l}})(e.positionedLines,m,Z,Y,h,v,a,q,i.length),e.top+=-Y*q,e.bottom=e.top+q,e.left+=-Z*h,e.right=e.left+h}(M,t,n,r,m,o,s,u,f,l,p,v),!function(e){for(var t=0,n=e;t<n.length;t+=1)if(0!==n[t].positionedGlyphs.length)return!1;return!0}(A)&&M}Eu.fromFeature=function(e,t){for(var n=new Eu,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Eu.prototype.length=function(){return this.text.length},Eu.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Eu.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Eu.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Eu.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Yr(r)&&!Zs[e[n+1]]||i&&Yr(i)&&!Zs[e[n-1]]||!Zs[e[n]]?e[n]:Zs[e[n]]}return t}(this.text)},Eu.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&ku[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&ku[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Eu.prototype.substring=function(e,t){var n=new Eu;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Eu.prototype.toString=function(){return this.text},Eu.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)},Eu.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(wu.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Eu.prototype.addImageSection=function(e){var t=e.image?e.image.name:"";if(0!==t.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wu.forImage(t)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},Eu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var ku={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ou={};function Tu(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*24/a+i:0}var s=n[t.fontStack],u=s&&s[e];return u?u.metrics.advance*t.scale+i:0}function Cu(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function Au(e,t,n){var r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Mu(e,t,n,r,i,a){for(var o=null,s=Cu(t,n,i,a),u=0,l=r;u<l.length;u+=1){var c=l[u],f=Cu(t-c.x,n,i,a)+c.badness;f<=s&&(o=c,s=f)}return{index:e,x:t,priorBreak:o,badness:s}}function Pu(e,t,n,r,i,a,o){if("point"!==a)return[];if(!e)return[];for(var s,u=[],l=function(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var u=e.getSection(s);o+=Tu(e.getCharCode(s),u,r,i,t,a)}return o/Math.max(1,Math.ceil(o/n))}(e,t,n,r,i,o),c=e.text.indexOf("\u200b")>=0,f=0,p=0;p<e.length();p++){var d=e.getSection(p),h=e.getCharCode(p);if(ku[h]||(f+=Tu(h,d,r,i,t,o)),p<e.length()-1){var v=!((s=h)<11904||!(qr["Bopomofo Extended"](s)||qr.Bopomofo(s)||qr["CJK Compatibility Forms"](s)||qr["CJK Compatibility Ideographs"](s)||qr["CJK Compatibility"](s)||qr["CJK Radicals Supplement"](s)||qr["CJK Strokes"](s)||qr["CJK Symbols and Punctuation"](s)||qr["CJK Unified Ideographs Extension A"](s)||qr["CJK Unified Ideographs"](s)||qr["Enclosed CJK Letters and Months"](s)||qr["Halfwidth and Fullwidth Forms"](s)||qr.Hiragana(s)||qr["Ideographic Description Characters"](s)||qr["Kangxi Radicals"](s)||qr["Katakana Phonetic Extensions"](s)||qr.Katakana(s)||qr["Vertical Forms"](s)||qr["Yi Radicals"](s)||qr["Yi Syllables"](s)));(Ou[h]||v||d.imageName)&&u.push(Mu(p+1,f,l,u,Au(h,e.getCharCode(p+1),v&&c),!1))}}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Mu(e.length(),f,l,u,0,!0))}function Iu(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Ru(e,t,n,r,i){if(r||i)for(var a=e[n],o=(e[n].x+a.metrics.advance*a.scale)*r,s=t;s<=n;s++)e[s].x-=o,e[s].y+=i}function ju(e,t,n,r,i,a){var o,s=e.image;if(s.content){var u=s.content,l=s.pixelRatio||1;o=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,f,p,d,h=t.left*a,v=t.right*a;"width"===n||"both"===n?(d=i[0]+h-r[3],f=i[0]+v+r[1]):f=(d=i[0]+(h+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*a,y=t.bottom*a;return"height"===n||"both"===n?(c=i[1]+m-r[0],p=i[1]+y+r[2]):p=(c=i[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:p,left:d,collisionPadding:o}}Ou[10]=!0,Ou[32]=!0,Ou[38]=!0,Ou[40]=!0,Ou[41]=!0,Ou[43]=!0,Ou[45]=!0,Ou[47]=!0,Ou[173]=!0,Ou[183]=!0,Ou[8203]=!0,Ou[8208]=!0,Ou[8211]=!0,Ou[8231]=!0;var Lu=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(i);function Nu(e,t){var n=t.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(e+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;for(var o=a=Math.max(0,a-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],u=r[o];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:i}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new si(s)),maxSize:n.evaluate(new si(u)),interpolationType:i}}function Du(e,t,n){var r=t.uSize,i=n.lowerSize;return"source"===e.kind?i/128:"composite"===e.kind?Wt(i/128,n.upperSize/128,t.uSizeT):r}function Fu(e,t){var n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){var i=e.interpolationType,a=i?c(on.interpolationFactor(i,t,e.minZoom,e.maxZoom),0,1):0;"camera"===e.kind?r=Wt(e.minSize,e.maxSize,a):n=a}return{uSizeT:n,uSize:r}}Fr("Anchor",Lu);var zu=Object.freeze({__proto__:null,getSizeData:Nu,evaluateSizeForFeature:Du,evaluateSizeForZoom:Fu,SIZE_PACK_FACTOR:128});function Bu(e,t,n,r,i){if(void 0===t.segment)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(--o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var u=[],l=0;s<n/2;){var c=e[o],f=e[o+1];if(!f)return!1;var p=e[o-1].angleTo(c)-c.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;o++,s+=c.dist(f)}return!0}function Uu(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Vu(e,t,n){return e?.6*t*n:0}function Hu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Wu(e,t,n,r,i,a){for(var o=Vu(n,i,a),s=Hu(n,r)*a,u=0,l=Uu(e)/2,c=0;c<e.length-1;c++){var f=e[c],p=e[c+1],d=f.dist(p);if(u+d>l){var h=(l-u)/d,v=Wt(f.x,p.x,h),m=Wt(f.y,p.y,h),y=new Lu(v,m,p.angleTo(f),c);return y._round(),!o||Bu(e,y,s,o,t)?y:void 0}u+=d}}function qu(e,t,n,r,i,a,o,s,u){var l=Vu(r,a,o),c=Hu(r,i),f=c*o,p=0===e[0].x||e[0].x===u||0===e[0].y||e[0].y===u;return t-f<t/4&&(t=f+t/4),function e(t,n,r,i,a,o,s,u,l){for(var c=o/2,f=Uu(t),p=0,d=n-r,h=[],v=0;v<t.length-1;v++){for(var m=t[v],y=t[v+1],g=m.dist(y),b=y.angleTo(m);d+r<p+g;){var _=((d+=r)-p)/g,x=Wt(m.x,y.x,_),w=Wt(m.y,y.y,_);if(x>=0&&x<l&&w>=0&&w<l&&d-c>=0&&d+c<=f){var E=new Lu(x,w,b,v);E._round(),i&&!Bu(t,E,o,i,a)||h.push(E)}}p+=g}return u||h.length||s||(h=e(t,p/2,r,i,a,o,s,!0,l)),h}(e,p?t/2*s%t:(c/2+2*a)*o*s%t,t,l,n,f,p,!1,u)}function Gu(e,t,n,r,a){for(var o=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],p=u[c+1];f.x<t&&p.x<t||(f.x<t?f=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x<t&&(p=new i(t,f.y+(t-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y<n&&p.y<n||(f.y<n?f=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round():p.y<n&&(p=new i(f.x+(n-f.y)/(p.y-f.y)*(p.x-f.x),n)._round()),f.x>=r&&p.x>=r||(f.x>=r?f=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round():p.x>=r&&(p=new i(r,f.y+(r-f.x)/(p.x-f.x)*(p.y-f.y))._round()),f.y>=a&&p.y>=a||(f.y>=a?f=new i(f.x+(a-f.y)/(p.y-f.y)*(p.x-f.x),a)._round():p.y>=a&&(p=new i(f.x+(a-f.y)/(p.y-f.y)*(p.x-f.x),a)._round()),l&&f.equals(l[l.length-1])||o.push(l=[f]),l.push(p)))))}return o}function Zu(e,t,n,r){var a=[],o=e.image,s=o.pixelRatio,u=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,f=e.bottom-e.top,p=o.stretchX||[[0,u]],d=o.stretchY||[[0,l]],h=function(e,t){return e+t[1]-t[0]},v=p.reduce(h,0),m=d.reduce(h,0),y=u-v,g=l-m,b=0,_=v,x=0,w=m,E=0,S=y,k=0,O=g;if(o.content&&r){var T=o.content;b=Yu(p,0,T[0]),x=Yu(d,0,T[1]),_=Yu(p,T[0],T[2]),w=Yu(d,T[1],T[3]),E=T[0]-b,k=T[1]-x,S=T[2]-T[0]-_,O=T[3]-T[1]-w}var C=function(r,a,u,l){var p=Ku(r.stretch-b,_,c,e.left),d=Ju(r.fixed-E,S,r.stretch,v),h=Ku(a.stretch-x,w,f,e.top),y=Ju(a.fixed-k,O,a.stretch,m),g=Ku(u.stretch-b,_,c,e.left),T=Ju(u.fixed-E,S,u.stretch,v),C=Ku(l.stretch-x,w,f,e.top),A=Ju(l.fixed-k,O,l.stretch,m),M=new i(p,h),P=new i(g,h),I=new i(g,C),R=new i(p,C),j=new i(d/s,y/s),L=new i(T/s,A/s),N=t*Math.PI/180;if(N){var D=Math.sin(N),F=Math.cos(N),z=[F,-D,D,F];M._matMult(z),P._matMult(z),R._matMult(z),I._matMult(z)}var B=r.stretch+r.fixed,U=a.stretch+a.fixed;return{tl:M,tr:P,bl:R,br:I,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+U,w:u.stretch+u.fixed-B,h:l.stretch+l.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:j,pixelOffsetBR:L,minFontScaleX:S/s/c,minFontScaleY:O/s/f,isSDF:n}};if(r&&(o.stretchX||o.stretchY))for(var A=Xu(p,y,v),M=Xu(d,g,m),P=0;P<A.length-1;P++)for(var I=A[P],R=A[P+1],j=0;j<M.length-1;j++)a.push(C(I,M[j],R,M[j+1]));else a.push(C({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return a}function Yu(e,t,n){for(var r=0,i=0,a=e;i<a.length;i+=1){var o=a[i];r+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}return r}function Xu(e,t,n){for(var r=[{fixed:-1,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],u=o[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return r.push({fixed:t+1,stretch:n}),r}function Ku(e,t,n,r){return e/t*n+r}function Ju(e,t,n,r){return e-t*n/r}var Qu=function(e,t,n,r,a,o,s,u,l,c){if(this.boxStartIndex=e.length,l){var f=o.top,p=o.bottom,d=o.collisionPadding;d&&(f-=d[1],p+=d[3]);var h=p-f;h>0&&(h=Math.max(10,h),this.circleDiameter=h)}else{var v=o.top*s-u,m=o.bottom*s+u,y=o.left*s-u,g=o.right*s+u,b=o.collisionPadding;if(b&&(y-=b[0]*s,v-=b[1]*s,g+=b[2]*s,m+=b[3]*s),c){var _=new i(y,v),x=new i(g,v),w=new i(y,m),E=new i(g,m),S=c*Math.PI/180;_._rotate(S),x._rotate(S),w._rotate(S),E._rotate(S),y=Math.min(_.x,x.x,w.x,E.x),g=Math.max(_.x,x.x,w.x,E.x),v=Math.min(_.y,x.y,w.y,E.y),m=Math.max(_.y,x.y,w.y,E.y)}e.emplaceBack(t.x,t.y,y,v,g,m,n,r,a)}this.boxEndIndex=e.length},$u=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=el),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function el(e,t){return e<t?-1:e>t?1:0}function tl(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var r=1/0,a=1/0,o=-1/0,s=-1/0,u=e[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<r)&&(r=c.x),(!l||c.y<a)&&(a=c.y),(!l||c.x>o)&&(o=c.x),(!l||c.y>s)&&(s=c.y)}var f=Math.min(o-r,s-a),p=f/2,d=new $u([],nl);if(0===f)return new i(r,a);for(var h=r;h<o;h+=f)for(var v=a;v<s;v+=f)d.push(new rl(h+p,v+p,p,e));for(var m=function(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var u=i[a],l=i[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,r+=(u.y+l.y)*c,t+=3*c}return new rl(n/t,r/t,0,e)}(e),y=d.length;d.length;){var g=d.pop();(g.d>m.d||!m.d)&&(m=g,n&&console.log("found best %d after %d probes",Math.round(1e4*g.d)/1e4,y)),g.max-m.d<=t||(d.push(new rl(g.p.x-(p=g.h/2),g.p.y-p,p,e)),d.push(new rl(g.p.x+p,g.p.y-p,p,e)),d.push(new rl(g.p.x-p,g.p.y+p,p,e)),d.push(new rl(g.p.x+p,g.p.y+p,p,e)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+m.d)),m.p}function nl(e,t){return t.max-e.max}function rl(e,t,n,r){this.p=new i(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,u=s-1;o<s;u=o++){var l=a[o],c=a[u];l.y>e.y!=c.y>e.y&&e.x<(c.x-l.x)*(e.y-l.y)/(c.y-l.y)+l.x&&(n=!n),r=Math.min(r,Ka(e,l,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}$u.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},$u.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},$u.prototype.peek=function(){return this.data[0]},$u.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},$u.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i};var il=Number.POSITIVE_INFINITY;function al(e,t){return t[1]!==il?function(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function ol(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sl(e,t,n,r,a,o,s,u,l,c,f,p,d,h,v){var m=function(e,t,n,r,a,o,s,u){for(var l=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,c=[],f=0,p=t.positionedLines;f<p.length;f+=1)for(var d=p[f],h=0,v=d.positionedGlyphs;h<v.length;h+=1){var m=v[h];if(m.rect){var y=m.rect||{},g=4,b=!0,_=1,x=0,w=(a||u)&&m.vertical,E=m.metrics.advance*m.scale/2;if(u&&t.verticalizable&&(x=d.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var S=s[m.imageName];b=S.sdf,g=1/(_=S.pixelRatio)}var k=a?[m.x+E,m.y]:[0,0],O=a?[0,0]:[m.x+E+n[0],m.y+n[1]-x],T=[0,0];w&&(T=O,O=[0,0]);var C=(m.metrics.left-g)*m.scale-E+O[0],A=(-m.metrics.top-g)*m.scale+O[1],M=C+y.w*m.scale/_,P=A+y.h*m.scale/_,I=new i(C,A),R=new i(M,A),j=new i(C,P),L=new i(M,P);if(w){var N=new i(-E,E- -17),D=-Math.PI/2,F=12-E,z=new i(22-F,-(m.imageName?F:0)),B=new(Function.prototype.bind.apply(i,[null].concat(T)));I._rotateAround(D,N)._add(z)._add(B),R._rotateAround(D,N)._add(z)._add(B),j._rotateAround(D,N)._add(z)._add(B),L._rotateAround(D,N)._add(z)._add(B)}if(l){var U=Math.sin(l),V=Math.cos(l),H=[V,-U,U,V];I._matMult(H),R._matMult(H),j._matMult(H),L._matMult(H)}var W=new i(0,0),q=new i(0,0);c.push({tl:I,tr:R,bl:j,br:L,tex:y,writingMode:t.writingMode,glyphOffset:k,sectionIndex:m.sectionIndex,isSDF:b,pixelOffsetTL:W,pixelOffsetBR:q,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,a,o,s,r,e.allowVerticalPlacement),y=e.textSizeData,g=null;"source"===y.kind?(g=[128*a.layout.get("text-size").evaluate(s,{})])[0]>32640&&E(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((g=[128*h.compositeTextSizes[0].evaluate(s,{},v),128*h.compositeTextSizes[1].evaluate(s,{},v)])[0]>32640||g[1]>32640)&&E(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),e.addSymbols(e.text,m,g,u,o,s,c,t,l.lineStartIndex,l.lineLength,d,v);for(var b=0,_=f;b<_.length;b+=1)p[_[b]]=e.text.placedSymbolArray.length-1;return 4*m.length}function ul(e){for(var t in e)return e[t];return null}function ll(e,t,n,r){var i=e.compareText;if(t in i){for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0}else i[t]=[];return i[t].push(r),!1}var cl=_s.VectorTileFeature.types,fl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pl(e,t,n,r,i,a,o,s,u,l,c,f,p){var d=s?Math.min(32640,Math.round(s[0])):0,h=s?Math.min(32640,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),a,o,(d<<1)+(u?1:0),h,16*l,16*c,256*f,256*p)}function dl(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function hl(e){for(var t=0,n=e.sections;t<n.length;t+=1)if(Jr(n[t].text))return!0;return!1}var vl=function(e){this.layoutVertexArray=new ji,this.indexArray=new Ui,this.programConfigurations=e,this.segments=new sa,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Ni,this.placedSymbolArray=new $i};vl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},vl.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,fl,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},vl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fr("SymbolBuffers",vl);var ml=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new sa,this.collisionVertexArray=new Bi};ml.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Hs.members,!0)},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fr("CollisionBuffers",ml);var yl=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=oo([]),this.placementViewportMatrix=oo([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nu(this.zoom,t["text-size"]),this.iconSizeData=Nu(this.zoom,t["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(e){return xu[e]}))),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};yl.prototype.createArrays=function(){this.text=new vl(new ja(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new vl(new ja(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new na,this.lineVertexArray=new ra,this.symbolInstances=new ta},yl.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||r)&&i){var o=Zs[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},yl.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,a=i.get("text-font"),o=i.get("text-field"),s=i.get("icon-image"),u=("constant"!==o.value.kind||o.value.value instanceof rt&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],u||l){for(var f=t.iconDependencies,p=t.glyphDependencies,d=t.availableImages,h=new si(this.zoom),v=0,m=e;v<m.length;v+=1){var y=m[v],g=y.feature,b=y.id,_=y.index,x=y.sourceLayerIndex,w=r._featureFilter.needGeometry,E=Ba(g,w);if(r._featureFilter.filter(h,E,n)){w||(E.geometry=za(g));var S=void 0;if(u){var k=r.getValueAndResolveTokens("text-field",E,n,d),O=rt.factory(k);hl(O)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ii()||this.hasRTLText&&oi.isParsed())&&(S=Gs(O,r,E))}var T=void 0;if(l){var C=r.getValueAndResolveTokens("icon-image",E,n,d);T=C instanceof it?C:it.fromString(C)}if(S||T){var A=this.sortFeaturesByKey?c.evaluate(E,{},n):void 0;if(this.features.push({id:b,text:S,icon:T,index:_,sourceLayerIndex:x,geometry:E.geometry,properties:g.properties,type:cl[g.type],sortKey:A}),T&&(f[T.name]=!0),S){var M=a.evaluate(E,{},n).join(","),P="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(xu.vertical)>=0;for(var I=0,R=S.sections;I<R.length;I+=1){var j=R[I];if(j.image)f[j.image.name]=!0;else{var L=Gr(S.toString()),N=j.fontStack||M,D=p[N]=p[N]||{};this.calculateGlyphDependencies(j.text,D,P,this.allowVerticalPlacement,L)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function u(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var l=0;l<e.length;l++){var c=e[l],f=c.geometry,p=c.text?c.text.toString():null;if(p){var d=u(p,f),h=u(p,f,!0);if(d in n&&h in t&&n[d]!==t[h]){var v=s(d,h,f),m=o(d,h,r[v].geometry);delete t[d],delete n[h],n[u(p,r[m].geometry,!0)]=m,r[v].geometry=null}else d in n?o(d,h,f):h in t?s(d,h,f):(a(l),t[d]=i-1,n[h]=i-1)}else a(l)}return r.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},yl.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},yl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},yl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yl.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yl.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=a[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},yl.prototype.addSymbols=function(e,t,n,r,i,a,o,s,u,l,c,f){for(var p=e.indexArray,d=e.layoutVertexArray,h=e.segments.prepareSegment(4*t.length,d,p,this.canOverlap?a.sortKey:void 0),v=this.glyphOffsetArray.length,m=h.vertexLength,y=this.allowVerticalPlacement&&o===xu.vertical?Math.PI/2:0,g=a.text&&a.text.sections,b=0;b<t.length;b++){var _=t[b],x=_.tl,w=_.tr,E=_.bl,S=_.br,k=_.tex,O=_.pixelOffsetTL,T=_.pixelOffsetBR,C=_.minFontScaleX,A=_.minFontScaleY,M=_.glyphOffset,P=_.isSDF,I=_.sectionIndex,R=h.vertexLength,j=M[1];pl(d,s.x,s.y,x.x,j+x.y,k.x,k.y,n,P,O.x,O.y,C,A),pl(d,s.x,s.y,w.x,j+w.y,k.x+k.w,k.y,n,P,T.x,O.y,C,A),pl(d,s.x,s.y,E.x,j+E.y,k.x,k.y+k.h,n,P,O.x,T.y,C,A),pl(d,s.x,s.y,S.x,j+S.y,k.x+k.w,k.y+k.h,n,P,T.x,T.y,C,A),dl(e.dynamicLayoutVertexArray,s,y),p.emplaceBack(R,R+1,R+2),p.emplaceBack(R+1,R+2,R+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(M[0]),b!==t.length-1&&I===t[b+1].sectionIndex||e.programConfigurations.populatePaintArrays(d.length,a,a.index,{},f,g&&g[I])}e.placedSymbolArray.emplaceBack(s.x,s.y,v,this.glyphOffsetArray.length-v,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,c)},yl.prototype._addCollisionDebugVertex=function(e,t,n,r,i,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(a.x),Math.round(a.y))},yl.prototype.addCollisionDebugVertices=function(e,t,n,r,a,o,s){var u=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),l=u.vertexLength,c=a.layoutVertexArray,f=a.collisionVertexArray,p=s.anchorX,d=s.anchorY;this._addCollisionDebugVertex(c,f,o,p,d,new i(e,t)),this._addCollisionDebugVertex(c,f,o,p,d,new i(n,t)),this._addCollisionDebugVertex(c,f,o,p,d,new i(n,r)),this._addCollisionDebugVertex(c,f,o,p,d,new i(e,r)),u.vertexLength+=4;var h=a.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),u.primitiveLength+=4},yl.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n)}},yl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ml(Fi,Ws.members,Zi),this.iconCollisionBox=new ml(Fi,Ws.members,Zi);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},yl.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,a,o,s,u){for(var l={},c=t;c<n;c++){var f=e.get(c);l.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.textFeatureIndex=f.featureIndex;break}for(var p=r;p<i;p++){var d=e.get(p);l.verticalTextBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.verticalTextFeatureIndex=d.featureIndex;break}for(var h=a;h<o;h++){var v=e.get(h);l.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},l.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<u;m++){var y=e.get(m);l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}return l},yl.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},yl.prototype.hasTextData=function(){return this.text.segments.get().length>0},yl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yl.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},yl.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(0|Math.round(t*s.anchorX+n*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(e,t){return r[e]-r[t]||i[t]-i[e]})),a},yl.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},yl.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Fr("SymbolBucket",yl,{omit:["layers","collisionBoxArray","features","compareText"]}),yl.MAX_GLYPHS=65535,yl.addDynamicAttributes=dl;var gl=new xi({"symbol-placement":new mi(Ae.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Ae.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Ae.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Ae.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Ae.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Ae.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Ae.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Ae.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Ae.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Ae.layout_symbol["icon-size"]),"icon-text-fit":new mi(Ae.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Ae.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Ae.layout_symbol["icon-image"]),"icon-rotate":new yi(Ae.layout_symbol["icon-rotate"]),"icon-padding":new mi(Ae.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Ae.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Ae.layout_symbol["icon-offset"]),"icon-anchor":new yi(Ae.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Ae.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Ae.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Ae.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Ae.layout_symbol["text-field"]),"text-font":new yi(Ae.layout_symbol["text-font"]),"text-size":new yi(Ae.layout_symbol["text-size"]),"text-max-width":new yi(Ae.layout_symbol["text-max-width"]),"text-line-height":new mi(Ae.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Ae.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Ae.layout_symbol["text-justify"]),"text-radial-offset":new yi(Ae.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Ae.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Ae.layout_symbol["text-anchor"]),"text-max-angle":new mi(Ae.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Ae.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Ae.layout_symbol["text-rotate"]),"text-padding":new mi(Ae.layout_symbol["text-padding"]),"text-keep-upright":new mi(Ae.layout_symbol["text-keep-upright"]),"text-transform":new yi(Ae.layout_symbol["text-transform"]),"text-offset":new yi(Ae.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Ae.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Ae.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Ae.layout_symbol["text-optional"])}),bl={paint:new xi({"icon-opacity":new yi(Ae.paint_symbol["icon-opacity"]),"icon-color":new yi(Ae.paint_symbol["icon-color"]),"icon-halo-color":new yi(Ae.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Ae.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Ae.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Ae.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Ae.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Ae.paint_symbol["text-opacity"]),"text-color":new yi(Ae.paint_symbol["text-color"],{runtimeType:Ue,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new yi(Ae.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Ae.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Ae.paint_symbol["text-halo-blur"]),"text-translate":new mi(Ae.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Ae.paint_symbol["text-translate-anchor"])}),layout:gl},_l=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:De,this.defaultValue=e};_l.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification["default"]},_l.prototype.eachChild=function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)},_l.prototype.outputDefined=function(){return!1},_l.prototype.serialize=function(){return null},Fr("FormatSectionOverride",_l,{omit:["defaultValue"]});var xl=function(e){function t(t){e.call(this,t,bl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],a=0,o=r;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return a.isDataDriven()||Gn(a.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,n){return n in e?String(e[n]):""}))}(t.properties,i)},t.prototype.createBucket=function(e){return new yl(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=bl.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i,a=this.paint.get(r),o=new _l(a),s=new qn(o,a.property.specification);i="constant"===a.value.kind||"source"===a.value.kind?new Yn("source",s):new Xn("composite",s,a.value.zoomStops,a.value._interpolationType),this.paint._values[r]=new hi(a.property,i,a.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get("text-field"),r=bl.paint.properties[t],i=!1,a=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r.overrides&&r.overrides.hasOverride(n[t]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof rt)a(n.value.value.sections);else if("source"===n.value.kind){var o=function e(t){i||(t instanceof lt&&st(t.value)===qe?a(t.value.sections):t instanceof dt?a(t.sections):t.eachChild(e))},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i},t}(wi),wl={paint:new xi({"background-color":new mi(Ae.paint_background["background-color"]),"background-pattern":new bi(Ae.paint_background["background-pattern"]),"background-opacity":new mi(Ae.paint_background["background-opacity"])})},El=function(e){function t(t){e.call(this,t,wl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Sl={paint:new xi({"raster-opacity":new mi(Ae.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Ae.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Ae.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Ae.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Ae.paint_raster["raster-saturation"]),"raster-contrast":new mi(Ae.paint_raster["raster-contrast"]),"raster-resampling":new mi(Ae.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Ae.paint_raster["raster-fade-duration"])})},kl=function(e){function t(t){e.call(this,t,Sl)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(wi),Ol=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(wi),Tl={circle:fo,heatmap:wo,hillshade:So,fill:cs,"fill-extrusion":Ts,line:zs,symbol:xl,background:El,raster:kl},Cl=o.HTMLImageElement,Al=o.HTMLCanvasElement,Ml=o.HTMLVideoElement,Pl=o.ImageData,Il=o.ImageBitmap,Rl=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};Rl.prototype.update=function(e,t,n){var r=e.width,i=e.height,a=!(this.size&&this.size[0]===r&&this.size[1]===i||n),o=this.context,s=o.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),a)this.size=[r,i],e instanceof Cl||e instanceof Al||e instanceof Ml||e instanceof Pl||Il&&e instanceof Il?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;e instanceof Cl||e instanceof Al||e instanceof Ml||e instanceof Pl||Il&&e instanceof Il?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,c,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Rl.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},Rl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Rl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var jl=function(e){var t=this;this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};jl.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))},jl.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Ll=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new jl(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=O()?e:o};function Nl(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}Ll.prototype.send=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=A(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Vr(t,s)},s),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:a.mapId})}}},Ll.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else O()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},Ll.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},Ll.prototype.processTask=function(e,t){var n=this;if("<response>"===t.type){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Hr(t.error)):r(null,Hr(t.data)))}else{var i=!1,a=A(this.globalScope)?void 0:[],o=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:"<response>",sourceMapId:n.mapId,error:t?Vr(t):null,data:Vr(r,a)},a)}:function(e){i=!0},s=null,u=Hr(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,u,o);else if(this.parent.getWorkerSource){var l=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,l[0],u.source)[l[1]](u,o)}else o(new Error("Could not find function "+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},Ll.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Dl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};Dl.prototype.setNorthEast=function(e){return this._ne=e instanceof Fl?new Fl(e.lng,e.lat):Fl.convert(e),this},Dl.prototype.setSouthWest=function(e){return this._sw=e instanceof Fl?new Fl(e.lng,e.lat):Fl.convert(e),this},Dl.prototype.extend=function(e){var t,n,r=this._sw,i=this._ne;if(e instanceof Fl)t=e,n=e;else{if(!(e instanceof Dl))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Dl.convert(e)):this.extend(Fl.convert(e)):this;if(n=e._ne,!(t=e._sw)||!n)return this}return r||i?(r.lng=Math.min(t.lng,r.lng),r.lat=Math.min(t.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Fl(t.lng,t.lat),this._ne=new Fl(n.lng,n.lat)),this},Dl.prototype.getCenter=function(){return new Fl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Dl.prototype.getSouthWest=function(){return this._sw},Dl.prototype.getNorthEast=function(){return this._ne},Dl.prototype.getNorthWest=function(){return new Fl(this.getWest(),this.getNorth())},Dl.prototype.getSouthEast=function(){return new Fl(this.getEast(),this.getSouth())},Dl.prototype.getWest=function(){return this._sw.lng},Dl.prototype.getSouth=function(){return this._sw.lat},Dl.prototype.getEast=function(){return this._ne.lng},Dl.prototype.getNorth=function(){return this._ne.lat},Dl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Dl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Dl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Dl.prototype.contains=function(e){var t=Fl.convert(e),n=t.lng,r=t.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},Dl.convert=function(e){return!e||e instanceof Dl?e:new Dl(e)};var Fl=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fl.prototype.wrap=function(){return new Fl(f(this.lng,-180,180),this.lat)},Fl.prototype.toArray=function(){return[this.lng,this.lat]},Fl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fl.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return 6371008.8*Math.acos(Math.min(i,1))},Fl.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Dl(new Fl(this.lng-n,this.lat-t),new Fl(this.lng+n,this.lat+t))},Fl.convert=function(e){if(e instanceof Fl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Fl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Fl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var zl=2*Math.PI*6371008.8;function Bl(e){return zl*Math.cos(e*Math.PI/180)}function Ul(e){return(180+e)/360}function Vl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Hl(e,t){return e/Bl(t)}function Wl(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}var ql=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};ql.fromLngLat=function(e,t){void 0===t&&(t=0);var n=Fl.convert(e);return new ql(Ul(n.lng),Vl(n.lat),Hl(t,n.lat))},ql.prototype.toLngLat=function(){return new Fl(360*this.x-180,Wl(this.y))},ql.prototype.toAltitude=function(){return this.z*Bl(Wl(this.y))},ql.prototype.meterInMercatorCoordinateUnits=function(){return 1/zl*(e=Wl(this.y),1/Math.cos(e*Math.PI/180));var e};var Gl=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Xl(0,e,e,t,n)};Gl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Gl.prototype.url=function(e,t){var n,r,i,a,o,s=(r=this.y,i=this.z,a=Nl(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),o=Nl(256*(n+1),256*(r+1),i),a[0]+","+a[1]+","+o[0]+","+o[1]),u=function(e,t,n){for(var r,i="",a=e;a>0;a--)i+=(t&(r=1<<a-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Gl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new i(8192*(e.x*t-this.x),8192*(e.y*t-this.y))},Gl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zl=function(e,t){this.wrap=e,this.canonical=t,this.key=Xl(e,t.z,t.z,t.x,t.y)},Yl=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Gl(n,+r,+i),this.key=Xl(t,e,n,r,i)};function Xl(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);var a=1<<n;return(a*a*e+a*i+r).toString(36)+n.toString(36)+t.toString(36)}Yl.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Yl.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Yl(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yl(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Yl.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?Xl(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Xl(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},Yl.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Yl.prototype.children=function(e){if(this.overscaledZ>=e)return[new Yl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Yl(t,this.wrap,t,n,r),new Yl(t,this.wrap,t,n+1,r),new Yl(t,this.wrap,t,n,r+1),new Yl(t,this.wrap,t,n+1,r+1)]},Yl.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Yl.prototype.wrapped=function(){return new Yl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Yl.prototype.unwrapTo=function(e){return new Yl(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Yl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Yl.prototype.toUnwrapped=function(){return new Zl(this.wrap,this.canonical)},Yl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Yl.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new ql(e.x-this.wrap,e.y))},Fr("CanonicalTileID",Gl),Fr("OverscaledTileID",Yl,{omit:["posMatrix"]});var Kl=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return E('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Kl.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Kl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Kl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Kl.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},Kl.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},Kl.prototype.getPixels=function(){return new bo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kl.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:a=o-1;break;case 1:o=a+1}for(var s=-t*this.dim,u=-n*this.dim,l=a;l<o;l++)for(var c=r;c<i;c++)this.data[this._idx(c,l)]=e.data[this._idx(c+s,l+u)]},Fr("DEMData",Kl);var Jl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};Jl.prototype.encode=function(e){return this._stringToNumber[e]},Jl.prototype.decode=function(e){return this._numberToString[e]};var Ql=function(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},$l={geometry:{configurable:!0}};$l.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},$l.geometry.set=function(e){this._geometry=e},Ql.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Ql.prototype,$l);var ec=function(){this.state={},this.stateChanges={},this.deletedStates={}};ec.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},p(this.stateChanges[e][r],n),null===this.deletedStates[e])for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][r])for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&null===this.deletedStates[e][r][o]&&delete this.deletedStates[e][r][o]},ec.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},ec.prototype.getState=function(e,t){var n=String(t),r=p({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var i=this.deletedStates[e][t];if(null===i)return{};for(var a in i)delete r[a]}return r},ec.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},ec.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),p(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var u in this.state[o])s[u]={},this.state[o][u]={};else for(var l in this.deletedStates[o]){if(null===this.deletedStates[o][l])this.state[o][l]={};else for(var c=0,f=Object.keys(this.deletedStates[o][l]);c<f.length;c+=1)delete this.state[o][l][f[c]];s[l]=this.state[o][l]}n[o]=n[o]||{},p(n[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in e)e[d].setFeatureState(n,t)};var tc=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Rr(8192,16,0),this.grid3D=new Rr(8192,16,0),this.featureIndexArray=new aa,this.promoteId=t};function nc(e,t,n,r,i){return b(e,(function(e,a){var o=t instanceof vi?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o}))}function rc(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function ic(e,t){return t-e}tc.prototype.insert=function(e,t,n,r,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=a?this.grid3D:this.grid,u=0;u<t.length;u++){for(var l=t[u],c=[1/0,1/0,-1/0,-1/0],f=0;f<l.length;f++){var p=l[f];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(o,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Jl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(e,t,n,r){var a=this;this.loadVTLayers();for(var o=e.params||{},s=8192/e.tileSize/e.scale,u=or(o.filter),l=e.queryGeometry,c=e.queryPadding*s,f=rc(l),p=this.grid.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c),d=rc(e.cameraQueryGeometry),h=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,(function(t,n,r,a){return function(e,t,n,r,a){for(var o=0,s=e;o<s.length;o+=1){var u=s[o];if(t<=u.x&&n<=u.y&&r>=u.x&&a>=u.y)return!0}var l=[new i(t,n),new i(t,a),new i(r,a),new i(r,n)];if(e.length>2)for(var c=0,f=l;c<f.length;c+=1)if(Qa(e,f[c]))return!0;for(var p=0;p<e.length-1;p++)if($a(e[p],e[p+1],l))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,r+c,a+c)})),v=0,m=h;v<m.length;v+=1)p.push(m[v]);p.sort(ic);for(var y,g={},b=function(i){var c=p[i];if(c!==y){y=c;var f=a.featureIndexArray.get(c),d=null;a.loadMatchingFeature(g,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,u,o.layers,o.availableImages,t,n,r,(function(t,n,r){return d||(d=za(t)),n.queryIntersectsFeature(l,t,r,d,a.z,e.transform,s,e.pixelPosMatrix)}))}},_=0;_<p.length;_++)b(_);return g},tc.prototype.loadMatchingFeature=function(e,t,n,r,i,a,o,s,u,l,c){var f=this.bucketLayerIDs[t];if(!a||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(a,f)){var d=this.sourceLayerCoder.decode(n),h=this.vtLayers[d].feature(r);if(i.needGeometry){var v=Ba(h,!0);if(!i.filter(new si(this.tileID.overscaledZ),v,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),h))return;for(var m=this.getId(h,d),y=0;y<f.length;y++){var g=f[y];if(!(a&&a.indexOf(g)<0)){var b=s[g];if(b){var _={};void 0!==m&&l&&(_=l.getState(b.sourceLayer||"_geojsonTileLayer",m));var x=p({},u[g]);x.paint=nc(x.paint,b.paint,h,_,o),x.layout=nc(x.layout,b.layout,h,_,o);var w=!c||c(h,b,_);if(w){var E=new Ql(h,this.z,this.x,this.y,m);E.layer=x;var S=e[g];void 0===S&&(S=e[g]=[]),S.push({featureIndex:r,feature:E,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(e,t,n,r,i,a,o,s){var u={};this.loadVTLayers();for(var l=or(i),c=0,f=e;c<f.length;c+=1)this.loadMatchingFeature(u,n,r,f[c],l,a,o,s,t);return u},tc.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1)if(e===i[r])return!0;return!1},tc.prototype.getId=function(e,t){var n=e.id;return this.promoteId&&"boolean"==typeof(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(n=Number(n)),n},Fr("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var ac=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ac.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<F.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},ac.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},ac.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var r=function(){var e=a[i],r=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==r.length){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return r.filter((function(t){return t.id===e}))[0]})));for(var o=0,s=r;o<s.length;o+=1)n[s[o].id]=e}},i=0,a=e;i<a.length;i+=1)r();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof yl){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof yl&&o.hasRTLText){this.hasRTLText=!0,oi.isLoading()||oi.isLoaded()||"deferred"!==ii()||ai();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(u))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ji},ac.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ac.prototype.getBucket=function(e){return this.buckets[e.id]},ac.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rl(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rl(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},ac.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},ac.prototype.queryRenderedFeatures=function(e,t,n,r,i,a,o,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:o,queryPadding:this.queryPadding*u},e,t,n):{}},ac.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=t?t.sourceLayer:"",a=r._geojsonTileLayer||r[i];if(a)for(var o=or(t&&t.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,f={z:u,x:l,y:c},p=0;p<a.length;p++){var d=a.feature(p);if(o.needGeometry){var h=Ba(d,!0);if(!o.filter(new si(this.tileID.overscaledZ),h,this.tileID.canonical))continue}else if(!o.filter(new si(this.tileID.overscaledZ),d))continue;var v=n.getId(d,i),m=new Ql(d,u,l,c,v);m.tile=f,e.push(m)}}},ac.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},ac.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ac.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=T(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(t)if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ac.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},ac.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],a=i.layers[0].sourceLayer||"_geojsonTileLayer",o=n[a],s=e[a];if(o&&s&&0!==Object.keys(s).length){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=t&&t.style&&t.style.getLayer(r);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(i)))}}}},ac.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},ac.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<F.now()},ac.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ac.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=F.now()+e},ac.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[e]=n},ac.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var a=0,o=t;a<o.length;a+=1)if(i[o[a]])return!0}return!1};var oc=o.performance,sc=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},oc.mark(this._marks.start)};sc.prototype.finish=function(){oc.mark(this._marks.end);var e=oc.getEntriesByName(this._marks.measure);return 0===e.length&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),e=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),e},e.Actor=Ll,e.AlphaImage=go,e.CanonicalTileID=Gl,e.CollisionBoxArray=Ji,e.Color=et,e.DEMData=Kl,e.DataConstantProperty=mi,e.DictionaryCoder=Jl,e.EXTENT=8192,e.ErrorEvent=Te,e.EvaluationParameters=si,e.Event=Oe,e.Evented=Ce,e.FeatureIndex=tc,e.FillBucket=ss,e.FillExtrusionBucket=Ss,e.ImageAtlas=_u,e.ImagePosition=gu,e.LineBucket=Ls,e.LngLat=Fl,e.LngLatBounds=Dl,e.MercatorCoordinate=ql,e.ONE_EM=24,e.OverscaledTileID=Yl,e.Point=i,e.Point$1=i,e.Properties=xi,e.Protobuf=Ks,e.RGBAImage=bo,e.RequestManager=q,e.RequestPerformance=sc,e.ResourceType=he,e.SegmentVector=sa,e.SourceFeatureState=ec,e.StructArrayLayout1ui2=Yi,e.StructArrayLayout2f1f2i16=zi,e.StructArrayLayout2i4=Ci,e.StructArrayLayout3ui6=Ui,e.StructArrayLayout4i8=Ai,e.SymbolBucket=yl,e.Texture=Rl,e.Tile=ac,e.Transitionable=ci,e.Uniform1f=_a,e.Uniform1i=ba,e.Uniform2f=xa,e.Uniform3f=wa,e.Uniform4f=Ea,e.UniformColor=Sa,e.UniformMatrix4f=Oa,e.UnwrappedTileID=Zl,e.ValidationError=Me,e.WritingMode=xu,e.ZoomHistory=Wr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=dl,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),a=null;e.forEach((function(e,o){t(e,(function(e,t){e&&(a=e),i[o]=t,0==--r&&n(a,i)}))}))},e.bezier=u,e.bindAll=y,e.browser=F,e.cacheEntryPossiblyAdded=function(e){++pe>ue&&(e.getActor().send("enforceCacheSizeLimit",se),pe=0)},e.clamp=c,e.clearTileCache=function(e){var t=o.caches["delete"]("mapbox-tiles");e&&t["catch"](e).then((function(){return e()}))},e.clipLine=Gu,e.clone=function(e){var t=new ao(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=x,e.clone$2=function(e){var t=new ao(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=qs,e.config=z,e.create=function(){var e=new ao(16);return ao!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=function(){var e=new ao(9);return ao!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},e.create$2=function(){var e=new ao(4);return ao!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Zn,e.createLayout=Oi,e.createStyleLayer=function(e){return"custom"===e.type?new Ol(e):new Tl[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2];return e[0]=i*u-a*s,e[1]=a*o-r*u,e[2]=r*s-i*o,e},e.deepEqual=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=l,e.emitValidationErrors=Ir,e.endsWith=g,e.enforceCacheSizeLimit=function(e){le(),ee&&ee.then((function(t){t.keys().then((function(n){for(var r=0;r<n.length-e;r++)t["delete"](n[r])}))}))},e.evaluateSizeForFeature=Du,e.evaluateSizeForZoom=Fu,e.evaluateVariableOffset=al,e.evented=ri,e.extend=p,e.featureFilter=or,e.filterObject=_,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Iu,e.getAnchorJustification=ol,e.getArrayBuffer=_e,e.getImage=Ee,e.getJSON=function(e,t){return be(p(e,{type:"json"}),t)},e.getRTLTextPluginStatus=ii,e.getReferrer=ge,e.getVideo=function(e,t){var n,r,i=o.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(var a=0;a<e.length;a++){var s=o.document.createElement("source");n=e[a],r=void 0,(r=o.document.createElement("a")).href=n,(r.protocol!==o.document.location.protocol||r.host!==o.document.location.host)&&(i.crossOrigin="Anonymous"),s.src=e[a],i.appendChild(s)}return{cancel:function(){}}},e.identity=oo,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],y=t[15],g=n*s-r*o,b=n*u-i*o,_=n*l-a*o,x=r*u-i*s,w=r*l-a*s,E=i*l-a*u,S=c*v-f*h,k=c*m-p*h,O=c*y-d*h,T=f*m-p*v,C=f*y-d*v,A=p*y-d*m,M=g*A-b*C+_*T+x*O-w*k+E*S;return M?(e[0]=(s*A-u*C+l*T)*(M=1/M),e[1]=(i*C-r*A-a*T)*M,e[2]=(v*E-m*w+y*x)*M,e[3]=(p*w-f*E-d*x)*M,e[4]=(u*O-o*A-l*k)*M,e[5]=(n*A-i*O+a*k)*M,e[6]=(m*_-h*E-y*b)*M,e[7]=(c*E-p*_+d*b)*M,e[8]=(o*C-s*O+l*S)*M,e[9]=(r*O-n*C-a*S)*M,e[10]=(h*w-v*_+y*g)*M,e[11]=(f*_-c*w-d*g)*M,e[12]=(s*k-o*T-u*S)*M,e[13]=(n*T-r*k+i*S)*M,e[14]=(v*b-h*x-m*g)*M,e[15]=(c*x-f*b+p*g)*M,e):null},e.isChar=qr,e.isMapboxURL=G,e.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},e.makeRequest=be,e.mapObject=b,e.mercatorXfromLng=Ul,e.mercatorYfromLat=Vl,e.mercatorZfromAltitude=Hl,e.mul=lo,e.multiply=so,e.mvt=_s,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e},e.number=Wt,e.offscreenCanvasSupported=de,e.ortho=function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ks(e).readFields(hu,[])},e.pbf=Ks,e.performSymbolLayout=function(e,t,n,r,i,a,o){e.createArrays(),e.tilePixelRatio=8192/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,u=e.layers[0]._unevaluatedLayout._values,l={};if("composite"===e.textSizeData.kind){var c=e.textSizeData,f=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new si(c.minZoom),o),u["text-size"].possiblyEvaluate(new si(f),o)]}if("composite"===e.iconSizeData.kind){var p=e.iconSizeData,d=p.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new si(p.minZoom),o),u["icon-size"].possiblyEvaluate(new si(d),o)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new si(e.zoom+1),o),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new si(e.zoom+1),o),l.textMaxSize=u["text-size"].possiblyEvaluate(new si(18));for(var h=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),y=s.get("text-size"),g=function(){var a=_[b],u=s.get("text-font").evaluate(a,{},o).join(","),c=y.evaluate(a,{},o),f=l.layoutTextSize.evaluate(a,{},o),p=l.layoutIconSize.evaluate(a,{},o),d={horizontal:{},vertical:void 0},g=a.text,x=[0,0];if(g){var w=g.toString(),S=24*s.get("text-letter-spacing").evaluate(a,{},o),k=function(e){for(var t=0,n=e;t<n.length;t+=1)if(r=n[t].charCodeAt(0),qr.Arabic(r)||qr["Arabic Supplement"](r)||qr["Arabic Extended-A"](r)||qr["Arabic Presentation Forms-A"](r)||qr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(w)?S:0,O=s.get("text-anchor").evaluate(a,{},o),T=s.get("text-variable-anchor");if(!T){var C=s.get("text-radial-offset").evaluate(a,{},o);x=C?al(O,[24*C,il]):s.get("text-offset").evaluate(a,{},o).map((function(e){return 24*e}))}var A=v?"center":s.get("text-justify").evaluate(a,{},o),M=s.get("symbol-placement"),P="point"===M?24*s.get("text-max-width").evaluate(a,{},o):0,I=function(){e.allowVerticalPlacement&&Gr(w)&&(d.vertical=Su(g,t,n,i,u,P,h,O,"left",k,x,xu.vertical,!0,M,f,c))};if(!v&&T){for(var R="auto"===A?T.map((function(e){return ol(e)})):[A],j=!1,L=0;L<R.length;L++){var N=R[L];if(!d.horizontal[N])if(j)d.horizontal[N]=d.horizontal[0];else{var D=Su(g,t,n,i,u,P,h,"center",N,k,x,xu.horizontal,!1,M,f,c);D&&(d.horizontal[N]=D,j=1===D.positionedLines.length)}}I()}else{"auto"===A&&(A=ol(O));var F=Su(g,t,n,i,u,P,h,O,A,k,x,xu.horizontal,!1,M,f,c);F&&(d.horizontal[A]=F),I(),Gr(w)&&v&&m&&(d.vertical=Su(g,t,n,i,u,P,h,O,A,k,x,xu.vertical,!1,M,f,c))}}var z=void 0,B=!1;if(a.icon&&a.icon.name){var U=r[a.icon.name];U&&(z=function(e,t,n){var r=Iu(n),i=t[0]-e.displaySize[0]*r.horizontalAlign,a=t[1]-e.displaySize[1]*r.verticalAlign;return{image:e,top:a,bottom:a+e.displaySize[1],left:i,right:i+e.displaySize[0]}}(i[a.icon.name],s.get("icon-offset").evaluate(a,{},o),s.get("icon-anchor").evaluate(a,{},o)),B=U.sdf,void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=ul(d.horizontal)||d.vertical;e.iconsInText=!!V&&V.iconsInText,(V||z)&&function(e,t,n,r,i,a,o,s,u,l,c){var f=a.textMaxSize.evaluate(t,{});void 0===f&&(f=o);var p,d=e.layers[0].layout,h=d.get("icon-offset").evaluate(t,{},c),v=ul(n.horizontal),m=o/24,y=e.tilePixelRatio*m,g=e.tilePixelRatio*f/24,b=e.tilePixelRatio*s,_=e.tilePixelRatio*d.get("symbol-spacing"),x=d.get("text-padding")*e.tilePixelRatio,w=d.get("icon-padding")*e.tilePixelRatio,S=d.get("text-max-angle")/180*Math.PI,k="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),O="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),T=d.get("symbol-placement"),C=_/2,A=d.get("icon-text-fit");r&&"none"!==A&&(e.allowVerticalPlacement&&n.vertical&&(p=ju(r,n.vertical,A,d.get("icon-text-fit-padding"),h,m)),v&&(r=ju(r,v,A,d.get("icon-text-fit-padding"),h,m)));var M=function(s,f){f.x<0||f.x>=8192||f.y<0||f.y>=8192||function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m,y,g,b,_,x,w,S,k){var O,T,C,A,M,P=e.addToLineVertexArray(t,n),I=0,R=0,j=0,L=0,N=-1,D=-1,F={},z=pa(""),B=0,U=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(O=s.layout.get("text-offset").evaluate(_,{},S).map((function(e){return 24*e})))[0],U=O[1]):(B=24*s.layout.get("text-radial-offset").evaluate(_,{},S),U=il),e.allowVerticalPlacement&&r.vertical){var V=s.layout.get("text-rotate").evaluate(_,{},S)+90;A=new Qu(u,t,l,c,f,r.vertical,p,d,h,V),o&&(M=new Qu(u,t,l,c,f,o,m,y,h,V))}if(i){var H=s.layout.get("icon-rotate").evaluate(_,{}),W="none"!==s.layout.get("icon-text-fit"),q=Zu(i,H,w,W),G=o?Zu(o,H,w,W):void 0;C=new Qu(u,t,l,c,f,i,m,y,!1,H),I=4*q.length;var Z=e.iconSizeData,Y=null;"source"===Z.kind?(Y=[128*s.layout.get("icon-size").evaluate(_,{})])[0]>32640&&E(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Z.kind&&((Y=[128*x.compositeIconSizes[0].evaluate(_,{},S),128*x.compositeIconSizes[1].evaluate(_,{},S)])[0]>32640||Y[1]>32640)&&E(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),e.addSymbols(e.icon,q,Y,b,g,_,!1,t,P.lineStartIndex,P.lineLength,-1,S),N=e.icon.placedSymbolArray.length-1,G&&(R=4*G.length,e.addSymbols(e.icon,G,Y,b,g,_,xu.vertical,t,P.lineStartIndex,P.lineLength,-1,S),D=e.icon.placedSymbolArray.length-1)}for(var X in r.horizontal){var K=r.horizontal[X];if(!T){z=pa(K.text);var J=s.layout.get("text-rotate").evaluate(_,{},S);T=new Qu(u,t,l,c,f,K,p,d,h,J)}var Q=1===K.positionedLines.length;if(j+=sl(e,t,K,a,s,h,_,v,P,r.vertical?xu.horizontal:xu.horizontalOnly,Q?Object.keys(r.horizontal):[X],F,N,x,S),Q)break}r.vertical&&(L+=sl(e,t,r.vertical,a,s,h,_,v,P,xu.vertical,["vertical"],F,D,x,S));var $=T?T.boxStartIndex:e.collisionBoxArray.length,ee=T?T.boxEndIndex:e.collisionBoxArray.length,te=A?A.boxStartIndex:e.collisionBoxArray.length,ne=A?A.boxEndIndex:e.collisionBoxArray.length,re=C?C.boxStartIndex:e.collisionBoxArray.length,ie=C?C.boxEndIndex:e.collisionBoxArray.length,ae=M?M.boxStartIndex:e.collisionBoxArray.length,oe=M?M.boxEndIndex:e.collisionBoxArray.length,se=-1,ue=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};se=ue(T,se),se=ue(A,se),se=ue(C,se);var le=(se=ue(M,se))>-1?1:0;le&&(se*=k/24),e.glyphOffsetArray.length>=yl.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,_.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,N,D,z,$,ee,te,ne,re,ie,ae,oe,l,j,L,I,R,le,0,p,B,U,se)}(e,f,s,n,r,i,p,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,y,x,k,u,b,w,O,h,t,a,l,c,o)};if("line"===T)for(var P=0,I=Gu(t.geometry,0,0,8192,8192);P<I.length;P+=1)for(var R=I[P],j=0,L=qu(R,_,S,n.vertical||v,r,24,g,e.overscaling,8192);j<L.length;j+=1){var N=L[j];v&&ll(e,v.text,C,N)||M(R,N)}else if("line-center"===T)for(var D=0,F=t.geometry;D<F.length;D+=1){var z=F[D];if(z.length>1){var B=Wu(z,S,n.vertical||v,r,24,g);B&&M(z,B)}}else if("Polygon"===t.type)for(var U=0,V=rs(t.geometry,0);U<V.length;U+=1){var H=V[U],W=tl(H,16);M(H[0],new Lu(W.x,W.y,0))}else if("LineString"===t.type)for(var q=0,G=t.geometry;q<G.length;q+=1){var Z=G[q];M(Z,new Lu(Z[0].x,Z[0].y,0))}else if("Point"===t.type)for(var Y=0,X=t.geometry;Y<X.length;Y+=1)for(var K=0,J=X[Y];K<J.length;K+=1){var Q=J[K];M([Q],new Lu(Q.x,Q.y,0))}}(e,a,d,z,r,l,f,p,x,B,o)},b=0,_=e.features;b<_.length;b+=1)g();a&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=oi,e.polygonIntersectsPolygon=Ha,e.postMapLoadEvent=oe,e.postTurnstileEvent=ie,e.potpack=yu,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Fr,e.registerForPluginStateChange=function(e){return e({pluginStatus:$r,pluginURL:ei}),ri.on("pluginStateChange",e),e},e.renderColorRamp=xo,e.rotate=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u,e},e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=u*i+p*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=p*i-u*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=u*i+p*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=p*i-u*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.scale$2=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){se=e,ue=t},e.setRTLTextPlugin=function(e,t,n){if(void 0===n&&(n=!1),"deferred"===$r||"loading"===$r||"loaded"===$r)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=F.resolveURL(e),$r="deferred",Qr=t,ni(),n||ai()},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.styleSpec=Ae,e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.symbolSize=zu,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e},e.transformMat4=co,e.translate=function(e,t,n){var r,i,a,o,s,u,l,c,f,p,d,h,v=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=r*v+s*m+f*y+t[12],e[13]=i*v+u*m+p*y+t[13],e[14]=a*v+l*m+d*y+t[14],e[15]=o*v+c*m+h*y+t[15]),e},e.triggerPluginCompletionEvent=ti,e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=Ar,e.validateStyle=Cr,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=_s,e.version="1.13.1",e.warnOnce=E,e.webpSupported=B,e.window=o,e.wrap=f})),r(["./shared"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var r="[",i=0,a=e;i<a.length;i+=1)r+=t(a[i])+",";return r+"]"}for(var o=Object.keys(e).sort(),s="{",u=0;u<o.length;u++)s+=JSON.stringify(o[u])+":"+t(e[o[u]])+",";return s+"}"}function n(n){for(var r="",i=0,a=e.refProperties;i<a.length;i+=1)r+="/"+t(n[a[i]]);return r}var r=function(e){this.keyCache={},e&&this.replace(e)};r.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},r.prototype.update=function(t,r){for(var i=this,a=0,o=t;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=e.createStyleLayer(s);u._featureFilter=e.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=r;l<c.length;l+=1){var f=c[l];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var p=0,d=function(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||(o=r[a]=[]),o.push(e[i])}var s=[];for(var u in r)s.push(r[u]);return s}(e.values(this._layerConfigs),this.keyCache);p<d.length;p+=1){var h=d[p].map((function(e){return i._layers[e.id]})),v=h[0];if("none"!==v.visibility){var m=v.source||"",y=this.familiesBySource[m];y||(y=this.familiesBySource[m]={});var g=v.sourceLayer||"_geojsonTileLayer",b=y[g];b||(b=y[g]=[]),b.push(h)}}};var i=function(t){var n={},r=[];for(var i in t){var a=t[i],o=n[i]={};for(var s in a){var u=a[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};r.push(l),o[s]={rect:l,metrics:u.metrics}}}}var c=e.potpack(r),f=new e.AlphaImage({width:c.w||1,height:c.h||1});for(var p in t){var d=t[p];for(var h in d){var v=d[+h];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var m=n[p][h].rect;e.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:m.x+1,y:m.y+1},v.bitmap)}}}this.image=f,this.positions=n};e.register("GlyphAtlas",i);var a=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};function o(t,n,r){for(var i=new e.EvaluationParameters(n),a=0,o=t;a<o.length;a+=1)o[a].recalculate(i,r)}function s(t,n){var r=e.getArrayBuffer(t.request,(function(t,r,i,a){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:a})}));return function(){r.cancel(),n()}}a.prototype.parse=function(t,n,r,a,s){var u=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var f,p,d,h,v={},m={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},y=n.familiesBySource[this.source];for(var g in y){var b=t.layers[g];if(b){1===b.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+g+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=l.encode(g),x=[],w=0;w<b.length;w++){var E=b.feature(w),S=c.getId(E,g);x.push({feature:E,id:S,index:w,sourceLayerIndex:_})}for(var k=0,O=y[g];k<O.length;k+=1){var T=O[k],C=T[0];C.minzoom&&this.zoom<Math.floor(C.minzoom)||C.maxzoom&&this.zoom>=C.maxzoom||"none"!==C.visibility&&(o(T,this.zoom,r),(v[C.id]=C.createBucket({index:c.bucketLayerIDs.length,layers:T,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(x,m,this.tileID.canonical),c.bucketLayerIDs.push(T.map((function(e){return e.id}))))}}}var A=e.mapObject(m.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(A).length?a.send("getGlyphs",{uid:this.uid,stacks:A},(function(e,t){f||(f=e,p=t,I.call(u))})):p={};var M=Object.keys(m.iconDependencies);M.length?a.send("getImages",{icons:M,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){f||(f=e,d=t,I.call(u))})):d={};var P=Object.keys(m.patternDependencies);function I(){if(f)return s(f);if(p&&d&&h){var t=new i(p),n=new e.ImageAtlas(d,h);for(var a in v){var u=v[a];u instanceof e.SymbolBucket?(o(u.layers,this.zoom,r),e.performSymbolLayout(u,p,t.positions,d,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof e.LineBucket||u instanceof e.FillBucket||u instanceof e.FillExtrusionBucket)&&(o(u.layers,this.zoom,r),u.addFeatures(m,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:e.values(v).filter((function(e){return!e.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}P.length?a.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){f||(f=e,h=t,I.call(u))})):h={},I.call(this)};var u=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||(this.loading={});var o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),s=this.loading[i]=new a(t);s.abort=this.loadVectorData(t,(function(t,a){if(delete r.loading[i],t||!a)return s.status="done",r.loaded[i]=s,n(t);var u=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl);var c={};if(o){var f=o.finish();f&&(c.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:u.slice(0)},r,l,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},u.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};"parsing"===o.status?o.reloadCallback=s:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},u.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var l=e.window.ImageBitmap,c=function(){this.loaded={}};function f(e,t){if(0!==e.length){p(e[0],t);for(var n=1;n<e.length;n++)p(e[n],!t)}}function p(e,t){for(var n=0,r=0,i=e.length,a=i-1;r<i;a=r++)n+=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]);n>=0!=!!t&&e.reverse()}c.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=l&&a instanceof l?this.getImageData(a):a,s=new e.DEMData(r,o,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},c.prototype.getImageData=function(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,h=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};h.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var u=[],l=0,c=s[o];l<c.length;l+=1){var f=c[l];u.push(new e.Point$1(f[0],f[1]))}a.push(u)}return a},h.prototype.toGeoJSON=function(e,t,n){return d.call(this,e,t,n)};var v=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};v.prototype.feature=function(e){return new h(this._features[e])};var m=e.vectorTile.VectorTileFeature,y=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function b(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new b(this.features[e],this.options.extent)},b.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],a=0;a<r.length;a++)i.push(new e.Point$1(r[a][0],r[a][1]));this.geometry.push(i)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var u=o[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},b.prototype.toGeoJSON=m.prototype.toGeoJSON;var _=w,x=y;function w(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,E,e.layers[n])}(t,n),n.finish()}function E(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,S,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,A,a[n])}function S(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,k,e),t.writeVarintField(3,n.type),t.writeMessage(4,C,n)}function k(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var u=a[s];void 0===u&&(r.push(s),a[s]=u=r.length-1),t.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,p=o[f];void 0===p&&(i.push(l),o[f]=p=i.length-1),t.writeVarint(p)}}function O(e,t){return(t<<3)+(7&e)}function T(e){return e<<1^e>>31}function C(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var u=n[s],l=1;1===r&&(l=u.length),t.writeVarint(O(1,l));for(var c=3===r?u.length-1:u.length,f=0;f<c;f++){1===f&&1!==r&&t.writeVarint(O(2,c-1));var p=u[f].x-i,d=u[f].y-a;t.writeVarint(T(p)),t.writeVarint(T(d)),i+=p,a+=d}3===r&&t.writeVarint(O(7,1))}}function A(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function M(e,t,n,r){P(e,n,r),P(t,2*n,2*r),P(t,2*n+1,2*r+1)}function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function I(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}_.fromVectorTileJs=w,_.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new y(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return w({layers:n})},_.GeoJSONWrapper=x;var R=function(e){return e[0]},j=function(e){return e[1]},L=function(e,t,n,r,i){void 0===t&&(t=R),void 0===n&&(n=j),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),s=this.coords=new i(2*e.length),u=0;u<e.length;u++)o[u]=u,s[2*u]=t(e[u]),s[2*u+1]=n(e[u]);!function e(t,n,r,i,a,o){if(!(a-i<=r)){var s=i+a>>1;!function e(t,n,r,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);e(t,n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(a,Math.floor(r+(s-u)*c/s+f)),o)}var p=n[2*r+o],d=i,h=a;for(M(t,n,i,r),n[2*a+o]>p&&M(t,n,i,a);d<h;){for(M(t,n,d,h),d++,h--;n[2*d+o]<p;)d++;for(;n[2*h+o]>p;)h--}n[2*i+o]===p?M(t,n,i,h):M(t,n,++h,a),h<=r&&(i=h+1),r<=h&&(a=h-1)}}(t,n,s,i,a,o%2),e(t,n,r,i,s-1,o+1),e(t,n,r,s+1,a,o+1)}}(o,s,r,0,o.length-1,0)};L.prototype.range=function(e,t,n,r){return function(e,t,n,r,i,a,o){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var f=l.pop(),p=l.pop(),d=l.pop();if(p-d<=o)for(var h=d;h<=p;h++)u=t[2*h+1],(s=t[2*h])>=n&&s<=i&&u>=r&&u<=a&&c.push(e[h]);else{var v=Math.floor((d+p)/2);u=t[2*v+1],(s=t[2*v])>=n&&s<=i&&u>=r&&u<=a&&c.push(e[v]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(v-1),l.push(m)),(0===f?i>=s:a>=u)&&(l.push(v+1),l.push(p),l.push(m))}}return c}(this.ids,this.coords,e,t,n,r,this.nodeSize)},L.prototype.within=function(e,t,n){return function(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],u=i*i;o.length;){var l=o.pop(),c=o.pop(),f=o.pop();if(c-f<=a)for(var p=f;p<=c;p++)I(t[2*p],t[2*p+1],n,r)<=u&&s.push(e[p]);else{var d=Math.floor((f+c)/2),h=t[2*d],v=t[2*d+1];I(h,v,n,r)<=u&&s.push(e[d]);var m=(l+1)%2;(0===l?n-i<=h:r-i<=v)&&(o.push(f),o.push(d-1),o.push(m)),(0===l?n+i>=h:r+i>=v)&&(o.push(d+1),o.push(c),o.push(m))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var N={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},D=function(e){this.options=W(Object.create(N),e),this.trees=new Array(this.options.maxZoom+1)};function F(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function z(e,t){var n=e.geometry.coordinates,r=n[1];return{x:V(n[0]),y:H(r),zoom:1/0,index:t,parentId:-1}}function B(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(r=e.x,360*(r-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,r}function U(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function H(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function W(e,t){for(var n in t)e[n]=t[n];return e}function q(e){return e.x}function G(e){return e.y}function Z(e,t,n,r,i,a){var o=i-n,s=a-r;if(0!==o||0!==s){var u=((e-n)*o+(t-r)*s)/(o*o+s*s);u>1?(n=i,r=a):u>0&&(n+=o*u,r+=s*u)}return(o=e-n)*o+(s=t-r)*s}function Y(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)X(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)X(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)X(e,t[r][i])}(i),i}function X(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function K(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=t.id;if(n.promoteId?u=t.properties[n.promoteId]:n.generateId&&(u=r||0),"Point"===a)J(i,s);else if("MultiPoint"===a)for(var l=0;l<i.length;l++)J(i[l],s);else if("LineString"===a)Q(i,s,o,!1);else if("MultiLineString"===a){if(n.lineMetrics){for(l=0;l<i.length;l++)Q(i[l],s=[],o,!1),e.push(Y(u,"LineString",s,t.properties));return}$(i,s,o,!1)}else if("Polygon"===a)$(i,s,o,!0);else{if("MultiPolygon"!==a){if("GeometryCollection"===a){for(l=0;l<t.geometry.geometries.length;l++)K(e,{id:u,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<i.length;l++){var c=[];$(i[l],c,o,!0),s.push(c)}}e.push(Y(u,a,s,t.properties))}}function J(e,t){t.push(ee(e[0])),t.push(te(e[1])),t.push(0)}function Q(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var u=ee(e[s][0]),l=te(e[s][1]);t.push(u),t.push(l),t.push(0),s>0&&(o+=r?(i*l-u*a)/2:Math.sqrt(Math.pow(u-i,2)+Math.pow(l-a,2))),i=u,a=l}var c=t.length-3;t[2]=1,function e(t,n,r,i){for(var a,o=i,s=r-n>>1,u=r-n,l=t[n],c=t[n+1],f=t[r],p=t[r+1],d=n+3;d<r;d+=3){var h=Z(t[d],t[d+1],l,c,f,p);if(h>o)a=d,o=h;else if(h===o){var v=Math.abs(d-s);v<u&&(a=d,u=v)}}o>i&&(a-n>3&&e(t,n,a,i),t[a+2]=o,r-a>3&&e(t,a,r,i))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function $(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];Q(e[i],a,n,r),t.push(a)}}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t,n,r,i,a,o,s){if(r/=t,a>=(n/=t)&&o<r)return e;if(o<n||a>=r)return null;for(var u=[],l=0;l<e.length;l++){var c=e[l],f=c.geometry,p=c.type,d=0===i?c.minX:c.minY,h=0===i?c.maxX:c.maxY;if(d>=n&&h<r)u.push(c);else if(!(h<n||d>=r)){var v=[];if("Point"===p||"MultiPoint"===p)re(f,v,n,r,i);else if("LineString"===p)ie(f,v,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)oe(f,v,n,r,i,!1);else if("Polygon"===p)oe(f,v,n,r,i,!0);else if("MultiPolygon"===p)for(var m=0;m<f.length;m++){var y=[];oe(f[m],y,n,r,i,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<v.length;m++)u.push(Y(c.id,p,v[m],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===v.length?(p="LineString",v=v[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===v.length?"Point":"MultiPoint"),u.push(Y(c.id,p,v,c.tags))}}}return u.length?u:null}function re(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function ie(e,t,n,r,i,a,o){for(var s,u,l=ae(e),c=0===i?ue:le,f=e.start,p=0;p<e.length-3;p+=3){var d=e[p],h=e[p+1],v=e[p+2],m=e[p+3],y=e[p+4],g=0===i?d:h,b=0===i?m:y,_=!1;o&&(s=Math.sqrt(Math.pow(d-m,2)+Math.pow(h-y,2))),g<n?b>n&&(u=c(l,d,h,m,y,n),o&&(l.start=f+s*u)):g>r?b<r&&(u=c(l,d,h,m,y,r),o&&(l.start=f+s*u)):se(l,d,h,v),b<n&&g>=n&&(u=c(l,d,h,m,y,n),_=!0),b>r&&g<=r&&(u=c(l,d,h,m,y,r),_=!0),!a&&_&&(o&&(l.end=f+s*u),t.push(l),l=ae(e)),o&&(f+=s)}var x=e.length-3;d=e[x],h=e[x+1],v=e[x+2],(g=0===i?d:h)>=n&&g<=r&&se(l,d,h,v),x=l.length-3,a&&x>=3&&(l[x]!==l[0]||l[x+1]!==l[1])&&se(l,l[0],l[1],l[2]),l.length&&t.push(l)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function oe(e,t,n,r,i,a){for(var o=0;o<e.length;o++)ie(e[o],t,n,r,i,a,!1)}function se(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ue(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function le(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function ce(e,t){for(var n=[],r=0;r<e.length;r++){var i,a=e[r],o=a.type;if("Point"===o||"MultiPoint"===o||"LineString"===o)i=fe(a.geometry,t);else if("MultiLineString"===o||"Polygon"===o){i=[];for(var s=0;s<a.geometry.length;s++)i.push(fe(a.geometry[s],t))}else if("MultiPolygon"===o)for(i=[],s=0;s<a.geometry.length;s++){for(var u=[],l=0;l<a.geometry[s].length;l++)u.push(fe(a.geometry[s][l],t));i.push(u)}n.push(Y(a.id,o,i,a.tags))}return n}function fe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function pe(e,t){if(e.transformed)return e;var n,r,i,a=1<<e.z,o=e.x,s=e.y;for(n=0;n<e.features.length;n++){var u=e.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(de(l[r],l[r+1],t,a,o,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(de(l[r][i],l[r][i+1],t,a,o,s));u.geometry.push(f)}}return e.transformed=!0,e}function de(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function he(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,ve(o,e[s],a,i);var u=e[s].minX,l=e[s].minY,c=e[s].maxX,f=e[s].maxY;u<o.minX&&(o.minX=u),l<o.minY&&(o.minY=l),c>o.maxX&&(o.maxX=c),f>o.maxY&&(o.maxY=f)}return o}function ve(e,t,n,r){var i=t.geometry,a=t.type,o=[];if("Point"===a||"MultiPoint"===a)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)me(o,i,e,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(s=0;s<i.length;s++)me(o,i[s],e,n,"Polygon"===a,0===s);else if("MultiPolygon"===a)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)me(o,l[s],e,n,!0,0===s)}if(o.length){var c=t.tags||null;if("LineString"===a&&r.lineMetrics){for(var f in c={},t.tags)c[f]=t.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:o,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:c};null!==t.id&&(p.id=t.id),e.features.push(p)}}function me(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r))n.numPoints+=t.length/3;else{for(var s=[],u=0;u<t.length;u+=3)(0===r||t[u+2]>o)&&(n.numSimplified++,s.push(t[u]),s.push(t[u+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}(s,a),e.push(s)}}function ye(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)K(n,e.features[r],t,r);else K(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(e,t){var n=t.buffer/t.extent,r=e,i=ne(e,1,-1-n,n,0,-1,2,t),a=ne(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=ne(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ce(i,1).concat(r)),a&&(r=r.concat(ce(a,-1)))),r}(r,t)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ge(e,t,n){return 32*((1<<e)*n+t)+e}function be(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new v(r.features),a=_(i);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}D.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare "+e.length+" points";n&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(z(e[u],u));this.trees[i+1]=new L(s,q,G,a,Float32Array),n&&console.timeEnd(o);for(var l=i;l>=r;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new L(s,q,G,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},D.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}for(var u=this.trees[this._limitZoom(t)],l=[],c=0,f=u.range(V(n),H(a),V(i),H(r));c<f.length;c+=1){var p=u.points[f[c]];l.push(p.numPoints?B(p):this.points[p.index])}return l},D.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=i.within(a.x,a.y,o);u<l.length;u+=1){var c=i.points[l[u]];c.parentId===e&&s.push(c.numPoints?B(c):this.points[c.index])}if(0===s.length)throw new Error(r);return s},D.prototype.getLeaves=function(e,t,n){var r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r},D.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.radius/a.extent,s=(n-o)/i,u=(n+1+o)/i,l={features:[]};return this._addTileFeatures(r.range((t-o)/i,s,(t+1+o)/i,u),r.points,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-o/i,s,1,u),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,s,o/i,u),r.points,-1,n,i,l),l.features.length?l:null},D.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},D.prototype._appendLeaves=function(e,t,n,r,i){for(var a=0,o=this.getChildren(t);a<o.length;a+=1){var s=o[a],u=s.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(s),e.length===n)break}return i},D.prototype._addTileFeatures=function(e,t,n,r,i,a){for(var o=0,s=e;o<s.length;o+=1){var u=t[s[o]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:l?U(u):this.points[u.index].properties},f=void 0;l?f=u.id:this.options.generateId?f=u.index:this.points[u.index].id&&(f=this.points[u.index].id),void 0!==f&&(c.id=f),a.features.push(c)}},D.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},D.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.reduce,a=r.minPoints,o=r.radius/(r.extent*Math.pow(2,t)),s=0;s<e.length;s++){var u=e[s];if(!(u.zoom<=t)){u.zoom=t;for(var l=this.trees[t+1],c=l.within(u.x,u.y,o),f=u.numPoints||1,p=f,d=0,h=c;d<h.length;d+=1){var v=l.points[h[d]];v.zoom>t&&(p+=v.numPoints||1)}if(p>=a){for(var m=u.x*f,y=u.y*f,g=i&&f>1?this._map(u,!0):null,b=(s<<5)+(t+1)+this.points.length,_=0,x=c;_<x.length;_+=1){var w=l.points[x[_]];if(!(w.zoom<=t)){w.zoom=t;var E=w.numPoints||1;m+=w.x*E,y+=w.y*E,w.parentId=b,i&&(g||(g=this._map(u,!0)),i(g,this._map(w)))}}u.parentId=b,n.push(F(m/p,y/p,b,p,g))}else if(n.push(u),p>1)for(var S=0,k=c;S<k.length;S+=1){var O=l.points[k[S]];O.zoom<=t||(O.zoom=t,n.push(O))}}}return n},D.prototype._getOriginId=function(e){return e-this.points.length>>5},D.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},D.prototype._map=function(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?W({},r):r},ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=ge(t,n,r),p=this.tiles[f];if(!p&&(l>1&&console.time("creation"),p=this.tiles[f]=he(e,t,n,r,u),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=e,i){if(t===u.maxZoom||t===i)continue;var h=1<<i-t;if(n!==Math.floor(a/h)||r!==Math.floor(o/h))continue}else if(t===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==e.length){l>1&&console.time("clipping");var v,m,y,g,b,_,x=.5*u.buffer/u.extent,w=.5-x,E=.5+x,S=1+x;v=m=y=g=null,b=ne(e,c,n-x,n+E,0,p.minX,p.maxX,u),_=ne(e,c,n+w,n+S,0,p.minX,p.maxX,u),e=null,b&&(v=ne(b,c,r-x,r+E,1,p.minY,p.maxY,u),m=ne(b,c,r+w,r+S,1,p.minY,p.maxY,u),b=null),_&&(y=ne(_,c,r-x,r+E,1,p.minY,p.maxY,u),g=ne(_,c,r+w,r+S,1,p.minY,p.maxY,u),_=null),l>1&&console.timeEnd("clipping"),s.push(v||[],t+1,2*n,2*r),s.push(m||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(g||[],t+1,2*n+1,2*r+1)}}},ye.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e,s=ge(e,t=(t%o+o)%o,n);if(this.tiles[s])return pe(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var u,l=e,c=t,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[ge(l,c,f)];return u&&u.source?(a>1&&console.log("found parent tile z%d-%d-%d",l,c,f),a>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};var _e=function(t){function n(e,n,r,i){t.call(this,e,n,r,be),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new e.RequestPerformance(r.request);this.loadGeoJSON(r,(function(a,o){if(a||!o)return n(a);if("object"!=typeof o)return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)f(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)f(t.coordinates[r],n);return t}(o,!0);try{if(r.filter){var s=e.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map((function(e){return e.key+": "+e.message})).join(", "));var u=o.features.filter((function(e){return s.value.evaluate({zoom:0},e)}));o={type:"FeatureCollection",features:u}}t._geoJSONIndex=r.cluster?new D(function(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},u=Object.keys(r),l=0,c=u;l<c.length;l+=1){var f=c[l],p=r[f],d=p[0],h=e.createExpression(p[1]),v=e.createExpression("string"==typeof d?[d,["accumulated"],["get",f]]:d);i[f]=h.value,a[f]=v.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=u;n<r.length;n+=1){var a=r[n];t[a]=i[a].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=u;n<r.length;n+=1){var i=r[n];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},n}(r)).load(o.features):function(e,t){return new ye(e,t)}(o,r.geojsonVtOptions)}catch(a){return n(a)}t.loaded={};var l={};if(i){var c=i.finish();c&&(l.resourceTiming={},l.resourceTiming[r.source]=JSON.parse(JSON.stringify(c)))}n(null,l)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded;return r&&r[e.uid]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data given to '"+t.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(u),xe=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:_e},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return xe.prototype.setReferrer=function(e,t){this.referrer=t},xe.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()},xe.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},xe.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},xe.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},xe.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},xe.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},xe.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},xe.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},xe.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},xe.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}},xe.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},xe.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=i){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),a)}}catch(e){r(e.toString())}},xe.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||(t=[]),t},xe.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t},xe.prototype.getWorkerSource=function(e,t,n){var r=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:function(t,n,i){r.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]},xe.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]},xe.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xe(self)),xe})),r(["./shared"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!n(e)}function n(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[n=e&&e.failIfMajorPerformanceCaveat]&&(r[n]=function(e){var n=function(e){var n=document.createElement("canvas"),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(e);if(!n)return!1;var r=n.createShader(n.VERTEX_SHADER);return!(!r||n.isContextLost())&&(n.shaderSource(r,"void main() {}"),n.compileShader(r),!0===n.getShaderParameter(r,n.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,r){var i=e.window.document.createElement(t);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},r=e.window.document&&e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var a,o=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&o&&(a=r[o],r[o]="none")},n.enableDrag=function(){r&&o&&(r[o]=a)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});e.window.addEventListener("test",l,l),e.window.removeEventListener("test",l,l)}catch(e){u=!1}n.addEventListener=function(e,t,n,r){void 0===r&&(r={}),e.addEventListener(t,n,"passive"in r&&u?r:r.capture)},n.removeEventListener=function(e,t,n,r){void 0===r&&(r={}),e.removeEventListener(t,n,"passive"in r&&u?r:r.capture)};var c=function t(n){n.preventDefault(),n.stopPropagation(),e.window.removeEventListener("click",t,!0)};function f(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],a=0;a<n.length;a++)i.push(new e.Point(n[a].clientX-r.left-t.clientLeft,n[a].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error('Image "'+t+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];if(a[0]<n||a[1]<a[0]||t<a[1])return!1;n=a[1]}return!0},n.prototype._validateContent=function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i];this.images[o]||this.fire(new e.Event("styleimagemissing",{id:o}));var s=this.images[o];s?r[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+o+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,f=this.images[s].data,p=f.width,d=f.height;e.RGBAImage.copy(f,o,{x:0,y:0},{x:l,y:c},{width:p,height:d}),e.RGBAImage.copy(f,o,{x:0,y:d-1},{x:l,y:c-1},{width:p,height:1}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:l,y:c+d},{width:p,height:1}),e.RGBAImage.copy(f,o,{x:p-1,y:0},{x:l-1,y:c},{width:1,height:d}),e.RGBAImage.copy(f,o,{x:0,y:0},{x:l+p,y:c},{width:1,height:d})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];f(i)&&this.updateImage(r,i)}}},n}(e.Evented),d=m,h=m,v=1e20;function m(e,t,n,r,i,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=a||"normal",this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(e,t,n,r,i,a,o){for(var s=0;s<t;s++){for(var u=0;u<n;u++)r[u]=e[u*t+s];for(g(r,i,a,o,n),u=0;u<n;u++)e[u*t+s]=i[u]}for(u=0;u<n;u++){for(s=0;s<t;s++)r[s]=e[u*t+s];for(g(r,i,a,o,t),s=0;s<t;s++)e[u*t+s]=Math.sqrt(i[s])}}function g(e,t,n,r,i){n[0]=0,r[0]=-v,r[1]=+v;for(var a=1,o=0;a<i;a++){for(var s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);s<=r[o];)o--,s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);n[++o]=a,r[o]=s,r[o+1]=+v}for(a=0,o=0;a<i;a++){for(;r[o+1]<a;)o++;t[a]=(a-n[o])*(a-n[o])+e[n[o]]}}m.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?v:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?v:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},d["default"]=h;var b=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};b.prototype.setURL=function(e){this.url=e},b.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1)i.push({stack:a,id:s[o]});e.asyncAll(i,(function(e,t){var n=e.stack,i=e.id,a=r.entries[n];a||(a=r.entries[n]={glyphs:{},requests:{},ranges:{}});var o=a.glyphs[i];if(void 0===o){if(o=r._tinySDF(a,n,i))return a.glyphs[i]=o,void t(null,{stack:n,id:i,glyph:o});var s=Math.floor(i/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else if(a.ranges[s])t(null,{stack:n,id:i,glyph:o});else{var u=a.requests[s];u||(u=a.requests[s]=[],b.loadGlyphRange(n,s,r.url,r.requestManager,(function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(a.glyphs[+n]=t[+n]);a.ranges[s]=!0}for(var i=0,o=u;i<o.length;i+=1)(0,o[i])(e,t);delete a.requests[s]}))),u.push((function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}}else t(null,{stack:n,id:i,glyph:o})}),(function(e,t){if(e)n(e);else if(t){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.stack,u=o.id,l=o.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}}))},b.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar["CJK Unified Ideographs"](t)||e.isChar["Hangul Syllables"](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},b.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o="400";/bold/i.test(n)?o="900":/medium/i.test(n)?o="500":/light/i.test(n)&&(o="200"),a=t.tinySDF=new b.TinySDF(24,3,8,.25,i,o)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(t,n,r,i,a){var o=256*n,s=o+255,u=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",t).replace("{range}",o+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(u,(function(t,n){if(t)a(t);else if(n){for(var r={},i=0,o=e.parseGlyphPBF(n);i<o.length;i+=1){var s=o[i];r[s.id]=s}a(null,r)}}))},b.TinySDF=d;var _=function(){this.specification=e.styleSpec.light.position};_.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},_.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var x=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new _,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),w=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),E=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},E.prototype.getDashRanges=function(e,t,n){var r=[],i=e.length%2==1?-e[e.length-1]*n:0,a=e[0]*n,o=!0;r.push({left:i,right:a,isDash:o,zeroLength:0===e[0]});for(var s=e[0],u=1;u<e.length;u++){var l=e[u];r.push({left:i=s*n,right:a=(s+=l)*n,isDash:o=!o,zeroLength:0===l})}return r},E.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.width*(this.nextRow+n+i),o=0,s=e[o],u=0;u<this.width;u++){u/s.right>1&&(s=e[++o]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),f=Math.min(l,c),p=void 0,d=i/n*(r+1);if(s.isDash){var h=r-Math.abs(d);p=Math.sqrt(f*f+h*h)}else p=r-Math.sqrt(f*f+d*d);this.data[a+u]=Math.max(0,Math.min(255,p+128))}},E.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var o=this.width*this.nextRow,s=0,u=e[s],l=0;l<this.width;l++){l/u.right>1&&(u=e[++s]);var c=Math.abs(l-u.left),f=Math.abs(l-u.right),p=Math.min(c,f);this.data[o+l]=Math.max(0,Math.min(255,(u.isDash?p:-p)+128))}},E.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(0!==a){var s=this.width/a,u=this.getDashRanges(t,this.width,s);n?this.addRoundDash(u,s,r):this.addRegularDash(u)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=i,this.dirty=!0,l},E.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var S=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=new t.Actor(i[a],r,this.id);o.name="Worker "+a,this.actors.push(o)}};function k(t,n,r){var i=function(i,a){if(i)return r(i);if(a){var o=e.pick(e.extend(a,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),o.tiles=n.canonicalizeTileset(o,t.url),r(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame((function(){return i(null,t)}))}S.prototype.broadcast=function(t,n,r){e.asyncAll(this.actors,(function(e,r){e.send(t,n,r)}),r=r||function(){})},S.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},S.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},S.Actor=e.Actor;var O=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};O.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},O.prototype.contains=function(t){var n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),a=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),o=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<a&&t.y>=i&&t.y<o};var T=function(t){function n(n,r,i,a){if(t.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(a)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new O(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setSourceProperty=function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this},n.prototype.setUrl=function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function a(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,a.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,a.bind(this)))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),C=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(a),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=k(this._options,this.map._requestManager,(function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new O(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(i,a){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(a){r.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=r.map.painter.context,s=o.gl;t.texture=r.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),A=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,a){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(a){this.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=e.window.ImageBitmap&&a instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?a:e.browser.getImageData(a,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",s,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,a=0===n.x?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,u={};return u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(u[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})},n}(C),M=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(a),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*o,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(r.clusterRadius||50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",r))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),t(e))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),P=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(i,a){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):a&&(r.image=a,t&&(r.coordinates=t),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,r=1/0,i=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var u=s[o];n=Math.min(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.x),a=Math.max(a,u.y)}var l=Math.max(i-n,a-r),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),f=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*f),Math.floor((r+a)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),R=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],e.ResourceType.Source).url);e.getVideo(this.urls,(function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(I),j=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];"loaded"!==a.state&&(a.state="loaded",a.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(I),L={vector:T,raster:C,"raster-dem":A,geojson:M,video:R,image:I,canvas:j};function N(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function D(e,t,n,r,i,a){var o=function(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var a=t[i[r]];if(a&&a.source===n&&"fill-extrusion"===a.type)return!0}else for(var o in t){var s=t[o];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),u=e.tilesIn(r,s,o);u.sort(F);for(var l=[],c=0,f=u;c<f.length;c+=1){var p=f[c];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,n,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,i,a,s,N(e.transform,p.tileID))})}var d=function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.queryResults,s=a.wrappedTileID,u=n[s]=n[s]||{};for(var l in o)for(var c=o[l],f=u[l]=u[l]||{},p=t[l]=t[l]||[],d=0,h=c;d<h.length;d+=1){var v=h[d];f[v.featureIndex]||(f[v.featureIndex]=!0,p.push(v))}}return t}(l);for(var h in d)d[h].forEach((function(t){var n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return d}function F(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var z=function(e,t){this.max=e,this.onRemove=t,this.reset()};z.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},z.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(void 0!==n&&(a.timeout=setTimeout((function(){r.remove(e,a)}),n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},z.prototype.has=function(e){return e.wrapped().key in this.data},z.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},z.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},z.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},z.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},z.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},z.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},z.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var a=i[r];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var u=s[o];this.remove(u.value.tileID,u)}};var B=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};B.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},B.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},B.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},V=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};V.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},V.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},V.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}},V.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];void 0!==a&&e.vertexAttribPointer(a,i.components,e[U[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var H=function(e){this.gl=e.gl,this["default"]=this.getDefault(),this.current=this["default"],this.dirty=!1};H.prototype.get=function(){return this.current},H.prototype.set=function(e){},H.prototype.getDefault=function(){return this["default"]},H.prototype.setDefault=function(){this.set(this["default"])};var W=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(H),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(H),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(H),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(H),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(H),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(H),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(H),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(H),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(H),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(H),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(H),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(H),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(H),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(H),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(H),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(H),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(H),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(H),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(H),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(H),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(H),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(H),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(H),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(H),ye=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(H),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(H),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(H),xe=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.getDefault=function(){return null},t}(H),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(xe),Ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(xe),Se=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),r&&(this.depthAttachment=new Ee(e,i))};Se.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var ke=function(e,t,n){this.func=e,this.mask=t,this.range=n};ke.ReadOnly=!1,ke.ReadWrite=!0,ke.disabled=new ke(519,ke.ReadOnly,[0,1]);var Oe=function(e,t,n,r,i,a){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=a};Oe.disabled=new Oe({func:519,mask:0},0,0,7680,7680,7680);var Te=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Te.disabled=new Te(Te.Replace=[1,0],e.Color.transparent,[!1,!1,!1,!1]),Te.unblended=new Te(Te.Replace,e.Color.transparent,[!0,!0,!0,!0]),Te.alphaBlended=new Te([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ce=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Ce.disabled=new Ce(!1,1029,2305),Ce.backCCW=new Ce(!0,1029,2305);var Ae=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new W(this),this.clearDepth=new q(this),this.clearStencil=new G(this),this.colorMask=new Z(this),this.depthMask=new Y(this),this.stencilMask=new X(this),this.stencilFunc=new K(this),this.stencilOp=new J(this),this.stencilTest=new Q(this),this.depthRange=new $(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new re(this),this.blendColor=new ie(this),this.blendEquation=new ae(this),this.cullFace=new oe(this),this.cullFaceSide=new se(this),this.frontFace=new ue(this),this.program=new le(this),this.activeTexture=new ce(this),this.viewport=new fe(this),this.bindFramebuffer=new pe(this),this.bindRenderbuffer=new de(this),this.bindTexture=new he(this),this.bindVertexBuffer=new ve(this),this.bindElementBuffer=new me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new ge(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new _e(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)};Ae.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ae.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ae.prototype.createIndexBuffer=function(e,t){return new B(this,e,t)},Ae.prototype.createVertexBuffer=function(e,t,n){return new V(this,e,t,n)},Ae.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Ae.prototype.createFramebuffer=function(e,t,n){return new Se(this,e,t,n)},Ae.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Ae.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ae.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ae.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ae.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Te.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ae.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Me=function(t){function n(n,r,i){var a=this;t.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),this.on("error",(function(){a._sourceErrored=!0})),this._source=function(t,n,r,i){var a=new L[n.type](t,n,r,i);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return e.bindAll(["load","abort","unload","serialize","prepare"],a),a}(n,r,i,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort((function(t,r){var i=t.tileID,a=r.tileID,o=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Pe).map((function(e){return e.key}))},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);(a=this._tiles[s.key])&&a.hasData()&&(o=s)}for(var u=o;u.overscaledZ>t;)if(e[(u=u.scaledTo(u.overscaledZ-1)).key]){r[o.key]=o;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var o in this._tiles)this._setTileReloadTimer(o,this._tiles[o])}},n.prototype.update=function(t){var r=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(e){return r._source.hasTile(e)})))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-n.maxOverzooming,this._source.minzoom),s=Math.max(a+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(i,a);if(Ie(this._source.type)){for(var l={},c={},f=0,p=Object.keys(u);f<p.length;f+=1){var d=p[f],h=u[d],v=this._tiles[d];if(v&&!(v.fadeEndTime&&v.fadeEndTime<=e.browser.now())){var m=this.findLoadedParent(h,o);m&&(this._addTile(m.tileID),l[m.tileID.key]=m.tileID),c[d]=h}}for(var y in this._retainLoadedChildren(c,a,s,u),l)u[y]||(this._coveredTiles[y]=!0,u[y]=l[y])}for(var g in u)this._tiles[g].clearFadeHold();for(var b=0,_=e.keysDifference(this._tiles,u);b<_.length;b+=1){var x=_[b],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},a=Math.max(t-n.maxOverzooming,this._source.minzoom),o=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=e;u<l.length;u+=1){var c=l[u],f=this._addTile(c);r[c.key]=c,f.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,o,r);for(var p=0,d=e;p<d.length;p+=1){var h=d[p],v=this._tiles[h.key];if(!v.hasData()){if(t+1>this._source.maxzoom){var m=h.children(this._source.maxzoom)[0],y=this.getTile(m);if(y&&y.hasData()){r[m.key]=m;continue}}else{var g=h.children(this._source.maxzoom);if(r[g[0].key]&&r[g[1].key]&&r[g[2].key]&&r[g[3].key])continue}for(var b=v.wasRequested(),_=h.overscaledZ-1;_>=a;--_){var x=h.scaledTo(_);if(i[x.key])break;if(i[x.key]=!0,!(v=this.getTile(x))&&b&&(v=this._addTile(x)),v&&(r[x.key]=x,b=v.wasRequested(),v.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var a=0,o=t;a<o.length;a+=1)this._loadedParentTiles[o[a]]=n}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=Boolean(n);return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,a=[],o=this.transform;if(!o)return a;for(var s=r?o.getCameraQueryGeometry(t):t,u=t.map((function(e){return o.pointCoordinate(e)})),l=s.map((function(e){return o.pointCoordinate(e)})),c=this.getIds(),f=1/0,p=1/0,d=-1/0,h=-1/0,v=0,m=l;v<m.length;v+=1){var y=m[v];f=Math.min(f,y.x),p=Math.min(p,y.y),d=Math.max(d,y.x),h=Math.max(h,y.y)}for(var g=function(t){var r=i._tiles[c[t]];if(!r.holdingForFade()){var s=r.tileID,v=Math.pow(2,o.zoom-r.tileID.overscaledZ),m=n*r.queryPadding*e.EXTENT/r.tileSize/v,y=[s.getTilePoint(new e.MercatorCoordinate(f,p)),s.getTilePoint(new e.MercatorCoordinate(d,h))];if(y[0].x-m<e.EXTENT&&y[0].y-m<e.EXTENT&&y[1].x+m>=0&&y[1].y+m>=0){var g=u.map((function(e){return s.getTilePoint(e)})),b=l.map((function(e){return s.getTilePoint(e)}));a.push({tile:r,tileID:s,queryGeometry:g,cameraQueryGeometry:b,scale:v})}}},b=0;b<c.length;b++)g(b);return a},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),r=0,i=n;r<i.length;r+=1){var a=i[r];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ie(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)},n.prototype.removeFeatureState=function(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)},n.prototype.getFeatureState=function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(e,t)}))},n}(e.Evented);function Pe(e,t){var n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Ie(e){return"raster"===e||"image"===e||"video"===e}function Re(){return new e.window.Worker(Xi.workerUrl)}Me.maxOverzooming=10,Me.maxUnderzooming=3;var je="mapboxgl_preloaded_worker_pool",Le=function(){this.active={}};Le.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Le.workerCount;)this.workers.push(new Re);return this.active[e]=!0,this.workers.slice()},Le.prototype.release=function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)},Le.prototype.isPreloaded=function(){return!!this.active[je]},Le.prototype.numActive=function(){return Object.keys(this.active).length};var Ne,De=Math.floor(e.browser.hardwareConcurrency/2);function Fe(){return Ne||(Ne=new Le),Ne}function ze(t,n){var r={};for(var i in t)"ref"!==i&&(r[i]=t[i]);return e.refProperties.forEach((function(e){e in n&&(r[e]=n[e])})),r}function Be(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=ze(e[r],t[e[r].ref]));return e}Le.workerCount=Math.max(Math.min(De,6),1);var Ue={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ve(e,t,n){n.push({command:Ue.addSource,args:[e,t[e]]})}function He(e,t,n){t.push({command:Ue.removeSource,args:[e]}),n[e]=!0}function We(e,t,n,r){He(e,n,r),Ve(e,t,n)}function qe(t,n,r){var i;for(i in t[r])if(t[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function Ge(t,n,r,i,a,o){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}))}function Ze(e){return e.id}function Ye(e,t){return e[t.id]=t,e}var Xe=function(e,t){this.reset(e,t)};Xe.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xe.prototype.lerp=function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,u=s>0?(i-o)/s:0;return this.points[a].mult(1-u).add(this.points[n].mult(u))};var Ke=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};function Je(t,n,r,i,a){var o=e.create();return n?(e.scale(o,o,[1/a,1/a,1]),r||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function Qe(t,n,r,i,a){if(n){var o=e.clone(t);return e.scale(o,o,[a,a,1]),r||e.rotateZ(o,o,-i.angle),o}return i.glCoordMatrix}function $e(t,n){var r=[t.x,t.y,0,1];ct(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function et(e,t){return.5+e/t*.5}function tt(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function nt(t,n,r,i,a,o,s,u){var l=i?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(l,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();for(var d=t.lineVertexArray,h=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,v=r.transform.width/r.transform.height,m=!1,y=0;y<h.length;y++){var g=h.get(y);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!m)lt(g.numGlyphs,p);else{m=!1;var b=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(b,b,n),tt(b,f)){var _=et(r.transform.cameraToCenterDistance,b[3]),x=e.evaluateSizeForFeature(l,c,g),w=s?x/_:x*_,E=new e.Point(g.anchorX,g.anchorY),S=$e(E,a).point,k={},O=at(g,w,!1,u,n,a,o,t.glyphOffsetArray,d,p,S,E,k,v);m=O.useVertical,(O.notEnoughRoom||m||O.needsFlipping&&at(g,w,!0,u,n,a,o,t.glyphOffsetArray,d,p,S,E,k,v).notEnoughRoom)&&lt(g.numGlyphs,p)}else lt(g.numGlyphs,p)}}i?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function rt(e,t,n,r,i,a,o,s,u,l,c){var f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,h=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(f-1),m=st(e*h,n,r,i,a,o,s.segment,p,d,u,l,c);if(!m)return null;var y=st(e*v,n,r,i,a,o,s.segment,p,d,u,l,c);return y?{first:m,last:y}:null}function it(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function at(t,n,r,i,a,o,s,u,l,c,f,p,d,h){var v,m=n/24,y=t.lineOffsetX*m,g=t.lineOffsetY*m;if(t.numGlyphs>1){var b=t.glyphStartIndex+t.numGlyphs,_=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=rt(m,u,y,g,r,f,p,t,l,o,d);if(!w)return{notEnoughRoom:!0};var E=$e(w.first.point,s).point,S=$e(w.last.point,s).point;if(i&&!r){var k=it(t.writingMode,E,S,h);if(k)return k}v=[w.first];for(var O=t.glyphStartIndex+1;O<b-1;O++)v.push(st(m*u.getoffsetX(O),y,g,r,f,p,t.segment,_,x,l,o,d));v.push(w.last)}else{if(i&&!r){var T=$e(p,a).point,C=t.lineStartIndex+t.segment+1,A=new e.Point(l.getx(C),l.gety(C)),M=$e(A,a),P=M.signedDistanceFromCamera>0?M.point:ot(p,A,T,1,a),I=it(t.writingMode,T,P,h);if(I)return I}var R=st(m*u.getoffsetX(t.glyphStartIndex),y,g,r,f,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,o,d);if(!R)return{notEnoughRoom:!0};v=[R]}for(var j=0,L=v;j<L.length;j+=1){var N=L[j];e.addDynamicAttributes(c,N.point,N.angle)}return{}}function ot(e,t,n,r,i){var a=$e(e.add(e.sub(t)._unit()),i).point,o=n.sub(a);return n.add(o._mult(r/o.mag()))}function st(t,n,r,i,a,o,s,u,l,c,f,p){var d=i?t-n:t+n,h=d>0?1:-1,v=0;i&&(h*=-1,v=Math.PI),h<0&&(v+=Math.PI);for(var m=h>0?u+s:u+s+1,y=a,g=a,b=0,_=0,x=Math.abs(d),w=[];b+_<=x;){if((m+=h)<u||m>=l)return null;if(g=y,w.push(y),void 0===(y=p[m])){var E=new e.Point(c.getx(m),c.gety(m)),S=$e(E,f);if(S.signedDistanceFromCamera>0)y=p[m]=S.point;else{var k=m-h;y=ot(0===b?o:new e.Point(c.getx(k),c.gety(k)),E,g,x-b+1,f)}}b+=_,_=g.dist(y)}var O=(x-b)/_,T=y.sub(g),C=T.mult(O)._add(g);C._add(T._unit()._perp()._mult(r*h));var A=v+Math.atan2(y.y-g.y,y.x-g.x);return w.push(C),{point:C,angle:A,path:w}}Ke.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ke.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ke.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ke.prototype._insertBoxCell=function(e,t,n,r,i,a){this.boxCells[i].push(a)},Ke.prototype._insertCircleCell=function(e,t,n,r,i,a){this.circleCells[i].push(a)},Ke.prototype._query=function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],f=this.circles[3*u+2];o.push({key:this.circleKeys[u],x1:l-f,y1:c-f,x2:l+f,y2:c+f})}return a?o.filter(a):o}return this._forEachCell(e,t,n,r,this._queryCell,o,{hitTest:i,seenUids:{box:{},circle:{}}},a),i?o.length>0:o},Ke.prototype._queryCircle=function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,u=t+n;if(o<0||a>this.width||u<0||s>this.height)return!r&&[];var l=[];return this._forEachCell(a,s,o,u,this._queryCellCircle,l,{hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),r?l.length>0:l},Ke.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ke.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ke.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ke.prototype._queryCell=function(e,t,n,r,i,a,o,s){var u=o.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,f=0,p=l;f<p.length;f+=1){var d=p[f];if(!u.box[d]){u.box[d]=!0;var h=4*d;if(e<=c[h+2]&&t<=c[h+3]&&n>=c[h+0]&&r>=c[h+1]&&(!s||s(this.boxKeys[d]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[d],x1:c[h],y1:c[h+1],x2:c[h+2],y2:c[h+3]})}}}var v=this.circleCells[i];if(null!==v)for(var m=this.circles,y=0,g=v;y<g.length;y+=1){var b=g[y];if(!u.circle[b]){u.circle[b]=!0;var _=3*b;if(this._circleAndRectCollide(m[_],m[_+1],m[_+2],e,t,n,r)&&(!s||s(this.circleKeys[b]))){if(o.hitTest)return a.push(!0),!0;var x=m[_],w=m[_+1],E=m[_+2];a.push({key:this.circleKeys[b],x1:x-E,y1:w-E,x2:x+E,y2:w+E})}}}},Ke.prototype._queryCellCircle=function(e,t,n,r,i,a,o,s){var u=o.circle,l=o.seenUids,c=this.boxCells[i];if(null!==c)for(var f=this.bboxes,p=0,d=c;p<d.length;p+=1){var h=d[p];if(!l.box[h]){l.box[h]=!0;var v=4*h;if(this._circleAndRectCollide(u.x,u.y,u.radius,f[v+0],f[v+1],f[v+2],f[v+3])&&(!s||s(this.boxKeys[h])))return a.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var y=this.circles,g=0,b=m;g<b.length;g+=1){var _=b[g];if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circlesCollide(y[x],y[x+1],y[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[_])))return a.push(!0),!0}}},Ke.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var u=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),f=this._convertToYCellCoord(r),p=u;p<=c;p++)for(var d=l;d<=f;d++)if(i.call(this,e,t,n,r,this.xCellCount*d+p,a,o,s))return},Ke.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ke.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ke.prototype._circlesCollide=function(e,t,n,r,i,a){var o=r-e,s=i-t,u=n+a;return u*u>o*o+s*s},Ke.prototype._circleAndRectCollide=function(e,t,n,r,i,a,o){var s=(a-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var l=(o-i)/2,c=Math.abs(t-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var f=u-s,p=c-l;return f*f+p*p<=n*n};var ut=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function lt(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(ut,3*r)}}function ct(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var ft=function(e,t,n){void 0===t&&(t=new Ke(e.width+200,e.height+200,25)),void 0===n&&(n=new Ke(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function pt(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}ft.prototype.placeCollisionBox=function(e,t,n,r,i){var a=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*a.perspectiveRatio,s=e.x1*o+a.point.x,u=e.y1*o+a.point.y,l=e.x2*o+a.point.x,c=e.y2*o+a.point.y;return!this.isInsideGrid(s,u,l,c)||!t&&this.grid.hitTest(s,u,l,c,i)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},ft.prototype.placeCollisionCircles=function(t,n,r,i,a,o,s,u,l,c,f,p,d){var h=[],v=new e.Point(n.anchorX,n.anchorY),m=$e(v,o),y=et(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),g=(c?a/y:a*y)/e.ONE_EM,b=$e(v,s).point,_=rt(g,i,n.lineOffsetX*g,n.lineOffsetY*g,!1,b,v,n,r,s,{}),x=!1,w=!1,E=!0;if(_){for(var S=.5*p*y+d,k=new e.Point(-100,-100),O=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),T=new Xe,C=_.first,A=_.last,M=[],P=C.path.length-1;P>=1;P--)M.push(C.path[P]);for(var I=1;I<A.path.length;I++)M.push(A.path[I]);var R=2.5*S;if(u){var j=M.map((function(e){return $e(e,u)}));M=j.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:j.map((function(e){return e.point}))}var L=[];if(M.length>0){for(var N=M[0].clone(),D=M[0].clone(),F=1;F<M.length;F++)N.x=Math.min(N.x,M[F].x),N.y=Math.min(N.y,M[F].y),D.x=Math.max(D.x,M[F].x),D.y=Math.max(D.y,M[F].y);L=N.x>=k.x&&D.x<=O.x&&N.y>=k.y&&D.y<=O.y?[M]:D.x<k.x||N.x>O.x||D.y<k.y||N.y>O.y?[]:e.clipLine([M],k.x,k.y,O.x,O.y)}for(var z=0,B=L;z<B.length;z+=1){var U;T.reset(B[z],.25*S),U=T.length<=.5*S?1:Math.ceil(T.paddedLength/R)+1;for(var V=0;V<U;V++){var H=V/Math.max(U-1,1),W=T.lerp(H),q=W.x+100,G=W.y+100;h.push(q,G,S,0);var Z=q-S,Y=G-S,X=q+S,K=G+S;if(E=E&&this.isOffscreen(Z,Y,X,K),w=w||this.isInsideGrid(Z,Y,X,K),!t&&this.grid.hitTestCircle(q,G,S,f)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!w?[]:h,offscreen:E,collisionDetected:x}},ft.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,a=-1/0,o=-1/0,s=0,u=t;s<u.length;s+=1){var l=u[s],c=new e.Point(l.x+100,l.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y),n.push(c)}for(var f={},p={},d=0,h=this.grid.query(r,i,a,o).concat(this.ignoredGrid.query(r,i,a,o));d<h.length;d+=1){var v=h[d],m=v.key;if(void 0===f[m.bucketInstanceId]&&(f[m.bucketInstanceId]={}),!f[m.bucketInstanceId][m.featureIndex]){var y=[new e.Point(v.x1,v.y1),new e.Point(v.x2,v.y1),new e.Point(v.x2,v.y2),new e.Point(v.x1,v.y2)];e.polygonIntersectsPolygon(n,y)&&(f[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},ft.prototype.insertCollisionBox=function(e,t,n,r,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},e[0],e[1],e[2],e[3])},ft.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},ft.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return ct(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ft.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},ft.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},ft.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t};var dt=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};dt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ht=function(e,t,n,r,i){this.text=new dt(e?e.text:null,t,n,i),this.icon=new dt(e?e.icon:null,t,r,i)};ht.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var vt=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},mt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},yt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},gt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function bt(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=-(o.horizontalAlign-.5)*n,u=-(o.verticalAlign-.5)*r,l=e.evaluateVariableOffset(t,i);return new e.Point(s+l[0]*a,u+l[1]*a)}function _t(t,n,r,i,a,o){var s=t.x1,u=t.x2,l=t.y1,c=t.y2,f=t.anchorPointX,p=t.anchorPointY,d=new e.Point(n,r);return i&&d._rotate(a?o:-o),{x1:s+d.x,y1:l+d.y,x2:u+d.x,y2:c+d.y,anchorPointX:f,anchorPointY:p}}gt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var xt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new ft(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new gt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function wt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}xt.prototype.getBucketParts=function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(a&&o&&n.id===a.layerIds[0]){var s=r.collisionBoxArray,u=a.layers[0].layout,l=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,f=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===u.get("text-pitch-alignment"),d="map"===u.get("text-rotation-alignment"),h=pt(r,1,this.transform.zoom),v=Je(f,p,d,this.transform,h),m=null;if(p){var y=Qe(f,p,d,this.transform,h);m=e.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[a.bucketInstanceId]=new yt(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var g={bucket:a,layout:u,posMatrix:f,textLabelPlaneMatrix:v,labelToScreenMatrix:m,scale:l,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i)for(var b=0,_=a.sortKeyRanges;b<_.length;b+=1){var x=_[b];t.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:g})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:g})}},xt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h){var v,m=[f.textOffset0,f.textOffset1],y=bt(e,n,r,m,i),g=this.collisionIndex.placeCollisionBox(_t(t,y.x,y.y,a,o,this.transform.angle),c,s,u,l.predicate);if(!h||0!==this.collisionIndex.placeCollisionBox(_t(h,y.x,y.y,a,o,this.transform.angle),c,s,u,l.predicate).box.length)return g.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(v=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:m,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:v},this.markUsedJustification(p,e,f,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,f),this.placedOrientations[f.crossTileID]=d),{shift:y,placedGlyphBoxes:g}):void 0},xt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,a=t.parameters,o=a.bucket,s=a.layout,u=a.posMatrix,l=a.textLabelPlaneMatrix,c=a.labelToScreenMatrix,f=a.textPixelRatio,p=a.holdingForFade,d=a.collisionBoxArray,h=a.partiallyEvaluatedTextSize,v=a.collisionGroup,m=s.get("text-optional"),y=s.get("icon-optional"),g=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),_="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),E="viewport-y"===s.get("symbol-z-order"),S=g&&(b||!o.hasIconData()||y),k=b&&(g||!o.hasTextData()||m);!o.collisionArrays&&d&&o.deserializeCollisionBoxes(d);var O=function(t,a){if(!n[t.crossTileID])if(p)i.placements[t.crossTileID]=new vt(!1,!1,!1);else{var d,E=!1,O=!1,T=!0,C=null,A={box:null,offscreen:null},M={box:null,offscreen:null},P=null,I=null,R=0,j=0,L=0;a.textFeatureIndex?R=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(R=t.featureIndex),a.verticalTextFeatureIndex&&(j=a.verticalTextFeatureIndex);var N=a.textBox;if(N){var D=function(n){var r=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&i.prevPlacement){var a=i.prevPlacement.placedOrientations[t.crossTileID];a&&(i.placedOrientations[t.crossTileID]=a,i.markUsedOrientation(o,r=a,t))}return r},F=function(n,r){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var i=0,s=o.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(A=r(),M=A):A=n(),!(A&&A.box&&A.box.length));i+=1);else A=n()};if(s.get("text-variable-anchor")){var z=s.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];z.indexOf(B.anchor)>0&&(z=z.filter((function(e){return e!==B.anchor}))).unshift(B.anchor)}var U=function(e,n,r){for(var a=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,c=w&&!b?n:null,p={box:[],offscreen:!1},d=g?2*z.length:z.length,h=0;h<d;++h){var m=i.attemptAnchorPlacement(z[h%z.length],e,a,s,l,_,x,f,u,v,h>=z.length,t,o,r,c);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){E=!0,C=m.shift;break}}return p};F((function(){return U(N,a.iconBox,e.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&t.numVerticalGlyphVertices>0&&n?U(n,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),A&&(E=A.box,T=A.offscreen);var V=D(A&&A.box);if(!E&&i.prevPlacement){var H=i.prevPlacement.variableOffsets[t.crossTileID];H&&(i.variableOffsets[t.crossTileID]=H,i.markUsedJustification(o,H.anchor,t,V))}}else{var W=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,g,f,u,v.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(o,n,t),i.placedOrientations[t.crossTileID]=n),r};F((function(){return W(N,e.WritingMode.horizontal)}),(function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.WritingMode.vertical):{box:null,offscreen:null}})),D(A&&A.box&&A.box.length)}}if(E=(d=A)&&d.box&&d.box.length>0,T=d&&d.offscreen,t.useRuntimeCollisionCircles){var q=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(o.textSizeData,h,q),Z=s.get("text-padding");P=i.collisionIndex.placeCollisionCircles(g,q,o.lineVertexArray,o.glyphOffsetArray,G,u,l,c,r,x,v.predicate,t.collisionCircleDiameter,Z),E=g||P.circles.length>0&&!P.collisionDetected,T=T&&P.offscreen}if(a.iconFeatureIndex&&(L=a.iconFeatureIndex),a.iconBox){var Y=function(e){var t=w&&C?_t(e,C.x,C.y,_,x,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,b,f,u,v.predicate)};O=M&&M.box&&M.box.length&&a.verticalIconBox?(I=Y(a.verticalIconBox)).box.length>0:(I=Y(a.iconBox)).box.length>0,T=T&&I.offscreen}var X=m||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,K=y||0===t.numIconVertices;if(X||K?K?X||(O=O&&E):E=O&&E:O=E=O&&E,E&&d&&d.box&&i.collisionIndex.insertCollisionBox(d.box,s.get("text-ignore-placement"),o.bucketInstanceId,M&&M.box&&j?j:R,v.ID),O&&I&&i.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),o.bucketInstanceId,L,v.ID),P&&(E&&i.collisionIndex.insertCollisionCircles(P.circles,s.get("text-ignore-placement"),o.bucketInstanceId,R,v.ID),r)){var J=o.bucketInstanceId,Q=i.collisionCircleArrays[J];void 0===Q&&(Q=i.collisionCircleArrays[J]=new mt);for(var $=0;$<P.circles.length;$+=4)Q.circles.push(P.circles[$+0]),Q.circles.push(P.circles[$+1]),Q.circles.push(P.circles[$+2]),Q.circles.push(P.collisionDetected?1:0)}i.placements[t.crossTileID]=new vt(E||S,O||k,T||o.justReloaded),n[t.crossTileID]=!0}};if(E)for(var T=o.getSortedSymbolIndexes(this.transform.angle),C=T.length-1;C>=0;--C){var A=T[C];O(o.symbolInstances.get(A),o.collisionArrays[A])}else for(var M=t.symbolInstanceStart;M<t.symbolInstanceEnd;M++)O(o.symbolInstances.get(M),o.collisionArrays[M]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var P=this.collisionCircleArrays[o.bucketInstanceId];e.invert(P.invProjMatrix,u),P.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},xt.prototype.markUsedJustification=function(t,n,r,i){var a;a=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];for(var o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];o<s.length;o+=1){var u=s[o];u>=0&&(t.text.placedSymbolArray.get(u).crossTileID=a>=0&&u!==a?0:r.crossTileID)}},xt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=0,s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];o<s.length;o+=1)t.text.placedSymbolArray.get(s[o]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)},xt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=i[s];l?(this.opacities[s]=new ht(l,r,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new ht(null,r,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in i){var f=i[c];if(!this.opacities[c]){var p=new ht(f,r,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||f.text.placed||f.icon.placed)}}for(var d in a)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=a[d]);for(var h in o)this.placedOrientations[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.placedOrientations[h]=o[h]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},xt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var a=i[r],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,n,a.collisionBoxArray)}},xt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new ht(null,0,!1,!1,!0),s=a.get("text-allow-overlap"),u=a.get("icon-allow-overlap"),l=a.get("text-variable-anchor"),c="map"===a.get("text-rotation-alignment"),f="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),d=new ht(null,0,s&&(u||!t.hasIconData()||a.get("icon-optional")),u&&(s||!t.hasTextData()||a.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var h=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},v=function(r){var a=t.symbolInstances.get(r),s=a.numHorizontalGlyphVertices,u=a.numVerticalGlyphVertices,v=a.crossTileID,m=i.opacities[v];n[v]?m=o:m||(i.opacities[v]=m=d),n[v]=!0;var y=a.numIconVertices>0,g=i.placedOrientations[a.crossTileID],b=g===e.WritingMode.vertical,_=g===e.WritingMode.horizontal||g===e.WritingMode.horizontalOnly;if(s>0||u>0){var x=Mt(m.text);h(t.text,s,b?Pt:x),h(t.text,u,_?Pt:x);var w=m.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=w||b?1:0)})),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=w||_?1:0);var E=i.variableOffsets[a.crossTileID];E&&i.markUsedJustification(t,E.anchor,a,g);var S=i.placedOrientations[a.crossTileID];S&&(i.markUsedJustification(t,"left",a,S),i.markUsedOrientation(t,S,a))}if(y){var k=Mt(m.icon),O=!(p&&a.verticalPlacedIconSymbolIndex&&b);a.placedIconSymbolIndex>=0&&(h(t.icon,a.numIconVertices,O?k:Pt),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=m.icon.isHidden()),a.verticalPlacedIconSymbolIndex>=0&&(h(t.icon,a.numVerticalIconVertices,O?Pt:k),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var T=t.collisionArrays[r];if(T){var C=new e.Point(0,0);if(T.textBox||T.verticalTextBox){var A=!0;if(l){var M=i.variableOffsets[v];M?(C=bt(M.anchor,M.width,M.height,M.textOffset,M.textBoxScale),c&&C._rotate(f?i.transform.angle:-i.transform.angle)):A=!1}T.textBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!A||b,C.x,C.y),T.verticalTextBox&&wt(t.textCollisionBox.collisionVertexArray,m.text.placed,!A||_,C.x,C.y)}var P=Boolean(!_&&T.verticalIconBox);T.iconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,P,p?C.x:0,p?C.y:0),T.verticalIconBox&&wt(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!P,p?C.x:0,p?C.y:0)}}},m=0;m<t.symbolInstances.length;m++)v(m);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=y.invProjMatrix,t.placementViewportMatrix=y.viewportMatrix,t.collisionCircleArray=y.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},xt.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},xt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},xt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},xt.prototype.setStale=function(){this.stale=!0};var Et=Math.pow(2,25),St=Math.pow(2,24),kt=Math.pow(2,17),Ot=Math.pow(2,16),Tt=Math.pow(2,9),Ct=Math.pow(2,8),At=Math.pow(2,1);function Mt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Et+t*St+n*kt+t*Ot+n*Tt+t*Ct+n*At+t}var Pt=0,It=function(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};It.prototype.continuePlacement=function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(a,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<a.length;)if(t.placeLayerBucketPart(a[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Rt=function(e,t,n,r,i,a,o){this.placement=new xt(e,i,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Rt.prototype.isDone=function(){return this._done},Rt.prototype.continuePlacement=function(t,n,r){for(var i=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return!i._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new It(s)),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Rt.prototype.commit=function(e){return this.placement.commit(e),this.placement};var jt=512/e.EXTENT/2,Lt=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};Lt.prototype.getScaledCoordinates=function(t,n){var r=jt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Lt.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),u=0,l=o;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,a.crossTileID=c.crossTileID;break}}}}};var Nt=function(){this.maxCrossTileID=0};Nt.prototype.generate=function(){return++this.maxCrossTileID};var Dt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Dt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e},Dt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var i=this.usedCrossTileIDs[e.overscaledZ];for(var a in this.indexes){var o=this.indexes[a];if(Number(a)>e.overscaledZ)for(var s in o){var u=o[s];u.tileID.isChildOf(e)&&u.findMatches(t.symbolInstances,e,i)}else{var l=o[e.scaledTo(Number(a)).key];l&&l.findMatches(t.symbolInstances,e,i)}}for(var c=0;c<t.symbolInstances.length;c++){var f=t.symbolInstances.get(c);f.crossTileID||(f.crossTileID=n.generate(),i[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Lt(e,t.symbolInstances,t.bucketInstanceId),!0},Dt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[e][i[r].crossTileID]},Dt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var Ft=function(){this.layerIndexes={},this.crossTileIDs=new Nt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ft.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Dt);var i=!1,a={};r.handleWrapJump(n);for(var o=0,s=t;o<s.length;o+=1){var u=s[o],l=u.getBucket(e);l&&e.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(u.tileID,l,this.crossTileIDs)&&(i=!0),a[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(i=!0),i},Ft.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var zt=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},Bt=e.pick(Ue,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ut=e.pick(Ue,["setCenter","setZoom","setBearing","setPitch"]),Vt=function(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i,a=e.styleSpec.$root[r];a.required&&null!=(i="version"===r?n:"array"===a.type?[]:{})&&(t[r]=i)}return t}(),Ht=function(t){function n(r,i){var a=this;void 0===i&&(i={}),t.call(this),this.map=r,this.dispatcher=new S(Fe(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new b(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Ft,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var o=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){o.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every((function(e){return e})))for(var r in o.sourceCaches)o.sourceCaches[r].reload()}))})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=a.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var r in a._layers){var i=a._layers[r];i.source===n.id&&a._validateLayer(i)}}}}))}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.loadURL=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(t,n){var r=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Vt,!1)},n.prototype._load=function(t,n){if(!n||!zt(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Be(this.stylesheet.layers);this._order=i.map((function(e){return e.id})),this._layers={},this._serializedLayers={};for(var a=0,o=i;a<o.length;a+=1){var s=o[a];(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=function(t,n,r){var i,a,o,s=e.browser.devicePixelRatio>1?"@2x":"",u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){u=null,o||(o=e,i=t,c())})),l=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){l=null,o||(o=e,a=t,c())}));function c(){if(o)r(o);else if(i&&a){var t=e.browser.getImageData(a),n={};for(var s in i){var u=i[s],l=u.width,c=u.height,f=u.x,p=u.y,d=u.sdf,h=u.pixelRatio,v=u.stretchX,m=u.stretchY,y=u.content,g=new e.RGBAImage({width:l,height:c});e.RGBAImage.copy(t,g,{x:f,y:p},{x:0,y:0},{width:l,height:c}),n[s]={data:g,pixelRatio:h,sdf:d,stretchX:v,stretchY:m,content:y}}r(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(t,this.map._requestManager,(function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new e.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&t.push(i.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];"reload"===o?this._reloadSource(a):"clear"===o&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var f=0,p=this._order;f<p.length;f+=1){var d=this._layers[p[f]];d.recalculate(t,this._availableImages),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}for(var h in u){var v=this.sourceCaches[h];u[h]!==v.used&&v.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:h}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),zt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Be(t.layers);var r=function(t,n){if(!t)return[{command:Ue.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Ue.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:Ue.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:Ue.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:Ue.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:Ue.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:Ue.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:Ue.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:Ue.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:Ue.setLight,args:[n.light]});var i={},a=[];!function(t,n,r,i){var a;for(a in n=n||{},t=t||{})t.hasOwnProperty(a)&&(n.hasOwnProperty(a)||He(a,r,i));for(a in n)n.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],n[a])||("geojson"===t[a].type&&"geojson"===n[a].type&&qe(t,n,a)?r.push({command:Ue.setGeoJSONSourceData,args:[a,n[a].data]}):We(a,n,r,i)):Ve(a,n,r))}(t.sources,n.sources,a,i);var o=[];t.layers&&t.layers.forEach((function(e){i[e.source]?r.push({command:Ue.removeLayer,args:[e.id]}):o.push(e)})),r=r.concat(a),function(t,n,r){n=n||[];var i,a,o,s,u,l,c,f=(t=t||[]).map(Ze),p=n.map(Ze),d=t.reduce(Ye,{}),h=n.reduce(Ye,{}),v=f.slice(),m=Object.create(null);for(i=0,a=0;i<f.length;i++)h.hasOwnProperty(o=f[i])?a++:(r.push({command:Ue.removeLayer,args:[o]}),v.splice(v.indexOf(o,a),1));for(i=0,a=0;i<p.length;i++)v[v.length-1-i]!==(o=p[p.length-1-i])&&(d.hasOwnProperty(o)?(r.push({command:Ue.removeLayer,args:[o]}),v.splice(v.lastIndexOf(o,v.length-a),1)):a++,r.push({command:Ue.addLayer,args:[h[o],l=v[v.length-i]]}),v.splice(v.length-i,0,o),m[o]=!0);for(i=0;i<p.length;i++)if(s=d[o=p[i]],u=h[o],!m[o]&&!e.deepEqual(s,u))if(e.deepEqual(s.source,u.source)&&e.deepEqual(s["source-layer"],u["source-layer"])&&e.deepEqual(s.type,u.type)){for(c in Ge(s.layout,u.layout,r,o,null,Ue.setLayoutProperty),Ge(s.paint,u.paint,r,o,null,Ue.setPaintProperty),e.deepEqual(s.filter,u.filter)||r.push({command:Ue.setFilter,args:[o,u.filter]}),e.deepEqual(s.minzoom,u.minzoom)&&e.deepEqual(s.maxzoom,u.maxzoom)||r.push({command:Ue.setLayerZoomRange,args:[o,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,o,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ue.setLayerProperty,args:[o,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ge(s[c],u[c],r,o,c.slice(6),Ue.setPaintProperty):e.deepEqual(s[c],u[c])||r.push({command:Ue.setLayerProperty,args:[o,c,u[c]]}))}else r.push({command:Ue.removeLayer,args:[o]}),l=v[v.lastIndexOf(o)+1],r.push({command:Ue.addLayer,args:[u,l]})}(o,n.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:Ue.setStyle,args:[n]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in Ut)}));if(0===r.length)return!1;var i=r.filter((function(e){return!(e.command in Bt)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(e){return e.command})).join(", ")+".");return r.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this._afterImageUpdated(t)},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this._afterImageUpdated(t)},n.prototype._afterImageUpdated=function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,"sources."+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[t]=new Me(t,n,this.dispatcher);a.style=this,a.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:t}})),a.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i))this.fire(new e.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var a;if("custom"===t.type){if(zt(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,"layers."+i,t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}var o=n?this._order.indexOf(n):this._order.length;if(n&&-1===o)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&"custom"!==a.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==a.type?this._updatedSources[a.source]="clear":(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause())}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(i){if(!e.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,i),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,r,i){void 0===i&&(i={}),this._checkLoaded();var a=this.getLayer(t);a?e.deepEqual(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.sourceCaches[r];if(void 0!==a){var o=a.getSource().type;"geojson"===o&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==o||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),a.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(void 0!==i){var a=i.getSource().type,o="vector"===a?t.sourceLayer:void 0;"vector"!==a||o?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(o,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;for(var s=0,u=e;s<u.length;s+=1){var l=u[s][o];if(l)for(var c=0,f=l;c<f.length;c+=1)i.push(f[c])}}}i.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],d=this._order.length-1;d>=0;d--){var h=this._order[d];if(n(h))for(var v=i.length-1;v>=0;v--){var m=i[v].feature;if(r[m.layer.id]<d)break;p.push(m),i.pop()}else for(var y=0,g=e;y<g.length;y+=1){var b=g[y][h];if(b)for(var _=0,x=b;_<x.length;_+=1)p.push(x[_].feature)}}return p},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var a=0,o=n.layers;a<o.length;a+=1){var s=o[a],u=this._layers[s];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||l.push(D(this.sourceCaches[c],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(function(e,t,n,r,i,a,o){for(var s={},u=a.queryRenderedSymbols(r),l=[],c=0,f=Object.keys(u).map(Number);c<f.length;c+=1)l.push(o[f[c]]);l.sort(F);for(var p=function(){var n=h[d],r=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=s[a]=s[a]||[],l=r[a];l.sort((function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(var c=0,f=l;c<f.length;c+=1)o.push(f[c])}},d=0,h=l;d<h.length;d+=1)p();var v=function(t){s[t].forEach((function(r){var i=r.feature,a=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var m in s)v(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[t];return r?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]},n.prototype.addSourceType=function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in t)if(!e.deepEqual(t[a],r[a])){i=!0;break}if(i){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(o)}},n.prototype._validate=function(t,n,r,i,a){return void 0===a&&(a={}),(!a||!1!==a.validate)&&zt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,a){void 0===a&&(a=!1);for(var o=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var f=this._layers[c[l]];if("symbol"===f.type){if(!u[f.source]){var p=this.sourceCaches[f.source];u[f.source]=p.getRenderableIds(!0).map((function(e){return p.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var d=this.crossTileSymbolIndex.addLayer(f,u[f.source],t.center.lng);o=o||d}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((a=a||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new Rt(t,this._order,a,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var h=0,v=this._order;h<v.length;h+=1){var m=this._layers[v[h]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,u[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);Ht.getSourceType=function(e){return L[e]},Ht.setSourceType=function(e,t){L[e]=t},Ht.registerForPluginStateChange=e.registerForPluginStateChange;var Wt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),qt=gn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Gt=gn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zt=gn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Yt=gn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xt=gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=gn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Jt=gn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Qt=gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$t=gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),en=gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),tn=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=gn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=gn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),an=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),on=gn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=gn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=gn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),fn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=gn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),dn=gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),hn=gn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),vn=gn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mn=gn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=gn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function gn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=a?a.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,i){return s[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,i){var a="float"===r?"vec2":"vec4",o=i.match(/color/)?"color":a;return s[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+a+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+o+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+a+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===o?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+o+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:o}}var bn=Object.freeze({__proto__:null,prelude:qt,background:Gt,backgroundPattern:Zt,circle:Yt,clippingMask:Xt,heatmap:Kt,heatmapTexture:Jt,collisionBox:Qt,collisionCircle:$t,debug:en,fill:tn,fillOutline:nn,fillOutlinePattern:rn,fillPattern:an,fillExtrusion:on,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:fn,linePattern:pn,lineSDF:dn,raster:hn,symbolIcon:vn,symbolSDF:mn,symbolTextAndIcon:yn}),_n=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(e){for(var t=[],n=0;n<e.length;n++)if(null!==e[n]){var r=e[n].split(" ");t.push(r.pop())}return t}_n.prototype.bind=function(e,t,n,r,i,a,o,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===a&&this.boundDynamicVertexBuffer===o&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind()):this.freshBind(t,n,r,i,a,o,s)},_n.prototype.freshBind=function(e,t,n,r,i,a,o){var s,u=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=l.currentNumAttributes||0;for(var f=u;f<s;f++)c.disableVertexAttribArray(f)}t.enableAttributes(c,e);for(var p=0,d=n;p<d.length;p+=1)d[p].enableAttributes(c,e);a&&a.enableAttributes(c,e),o&&o.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var h=0,v=n;h<v.length;h+=1){var m=v[h];m.bind(),m.setVertexAttribPointers(c,e,i)}a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),l.currentNumAttributes=u},_n.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(e,t,n,r,i,a){var o=e.gl;this.program=o.createProgram();for(var s=xn(n.staticAttributes),u=r?r.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?xn(n.staticUniforms):[],f=r?r.getBinderUniforms():[],p=[],d=0,h=c.concat(f);d<h.length;d+=1){var v=h[d];p.indexOf(v)<0&&p.push(v)}var m=r?r.defines():[];a&&m.push("#define OVERDRAW_INSPECTOR;");var y=m.concat(qt.fragmentSource,n.fragmentSource).join("\n"),g=m.concat(qt.vertexSource,n.vertexSource).join("\n"),b=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(b,y),o.compileShader(b),o.attachShader(this.program,b);var _=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())this.failedToCreate=!0;else{o.shaderSource(_,g),o.compileShader(_),o.attachShader(this.program,_),this.attributes={};var x={};this.numAttributes=l.length;for(var w=0;w<this.numAttributes;w++)l[w]&&(o.bindAttribLocation(this.program,w,l[w]),this.attributes[l[w]]=w);o.linkProgram(this.program),o.deleteShader(_),o.deleteShader(b);for(var E=0;E<p.length;E++){var S=p[E];if(S&&!x[S]){var k=o.getUniformLocation(this.program,S);k&&(x[S]=k)}}this.fixedUniforms=i(e,x),this.binderUniforms=r?r.getUniforms(e,x):[]}}};function En(e,t,n){var r=1/pt(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[65535&o,65535&s]}}wn.prototype.draw=function(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v){var m,y=e.gl;if(!this.failedToCreate){for(var g in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[g].set(o[g]);d&&d.setUniforms(e,this.binderUniforms,f,{zoom:p});for(var b=(m={},m[y.LINES]=2,m[y.TRIANGLES]=3,m[y.LINE_STRIP]=1,m)[t],_=0,x=c.get();_<x.length;_+=1){var w=x[_],E=w.vaos||(w.vaos={});(E[s]||(E[s]=new _n)).bind(e,this,u,d?d.getPaintVertexBuffers():[],l,w.vertexOffset,h,v),y.drawElements(t,w.primitiveLength*b,y.UNSIGNED_SHORT,w.primitiveOffset*b*2)}}};var Sn=function(t,n,r,i){var a=n.style.light,o=a.properties.get("position"),s=[o.x,o.y,o.z],u=e.create$1();"viewport"===a.properties.get("anchor")&&e.fromRotation(u,-n.transform.angle),e.transformMat3(s,s,u);var l=a.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},kn=function(t,n,r,i,a,o,s){return e.extend(Sn(t,n,r,i),En(o,n,s),{u_height_factor:-Math.pow(2,a.overscaledZ)/s.tileSize/8})},On=function(e){return{u_matrix:e}},Tn=function(t,n,r,i){return e.extend(On(t),En(r,n,i))},Cn=function(e,t){return{u_matrix:e,u_world:t}},An=function(t,n,r,i,a){return e.extend(Tn(t,n,r,i),{u_world:a})},Mn=function(t,n,r,i){var a,o,s=t.transform;if("map"===i.paint.get("circle-pitch-alignment")){var u=pt(r,1,s.zoom);a=!0,o=[u,u]}else a=!1,o=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+a,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:o}},Pn=function(e,t,n){var r=pt(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),a=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:a}},In=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Rn=function(e,t,n){return void 0===n&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},jn=function(e){return{u_matrix:e}},Ln=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:pt(t,1,n),u_intensity:r}},Nn=function(t,n,r){var i=t.transform;return{u_matrix:Un(t,n,r),u_ratio:1/pt(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Dn=function(t,n,r,i){return e.extend(Nn(t,n,r),{u_image:0,u_image_height:i})},Fn=function(t,n,r,i){var a=t.transform,o=Bn(n,a);return{u_matrix:Un(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pt(n,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},zn=function(t,n,r,i,a){var o=t.lineAtlas,s=Bn(n,t.transform),u="round"===r.layout.get("line-cap"),l=o.getDash(i.from,u),c=o.getDash(i.to,u),f=l.width*a.fromScale,p=c.width*a.toScale;return e.extend(Nn(t,n,r),{u_patternscale_a:[s/f,-l.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:o.width/(256*Math.min(f,p)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:a.t})};function Bn(e,t){return 1/pt(e,1,t.tileZoom)}function Un(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Vn=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(o=i.paint.get("raster-saturation"),o>0?1-1/(1.001-o):-o),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:Hn(i.paint.get("raster-hue-rotate"))};var a,o};function Hn(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Wn,qn=function(e,t,n,r,i,a,o,s,u,l){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Gn=function(t,n,r,i,a,o,s,u,l,c,f){var p=a.transform;return e.extend(qn(t,n,r,i,a,o,s,u,l,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+f})},Zn=function(t,n,r,i,a,o,s,u,l,c){return e.extend(Gn(t,n,r,i,a,o,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Yn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Xn=function(t,n,r,i,a,o){return e.extend(function(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,u=o.height,l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,f=c*(r.tileID.canonical.x+r.tileID.wrap*l),p=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,u],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/pt(r,1,n.transform.tileZoom),u_pixel_coord_upper:[f>>16,p>>16],u_pixel_coord_lower:[65535&f,65535&p]}}(i,o,r,a),{u_matrix:t,u_opacity:n})},Kn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},collisionCircle:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},symbolTextAndIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Jn(t,n,r,i,a,o,s){for(var u=t.context,l=u.gl,c=t.useProgram("collisionBox"),f=[],p=0,d=0,h=0;h<i.length;h++){var v=i[h],m=n.getTile(v),y=m.getBucket(r);if(y){var g=v.posMatrix;0===a[0]&&0===a[1]||(g=t.translatePosMatrix(v.posMatrix,m,a,o));var b=s?y.textCollisionBox:y.iconCollisionBox,_=y.collisionCircleArray;if(_.length>0){var x=e.create(),w=g;e.mul(x,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,y.placementViewportMatrix),f.push({circleArray:_,circleOffset:d,transform:w,invTransform:x}),d=p+=_.length/4}b&&c.draw(u,l.LINES,ke.disabled,Oe.disabled,t.colorModeForRenderPass(),Ce.disabled,Pn(g,t.transform,m),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}}if(s&&f.length){var E=t.useProgram("collisionCircle"),S=new e.StructArrayLayout2f1f2i16;S.resize(4*p),S._trim();for(var k=0,O=0,T=f;O<T.length;O+=1)for(var C=T[O],A=0;A<C.circleArray.length/4;A++){var M=4*A,P=C.circleArray[M+0],I=C.circleArray[M+1],R=C.circleArray[M+2],j=C.circleArray[M+3];S.emplace(k++,P,I,R,j,0),S.emplace(k++,P,I,R,j,1),S.emplace(k++,P,I,R,j,2),S.emplace(k++,P,I,R,j,3)}(!Wn||Wn.length<2*p)&&(Wn=function(t){var n=2*t,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=6*i;r.uint16[a+0]=4*i+0,r.uint16[a+1]=4*i+1,r.uint16[a+2]=4*i+2,r.uint16[a+3]=4*i+2,r.uint16[a+4]=4*i+3,r.uint16[a+5]=4*i+0}return r}(p));for(var L=u.createIndexBuffer(Wn,!0),N=u.createVertexBuffer(S,e.collisionCircleLayout.members,!0),D=0,F=f;D<F.length;D+=1){var z=F[D],B=In(z.transform,z.invTransform,t.transform);E.draw(u,l.TRIANGLES,ke.disabled,Oe.disabled,t.colorModeForRenderPass(),Ce.disabled,B,r.id,N,L,e.SegmentVector.simpleSegment(0,2*z.circleOffset,z.circleArray.length,z.circleArray.length/2),null,t.transform.zoom,null,null,null)}N.destroy(),L.destroy()}}var Qn=e.identity(new Float32Array(16));function $n(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.Point((u/a+c[0])*o,(l/a+c[1])*o)}function er(t,n,r,i,a,o,s,u,l,c,f){var p=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,h=t.icon.dynamicLayoutVertexArray,v={};d.clear();for(var m=0;m<p.length;m++){var y=p.get(m),g=y.hidden||!y.crossTileID||t.allowVerticalPlacement&&!y.placedOrientation?null:i[y.crossTileID];if(g){var b=new e.Point(y.anchorX,y.anchorY),_=$e(b,r?u:s),x=et(o.cameraToCenterDistance,_.signedDistanceFromCamera),w=a.evaluateSizeForFeature(t.textSizeData,c,y)*x/e.ONE_EM;r&&(w*=t.tilePixelRatio/l);for(var E=$n(g.anchor,g.width,g.height,g.textOffset,g.textBoxScale,w),S=r?$e(b.add(E),s).point:_.point.add(n?E.rotate(-o.angle):E),k=t.allowVerticalPlacement&&y.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,O=0;O<y.numGlyphs;O++)e.addDynamicAttributes(d,S,k);f&&y.associatedIconIndex>=0&&(v[y.associatedIconIndex]={shiftedAnchor:S,angle:k})}else lt(y.numGlyphs,d)}if(f){h.clear();for(var T=t.icon.placedSymbolArray,C=0;C<T.length;C++){var A=T.get(C);if(A.hidden)lt(A.numGlyphs,h);else{var M=v[C];if(M)for(var P=0;P<A.numGlyphs;P++)e.addDynamicAttributes(h,M.shiftedAnchor,M.angle);else lt(A.numGlyphs,h)}}t.icon.dynamicLayoutVertexBuffer.updateData(h)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function tr(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function nr(t,n,r,i,a,o,s,u,l,c,f,p){for(var d=t.context,h=d.gl,v=t.transform,m="map"===u,y="map"===l,g=m&&"point"!==r.layout.get("symbol-placement"),b=m&&!y&&!g,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),x=!1,w=t.depthModeForSublayer(0,ke.ReadOnly),E=r.layout.get("text-variable-anchor"),S=[],k=0,O=i;k<O.length;k+=1){var T=O[k],C=n.getTile(T),A=C.getBucket(r);if(A){var M=a?A.text:A.icon;if(M&&M.segments.get().length){var P=M.programConfigurations.get(r.id),I=a||A.sdfIcons,R=a?A.textSizeData:A.iconSizeData,j=y||0!==v.pitch,L=t.useProgram(tr(I,a,A),P),N=e.evaluateSizeForZoom(R,v.zoom),D=void 0,F=[0,0],z=void 0,B=void 0,U=null,V=void 0;if(a)z=C.glyphAtlasTexture,B=h.LINEAR,D=C.glyphAtlasTexture.size,A.iconsInText&&(F=C.imageAtlasTexture.size,U=C.imageAtlasTexture,V=j||t.options.rotating||t.options.zooming||"composite"===R.kind||"camera"===R.kind?h.LINEAR:h.NEAREST);else{var H=1!==r.layout.get("icon-size").constantOr(0)||A.iconsNeedLinear;z=C.imageAtlasTexture,B=I||t.options.rotating||t.options.zooming||H||j?h.LINEAR:h.NEAREST,D=C.imageAtlasTexture.size}var W=pt(C,1,t.transform.zoom),q=Je(T.posMatrix,y,m,t.transform,W),G=Qe(T.posMatrix,y,m,t.transform,W),Z=E&&A.hasTextData(),Y="none"!==r.layout.get("icon-text-fit")&&Z&&A.hasIconData();g&&nt(A,T.posMatrix,t,a,q,G,y,c);var X=t.translatePosMatrix(T.posMatrix,C,o,s),K=g||a&&E||Y?Qn:q,J=t.translatePosMatrix(G,C,o,s,!0),Q=I&&0!==r.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),$={program:L,buffers:M,uniformValues:I?A.iconsInText?Zn(R.kind,N,b,y,t,X,K,J,D,F):Gn(R.kind,N,b,y,t,X,K,J,a,D,!0):qn(R.kind,N,b,y,t,X,K,J,a,D),atlasTexture:z,atlasTextureIcon:U,atlasInterpolation:B,atlasInterpolationIcon:V,isSDF:I,hasHalo:Q};if(_&&A.canOverlap){x=!0;for(var ee=0,te=M.segments.get();ee<te.length;ee+=1){var ne=te[ee];S.push({segments:new e.SegmentVector([ne]),sortKey:ne.sortKey,state:$})}}else S.push({segments:M.segments,sortKey:0,state:$})}}}x&&S.sort((function(e,t){return e.sortKey-t.sortKey}));for(var re=0,ie=S;re<ie.length;re+=1){var ae=ie[re],oe=ae.state;if(d.activeTexture.set(h.TEXTURE0),oe.atlasTexture.bind(oe.atlasInterpolation,h.CLAMP_TO_EDGE),oe.atlasTextureIcon&&(d.activeTexture.set(h.TEXTURE1),oe.atlasTextureIcon&&oe.atlasTextureIcon.bind(oe.atlasInterpolationIcon,h.CLAMP_TO_EDGE)),oe.isSDF){var se=oe.uniformValues;oe.hasHalo&&(se.u_is_halo=1,rr(oe.buffers,ae.segments,r,t,oe.program,w,f,p,se)),se.u_is_halo=0}rr(oe.buffers,ae.segments,r,t,oe.program,w,f,p,oe.uniformValues)}}function rr(e,t,n,r,i,a,o,s,u){var l=r.context;i.draw(l,l.gl.TRIANGLES,a,o,s,Ce.disabled,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ir(e,t,n,r,i,a,o){var s,u,l,c,f,p=e.context.gl,d=n.paint.get("fill-pattern"),h=d&&d.constantOr(1),v=n.getCrossfadeParameters();o?(u=h&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=h?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,y=r;m<y.length;m+=1){var g=y[m],b=t.getTile(g);if(!h||b.patternsLoaded()){var _=b.getBucket(n);if(_){var x=_.programConfigurations.get(n.id),w=e.useProgram(u,x);h&&(e.context.activeTexture.set(p.TEXTURE0),b.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),x.updatePaintBuffers(v));var E=d.constantOr(null);if(E&&b.imageAtlas){var S=b.imageAtlas,k=S.patternPositions[E.to.toString()],O=S.patternPositions[E.from.toString()];k&&O&&x.setConstantPatternPositions(k,O)}var T=e.translatePosMatrix(g.posMatrix,b,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(o){c=_.indexBuffer2,f=_.segments2;var C=[p.drawingBufferWidth,p.drawingBufferHeight];l="fillOutlinePattern"===u&&h?An(T,e,v,b,C):Cn(T,C)}else c=_.indexBuffer,f=_.segments,l=h?Tn(T,e,v,b):On(T);w.draw(e.context,s,i,e.stencilModeForClipping(g),a,Ce.disabled,l,n.id,_.layoutVertexBuffer,c,f,n.paint,e.transform.zoom,x)}}}}function ar(e,t,n,r,i,a,o){for(var s=e.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),f=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),d=0,h=r;d<h.length;d+=1){var v=h[d],m=t.getTile(v),y=m.getBucket(n);if(y){var g=y.programConfigurations.get(n.id),b=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",g);c&&(e.context.activeTexture.set(u.TEXTURE0),m.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),g.updatePaintBuffers(f));var _=l.constantOr(null);if(_&&m.imageAtlas){var x=m.imageAtlas,w=x.patternPositions[_.to.toString()],E=x.patternPositions[_.from.toString()];w&&E&&g.setConstantPatternPositions(w,E)}var S=e.translatePosMatrix(v.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),k=n.paint.get("fill-extrusion-vertical-gradient"),O=c?kn(S,e,k,p,v,f,m):Sn(S,e,k,p);b.draw(s,s.gl.TRIANGLES,i,a,o,Ce.backCCW,O,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,e.transform.zoom,g)}}}function or(t,n,r,i,a,o){var s=t.context,u=s.gl,l=n.fbo;if(l){var c=t.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var f=function(t,n,r){var i=r.paint.get("hillshade-shadow-color"),a=r.paint.get("hillshade-highlight-color"),o=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var u,l,c,f=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(n.tileID.toUnwrapped(),f),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new e.MercatorCoordinate(0,c/l).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:a,u_accent:o}}(t,n,r);c.draw(s,u.TRIANGLES,i,a,o,Ce.disabled,f,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function sr(t,n,r,i,a,o){var s=t.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,f=l.stride,p=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(f),n.demTexture){var d=n.demTexture;d.update(p,{premultiply:!1}),d.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(s,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var h=n.fbo;if(!h){var v=new e.Texture(s,{width:c,height:c,data:null},u.RGBA);v.bind(u.LINEAR,u.CLAMP_TO_EDGE),(h=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(v.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,a,o,Ce.disabled,function(t,n){var r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(t,n,r,i,a){var o=i.paint.get("raster-fade-duration");if(o>0){var s=e.browser.now(),u=(s-t.timeAdded)/o,l=n?(s-n.timeAdded)/o:-1,c=r.getSource(),f=a.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-f)>Math.abs(t.tileID.overscaledZ-f),d=p&&t.refreshedUponExpiration?1:e.clamp(p?u:1-l,0,1);return t.refreshedUponExpiration&&u>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var lr=new e.Color(1,0,0,1),cr=new e.Color(0,1,0,1),fr=new e.Color(0,0,1,1),pr=new e.Color(1,0,1,1),dr=new e.Color(0,1,1,1);function hr(e,t,n,r){mr(e,0,t+n/2,e.transform.width,n,r)}function vr(e,t,n,r){mr(e,t-n/2,0,n,e.transform.height,r)}function mr(t,n,r,i,a,o){var s=t.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),s.clear({color:o}),u.disable(u.SCISSOR_TEST)}function yr(t,n,r){var i=t.context,a=i.gl,o=r.posMatrix,s=t.useProgram("debug"),u=ke.disabled,l=Oe.disabled,c=t.colorModeForRenderPass();i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(i,a.LINE_STRIP,u,l,c,Ce.disabled,Rn(o,e.Color.red),"$debug",t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),d=n.getTile(r).tileSize,h=512/Math.min(d,512)*(r.overscaledZ/t.transform.zoom)*.5,v=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(v+=" => "+r.overscaledZ),function(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,v+" "+p+"kb"),s.draw(i,a.TRIANGLES,u,l,Te.alphaBlended,Ce.disabled,Rn(o,e.Color.transparent,h),"$debug",t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}var gr={symbol:function(t,n,r,i,a){if("translucent"===t.renderPass){var o=Oe.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,a,o,s){for(var u=n.transform,l="map"===a,c="map"===o,f=0,p=t;f<p.length;f+=1){var d=p[f],h=i.getTile(d),v=h.getBucket(r);if(v&&v.text&&v.text.segments.get().length){var m=e.evaluateSizeForZoom(v.textSizeData,u.zoom),y=pt(h,1,n.transform.zoom),g=Je(d.posMatrix,c,l,n.transform,y),b="none"!==r.layout.get("icon-text-fit")&&v.hasIconData();if(m){var _=Math.pow(2,u.zoom-h.tileID.overscaledZ);er(v,l,c,s,e.symbolSize,u,g,d.posMatrix,_,m,b)}}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),a),0!==r.paint.get("icon-opacity").constantOr(1)&&nr(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,s),0!==r.paint.get("text-opacity").constantOr(1)&&nr(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,s),n.map.showCollisionBoxes&&(Jn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Jn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("circle-opacity"),o=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),u=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==a.constantOr(1)||0!==o.constantOr(1)&&0!==s.constantOr(1)){for(var l=t.context,c=l.gl,f=t.depthModeForSublayer(0,ke.ReadOnly),p=Oe.disabled,d=t.colorModeForRenderPass(),h=[],v=0;v<i.length;v++){var m=i[v],y=n.getTile(m),g=y.getBucket(r);if(g){var b=g.programConfigurations.get(r.id),_={programConfiguration:b,program:t.useProgram("circle",b),layoutVertexBuffer:g.layoutVertexBuffer,indexBuffer:g.indexBuffer,uniformValues:Mn(t,m,y,r)};if(u)for(var x=0,w=g.segments.get();x<w.length;x+=1){var E=w[x];h.push({segments:new e.SegmentVector([E]),sortKey:E.sortKey,state:_})}else h.push({segments:g.segments,sortKey:0,state:_})}}u&&h.sort((function(e,t){return e.sortKey-t.sortKey}));for(var S=0,k=h;S<k.length;S+=1){var O=k[S],T=O.state;T.program.draw(l,c.TRIANGLES,f,p,d,Ce.disabled,T.uniformValues,r.id,T.layoutVertexBuffer,T.indexBuffer,O.segments,r.paint,t.transform.zoom,T.programConfiguration)}}}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var a=t.context,o=a.gl,s=Oe.disabled,u=new Te([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){var i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,a,i)}}(a,t,r),a.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var c=i[l];if(!n.hasRenderableParent(c)){var f=n.getTile(c),p=f.getBucket(r);if(p){var d=p.programConfigurations.get(r.id);t.useProgram("heatmap",d).draw(a,o.TRIANGLES,ke.disabled,s,u,Ce.disabled,Ln(c.posMatrix,f,t.transform.zoom,r.paint.get("heatmap-intensity")),r.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,r.paint,t.transform.zoom,d)}}}a.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||(o=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,ke.disabled,Oe.disabled,t.colorModeForRenderPass(),Ce.disabled,function(t,n,r,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,r))},line:function(t,n,r,i){if("translucent"===t.renderPass){var a=r.paint.get("line-opacity"),o=r.paint.get("line-width");if(0!==a.constantOr(1)&&0!==o.constantOr(1))for(var s=t.depthModeForSublayer(0,ke.ReadOnly),u=t.colorModeForRenderPass(),l=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),f=c.constantOr(1),p=r.paint.get("line-gradient"),d=r.getCrossfadeParameters(),h=f?"linePattern":l?"lineSDF":p?"lineGradient":"line",v=t.context,m=v.gl,y=!0,g=0,b=i;g<b.length;g+=1){var _=b[g],x=n.getTile(_);if(!f||x.patternsLoaded()){var w=x.getBucket(r);if(w){var E=w.programConfigurations.get(r.id),S=t.context.program.get(),k=t.useProgram(h,E),O=y||k.program!==S,T=c.constantOr(null);if(T&&x.imageAtlas){var C=x.imageAtlas,A=C.patternPositions[T.to.toString()],M=C.patternPositions[T.from.toString()];A&&M&&E.setConstantPatternPositions(A,M)}var P=f?Fn(t,x,r,d):l?zn(t,x,r,l,d):p?Dn(t,x,r,w.lineClipsArray.length):Nn(t,x,r);if(f)v.activeTexture.set(m.TEXTURE0),x.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),E.updatePaintBuffers(d);else if(l&&(O||t.lineAtlas.dirty))v.activeTexture.set(m.TEXTURE0),t.lineAtlas.bind(v);else if(p){var I=w.gradients[r.id],R=I.texture;if(r.gradientVersion!==I.version){var j=256;if(r.stepInterpolant){var L=n.getSource().maxzoom,N=_.canonical.z===L?Math.ceil(1<<t.transform.maxZoom-_.canonical.z):1;j=e.clamp(e.nextPowerOfTwo(w.maxLineLength/e.EXTENT*1024*N),256,v.maxTextureSize)}I.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:j,image:I.gradient||void 0,clips:w.lineClipsArray}),I.texture?I.texture.update(I.gradient):I.texture=new e.Texture(v,I.gradient,m.RGBA),I.version=r.gradientVersion,R=I.texture}v.activeTexture.set(m.TEXTURE0),R.bind(r.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}k.draw(v,m.TRIANGLES,s,t.stencilModeForClipping(_),u,Ce.disabled,P,r.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,r.paint,t.transform.zoom,E,w.layoutVertexBuffer2),y=!1}}}}},fill:function(t,n,r,i){var a=r.paint.get("fill-color"),o=r.paint.get("fill-opacity");if(0!==o.constantOr(1)){var s=t.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),l=t.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===a.constantOr(e.Color.transparent).a&&1===o.constantOr(0)?"opaque":"translucent";if(t.renderPass===l){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?ke.ReadWrite:ke.ReadOnly);ir(t,n,r,i,c,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){var f=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,ke.ReadOnly);ir(t,n,r,i,f,s,!0)}}},"fill-extrusion":function(e,t,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){var a=new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))ar(e,t,n,r,a,Oe.disabled,Te.disabled),ar(e,t,n,r,a,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var o=e.colorModeForRenderPass();ar(e,t,n,r,a,Oe.disabled,o)}}},hillshade:function(e,t,n,r){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var i=e.context,a=e.depthModeForSublayer(0,ke.ReadOnly),o=e.colorModeForRenderPass(),s="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r],u=s[0],l=0,c=s[1];l<c.length;l+=1){var f=c[l],p=t.getTile(f);p.needsHillshadePrepare&&"offscreen"===e.renderPass?sr(e,p,n,a,Oe.disabled,o):"translucent"===e.renderPass&&or(e,p,n,a,u[f.overscaledZ],o)}i.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,r){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram("raster"),u=e.colorModeForRenderPass(),l=o instanceof I?[{},r]:e.stencilConfigForOverlap(r),c=l[0],f=l[1],p=f[f.length-1].overscaledZ,d=!e.options.moving,h=0,v=f;h<v.length;h+=1){var m=v[h],y=e.depthModeForSublayer(m.overscaledZ-p,1===n.paint.get("raster-opacity")?ke.ReadWrite:ke.ReadOnly,a.LESS),g=t.getTile(m),b=e.transform.calculatePosMatrix(m.toUnwrapped(),d);g.registerFadeDuration(n.paint.get("raster-fade-duration"));var _=t.findLoadedParent(m,0),x=ur(g,_,t,n,e.transform),w=void 0,E=void 0,S="nearest"===n.paint.get("raster-resampling")?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),g.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),_?(_.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,_.tileID.overscaledZ-g.tileID.overscaledZ),E=[g.tileID.canonical.x*w%1,g.tileID.canonical.y*w%1]):g.texture.bind(S,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var k=Vn(b,E||[0,0],w||1,x,n);o instanceof I?s.draw(i,a.TRIANGLES,y,Oe.disabled,u,Ce.disabled,k,n.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(i,a.TRIANGLES,y,c[m.overscaledZ],u,Ce.disabled,k,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var a=e.context,o=a.gl,s=e.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!e.isPatternMissing(l)){var c=!l&&1===r.a&&1===i&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass===c){var f=Oe.disabled,p=e.depthModeForSublayer(0,"opaque"===c?ke.ReadWrite:ke.ReadOnly),d=e.colorModeForRenderPass(),h=e.useProgram(l?"backgroundPattern":"background"),v=s.coveringTiles({tileSize:u});l&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var m=n.getCrossfadeParameters(),y=0,g=v;y<g.length;y+=1){var b=g[y],_=e.transform.calculatePosMatrix(b.toUnwrapped()),x=l?Xn(_,i,e,l,{tileID:b,tileSize:u},m):Yn(_,i,r);h.draw(a,o.TRIANGLES,p,f,d,Ce.disabled,x,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var r=0;r<n.length;r++)yr(e,t,n[r])},custom:function(e,t,n){var r=e.context,i=n.implementation;if("offscreen"===e.renderPass){var a=i.prerender;a&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),a.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Oe.disabled);var o="3d"===i.renderingMode?new ke(e.context.gl.LEQUAL,ke.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ke.ReadOnly);r.setDepthMode(o),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}},br=function(e,t){this.context=new Ae(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Me.maxUnderzooming+Me.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ft,this.gpuTimers={}};br.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},br.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Wt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,Wt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,P.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,Wt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Oe({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},br.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,ke.disabled,this.stencilClearMode,Te.disabled,Ce.disabled,jn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},br.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Te.disabled),n.setDepthMode(ke.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,ke.disabled,new Oe({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE),Te.disabled,Ce.disabled,jn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},br.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new Oe({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new Oe({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},br.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=r[r.length-1].overscaledZ,a=r[0].overscaledZ-i+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+i]=new Oe({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=a,[o,r]}return[(t={},t[i]=Oe.disabled,t),r]},br.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new Te([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Te.unblended:Te.alphaBlended},br.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return ke.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ke(n||this.context.gl.LEQUAL,t,[r,r])},br.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},br.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var u,l,c={},f={},p={};for(var d in a){var h=a[d];c[d]=h.getVisibleCoordinates(),f[d]=c[d].slice().reverse(),p[d]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var v=0;v<i.length;v++)if(this.style._layers[i[v]].is3D()){this.opaquePassCutoff=v;break}this.renderPass="offscreen";for(var m=0,y=i;m<y.length;m+=1){var g=this.style._layers[y[m]];if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var b=f[g.source];("custom"===g.type||b.length)&&this.renderLayer(this,a[g.source],g,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[i[this.currentLayer]],x=a[_.source],w=c[_.source];this._renderTileClippingMasks(_,w),this.renderLayer(this,x,_,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var E=this.style._layers[i[this.currentLayer]],S=a[E.source],k=("symbol"===E.type?p:f)[E.source];this._renderTileClippingMasks(E,c[E.source]),this.renderLayer(this,S,E,k)}this.options.showTileBoundaries&&(e.values(this.style._layers).forEach((function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(l&&l.id)&&(l=r.style.sourceCaches[e.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))})),u&&gr.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(e){var t=e.transform.padding;hr(e,e.transform.height-(t.top||0),3,lr),hr(e,t.bottom||0,3,cr),vr(e,t.left||0,3,fr),vr(e,e.transform.width-(t.right||0),3,pr);var n=e.transform.centerPoint;!function(e,t,n,r){mr(e,t-1,n-10,2,20,r),mr(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,dr)}(this),this.context.setDefault()},br.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),gr[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},br.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},br.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},br.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},br.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=a}return t},br.prototype.translatePosMatrix=function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(o){var s=Math.sin(o),u=Math.cos(o);r=[r[0]*u-r[1]*s,r[0]*s+r[1]*u]}var l=[a?r[0]:pt(n,r[0],this.transform.zoom),a?r[1]:pt(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,l),c},br.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},br.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},br.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},br.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=""+e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,e,bn[e],t,Kn[e],this._showOverdrawInspector)),this.cache[n]},br.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},br.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},br.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},br.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var _r=function(e,t){this.points=e,this.planes=t};_r.fromInvProjectionMatrix=function(t,n,r){var i=Math.pow(2,r),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return e.transformMat4([],n,t)})).map((function(t){return e.scale$1([],t,1/t[3]/n*i)})),o=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(t){var n=e.sub([],a[t[0]],a[t[1]]),r=e.sub([],a[t[2]],a[t[1]]),i=e.normalize([],e.cross([],n,r)),o=-e.dot(i,a[t[1]]);return i.concat(o)}));return new _r(a,o)};var xr=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},xr.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},xr.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var a=t.planes[i],o=0,s=0;s<n.length;s++)o+=e.dot$1(a,n[s])>=0;if(0===o)return 0;o!==n.length&&(r=!1)}if(r)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<t.points.length;f++){var p=t.points[f][u]-this.min[u];l=Math.min(l,p),c=Math.max(c,p)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var wr=function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r};wr.prototype.interpolate=function(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this},wr.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},wr.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},wr.prototype.clone=function(){return new wr(this.top,this.bottom,this.left,this.right)},wr.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Er=function(t,n,r,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===a||a,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wr,this._posMatrixCache={},this._alignedPosMatrixCache={}},Sr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Er.prototype.clone=function(){var e=new Er(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Sr.minZoom.get=function(){return this._minZoom},Sr.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Sr.maxZoom.get=function(){return this._maxZoom},Sr.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Sr.minPitch.get=function(){return this._minPitch},Sr.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Sr.maxPitch.get=function(){return this._maxPitch},Sr.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Sr.renderWorldCopies.get=function(){return this._renderWorldCopies},Sr.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},Sr.worldSize.get=function(){return this.tileSize*this.scale},Sr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Sr.size.get=function(){return new e.Point(this.width,this.height)},Sr.bearing.get=function(){return-this.angle/Math.PI*180},Sr.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Sr.pitch.get=function(){return this._pitch/Math.PI*180},Sr.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Sr.fov.get=function(){return this._fov/Math.PI*180},Sr.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Sr.zoom.get=function(){return this._zoom},Sr.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Sr.center.get=function(){return this._center},Sr.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Sr.padding.get=function(){return this._edgeInsets.toJSON()},Sr.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Sr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Er.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Er.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Er.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Er.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),u=Math.floor(Math.max(r.x,i.x,a.x,o.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new e.UnwrappedTileID(l,t));return n},Er.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=Math.pow(2,n),o=[a*i.x,a*i.y,0],s=_r.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(e){return{aabb:new xr([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},c=[],f=[],p=n,d=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var h=1;h<=3;h++)c.push(l(-h)),c.push(l(h));for(c.push(l(0));c.length>0;){var v=c.pop(),m=v.x,y=v.y,g=v.fullyVisible;if(!g){var b=v.aabb.intersects(s);if(0===b)continue;g=2===b}var _=v.aabb.distanceX(o),x=v.aabb.distanceY(o),w=Math.max(Math.abs(_),Math.abs(x));if(v.zoom===p||w>3+(1<<p-v.zoom)-2&&v.zoom>=u)f.push({tileID:new e.OverscaledTileID(v.zoom===p?d:v.zoom,v.wrap,v.zoom,m,y),distanceSq:e.sqrLen([o[0]-.5-m,o[1]-.5-y])});else for(var E=0;E<4;E++){var S=(m<<1)+E%2,k=(y<<1)+(E>>1);c.push({aabb:v.aabb.quadrant(E),zoom:v.zoom+1,x:S,y:k,wrap:v.wrap,fullyVisible:g})}}return f.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))},Er.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Sr.unmodified.get=function(){return this._unmodified},Er.prototype.zoomScale=function(e){return Math.pow(2,e)},Er.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Er.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Er.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Sr.point.get=function(){return this.project(this.center)},Er.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(r.x-i.x),a.y-(r.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},Er.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Er.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Er.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Er.prototype.coordinateLocation=function(e){return e.toLngLat()},Er.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],o=n[1]/i,s=r[1]/a,u=n[2]/i,l=r[2]/a,c=u===l?0:(0-u)/(l-u);return new e.MercatorCoordinate(e.number(n[0]/i,r[0]/a,c)/this.worldSize,e.number(o,s,c)/this.worldSize)},Er.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Er.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Er.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Er.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Er.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+Math.pow(2,a.z)*t.wrap,u=e.identity(new Float64Array(16));return e.translate(u,u,[s*o,a.y*o,0]),e.scale(u,u,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),i[r]=new Float32Array(u),i[r]},Er.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Er.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,r,i,a=-90,o=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var f=this.latRange;a=e.mercatorYfromLat(f[1])*this.worldSize,t=(o=e.mercatorYfromLat(f[0])*this.worldSize)-a<l.y?l.y/(o-a):0}if(this.lngRange){var p=this.lngRange;s=e.mercatorXfromLng(p[0])*this.worldSize,n=(u=e.mercatorXfromLng(p[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var d=this.point,h=Math.max(n||0,t||0);if(h)return this.center=this.unproject(new e.Point(n?(u+s)/2:d.x,t?(o+a)/2:d.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var v=d.y,m=l.y/2;v-m<a&&(i=a+m),v+m>o&&(i=o-m)}if(this.lngRange){var y=d.x,g=l.x/2;y-g<s&&(r=s+g),y+g>u&&(r=u-g)}void 0===r&&void 0===i||(this.center=this.unproject(new e.Point(void 0!==r?r:d.x,void 0!==i?i:d.y))),this._unmodified=c,this._constraining=!1}},Er.prototype._calcMatrices=function(){if(this.height){var t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);e.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-t.x/this.width,c[9]=2*t.y/this.height,e.scale(c,c,[1,-1,1]),e.translate(c,c,[0,0,-this.cameraToCenterDistance]),e.rotateX(c,c,this._pitch),e.rotateZ(c,c,this.angle),e.translate(c,c,[-o,-s,0]),this.mercatorMatrix=e.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),e.scale(c,c,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,p=this.height%2/2,d=Math.cos(this.angle),h=Math.sin(this.angle),v=o-Math.round(o)+d*f+h*p,m=s-Math.round(s)+d*p+h*f,y=new Float64Array(c);if(e.translate(y,y,[v>.5?v-1:v,m>.5?m-1:m,0]),this.alignedProjMatrix=y,c=e.create(),e.scale(c,c,[this.width/2,-this.height/2,1]),e.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=e.create(),e.scale(c,c,[1,-1,1]),e.translate(c,c,[-1,-1,0]),e.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Er.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Er.prototype.getCameraPoint=function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,t))},Er.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var r=n.x,i=n.y,a=n.x,o=n.y,s=0,u=t;s<u.length;s+=1){var l=u[s];r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}return[new e.Point(r,i),new e.Point(a,i),new e.Point(a,o),new e.Point(r,o),new e.Point(r,i)]},Object.defineProperties(Er.prototype,Sr);var kr=function(t){var n,r,i,a;this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,a=function(){i=null,r&&(n(),i=setTimeout(a,300),r=!1)},function(){return r=!0,i||a(),i})};kr.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},kr.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},kr.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),o=Math.round(n.lng*a)/a,s=Math.round(n.lat*a)/a,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=t?"/"+o+"/"+s+"/"+r:r+"/"+s+"/"+o,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var f=this._hashName,p=!1,d=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===f?(p=!0,t+"="+c):e})).filter((function(e){return e}));return p||d.push(f+"="+c),"#"+d.join("&")}return"#"+c},kr.prototype._getCurrentHash=function(){var t,n=this,r=e.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===n._hashName&&(t=e)})),(t&&t[1]||"").split("/")):r.split("/")},kr.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(e)}))){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},kr.prototype._updateHashUnthrottled=function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());try{e.window.history.replaceState(e.window.history.state,null,t)}catch(e){}};var Or={linearity:.3,easing:e.bezier(0,0,.3,1)},Tr=e.extend({deceleration:2500,maxSpeed:1400},Or),Cr=e.extend({deceleration:20,maxSpeed:1400},Or),Ar=e.extend({deceleration:1e3,maxSpeed:360},Or),Mr=e.extend({deceleration:1e3,maxSpeed:90},Or),Pr=function(e){this._map=e,this.clear()};function Ir(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function Rr(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),u=Math.abs(s)/(o*a);return{easing:r.easing,duration:1e3*u,amount:s*(u/2)}}Pr.prototype.clear=function(){this._inertiaBuffer=[]},Pr.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},Pr.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now();t.length>0&&n-t[0].time>160;)t.shift()},Pr.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var a=i[r].settings;n.zoom+=a.zoomDelta||0,n.bearing+=a.bearingDelta||0,n.pitch+=a.pitchDelta||0,a.panDelta&&n.pan._add(a.panDelta),a.around&&(n.around=a.around),a.pinchAround&&(n.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Rr(n.pan.mag(),o,e.extend({},Tr,t||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Ir(s,u)}if(n.zoom){var l=Rr(n.zoom,o,Cr);s.zoom=this._map.transform.zoom+l.amount,Ir(s,l)}if(n.bearing){var c=Rr(n.bearing,o,Ar);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),Ir(s,c)}if(n.pitch){var f=Rr(n.pitch,o,Mr);s.pitch=this._map.transform.pitch+f.amount,Ir(s,f)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};var jr=function(t){function r(r,i,a,o){void 0===o&&(o={});var s=n.mousePos(i.getCanvasContainer(),a),u=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:u,originalEvent:a},o)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Lr=function(t){function r(r,i,a){var o="touchend"===r?a.changedTouches:a.touches,s=n.touchPos(i.getCanvasContainer(),o),u=s.map((function(e){return i.unproject(e)})),l=s.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new e.Point(0,0)),c=i.unproject(l);t.call(this,r,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:a}),this._defaultPrevented=!1}t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),Nr=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Dr=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};Dr.prototype.reset=function(){delete this._mousedownPos},Dr.prototype.wheel=function(e){return this._firePreventable(new Nr(e.type,this._map,e))},Dr.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new jr(e.type,this._map,e))},Dr.prototype.mouseup=function(e){this._map.fire(new jr(e.type,this._map,e))},Dr.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new jr(e.type,this._map,e))},Dr.prototype.dblclick=function(e){return this._firePreventable(new jr(e.type,this._map,e))},Dr.prototype.mouseover=function(e){this._map.fire(new jr(e.type,this._map,e))},Dr.prototype.mouseout=function(e){this._map.fire(new jr(e.type,this._map,e))},Dr.prototype.touchstart=function(e){return this._firePreventable(new Lr(e.type,this._map,e))},Dr.prototype.touchmove=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype.touchend=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype.touchcancel=function(e){this._map.fire(new Lr(e.type,this._map,e))},Dr.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},Dr.prototype.isEnabled=function(){return!0},Dr.prototype.isActive=function(){return!1},Dr.prototype.enable=function(){},Dr.prototype.disable=function(){};var Fr=function(e){this._map=e};Fr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fr.prototype.mousemove=function(e){this._map.fire(new jr(e.type,this._map,e))},Fr.prototype.mousedown=function(){this._delayContextMenu=!0},Fr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new jr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fr.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new jr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()},Fr.prototype.isEnabled=function(){return!0},Fr.prototype.isActive=function(){return!1},Fr.prototype.enable=function(){},Fr.prototype.disable=function(){};var zr=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};function Br(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}zr.prototype.isEnabled=function(){return!!this._enabled},zr.prototype.isActive=function(){return!!this._active},zr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},zr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},zr.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},zr.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var a=Math.min(i.x,r.x),o=Math.max(i.x,r.x),s=Math.min(i.y,r.y),u=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+a+"px,"+s+"px)"),this._box.style.width=o-a+"px",this._box.style.height=u-s+"px"}}},zr.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&0===t.button){var a=this._startPos,o=r;if(this.reset(),n.suppressClick(),a.x!==o.x||a.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(a,o,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",t)}},zr.prototype.keydown=function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))},zr.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},zr.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var Ur=function(e){this.reset(),this.numTouches=e.numTouches};Ur.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ur.prototype.touchstart=function(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1)n._add(i[r]);return n.div(t.length)}(n),this.touches=Br(r,n)))},Ur.prototype.touchmove=function(e,t,n){if(!this.aborted&&this.centroid){var r=Br(n,t);for(var i in this.touches){var a=r[i];(!a||a.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Ur.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Vr=function(e){this.singleTap=new Ur(e),this.numTaps=e.numTaps,this.reset()};Vr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Vr.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},Vr.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},Vr.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<500,a=!this.lastTap||this.lastTap.dist(r)<30;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Hr=function(){this._zoomIn=new Vr({numTouches:1,numTaps:2}),this._zoomOut=new Vr({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},Hr.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},Hr.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this._active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Wr={0:1,2:2},qr=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};qr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},qr.prototype._correctButton=function(e,t){return!1},qr.prototype._move=function(e,t){return{}},qr.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},qr.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){var n=Wr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)},qr.prototype.mouseupWindow=function(e){this._lastPoint&&n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},qr.prototype.enable=function(){this._enabled=!0},qr.prototype.disable=function(){this._enabled=!1,this.reset()},qr.prototype.isEnabled=function(){return this._enabled},qr.prototype.isActive=function(){return this._active};var Gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return 0===t&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(qr),Zr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(qr),Yr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype._correctButton=function(e,t){return 0===t&&e.ctrlKey||2===t},t.prototype._move=function(e,t){var n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(qr),Xr=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Xr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Xr.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Xr.prototype.touchmove=function(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)},Xr.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=Br(r,n),a=new e.Point(0,0),o=new e.Point(0,0),s=0;for(var u in i){var l=i[u],c=this._touches[u];c&&(a._add(l),o._add(l.sub(c)),s++,i[u]=l)}if(this._touches=i,!(s<this._minTouches)&&o.mag()){var f=o.div(s);if(this._sum._add(f),!(this._sum.mag()<this._clickTolerance))return{around:a.div(s),panDelta:f}}},Xr.prototype.enable=function(){this._enabled=!0},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var Kr=function(){this.reset()};function Jr(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Qr(e,t){return Math.log(e/t)/Math.LN2}Kr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Kr.prototype._start=function(e){},Kr.prototype._move=function(e,t,n){return{}},Kr.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},Kr.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[1],a=Jr(n,t,r[0]),o=Jr(n,t,i);if(a&&o){var s=this._aroundCenter?null:a.add(o).div(2);return this._move([a,o],s,e)}}},Kr.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,a=i[1],o=Jr(r,t,i[0]),s=Jr(r,t,a);o&&s||(this._active&&n.suppressClick(),this.reset())}},Kr.prototype.touchcancel=function(){this.reset()},Kr.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around},Kr.prototype.disable=function(){this._enabled=!1,this.reset()},Kr.prototype.isEnabled=function(){return this._enabled},Kr.prototype.isActive=function(){return this._active};var $r=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Qr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Qr(this._distance,n),pinchAround:t}},t}(Kr);function ei(e,t){return 180*e.angleWith(t)/Math.PI}var ti=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,n=ei(e,this._startVector);return Math.abs(n)<t},t}(Kr);function ni(e){return Math.abs(e.y)>Math.abs(e.x)}var ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,ni(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(void 0!==this._valid)return this._valid;var r=e.mag()>=2,i=t.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var a=e.y>0==t.y>0;return ni(e)&&ni(t)&&a}},t}(Kr),ii={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var e=ii;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1};function oi(e){return e*(2-e)}ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:oi,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,e.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(e){this._defaultZoomRate=e},si.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},si.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},si.prototype._start=function(t){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var a="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var f=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=l(f);o=e.number(u,s,p),f<1?this._frameId||(this._frameId=!0):c=!0}else o=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:o-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.0729-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},si.prototype.reset=function(){this._active=!1};var ui=function(e,t){this._clickZoom=e,this._tapZoom=t};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var li=function(){this.reset()};li.prototype.reset=function(){this._active=!1},li.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var ci=function(){this._tap=new Vr({numTouches:1,numTaps:1}),this.reset()};ci.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ci.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},ci.prototype.touchmove=function(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)},ci.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},ci.prototype.touchcancel=function(){this.reset()},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var fi=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};fi.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},fi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},fi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},fi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pi=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};pi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var di=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};di.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},di.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},di.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},di.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},di.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},di.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var hi=function(e){return e.zoom||e.drag||e.pitch||e.rotate},vi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(e.Event);function mi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var yi=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Pr(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],u=s[0];n.addEventListener(u,s[1],u===e.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yi.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],a=i[0];n.removeEventListener(a,i[1],a===e.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new Dr(t,e));var r=t.boxZoom=new zr(t,e);this._add("boxZoom",r);var i=new Hr,a=new li;t.doubleClickZoom=new ui(a,i),this._add("tapZoom",i),this._add("clickZoom",a);var o=new ci;this._add("tapDragZoom",o);var s=t.touchPitch=new ri;this._add("touchPitch",s);var u=new Zr(e),l=new Yr(e);t.dragRotate=new pi(e,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Gr(e),f=new Xr(e);t.dragPan=new fi(n,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var p=new ti,d=new $r;t.touchZoomRotate=new di(n,d,p,o),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);var h=t.scrollZoom=new si(t,this);this._add("scrollZoom",h,["mousePan"]);var v=t.keyboard=new ai;this._add("keyboard",v),this._add("blockableMapEvent",new Fr(t));for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m+=1){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}},yi.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},yi.prototype.stop=function(e){if(!this._updatingCamera){for(var t=0,n=this._handlers;t<n.length;t+=1)n[t].handler.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}},yi.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(hi(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+"Window")},yi.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&t.push(i)}return t},yi.prototype.handleEvent=function(e,t){if("blur"!==e.type){this._updatingCamera=!0;for(var r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},a={},o={},s=e.touches?this._getMapTouches(e.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,e),l=0,c=this._handlers;l<c.length;l+=1){var f=c[l],p=f.handlerName,d=f.handler,h=f.allowed;if(d.isEnabled()){var v=void 0;this._blockedByActive(o,h,p)?d.reset():d[t||e.type]&&(v=d[t||e.type](e,u,s),this.mergeHandlerResult(i,a,v,p,r),v&&v.needsRenderFrame&&this._triggerRenderFrame()),(v||d.isActive())&&(o[p]=d)}}var m={};for(var y in this._previousActiveHandlers)o[y]||(m[y]=r);this._previousActiveHandlers=o,(Object.keys(m).length||mi(i))&&(this._changes.push([i,a,m]),this._triggerRenderFrame()),(Object.keys(o).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var g=i.cameraAnimation;g&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],g(this._map))}else this.stop(!0)},yi.prototype.mergeHandlerResult=function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};void 0!==r.zoomDelta&&(n.zoom=o),void 0!==r.panDelta&&(n.drag=o),void 0!==r.pitchDelta&&(n.pitch=o),void 0!==r.bearingDelta&&(n.rotate=o)}},yi.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,a=this._changes;i<a.length;i+=1){var o=a[i],s=o[0],u=o[1],l=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,u),e.extend(r,l)}this._updateMapTransform(t,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!mi(e))return this._fireEvents(t,n,!0);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,l=e.around,c=e.pinchAround;void 0!==c&&(l=c),r._stop(!0),l=l||r.transform.centerPoint;var f=i.pointLocation(a?l.sub(a):l);s&&(i.bearing+=s),u&&(i.pitch+=u),o&&(i.zoom+=o),i.setLocationAtPoint(f,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)},yi.prototype._fireEvents=function(t,n,r){var i=this,a=hi(this._eventsInProgress),o=hi(t),s={};for(var u in t)this._eventsInProgress[u]||(s[u+"start"]=t[u].originalEvent),this._eventsInProgress[u]=t[u];for(var l in!a&&o&&this._fireEvent("movestart",o.originalEvent),s)this._fireEvent(l,s[l]);for(var c in o&&this._fireEvent("move",o.originalEvent),t)this._fireEvent(c,t[c].originalEvent);var f,p={};for(var d in this._eventsInProgress){var h=this._eventsInProgress[d],v=h.handlerName,m=h.originalEvent;this._handlersById[v].isActive()||(delete this._eventsInProgress[d],p[d+"end"]=f=n[v]||m)}for(var y in p)this._fireEvent(y,p[y]);var g=hi(this._eventsInProgress);if(r&&(a||o)&&!g){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_=function(e){return 0!==e&&-i._bearingSnap<e&&e<i._bearingSnap};b?(_(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:f})):(this._map.fire(new e.Event("moveend",{originalEvent:f})),_(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){delete e._frameId,e.handleEvent(new vi("renderFrame",{timeStamp:t})),e._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var gi=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){t=e.LngLatBounds.convert(t);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var a={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}i.padding=e.extend(a,i.padding);var s=this.transform,u=s.padding,l=s.project(e.LngLat.convert(t)),c=s.project(e.LngLat.convert(n)),f=l.rotate(-r*Math.PI/180),p=c.rotate(-r*Math.PI/180),d=new e.Point(Math.max(f.x,p.x),Math.max(f.y,p.y)),h=new e.Point(Math.min(f.x,p.x),Math.min(f.y,p.y)),v=d.sub(h),m=(s.width-(u.left+u.right+i.padding.left+i.padding.right))/v.x,y=(s.height-(u.top+u.bottom+i.padding.top+i.padding.bottom))/v.y;if(!(y<0||m<0)){var g=Math.min(s.scaleZoom(s.scale*Math.min(m,y)),i.maxZoom),b="number"==typeof i.offset.x?new e.Point(i.offset.x,i.offset.y):e.Point.convert(i.offset),_=new e.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),x=b.add(_).mult(s.scale/s.zoomScale(g));return{center:s.unproject(l.add(c).div(2).sub(x)),zoom:g,bearing:r}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,a)},n.prototype._fitInternal=function(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,a=!1,o=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),a&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),o&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in t?+t.zoom:a,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,f="pitch"in t?+t.pitch:s,p="padding"in t?t.padding:i.padding,d=e.Point.convert(t.offset),h=i.centerPoint.add(d),v=i.pointLocation(h),m=e.LngLat.convert(t.center||v);this._normalizeCenter(m);var y,g,b=i.project(v),_=i.project(m).sub(b),x=i.zoomScale(l-a);t.around&&(y=e.LngLat.convert(t.around),g=i.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==a,this._rotating=this._rotating||o!==c,this._pitching=this._pitching||f!==s,this._padding=!i.isPaddingEqual(p),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((function(t){if(r._zooming&&(i.zoom=e.number(a,l,t)),r._rotating&&(i.bearing=e.number(o,c,t)),r._pitching&&(i.pitch=e.number(s,f,t)),r._padding&&(i.interpolatePadding(u,p,t),h=i.centerPoint.add(d)),y)i.setLocationAtPoint(y,g);else{var v=i.zoomScale(i.zoom-a),m=l>a?Math.min(2,x):Math.max(.5,x),w=Math.pow(m,1-t),E=i.unproject(b.add(_.mult(t*w)).mult(v));i.setLocationAtPoint(i.renderWorldCopies?E.wrap():E,h)}r._fireMoveEvents(n)}),(function(e){r._afterEase(n,e)}),t),this},n.prototype._prepareEase=function(t,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),a&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,p="pitch"in t?+t.pitch:u,d="padding"in t?t.padding:a.padding,h=a.zoomScale(c-o),v=e.Point.convert(t.offset),m=a.centerPoint.add(v),y=a.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=a.project(y),_=a.project(g).sub(b),x=t.curve,w=Math.max(a.width,a.height),E=w/h,S=_.mag();if("minZoom"in t){var k=e.clamp(Math.min(t.minZoom,o,c),a.minZoom,a.maxZoom),O=w/a.zoomScale(k-o);x=Math.sqrt(O/S*2)}var T=x*x;function C(e){var t=(E*E-w*w+(e?-1:1)*T*T*S*S)/(2*(e?E:w)*T*S);return Math.log(Math.sqrt(t*t+1)-t)}function A(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}var P=C(0),I=function(e){return M(P)/M(P+x*e)},R=function(e){return w*((M(P)*(A(t=P+x*e)/M(t))-A(P))/T)/S;var t},j=(C(1)-P)/x;if(Math.abs(S)<1e-6||!isFinite(j)){if(Math.abs(w-E)<1e-6)return this.easeTo(t,n);var L=E<w?-1:1;j=Math.abs(Math.log(E/w))/x,R=function(){return 0},I=function(e){return Math.exp(L*x*e)}}return t.duration="duration"in t?+t.duration:1e3*j/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==f,this._pitching=p!==u,this._padding=!a.isPaddingEqual(d),this._prepareEase(n,!1),this._ease((function(t){var i=t*j,h=1/I(i);a.zoom=1===t?c:o+a.scaleZoom(h),r._rotating&&(a.bearing=e.number(s,f,t)),r._pitching&&(a.pitch=e.number(u,p,t)),r._padding&&(a.interpolatePadding(l,d,t),m=a.centerPoint.add(v));var y=1===t?g:a.unproject(b.add(_.mult(R(i))).mult(h));a.setLocationAtPoint(a.renderWorldCopies?y.wrap():y,m),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),bi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};bi.prototype.getDefaultPosition=function(){return"bottom-right"},bi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},bi.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},bi.prototype._setElementTitle=function(e,t){var n=this._map._getUIString("AttributionControl."+t);e.title=n,e.setAttribute("aria-label",n)},bi.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},bi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce((function(e,t,r){return t.value&&(e+=t.key+"="+t.value+(r<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}},bi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},bi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort((function(e,t){return e.length-t.length}));var o=(e=e.filter((function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}))).join(" | ");o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},bi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var _i=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};_i.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},_i.prototype.getDefaultPosition=function(){return"bottom-left"},_i.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},_i.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},_i.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},xi.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,r=t?this._queue.concat(t):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===e)return void(i.cancelled=!0)}},xi.prototype.run=function(e){void 0===e&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ei=e.window.HTMLImageElement,Si=e.window.HTMLElement,ki=e.window.ImageBitmap,Oi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ti=function(r){function i(t){var n=this;if(null!=(t=e.extend({},Oi,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new Er(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},wi,t.locale),this._clickTolerance=t.clickTolerance,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Si))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,t),this._hash=t.hash&&new kr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new bi({customAttribution:t.customAttribution})),this.addControl(new _i,t.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(t){n._update("style"===t.dataType),n.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){n.fire(new e.Event(t.dataType+"dataloading",t))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.hasControl=function(e){return this._controls.indexOf(e)>-1},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var a=!this._moving;return a&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),a&&this.fire(new e.Event("moveend",t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if((e=null==e?60:e)>60)throw new Error("maxPitch must be less than or equal to 60");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r,i=this;if("mouseenter"===e||"mouseover"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){var o=i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[];o.length?a||(a=!0,n.call(i,new jr(e,i,r.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}if("mouseleave"===e||"mouseout"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(r){(i.getLayer(t)?i.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,n.call(i,new jr(e,i,r.originalEvent)))},mouseout:function(t){o&&(o=!1,n.call(i,new jr(e,i,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(r={},r[e]=function(e){var r=i.getLayer(t)?i.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(i,e),delete e.features)},r)}},i.prototype.on=function(e,t,n){if(void 0===n)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},i.prototype.once=function(e,t,n){if(void 0===n)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in i.delegates)this.once(a,i.delegates[a]);return this},i.prototype.off=function(e,t,n){var i=this;return void 0===n?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var a=r[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===n){for(var u in s.delegates)i.off(u,s.delegates[u]);return a.splice(o,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var r;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),a=e.Point.convert(t[1]);r=[i,new e.Point(a.x,i.y),a,new e.Point(i.x,a.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '"+e+"'");return t},i.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Ht(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ht(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if("string"==typeof t){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,(function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var a=r.sdf;void 0===a&&(a=!1);var o=r.stretchX,s=r.stretchY,u=r.content;if(this._lazyInitEmptyStyle(),n instanceof Ei||ki&&n instanceof ki){var l=e.browser.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:i,stretchX:o,stretchY:s,content:u,sdf:a,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(t,{data:new e.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:o,stretchY:s,content:u,sdf:a,version:0,userImage:c}),c.onAdd&&c.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Ei||ki&&n instanceof ki?e.browser.getImageData(n):n,a=i.width,o=i.height,s=i.data;return void 0===a||void 0===o?this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):a!==r.data.width||o!==r.data.height?this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(s,!(n instanceof Ei||ki&&n instanceof ki)),void this.style.updateImage(t,r))},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return void 0===t&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){a[e]=n.create("div","mapboxgl-ctrl-"+e,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new br(r,this.transform),e.webpSupported.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},i.prototype._onMapScroll=function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n,r=this,i=0,a=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,n),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=e.browser.now();this.style.zoomHistory.update(s,u);var l=new e.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(o=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var f=e.browser.now()-i;a.endQueryEXT(a.TIME_ELAPSED_EXT,n),setTimeout((function(){var t=a.getQueryObjectEXT(n,a.QUERY_RESULT_EXT)/1e6;a.deleteQueryEXT(n),r.fire(new e.Event("gpu-timing-frame",{cpuTime:f,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout((function(){var t=r.painter.queryGpuTimers(p);r.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ci(this._canvasContainer),Ci(this._controlContainer),Ci(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new e.Event("remove"))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(e){t._frame=null,t._render(e)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},a.version.get=function(){return e.version},Object.defineProperties(i.prototype,a),i}(gi);function Ci(e){e.parentNode&&e.parentNode.removeChild(e)}var Ai={showCompass:!0,showZoom:!0,visualizePitch:!1},Mi=function(t){var r=this;this.options=e.extend({},Ai,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){return r._map.zoomIn({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){return r._map.zoomOut({},{originalEvent:e})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Mi.prototype._updateZoomButtons=function(){var e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Mi.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=e},Mi.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Pi(this._map,this._compass,this.options.visualizePitch)),this._container},Mi.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Mi.prototype._createButton=function(e,t){var r=n.create("button",e,this._container);return r.type="button",r.addEventListener("click",t),r},Mi.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString("NavigationControl."+t);e.title=n,e.setAttribute("aria-label",n)};var Pi=function(t,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new Zr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new Yr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Ii(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<o?t=i:r.locationPoint(a).distSqr(n)<o&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}Pi.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},Pi.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Pi.prototype.off=function(){var e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(e,"touchmove",this.touchmove),n.removeEventListener(e,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()},Pi.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,"mousemove",this.mousemove),n.removeEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,"mousemove",this.mousemove),n.addEventListener(e.window,"mouseup",this.mouseup)},Pi.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},Pi.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},Pi.prototype.touchstart=function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))},Pi.prototype.touchmove=function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))},Pi.prototype.touchend=function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Pi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ri={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ji(e,t,n){var r=e.classList;for(var i in Ri)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+t)}var Li,Ni=function(t){function r(r,i){if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var a=n.createNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height","41px"),a.setAttributeNS(null,"width","27px"),a.setAttributeNS(null,"viewBox","0 0 27 41");var o=n.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var f=c[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",f.rx),p.setAttributeNS(null,"ry",f.ry),u.appendChild(p)}var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"fill",this._color);var h=n.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),d.appendChild(h);var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"fill","#000000");var m=n.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),v.appendChild(m);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#000000"),b.setAttributeNS(null,"opacity","0.25"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),g.appendChild(b),g.appendChild(_),s.appendChild(u),s.appendChild(d),s.appendChild(v),s.appendChild(y),s.appendChild(g),a.appendChild(s),a.setAttributeNS(null,"height",41*this._scale+"px"),a.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(a),this._offset=e.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),this._element.addEventListener("mousedown",(function(e){e.preventDefault()})),ji(this._element,this._anchor,"marker"),this._popup=null}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(t="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Ri[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),Di={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fi=0,zi=!1,Bi=function(t){function r(n){t.call(this),this.options=e.extend({},Di,n),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.onAdd=function(t){var r;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Li?r(Li):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){r(Li="denied"!==e.state)})):r(Li=!!e.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fi=0,zi=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&zi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var a=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=a,this._geolocateButton.setAttribute("aria-label",a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Ni(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ni({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fi--,zi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fi>1?(t={maximumAge:6e5,timeout:0},zi=!0):(t=this.options.positionOptions,zi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ui={maxWidth:100,unit:"metric"},Vi=function(t){this.options=e.extend({},Ui,t),e.bindAll(["_onMove","setUnit"],this)};function Hi(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([r,i]),s=a.distanceTo(o);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Wi(t,r,u/5280,e._getUIString("ScaleControl.Miles")):Wi(t,r,u,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Wi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Wi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):Wi(t,r,s,e._getUIString("ScaleControl.Meters"))}function Wi(e,t,n,r){var i,a,o,s=(i=n,(a=Math.pow(10,(""+Math.floor(i)).length-1))*(o=(o=i/a)>=10?10:o>=5?5:o>=3?3:o>=2?2:o>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(o)));e.style.width=t*(s/n)+"px",e.innerHTML=s+"&nbsp;"+r}Vi.prototype.getDefaultPosition=function(){return"bottom-left"},Vi.prototype._onMove=function(){Hi(this._map,this._container,this.options)},Vi.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Vi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Vi.prototype.setUnit=function(e){this.options.unit=e,Hi(this._map,this._container,this.options)};var qi=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange")};qi.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},qi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},qi.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden",!0),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},qi.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},qi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},qi.prototype._isFullscreen=function(){return this._fullscreen},qi.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},qi.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Zi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Yi=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Gi),n),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n,r=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");for(i.innerHTML=t;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.setOffset=function(e){return this.options.offset=e,this._update(),this},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(t){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return r._container.classList.add(e)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ii(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||t)){var i=this._pos=this._trackPointer&&t?t:this._map.project(this._lngLat),a=this.options.anchor,o=function t(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(r,r),"top-right":new e.Point(-r,r),bottom:new e.Point(0,-n),"bottom-left":new e.Point(r,-r),"bottom-right":new e.Point(-r,-r),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var i=e.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!a){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=i.y+o.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<u/2?s.push("left"):i.x>this._map.transform.width-u/2&&s.push("right"),a=0===s.length?"bottom":s.join("-")}var c=i.add(o[a]).round();n.setTransform(this._container,Ri[a]+" translate("+c.x+"px,"+c.y+"px)"),ji(this._container,a,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(Zi);e&&e.focus()}},r.prototype._onClose=function(){this.remove()},r}(e.Evented),Xi={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:Ti,NavigationControl:Mi,GeolocateControl:Bi,AttributionControl:bi,ScaleControl:Vi,FullscreenControl:qi,Popup:Yi,Marker:Ni,Style:Ht,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:function(){Fe().acquire(je)},clearPrewarmedResources:function(){var e=Ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(je),Ne=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Le.workerCount},set workerCount(e){Le.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:""};return Xi})),n}))},"4cb6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=t.getServiceIdentifierAsString=t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=t.decorate=t.id=t.MetadataReader=t.postConstruct=t.targetName=t.multiInject=t.unmanaged=t.optional=t.LazyServiceIdentifer=t.inject=t.named=t.tagged=t.injectable=t.ContainerModule=t.AsyncContainerModule=t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=t.Container=t.METADATA_KEY=void 0;var r=n("xfSm");t.METADATA_KEY=r;var i=n("9Fde");Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var a=n("FV85");Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return a.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return a.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return a.TargetTypeEnum}});var o=n("dxzI");Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return o.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return o.ContainerModule}});var s=n("cZ5Q");Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return s.injectable}});var u=n("0gSV");Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return u.tagged}});var l=n("ZzCi");Object.defineProperty(t,"named",{enumerable:!0,get:function(){return l.named}});var c=n("Yk9n");Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return c.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return c.LazyServiceIdentifer}});var f=n("jYx5");Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return f.optional}});var p=n("n2J3");Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var d=n("jIg/");Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var h=n("oaX6");Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return h.targetName}});var v=n("Sk89");Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return v.postConstruct}});var m=n("wnjb");Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var y=n("d9O0");Object.defineProperty(t,"id",{enumerable:!0,get:function(){return y.id}});var g=n("Ztfv");Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return g.decorate}});var b=n("RR/i");Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var _=n("ujMp");Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return _.getServiceIdentifierAsString}});var x=n("78VC");Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return x.multiBindToService}})},"4i/N":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("q1tI"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},o=a,s=n("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:o}))};u.displayName="CloseOutlined";t["a"]=i["forwardRef"](u)},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),a=n("u8Dt"),o=n("ekgI"),s=n("JSQU");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},"4mDm":function(e,t,n){"use strict";var r=n("/GqU"),i=n("RNIs"),a=n("P4y1"),o=n("afO8"),s=n("fdAy"),u="Array Iterator",l=o.set,c=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){l(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},"4meW":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MousePanHandler",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"MouseRotateHandler",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"MousePitchHandler",{enumerable:!0,get:function(){return o["default"]}});var i=r(n("RjfE")),a=r(n("en4r")),o=r(n("sh1b"))},"4oU/":function(e,t,n){var r=n("2oRo"),i=r.isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&i(e)}},"4q4q":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CityBuildingLayer",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"BaseLayer",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"HeatmapLayer",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"ImageLayer",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"LineLayer",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"PointLayer",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"PolygonLayer",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"RasterLayer",{enumerable:!0,get:function(){return p["default"]}});var i=n("gHHc"),a=r(n("wBXm")),o=r(n("iBA9"));n("9dtU");var s=r(n("3cmf")),u=r(n("wQEU")),l=r(n("5+5a")),c=r(n("YIFL")),f=r(n("cLr8")),p=r(n("Kvjs")),d=r(n("f0NW")),h=r(n("m8te")),v=r(n("s9Ki")),m=r(n("c6MU")),y=r(n("i7gG")),g=r(n("LamF")),b=r(n("CStC")),_=r(n("rtHs")),x=r(n("iN2x")),w=r(n("GU+X")),E=r(n("Caer")),S=r(n("K//t")),k=r(n("sjCX"));i.container.bind(i.TYPES.ILayerPlugin).to(h["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(w["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(v["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(d["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(g["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(k["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(S["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(_["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(E["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(m["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(b["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(x["default"]).inRequestScope(),i.container.bind(i.TYPES.ILayerPlugin).to(y["default"]).inRequestScope()},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),a=n("ExA7"),o="[object String]";function s(e){return"string"==typeof e||!i(e)&&a(e)&&r(e)==o}e.exports=s},"4sDh":function(e,t,n){var r=n("4uTw"),i=n("03A+"),a=n("Z0cm"),o=n("wJg7"),s=n("shjB"),u=n("9Nap");function l(e,t,n){t=r(t,e);var l=-1,c=t.length,f=!1;while(++l<c){var p=u(t[l]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++l!=c?f:(c=null==e?0:e.length,!!c&&s(c)&&o(p,c)&&(a(e)||i(e)))}e.exports=l},"4syw":function(e,t,n){var r=n("busE");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"4uTw":function(e,t,n){var r=n("Z0cm"),i=n("9ggG"),a=n("GNiM"),o=n("dt0z");function s(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}e.exports=s},"4yJM":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("UB5X")),c=n("gHHc"),f=r(n("YenN")),p=n("kIOg");function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',y=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),a=i.data,o=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&a.length>0?this.createTexture2D({flipY:!0,data:a,format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:o,height:s}):this.createTexture2D({flipY:!0,data:[1],format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,l["default"])(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:m,fragmentShader:v,triangulation:p.PolygonExtrudeTriangulation})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:c.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:c.gl.STATIC_DRAW,data:[],type:c.gl.FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:c.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?10:i;return Array.isArray(a)?[a[0]]:[a]}}})}}]),n}(f["default"]);t["default"]=y},"5+5a":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("VxBb"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","LineLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return t[e]}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return n||"line"}}]),n}(f["default"]);t["default"]=v},5921:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"Map",stat:!0},{of:i})},"5Bwl":function(e,t,n){"use strict";function r(e){var t=131,n=137,r=0;e+="x";for(var i=Math.floor(9007199254740991/n),a=0;a<e.length;a++)r>i&&(r=Math.floor(r/n)),r=r*t+e.charCodeAt(a);return r}function i(e){e=e.toString();var t=5381,n=e.length;while(n)t=33*t^e.charCodeAt(--n);return t>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.BKDRHash=r,t.djb2hash=i},"5Fkd":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("f1zB")),u=n("S4IS"),l=function(){function e(t){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"touches",void 0),(0,o["default"])(this,"minTouches",void 0),(0,o["default"])(this,"clickTolerance",void 0),(0,o["default"])(this,"sum",void 0),this.minTouches=1,this.clickTolerance=t.clickTolerance||1,this.reset()}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1,this.touches={},this.sum=new s["default"](0,0)}},{key:"touchstart",value:function(e,t,n){return this.calculateTransform(e,t,n)}},{key:"touchmove",value:function(e,t,n){if(this.active)return e.preventDefault(),this.calculateTransform(e,t,n)}},{key:"touchend",value:function(e,t,n){this.calculateTransform(e,t,n),this.active&&n.length<this.minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"calculateTransform",value:function(e,t,n){n.length>0&&(this.active=!0);var r=(0,u.indexTouches)(n,t),i=new s["default"](0,0),a=new s["default"](0,0),o=0;for(var l in r)if(r[l]){var c=r[l],f=this.touches[l];f&&(i._add(c),a._add(c.sub(f)),o++,r[l]=c)}if(this.touches=r,!(o<this.minTouches)&&a.mag()){var p=a.div(o);if(this.sum._add(p),!(this.sum.mag()<this.clickTolerance)){var d=i.div(o);return{around:d,panDelta:p}}}}}]),e}();t["default"]=l},"5JV0":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("WGBp"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=a(this),n=o(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},"5NZz":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("U+yc")),l=(r(n("1ABj")),n("IOcx")),c=n("4cb6");n("mNvP");var f,p,d,h,v,m=n("0t2r"),y=n("k207"),g=n("WjqV"),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],_=(f=(0,c.injectable)(),p=(0,c.inject)(m.TYPES.ICameraService),f((h=function(){function e(){(0,a["default"])(this,e),(0,s["default"])(this,"needRefresh",!0),(0,i["default"])(this,"cameraService",v,this),(0,s["default"])(this,"coordinateSystem",void 0),(0,s["default"])(this,"viewportCenter",void 0),(0,s["default"])(this,"viewportCenterProjection",void 0),(0,s["default"])(this,"pixelsPerDegree",void 0),(0,s["default"])(this,"pixelsPerDegree2",void 0),(0,s["default"])(this,"pixelsPerMeter",void 0)}return(0,o["default"])(e,[{key:"refresh",value:function(){var e=this.cameraService.getZoom(),t=this.cameraService.getZoomScale(),n=this.cameraService.getCenter(),r=(0,y.getDistanceScales)({latitude:n[1],zoom:e}),i=r.pixelsPerMeter,a=r.pixelsPerDegree;this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=i,this.pixelsPerDegree=a,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===g.CoordinateSystem.LNGLAT||this.coordinateSystem===g.CoordinateSystem.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===g.CoordinateSystem.LNGLAT_OFFSET?this.calculateLnglatOffset(n,e):this.coordinateSystem===g.CoordinateSystem.P20_OFFSET&&this.calculateLnglatOffset(n,e,t,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(e){this.coordinateSystem=e}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(e,t,n,r){var i=(0,y.getDistanceScales)({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),a=i.pixelsPerMeter,o=i.pixelsPerDegree,s=i.pixelsPerDegree2,u=this.cameraService.getViewMatrix(),c=this.cameraService.getProjectionMatrix(),f=l.mat4.multiply([],c,u),p=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=l.vec4.transformMat4([],[p[0],p[1],0,1],f),u=this.cameraService.getViewMatrixUncentered()||u,f=l.mat4.multiply([],c,u),f=l.mat4.multiply([],f,b),this.cameraService.setViewProjectionMatrix(f),this.pixelsPerMeter=a,this.pixelsPerDegree=o,this.pixelsPerDegree2=s}}]),e}(),v=(0,u["default"])(h.prototype,"cameraService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d);t["default"]=_},"5Tg+":function(e,t,n){var r=n("tiKp");t.f=r},"5Tg0":function(e,t,n){(function(e){var r=n("Kz5y"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}e.exports=l}).call(this,n("hOG+")(e))},"5YgA":function(e,t,n){},"5Yz+":function(e,t,n){"use strict";var r=n("/GqU"),i=n("ppGB"),a=n("UMSQ"),o=n("pkCn"),s=n("rkAj"),u=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,f=o("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!f||!p;e.exports=d?function(e){if(c)return l.apply(this,arguments)||0;var t=r(this),n=a(t.length),o=n-1;for(arguments.length>1&&(o=u(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return-1}:l},"5Z9U":function(e,t,n){"use strict";t["a"]=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))}},"5cA0":function(e,t,n){},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"5r1n":function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return o(e,a(t),n)}})},"5s+n":function(e,t,n){"use strict";var r,i,a,o,s=n("I+eb"),u=n("xDBR"),l=n("2oRo"),c=n("0GbY"),f=n("/qmn"),p=n("busE"),d=n("4syw"),h=n("1E5z"),v=n("JiZb"),m=n("hh1v"),y=n("HAuM"),g=n("GarU"),b=n("xrYK"),_=n("iSVu"),x=n("ImZN"),w=n("HH4o"),E=n("SEBh"),S=n("LPSS").set,k=n("tXUg"),O=n("zfnd"),T=n("RN6c"),C=n("8GlL"),A=n("5mdu"),M=n("afO8"),P=n("lMq5"),I=n("tiKp"),R=n("LQDL"),j=I("species"),L="Promise",N=M.get,D=M.set,F=M.getterFor(L),z=f,B=l.TypeError,U=l.document,V=l.process,H=c("fetch"),W=C.f,q=W,G="process"==b(V),Z=!!(U&&U.createEvent&&l.dispatchEvent),Y="unhandledrejection",X="rejectionhandled",K=0,J=1,Q=2,$=1,ee=2,te=P(L,(function(){var e=_(z)!==String(z);if(!e){if(66===R)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!z.prototype["finally"])return!0;if(R>=51&&/native code/.test(z))return!1;var t=z.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[j]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){z.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;k((function(){var i=t.value,a=t.state==J,o=0;while(r.length>o){var s,u,l,c=r[o++],f=a?c.ok:c.fail,p=c.resolve,d=c.reject,h=c.domain;try{f?(a||(t.rejection===ee&&ue(e,t),t.rejection=$),!0===f?s=i:(h&&h.enter(),s=f(i),h&&(h.exit(),l=!0)),s===c.promise?d(B("Promise-chain cycle")):(u=re(s))?u.call(s,p,d):p(s)):d(i)}catch(v){h&&!l&&h.exit(),d(v)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&oe(e,t)}))}},ae=function(e,t,n){var r,i;Z?(r=U.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):e===Y&&T("Unhandled promise rejection",n)},oe=function(e,t){S.call(l,(function(){var n,r=t.value,i=se(t);if(i&&(n=A((function(){G?V.emit("unhandledRejection",r,e):ae(Y,e,r)})),t.rejection=G||se(t)?ee:$,n.error))throw n.value}))},se=function(e){return e.rejection!==$&&!e.parent},ue=function(e,t){S.call(l,(function(){G?V.emit("rejectionHandled",e):ae(X,e,t.value)}))},le=function(e,t,n,r){return function(i){e(t,n,i,r)}},ce=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=Q,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw B("Promise can't be resolved itself");var i=re(n);i?k((function(){var r={done:!1};try{i.call(n,le(fe,e,r,t),le(ce,e,r,t))}catch(a){ce(e,r,a,t)}})):(t.value=n,t.state=J,ie(e,t,!1))}catch(a){ce(e,{done:!1},a,t)}}};te&&(z=function(e){g(this,z,L),y(e),r.call(this);var t=N(this);try{e(le(fe,this,t),le(ce,this,t))}catch(n){ce(this,t,n)}},r=function(e){D(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:K,value:void 0})},r.prototype=d(z.prototype,{then:function(e,t){var n=F(this),r=W(E(this,z));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=G?V.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=K&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=N(e);this.promise=e,this.resolve=le(fe,e,t),this.reject=le(ce,e,t)},C.f=W=function(e){return e===z||e===a?new i(e):q(e)},u||"function"!=typeof f||(o=f.prototype.then,p(f.prototype,"then",(function(e,t){var n=this;return new z((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return O(z,H.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:z}),h(z,L,!1,!0),v(L),a=c(L),s({target:L,stat:!0,forced:te},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:L,stat:!0,forced:u||te},{resolve:function(e){return O(u&&this===a?z:this,e)}}),s({target:L,stat:!0,forced:ne},{all:function(e){var t=this,n=W(t),r=n.resolve,i=n.reject,a=A((function(){var n=y(t.resolve),a=[],o=0,s=1;x(e,(function(e){var u=o++,l=!1;a.push(void 0),s++,n.call(t,e).then((function(e){l||(l=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=W(t),r=n.reject,i=A((function(){var i=y(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},"5swV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r={MapToken:"\u60a8\u6b63\u5728\u4f7f\u7528 Demo\u6d4b\u8bd5\u5730\u56fetoken\uff0c\u5982\u679c\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u53bb\u5bf9\u5e94\u5730\u56fe\u8bf7\u6ce8\u518cToken",SDK:"\u8bf7\u786e\u8ba4\u5f15\u5165\u4e86mapbox-gl api\u4e14\u5728L7\u4e4b\u524d\u5f15\u5165"},i=r;t["default"]=i},"5wUe":function(e,t,n){var r=n("Q9SF"),i=n("MIOZ"),a=n("mGKP"),o=n("h0XC");function s(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=s},"5xtp":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("6x0u"),o=n("ewvW"),s=n("HAuM"),u=n("m/L8");i&&r({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){u.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},"66V8":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("4WOD"),o=n("0rvr"),s=n("fHMY"),u=n("m/L8"),l=n("XGwC"),c=n("ImZN"),f=n("kRJp"),p=n("afO8"),d=p.set,h=p.getterFor("AggregateError"),v=function(e,t){var n=this;if(!(n instanceof v))return new v(e,t);o&&(n=o(new Error(t),a(n)));var r=[];return c(e,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==t&&f(n,"message",String(t)),n};v.prototype=s(Error.prototype,{constructor:l(5,v),message:l(5,""),name:l(5,"AggregateError")}),i&&u.f(v.prototype,"errors",{get:function(){return h(this).errors},configurable:!0}),r({global:!0},{AggregateError:v})},"67WC":function(e,t,n){"use strict";var r,i=n("qYE9"),a=n("g6v/"),o=n("2oRo"),s=n("hh1v"),u=n("UTVS"),l=n("9d/t"),c=n("kRJp"),f=n("busE"),p=n("m/L8").f,d=n("4WOD"),h=n("0rvr"),v=n("tiKp"),m=n("kOOl"),y=o.Int8Array,g=y&&y.prototype,b=o.Uint8ClampedArray,_=b&&b.prototype,x=y&&d(y),w=g&&d(g),E=Object.prototype,S=E.isPrototypeOf,k=v("toStringTag"),O=m("TYPED_ARRAY_TAG"),T=i&&!!h&&"Opera"!==l(o.opera),C=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M=function(e){var t=l(e);return"DataView"===t||u(A,t)},P=function(e){return s(e)&&u(A,l(e))},I=function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},R=function(e){if(h){if(S.call(x,e))return e}else for(var t in A)if(u(A,r)){var n=o[t];if(n&&(e===n||S.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},j=function(e,t,n){if(a){if(n)for(var r in A){var i=o[r];i&&u(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||f(w,e,n?t:T&&g[e]||t)}},L=function(e,t,n){var r,i;if(a){if(h){if(n)for(r in A)i=o[r],i&&u(i,e)&&delete i[e];if(x[e]&&!n)return;try{return f(x,e,n?t:T&&y[e]||t)}catch(s){}}for(r in A)i=o[r],!i||i[e]&&!n||f(i,e,t)}};for(r in A)o[r]||(T=!1);if((!T||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},T))for(r in A)o[r]&&h(o[r],x);if((!T||!w||w===E)&&(w=x.prototype,T))for(r in A)o[r]&&h(o[r].prototype,w);if(T&&d(_)!==w&&h(_,w),a&&!u(w,k))for(r in C=!0,p(w,k,{get:function(){return s(this)?this[O]:void 0}}),A)o[r]&&c(o[r],O,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:C&&O,aTypedArray:I,aTypedArrayConstructor:R,exportTypedArrayMethod:j,exportTypedArrayStaticMethod:L,isView:M,isTypedArray:P,TypedArray:x,TypedArrayPrototype:w}},"6AGu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n("FV85"),i=n("LKzl"),a=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=a},"6JNq":function(e,t,n){var r=n("UTVS"),i=n("Vu81"),a=n("Bs8V"),o=n("m/L8");e.exports=function(e,t){for(var n=i(t),s=o.f,u=a.f,l=0;l<n.length;l++){var c=n[l];r(e,c)||s(e,c,u(t,c))}}},"6LWA":function(e,t,n){var r=n("xrYK");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"6V7H":function(e,t,n){var r=n("dG/n");r("patternMatch")},"6VBw":function(e,t,n){"use strict";var r=n("VTBJ"),i=n("ODXe"),a=n("rePB"),o=n("Ff2n"),s=n("q1tI"),u=n.n(s),l=n("TSYQ"),c=n.n(l),f=n("Pw59"),p=n("U8pU");function d(e,t){h(e)&&(e="100%");var n=v(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function h(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)}function v(e){return"string"===typeof e&&-1!==e.indexOf("%")}function m(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function y(e){return e<=1?100*Number(e)+"%":e}function g(e){return 1===e.length?"0"+e:String(e)}function b(e,t,n){return{r:255*d(e,255),g:255*d(t,255),b:255*d(n,255)}}function _(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function x(e,t,n){var r,i,a;if(e=d(e,360),t=d(t,100),n=d(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=_(s,o,e+1/3),i=_(s,o,e),a=_(s,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}function w(e,t,n){e=d(e,255),t=d(t,255),n=d(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,u=0===r?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4;break;default:break}a/=6}return{h:a,s:u,v:o}}function E(e,t,n){e=6*d(e,360),t=d(t,100),n=d(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6,l=[n,o,a,a,s,n][u],c=[s,n,n,o,a,a][u],f=[a,a,s,n,n,o][u];return{r:255*l,g:255*c,b:255*f}}function S(e,t,n,r){var i=[g(Math.round(e).toString(16)),g(Math.round(t).toString(16)),g(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function k(e){return O(e)/255}function O(e){return parseInt(e,16)}var T={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function C(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"===typeof e&&(e=L(e)),"object"===typeof e&&(N(e.r)&&N(e.g)&&N(e.b)?(t=b(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):N(e.h)&&N(e.s)&&N(e.v)?(r=y(e.s),i=y(e.v),t=E(e.h,r,i),o=!0,s="hsv"):N(e.h)&&N(e.s)&&N(e.l)&&(r=y(e.s),a=y(e.l),t=x(e.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=m(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var A="[-\\+]?\\d+%?",M="[-\\+]?\\d*\\.\\d+%?",P="(?:"+M+")|(?:"+A+")",I="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",R="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",j={CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+R),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function L(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(T[e])e=T[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=j.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=j.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=j.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=j.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=j.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=j.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=j.hex8.exec(e),n?{r:O(n[1]),g:O(n[2]),b:O(n[3]),a:k(n[4]),format:t?"name":"hex8"}:(n=j.hex6.exec(e),n?{r:O(n[1]),g:O(n[2]),b:O(n[3]),format:t?"name":"hex"}:(n=j.hex4.exec(e),n?{r:O(n[1]+n[1]),g:O(n[2]+n[2]),b:O(n[3]+n[3]),a:k(n[4]+n[4]),format:t?"name":"hex8"}:(n=j.hex3.exec(e),!!n&&{r:O(n[1]+n[1]),g:O(n[2]+n[2]),b:O(n[3]+n[3]),format:t?"name":"hex"})))))))))}function N(e){return Boolean(j.CSS_UNIT.exec(String(e)))}var D=2,F=.16,z=.05,B=.05,U=.15,V=5,H=4,W=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function q(e){var t=e.r,n=e.g,r=e.b,i=w(t,n,r);return{h:360*i.h,s:i.s,v:i.v}}function G(e){var t=e.r,n=e.g,r=e.b;return"#".concat(S(t,n,r,!1))}function Z(e,t,n){var r=n/100,i={r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b};return i}function Y(e,t,n){var r;return r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-D*t:Math.round(e.h)+D*t:n?Math.round(e.h)+D*t:Math.round(e.h)-D*t,r<0?r+=360:r>=360&&(r-=360),r}function X(e,t,n){return 0===e.h&&0===e.s?e.s:(r=n?e.s-F*t:t===H?e.s+F:e.s+z*t,r>1&&(r=1),n&&t===V&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function K(e,t,n){var r;return r=n?e.v+B*t:e.v-U*t,r>1&&(r=1),Number(r.toFixed(2))}function J(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=C(e),i=V;i>0;i-=1){var a=q(r),o=G(C({h:Y(a,i,!0),s:X(a,i,!0),v:K(a,i,!0)}));n.push(o)}n.push(G(r));for(var s=1;s<=H;s+=1){var u=q(r),l=G(C({h:Y(u,s),s:X(u,s),v:K(u,s)}));n.push(l)}return"dark"===t.theme?W.map((function(e){var r=e.index,i=e.opacity,a=G(Z(C(t.backgroundColor||"#141414"),C(n[r]),100*i));return a})):n}var Q={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},$={},ee={};Object.keys(Q).forEach((function(e){$[e]=J(Q[e]),$[e].primary=$[e][5],ee[e]=J(Q[e],{theme:"dark",backgroundColor:"#141414"}),ee[e].primary=ee[e][5]}));$.red,$.volcano,$.gold,$.orange,$.yellow,$.lime,$.green,$.cyan,$.blue,$.geekblue,$.purple,$.magenta,$.grey;var te=n("Kwbf"),ne=n("MNnm"),re="rc-util-key";function ie(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function ae(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(ne["a"])())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=ie(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var oe=new Map;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ie(n);if(!oe.has(r)){var i=ae("",n),a=i.parentNode;oe.set(r,a),a.removeChild(i)}var o=Array.from(oe.get(r).children).find((function(e){return"STYLE"===e.tagName&&e[re]===t}));if(o){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&o.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))o.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var c=ae(e,n);return c[re]=t,c}function ue(e,t){Object(te["a"])(e,"[@ant-design/icons] ".concat(t))}function le(e){return"object"===Object(p["a"])(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Object(p["a"])(e.icon)||"function"===typeof e.icon)}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function fe(e,t,n){return n?u.a.createElement(e.tag,Object(r["a"])(Object(r["a"])({key:t},ce(e.attrs)),n),(e.children||[]).map((function(n,r){return fe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):u.a.createElement(e.tag,Object(r["a"])({key:t},ce(e.attrs)),(e.children||[]).map((function(n,r){return fe(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function pe(e){return J(e)[0]}function de(e){return e?Array.isArray(e)?e:[e]:[]}var he="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=Object(s["useContext"])(f["a"]),n=t.csp;Object(s["useEffect"])((function(){se(e,"@ant-design-icons",{prepend:!0,csp:n})}),[])},me=["icon","className","onClick","style","primaryColor","secondaryColor"],ye={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ge(e){var t=e.primaryColor,n=e.secondaryColor;ye.primaryColor=t,ye.secondaryColor=n||pe(t),ye.calculated=!!n}function be(){return Object(r["a"])({},ye)}var _e=function(e){var t=e.icon,n=e.className,i=e.onClick,a=e.style,s=e.primaryColor,u=e.secondaryColor,l=Object(o["a"])(e,me),c=ye;if(s&&(c={primaryColor:s,secondaryColor:u||pe(s)}),ve(),ue(le(t),"icon should be icon definiton, but got ".concat(t)),!le(t))return null;var f=t;return f&&"function"===typeof f.icon&&(f=Object(r["a"])(Object(r["a"])({},f),{},{icon:f.icon(c.primaryColor,c.secondaryColor)})),fe(f.icon,"svg-".concat(f.name),Object(r["a"])({className:n,onClick:i,style:a,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l))};_e.displayName="IconReact",_e.getTwoToneColors=be,_e.setTwoToneColors=ge;var xe=_e;function we(e){var t=de(e),n=Object(i["a"])(t,2),r=n[0],a=n[1];return xe.setTwoToneColors({primaryColor:r,secondaryColor:a})}function Ee(){var e=xe.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var Se=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];we("#1890ff");var ke=s["forwardRef"]((function(e,t){var n,u=e.className,l=e.icon,p=e.spin,d=e.rotate,h=e.tabIndex,v=e.onClick,m=e.twoToneColor,y=Object(o["a"])(e,Se),g=s["useContext"](f["a"]),b=g.prefixCls,_=void 0===b?"anticon":b,x=c()(_,(n={},Object(a["a"])(n,"".concat(_,"-").concat(l.name),!!l.name),Object(a["a"])(n,"".concat(_,"-spin"),!!p||"loading"===l.name),n),u),w=h;void 0===w&&v&&(w=-1);var E=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,S=de(m),k=Object(i["a"])(S,2),O=k[0],T=k[1];return s["createElement"]("span",Object(r["a"])(Object(r["a"])({role:"img","aria-label":l.name},y),{},{ref:t,tabIndex:w,onClick:v,className:x}),s["createElement"](xe,{icon:l,primaryColor:O,secondaryColor:T,style:E}))}));ke.displayName="AntdIcon",ke.getTwoToneColor=Ee,ke.setTwoToneColor=we;t["a"]=ke},"6VoE":function(e,t,n){var r=n("tiKp"),i=n("P4y1"),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},"6acW":function(e,t,n){var r=n("dt0z"),i=n("gQMU");function a(e){return i(r(e).toLowerCase())}e.exports=a},"6asN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n("LtsZ"),i=n("zqmC"),a=(0,i.LinkWrapper)(r.NavLink);t["default"]=a},"6cGi":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ODXe"),i=n("q1tI");function a(e,t){var n=t||{},a=n.defaultValue,o=n.value,s=n.onChange,u=n.postState,l=i["useState"]((function(){return void 0!==o?o:void 0!==a?"function"===typeof a?a():a:"function"===typeof e?e():e})),c=Object(r["a"])(l,2),f=c[0],p=c[1],d=void 0!==o?o:f;function h(e){p(e),d!==e&&s&&s(e,d)}u&&(d=u(d));var v=i["useRef"](!0);return i["useEffect"]((function(){v.current?v.current=!1:void 0===o&&p(o)}),[o]),[d,h]}},"6nK8":function(e,t,n){var r=n("dVn5"),i=n("fo6e"),a=n("dt0z"),o=n("9NmV");function s(e,t,n){return e=a(e),t=n?void 0:t,void 0===t?i(e)?o(e):r(e):e.match(t)||[]}e.exports=s},"6sVZ":function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},"6x0u":function(e,t,n){"use strict";var r=n("xDBR"),i=n("2oRo"),a=n("0Dky");e.exports=r||!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))},"6xEa":function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":a._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var o=[];return n.forEach((function(t){o.push(e(t))})),a.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return a._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,a,o={},s={},u="",l="",c="",f=2,p=3,d=2,h=[],v=0,m=0;for(a=0;a<e.length;a+=1)if(u=e.charAt(a),Object.prototype.hasOwnProperty.call(o,u)||(o[u]=p++,s[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(o,l))c=l;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=o[c],r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++),o[l]=p++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)v<<=1,m==t-1?(m=0,h.push(n(v)),v=0):m++;for(i=c.charCodeAt(0),r=0;r<8;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)v=v<<1|i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1}f--,0==f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=o[c],r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;f--,0==f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)v=v<<1|1&i,m==t-1?(m=0,h.push(n(v)),v=0):m++,i>>=1;while(1){if(v<<=1,m==t-1){h.push(n(v));break}m++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,a,o,s,u,l,c,f=[],p=4,d=4,h=3,v="",m=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;o=0,u=Math.pow(2,2),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;switch(o){case 0:o=0,u=Math.pow(2,8),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;c=e(o);break;case 1:o=0,u=Math.pow(2,16),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;c=e(o);break;case 2:return""}f[3]=c,a=c,m.push(c);while(1){if(y.index>t)return"";o=0,u=Math.pow(2,h),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;switch(c=o){case 0:o=0,u=Math.pow(2,8),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;f[d++]=e(o),c=d-1,p--;break;case 1:o=0,u=Math.pow(2,16),l=1;while(l!=u)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(s>0?1:0)*l,l<<=1;f[d++]=e(o),c=d-1,p--;break;case 2:return m.join("")}if(0==p&&(p=Math.pow(2,h),h++),f[c])v=f[c];else{if(c!==d)return null;v=a+a.charAt(0)}m.push(v),f[d++]=a+v.charAt(0),p--,a=v,0==p&&(p=Math.pow(2,h),h++)}}};return a}();r=function(){return i}.call(t,n,t,e),void 0===r||(e.exports=r)},"7+kd":function(e,t,n){var r=n("dG/n");r("isConcatSpreadable")},"7+zs":function(e,t,n){var r=n("kRJp"),i=n("UesL"),a=n("tiKp"),o=a("toPrimitive"),s=Date.prototype;o in s||r(s,o,i)},"702D":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"WeakMap",stat:!0},{from:i})},"711d":function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},"77Zs":function(e,t,n){var r=n("Xi7e");function i(){this.__data__=new r,this.size=0}e.exports=i},"78VC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0;var r=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}};t.multiBindToService=r},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),a=n("MMmD");function o(e){return a(e)?r(e):i(e)}e.exports=o},"7Ix3":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"7JcK":function(e,t,n){"use strict";var r=n("67WC"),i=n("iqeF"),a=r.aTypedArrayConstructor,o=r.exportTypedArrayStaticMethod;o("of",(function(){var e=0,t=arguments.length,n=new(a(this))(t);while(t>e)n[e]=arguments[e++];return n}),i)},"7W2i":function(e,t,n){var r=n("SksO");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"7fqy":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},"7sf/":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=a(n("6xEa"));return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},d=function(e,t){var n=function(){var e=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?p["zh-CN"]:p["en-US"];return"".concat(e,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},a=(0,r().useState)(n(e,t)),s=o(a,2),u=s[0],l=s[1];return(0,r().useEffect)((function(){l(n(e,t))}),[e,t]),u};t["default"]=d},"7tbW":function(e,t,n){var r=n("LGYb");function i(e){return e&&e.length?r(e):[]}e.exports=i},"7ueG":function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").start,a=n("yNLB"),o=a("trimStart"),s=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:o},{trimStart:s,trimLeft:s})},"8+s/":function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e["default"]:e}var i=n("q1tI"),a=r(i);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);function l(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(e){return e.displayName||e.name||"Component"}return function(l){if("function"!==typeof l)throw new Error("Expected WrappedComponent to be a React component.");var c,f=[];function p(){c=e(f.map((function(e){return e.props}))),d.canUseDOM?t(c):n&&(c=n(c))}var d=function(e){function t(){return e.apply(this,arguments)||this}s(t,e),t.peek=function(){return c},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,f=[],e};var n=t.prototype;return n.UNSAFE_componentWillMount=function(){f.push(this),p()},n.componentDidUpdate=function(){p()},n.componentWillUnmount=function(){var e=f.indexOf(this);f.splice(e,1),p()},n.render=function(){return a.createElement(l,this.props)},t}(i.PureComponent);return o(d,"displayName","SideEffect("+r(l)+")"),o(d,"canUseDOM",u),d}}e.exports=l},"88Gu":function(e,t){var n=800,r=16,i=Date.now;function a(e){var t=0,a=0;return function(){var o=i(),s=r-(o-a);if(a=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=a},"8Fnv":function(e,t,n){},"8GlL":function(e,t,n){"use strict";var r=n("HAuM"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},"8H1a":function(e,t,n){},"8HVG":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("KQm4"),i=n("wx14"),a=n("ODXe"),o=n("q1tI"),s=n("EE3K");function u(e){var t=o["useRef"]({}),n=o["useState"]([]),u=Object(a["a"])(n,2),l=u[0],c=u[1];function f(n){var a=!0;e.add(n,(function(e,n){var u=n.key;if(e&&(!t.current[u]||a)){var l=o["createElement"](s["a"],Object(i["a"])({},n,{holder:e}));t.current[u]=l,c((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Object(r["a"])(e),[l]);var i=Object(r["a"])(e);return i[t]=l,i}))}a=!1}))}return[f,o["createElement"](o["Fragment"],null,l)]}},"8L3h":function(e,t,n){"use strict";e.exports=n("f/k9")},"8OQS":function(e,t){function n(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"8STE":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("Cg3G");r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},"8XRh":function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var r=n("rePB"),i=n("VTBJ"),a=n("ODXe"),o=n("U8pU"),s=n("q1tI"),u=n("m+aA"),l=n("c+Xe"),c=n("TSYQ"),f=n.n(c),p=n("MNnm");function d(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}function h(e,t){var n={animationend:d("Animation","AnimationEnd"),transitionend:d("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}var v=h(Object(p["a"])(),"undefined"!==typeof window?window:{}),m={};if(Object(p["a"])()){var y=document.createElement("div");m=y.style}var g={};function b(e){if(g[e])return g[e];var t=v[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in m)return g[e]=t[a],g[e]}return""}var _=b("animationend"),x=b("transitionend"),w=!(!_||!x),E=_||"animationend",S=x||"transitionend";function k(e,t){if(!e)return null;if("object"===Object(o["a"])(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var O="none",T="appear",C="enter",A="leave",M="none",P="prepare",I="start",R="active",j="end";function L(e){var t=Object(s["useRef"])(!1),n=Object(s["useState"])(e),r=Object(a["a"])(n,2),i=r[0],o=r[1];function u(e){t.current||o(e)}return Object(s["useEffect"])((function(){return function(){t.current=!0}}),[]),[i,u]}var N=Object(p["a"])()?s["useLayoutEffect"]:s["useEffect"],D=N,F=n("wgJM"),z=function(){var e=s["useRef"](null);function t(){F["a"].cancel(e.current)}function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=Object(F["a"])((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a}return s["useEffect"]((function(){return function(){t()}}),[]),[n,t]},B=[P,I,R,j],U=!1,V=!0;function H(e){return e===R||e===j}var W=function(e,t){var n=s["useState"](M),r=Object(a["a"])(n,2),i=r[0],o=r[1],u=z(),l=Object(a["a"])(u,2),c=l[0],f=l[1];function p(){o(P)}return D((function(){if(i!==M&&i!==j){var e=B.indexOf(i),n=B[e+1],r=t(i);r===U?o(n):c((function(e){function t(){e.isCanceled()||o(n)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),s["useEffect"]((function(){return function(){f()}}),[]),[p,i]},q=function(e){var t=Object(s["useRef"])(),n=Object(s["useRef"])(e);n.current=e;var r=s["useCallback"]((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(S,r),e.removeEventListener(E,r))}function a(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(S,r),e.addEventListener(E,r),t.current=e)}return s["useEffect"]((function(){return function(){i(t.current)}}),[]),[a,i]};function G(e,t,n,o){var u=o.motionEnter,l=void 0===u||u,c=o.motionAppear,f=void 0===c||c,p=o.motionLeave,d=void 0===p||p,h=o.motionDeadline,v=o.motionLeaveImmediately,m=o.onAppearPrepare,y=o.onEnterPrepare,g=o.onLeavePrepare,b=o.onAppearStart,_=o.onEnterStart,x=o.onLeaveStart,w=o.onAppearActive,E=o.onEnterActive,S=o.onLeaveActive,k=o.onAppearEnd,M=o.onEnterEnd,j=o.onLeaveEnd,N=o.onVisibleChanged,F=L(),z=Object(a["a"])(F,2),B=z[0],G=z[1],Z=L(O),Y=Object(a["a"])(Z,2),X=Y[0],K=Y[1],J=L(null),Q=Object(a["a"])(J,2),$=Q[0],ee=Q[1],te=Object(s["useRef"])(!1),ne=Object(s["useRef"])(null),re=Object(s["useRef"])(!1),ie=Object(s["useRef"])(null);function ae(){var e=n();return e||ie.current}var oe=Object(s["useRef"])(!1);function se(e){var t,n=ae();e&&!e.deadline&&e.target!==n||(X===T&&oe.current?t=null===k||void 0===k?void 0:k(n,e):X===C&&oe.current?t=null===M||void 0===M?void 0:M(n,e):X===A&&oe.current&&(t=null===j||void 0===j?void 0:j(n,e)),!1===t||re.current||(K(O),ee(null)))}var ue=q(se),le=Object(a["a"])(ue,1),ce=le[0],fe=s["useMemo"]((function(){var e,t,n;switch(X){case"appear":return e={},Object(r["a"])(e,P,m),Object(r["a"])(e,I,b),Object(r["a"])(e,R,w),e;case"enter":return t={},Object(r["a"])(t,P,y),Object(r["a"])(t,I,_),Object(r["a"])(t,R,E),t;case"leave":return n={},Object(r["a"])(n,P,g),Object(r["a"])(n,I,x),Object(r["a"])(n,R,S),n;default:return{}}}),[X]),pe=W(X,(function(e){if(e===P){var t=fe[P];return t?t(ae()):U}var n;ve in fe&&ee((null===(n=fe[ve])||void 0===n?void 0:n.call(fe,ae(),null))||null);return ve===R&&(ce(ae()),h>0&&(clearTimeout(ne.current),ne.current=setTimeout((function(){se({deadline:!0})}),h))),V})),de=Object(a["a"])(pe,2),he=de[0],ve=de[1],me=H(ve);oe.current=me,D((function(){G(t);var n,r=te.current;(te.current=!0,e)&&(!r&&t&&f&&(n=T),r&&t&&l&&(n=C),(r&&!t&&d||!r&&v&&!t&&d)&&(n=A),n&&(K(n),he()))}),[t]),Object(s["useEffect"])((function(){(X===T&&!f||X===C&&!l||X===A&&!d)&&K(O)}),[f,l,d]),Object(s["useEffect"])((function(){return function(){clearTimeout(ne.current),re.current=!0}}),[]),Object(s["useEffect"])((function(){void 0!==B&&X===O&&(null===N||void 0===N||N(B))}),[B,X]);var ye=$;return fe[P]&&ve===I&&(ye=Object(i["a"])({transition:"none"},ye)),[X,ve,ye,null!==B&&void 0!==B?B:t]}var Z=n("1OyB"),Y=n("vuIU"),X=n("Ji7U"),K=n("LK+K"),J=function(e){Object(X["a"])(n,e);var t=Object(K["a"])(n);function n(){return Object(Z["a"])(this,n),t.apply(this,arguments)}return Object(Y["a"])(n,[{key:"render",value:function(){return this.props.children}}]),n}(s["Component"]),Q=J;function $(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Object(o["a"])(e)&&(t=e.transitionSupport);var c=s["forwardRef"]((function(e,t){var o=e.visible,c=void 0===o||o,p=e.removeOnLeave,d=void 0===p||p,h=e.forceRender,v=e.children,m=e.motionName,y=e.leavedClassName,g=e.eventProps,b=n(e),_=Object(s["useRef"])(),x=Object(s["useRef"])();function w(){try{return Object(u["a"])(_.current||x.current)}catch(e){return null}}var E=G(b,c,w,e),S=Object(a["a"])(E,4),T=S[0],C=S[1],A=S[2],M=S[3],R=s["useRef"](M);M&&(R.current=!0);var j=Object(s["useRef"])(t);j.current=t;var L,N=s["useCallback"]((function(e){_.current=e,Object(l["b"])(j.current,e)}),[]),D=Object(i["a"])(Object(i["a"])({},g),{},{visible:c});if(v)if(T!==O&&n(e)){var F,z;C===P?z="prepare":H(C)?z="active":C===I&&(z="start"),L=v(Object(i["a"])(Object(i["a"])({},D),{},{className:f()(k(m,T),(F={},Object(r["a"])(F,k(m,"".concat(T,"-").concat(z)),z),Object(r["a"])(F,m,"string"===typeof m),F)),style:A}),N)}else L=M?v(Object(i["a"])({},D),N):!d&&R.current?v(Object(i["a"])(Object(i["a"])({},D),{},{className:y}),N):h?v(Object(i["a"])(Object(i["a"])({},D),{},{style:{display:"none"}}),N):null;else L=null;return s["createElement"](Q,{ref:x},L)}));return c.displayName="CSSMotion",c}var ee=$(w),te=n("wx14"),ne=n("Ff2n"),re="add",ie="keep",ae="remove",oe="removed";function se(e){var t;return t=e&&"object"===Object(o["a"])(e)&&"key"in e?e:{key:e},Object(i["a"])(Object(i["a"])({},t),{},{key:String(t.key)})}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(se)}function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=ue(e),s=ue(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var u=s[o];if(u.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))),r=o),n.push(Object(i["a"])(Object(i["a"])({},u),{},{status:ie})),r+=1,t=!0;break}}t||n.push(Object(i["a"])(Object(i["a"])({},e),{},{status:ae}))})),r<a&&(n=n.concat(s.slice(r).map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{status:re})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var l=Object.keys(u).filter((function(e){return u[e]>1}));return l.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==ae})),n.forEach((function(t){t.key===e&&(t.status=ie)}))})),n}var ce=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,n=function(e){Object(X["a"])(r,e);var n=Object(K["a"])(r);function r(){var e;return Object(Z["a"])(this,r),e=n.apply(this,arguments),e.state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){var n=e.keyEntities;return{keyEntities:n.map((function(e){return e.key!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{status:oe})}))}}))},e}return Object(Y["a"])(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,o=r.onVisibleChanged,u=Object(ne["a"])(r,["component","children","onVisibleChanged"]),l=i||s["Fragment"],c={};return ce.forEach((function(e){c[e]=u[e],delete u[e]})),delete u.keys,s["createElement"](l,u,n.map((function(n){var r=n.status,i=Object(ne["a"])(n,["status"]),u=r===re||r===ie;return s["createElement"](t,Object(te["a"])({},c,{key:i.key,visible:u,eventProps:i,onVisibleChanged:function(t){null===o||void 0===o||o(t,{key:i.key}),t||e.removeKey(i.key)}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ue(n),a=le(r,i);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==oe||e.status!==ae}))}}}]),r}(s["Component"]);return n.defaultProps={component:"div"},n}var pe=fe(w);t["b"]=ee},"8YOa":function(e,t,n){var r=n("0BK2"),i=n("hh1v"),a=n("UTVS"),o=n("m/L8").f,s=n("kOOl"),u=n("uy83"),l=s("meta"),c=0,f=Object.isExtensible||function(){return!0},p=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,l)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[l].objectID},h=function(e,t){if(!a(e,l)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[l].weakData},v=function(e){return u&&m.REQUIRED&&f(e)&&!a(e,l)&&p(e),e},m=e.exports={REQUIRED:!1,fastKey:d,getWeakData:h,onFreeze:v};r[l]=!0},"8ZTH":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("U+yc")),l=(r(n("1ABj")),n("4cb6"));n("mNvP");var c,f,p,d,h,v,m,y=n("0t2r"),g=r(n("k5F1")),b=(c=(0,l.injectable)(),f=(0,l.inject)(y.TYPES.IRendererService),p=(0,l.inject)(y.TYPES.IGlobalConfigService),c((h=function(){function e(){(0,a["default"])(this,e),(0,s["default"])(this,"clock",new g["default"]),(0,s["default"])(this,"alreadyInRendering",!1),(0,s["default"])(this,"layers",[]),(0,s["default"])(this,"layerRenderID",void 0),(0,s["default"])(this,"sceneInited",!1),(0,s["default"])(this,"animateInstanceCount",0),(0,i["default"])(this,"renderService",v,this),(0,i["default"])(this,"configService",m,this)}return(0,o["default"])(e,[{key:"add",value:function(e){this.sceneInited&&e.init(),this.layers.push(e)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(e){e.inited||e.init()}))}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers.find((function(t){return t.id===e}))}},{key:"getLayerByName",value:function(e){return this.layers.find((function(t){return t.name===e}))}},{key:"remove",value:function(e){var t=this.layers.indexOf(e);t>-1&&this.layers.splice(t,1),e.emit("remove",null),e.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(){this.alreadyInRendering||(this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).forEach((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()})),this.alreadyInRendering=!1)}},{key:"updateRenderOrder",value:function(){this.layers.sort((function(e,t){return e.zIndex-t.zIndex}))}},{key:"destroy",value:function(){this.layers.forEach((function(e){return e.destroy()})),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){0===this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0===--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"clear",value:function(){this.renderService.clear({color:[0,0,0,0],depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),e}(),v=(0,u["default"])(h.prototype,"renderService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,u["default"])(h.prototype,"configService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d);t["default"]=b},"8b1Q":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"county",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{new o["CountyLayer"](e,{adcode:["110101","110102","110106","110105"],fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}})}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"county"}))},"8cWt":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u,t.fillPolygon=l,t.extrude_PolygonNormal=c;var i=r(n("RIqP")),a=n("z0pJ"),o=r(n("VmRL")),s=n("IOcx");function u(e){var t=e[0][0],n=e[0][e[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var r=e[0].length,a=o["default"].flatten(e),s=a.vertices,u=a.dimensions,l=[],c=[],f=0;f<s.length/u;f++)2===u?l.push(s[2*f],s[2*f+1],1):l.push(s[3*f],s[3*f+1],1);var p=(0,o["default"])(a.vertices,a.holes,a.dimensions);c.push.apply(c,(0,i["default"])(p));for(var d=function(e){var t=a.vertices.slice(e*u,(e+1)*u),n=a.vertices.slice((e+1)*u,(e+2)*u);0===n.length&&(n=a.vertices.slice(0,u));var r=l.length/3;l.push(t[0],t[1],1,n[0],n[1],1,t[0],t[1],0,n[0],n[1],0),c.push.apply(c,(0,i["default"])([0,2,1,2,3,1].map((function(e){return e+r}))))},h=0;h<r;h++)d(h);return{positions:l,index:c}}function l(e){var t=o["default"].flatten(e),n=(0,o["default"])(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:n}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var a=e[0].length,s=o["default"].flatten(e),u=s.vertices,l=s.dimensions,c=[],p=[],d=[],h=0;h<u.length/l;h++)2===l?c.push(u[2*h],u[2*h+1],1,-1,-1):c.push(u[3*h],u[3*h+1],1,-1,-1),d.push(0,0,1);var v=(0,o["default"])(s.vertices,s.holes,s.dimensions);p.push.apply(p,(0,i["default"])(v));for(var m=function(e){var n=s.vertices.slice(e*l,(e+1)*l),r=s.vertices.slice((e+1)*l,(e+2)*l);0===r.length&&(r=s.vertices.slice(0,l));var a=c.length/5;c.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);var o=f([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);d.push.apply(d,(0,i["default"])(o).concat((0,i["default"])(o),(0,i["default"])(o),(0,i["default"])(o))),p.push.apply(p,(0,i["default"])([1,2,0,3,2,1].map((function(e){return e+a}))))},y=0;y<a;y++)m(y);return{positions:c,index:p,normals:d}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=s.vec3.create(),u=s.vec3.create(),l=s.vec3.create();r&&(e=(0,a.lngLatToMeters)(e),t=(0,a.lngLatToMeters)(t),n=(0,a.lngLatToMeters)(n));var c=s.vec3.fromValues.apply(s.vec3,(0,i["default"])(e)),f=s.vec3.fromValues.apply(s.vec3,(0,i["default"])(t)),p=s.vec3.fromValues.apply(s.vec3,(0,i["default"])(n));s.vec3.sub(o,p,f),s.vec3.sub(u,c,f),s.vec3.cross(l,o,u);var d=s.vec3.create();return s.vec3.normalize(d,l),d}},"8go2":function(e,t,n){n("gg6r")},"8jRI":function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)e=o(t,n).join(""),t=e.match(i);return e}}function u(e){var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=a.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(l){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),o=0;o<i.length;o++){var u=i[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return u(e)}}},"8r4s":function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"Set",stat:!0},{of:i})},"8tx+":function(e,t,n){"use strict";var r=n("Ff2n"),i=n("wx14"),a=n("VTBJ"),o=n("1OyB"),s=n("vuIU"),u=n("Ji7U"),l=n("LK+K"),c=n("q1tI"),f=n("i8i4"),p=n.n(f),d=n("TSYQ"),h=n.n(d),v=n("8XRh"),m=n("EE3K"),y=n("8HVG"),g=0,b=Date.now();function _(){var e=g;return g+=1,"rcNotification_".concat(b,"_").concat(e)}var x=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;Object(o["a"])(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),e.state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||_(),i=Object(a["a"])(Object(a["a"])({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=_(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){var n=e.notices;return{notices:n.filter((function(e){var n=e.notice,r=n.key,i=n.userPassKey,a=i||r;return a!==t}))}}))},e.noticePropsMap={},e}return Object(s["a"])(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,o=n.className,s=n.closeIcon,u=n.style,l=[];return t.forEach((function(n,i){var o=n.notice,u=n.holderCallback,c=i===t.length-1?o.updateMark:void 0,f=o.key,p=o.userPassKey,d=Object(a["a"])(Object(a["a"])(Object(a["a"])({prefixCls:r,closeIcon:s},o),o.props),{},{key:f,noticeKey:p||f,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=o.onClose)||void 0===n||n.call(o)},onClick:o.onClick,children:o.content});l.push(f),e.noticePropsMap[f]={props:d,holderCallback:u}})),c["createElement"]("div",{className:h()(r,o),style:u},c["createElement"](v["a"],{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,o=t.className,s=t.style,u=t.visible,l=e.noticePropsMap[n],f=l.props,p=l.holderCallback;return p?c["createElement"]("div",{key:n,className:h()(o,"".concat(r,"-hook-holder")),style:Object(a["a"])({},s),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),p(t,f)):e.hookRefs["delete"](n))}}):c["createElement"](m["a"],Object(i["a"])({},f,{className:h()(o,null===f||void 0===f?void 0:f.className),style:Object(a["a"])(Object(a["a"])({},s),null===f||void 0===f?void 0:f.style),visible:u}))})))}}]),n}(c["Component"]);x.newInstance=void 0,x.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},x.newInstance=function(e,t){var n=e||{},a=n.getContainer,o=Object(r["a"])(n,["getContainer"]),s=document.createElement("div");if(a){var u=a();u.appendChild(s)}else document.body.appendChild(s);var l=!1;function f(e){l||(l=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){p.a.unmountComponentAtNode(s),s.parentNode&&s.parentNode.removeChild(s)},useNotification:function(){return Object(y["a"])(e)}}))}p.a.render(c["createElement"](x,Object(i["a"])({},o,{ref:f})),s)};var w=x;t["a"]=w},"8yz6":function(e,t,n){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},"8z13":function(e,t,n){"use strict";var r=n("wx14"),i=n("VTBJ"),a=n("ODXe"),o=n("Ff2n"),s=n("q1tI"),u=n("TSYQ"),l=n.n(u),c=n("t23M"),f=void 0;function p(e,t){var n=e.prefixCls,a=e.invalidate,u=e.item,p=e.renderItem,d=e.responsive,h=e.registerSize,v=e.itemKey,m=e.className,y=e.style,g=e.children,b=e.display,_=e.order,x=e.component,w=void 0===x?"div":x,E=Object(o["a"])(e,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","className","style","children","display","order","component"]),S=d&&!b;function k(e){h(v,e)}s["useEffect"]((function(){return function(){k(null)}}),[]);var O,T=p&&u!==f?p(u):g;a||(O={opacity:S?0:1,height:S?0:f,overflowY:S?"hidden":f,order:d?_:f,pointerEvents:S?"none":f,position:S?"absolute":f});var C={};S&&(C["aria-hidden"]=!0);var A=s["createElement"](w,Object(r["a"])({className:l()(!a&&n,m),style:Object(i["a"])(Object(i["a"])({},O),y)},C,E,{ref:t}),T);return d&&(A=s["createElement"](c["a"],{onResize:function(e){var t=e.offsetWidth;k(t)}},A)),A}var d=s["forwardRef"](p);d.displayName="Item";var h=d,v=n("wgJM");function m(){var e=Object(s["useState"])({}),t=Object(a["a"])(e,2),n=t[1],r=Object(s["useRef"])([]),i=Object(s["useRef"])(!1),o=0,u=0;function l(e){var t=o;o+=1,r.current.length<t+1&&(r.current[t]=e);var a=r.current[t];function s(e){r.current[t]="function"===typeof e?e(r.current[t]):e,v["a"].cancel(u),u=Object(v["a"])((function(){i.current||n({})}))}return[a,s]}return Object(s["useEffect"])((function(){return function(){i.current=!0}}),[]),l}var y=function(e,t){var n=s["useContext"](_);if(!n){var i=e.component,a=void 0===i?"div":i,u=Object(o["a"])(e,["component"]);return s["createElement"](a,Object(r["a"])({},u,{ref:t}))}var c=n.className,f=Object(o["a"])(n,["className"]),p=e.className,d=Object(o["a"])(e,["className"]);return s["createElement"](_.Provider,{value:null},s["createElement"](h,Object(r["a"])({ref:t,className:l()(c,p)},f,d)))},g=s["forwardRef"](y);g.displayName="RawItem";var b=g,_=s["createContext"](null),x="responsive",w="invalidate";function E(e){return"+ ".concat(e.length," ...")}function S(e,t){var n=e.prefixCls,u=void 0===n?"rc-overflow":n,f=e.data,p=void 0===f?[]:f,d=e.renderItem,v=e.renderRawItem,y=e.itemKey,g=e.itemWidth,b=void 0===g?10:g,S=e.ssr,k=e.style,O=e.className,T=e.maxCount,C=e.renderRest,A=e.renderRawRest,M=e.suffix,P=e.component,I=void 0===P?"div":P,R=e.itemComponent,j=e.onVisibleChange,L=Object(o["a"])(e,["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"]),N=m(),D="full"===S,F=N(null),z=Object(a["a"])(F,2),B=z[0],U=z[1],V=B||0,H=N(new Map),W=Object(a["a"])(H,2),q=W[0],G=W[1],Z=N(0),Y=Object(a["a"])(Z,2),X=Y[0],K=Y[1],J=N(0),Q=Object(a["a"])(J,2),$=Q[0],ee=Q[1],te=N(0),ne=Object(a["a"])(te,2),re=ne[0],ie=ne[1],ae=Object(s["useState"])(null),oe=Object(a["a"])(ae,2),se=oe[0],ue=oe[1],le=Object(s["useState"])(null),ce=Object(a["a"])(le,2),fe=ce[0],pe=ce[1],de=s["useMemo"]((function(){return null===fe&&D?Number.MAX_SAFE_INTEGER:fe||0}),[fe,B]),he=Object(s["useState"])(!1),ve=Object(a["a"])(he,2),me=ve[0],ye=ve[1],ge="".concat(u,"-item"),be=Math.max(X,$),_e=p.length&&T===x,xe=T===w,we=_e||"number"===typeof T&&p.length>T,Ee=Object(s["useMemo"])((function(){var e=p;return _e?e=null===B&&D?p:p.slice(0,Math.min(p.length,V/b)):"number"===typeof T&&(e=p.slice(0,T)),e}),[p,b,B,T,_e]),Se=Object(s["useMemo"])((function(){return _e?p.slice(de+1):p.slice(Ee.length)}),[p,Ee,_e,de]),ke=Object(s["useCallback"])((function(e,t){var n;return"function"===typeof y?y(e):null!==(n=y&&(null===e||void 0===e?void 0:e[y]))&&void 0!==n?n:t}),[y]),Oe=Object(s["useCallback"])(d||function(e){return e},[d]);function Te(e,t){pe(e),t||(ye(e<p.length-1),null===j||void 0===j||j(e))}function Ce(e,t){U(t.clientWidth)}function Ae(e,t){G((function(n){var r=new Map(n);return null===t?r["delete"](e):r.set(e,t),r}))}function Me(e,t){ee(t),K($)}function Pe(e,t){ie(t)}function Ie(e){return q.get(ke(Ee[e],e))}s["useLayoutEffect"]((function(){if(V&&be&&Ee){var e=re,t=Ee.length,n=t-1;if(!t)return Te(0),void ue(null);for(var r=0;r<t;r+=1){var i=Ie(r);if(void 0===i){Te(r-1,!0);break}if(e+=i,0===n&&e<=V||r===n-1&&e+Ie(n)<=V){Te(n),ue(null);break}if(e+be>V){Te(r-1),ue(e-i-re+$);break}}M&&Ie(0)+re>V&&ue(null)}}),[V,q,$,re,ke,Ee]);var Re=me&&!!Se.length,je={};null!==se&&_e&&(je={position:"absolute",left:se,top:0});var Le,Ne={prefixCls:ge,responsive:_e,component:R,invalidate:xe},De=v?function(e,t){var n=ke(e,t);return s["createElement"](_.Provider,{key:n,value:Object(i["a"])(Object(i["a"])({},Ne),{},{order:t,item:e,itemKey:n,registerSize:Ae,display:t<=de})},v(e,t))}:function(e,t){var n=ke(e,t);return s["createElement"](h,Object(r["a"])({},Ne,{order:t,key:n,item:e,renderItem:Oe,itemKey:n,registerSize:Ae,display:t<=de}))},Fe={order:Re?de:Number.MAX_SAFE_INTEGER,className:"".concat(ge,"-rest"),registerSize:Me,display:Re};if(A)A&&(Le=s["createElement"](_.Provider,{value:Object(i["a"])(Object(i["a"])({},Ne),Fe)},A(Se)));else{var ze=C||E;Le=s["createElement"](h,Object(r["a"])({},Ne,Fe),"function"===typeof ze?ze(Se):ze)}var Be=s["createElement"](I,Object(r["a"])({className:l()(!xe&&u,O),style:k,ref:t},L),Ee.map(De),we?Le:null,M&&s["createElement"](h,Object(r["a"])({},Ne,{order:de,className:"".concat(ge,"-suffix"),registerSize:Pe,display:!0,style:je}),M));return _e&&(Be=s["createElement"](c["a"],{onResize:Ce},Be)),Be}var k=s["forwardRef"](S);k.displayName="Overflow",k.Item=b,k.RESPONSIVE=x,k.INVALIDATE=w;var O=k;t["a"]=O},"9/5/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),d=Object.prototype,h=d.toString,v=Math.max,m=Math.min,y=function(){return p.Date.now()};function g(e,t,r){var i,a,o,s,u,l,c=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function h(t){var n=i,r=a;return i=a=void 0,c=t,s=e.apply(r,n),s}function g(e){return c=e,u=setTimeout(E,t),f?h(e):s}function _(e){var n=e-l,r=e-c,i=t-n;return p?m(i,o-r):i}function x(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||p&&r>=o}function E(){var e=y();if(x(e))return S(e);u=setTimeout(E,_(e))}function S(e){return u=void 0,d&&i?h(e):(i=a=void 0,s)}function k(){void 0!==u&&clearTimeout(u),c=0,i=l=a=u=void 0}function O(){return void 0===u?s:S(y())}function T(){var e=y(),n=x(e);if(i=arguments,a=this,l=e,n){if(void 0===u)return g(l);if(p)return u=setTimeout(E,t),h(l)}return void 0===u&&(u=setTimeout(E,t)),s}return t=w(t)||0,b(r)&&(f=!!r.leading,p="maxWait"in r,o=p?v(w(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),T.cancel=k,T.flush=O,T}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function x(e){return"symbol"==typeof e||_(e)&&h.call(e)==i}function w(e){if("number"==typeof e)return e;if(x(e))return r;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=g}).call(this,n("IyRk"))},"90hW":function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},"92R3":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("RIqP")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=n("gHHc"),d=n("z0pJ"),h=n("IOcx"),v=n("4cb6");n("mNvP");var m,y,g=r(n("YenN")),b=n("kIOg"),_=n("P9V8");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,f["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=S();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var k="uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n   \n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor = color;\n    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;\n     gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n}\n",O='precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_InverseViewProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrixUncentered;\nvarying float v_intensity;\n\n\nvec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {\n    float t2 = t * t;\n    float one_minus_t = 1.0 - t;\n    float one_minus_t2 = one_minus_t * one_minus_t;\n    return (P0 * one_minus_t2 * one_minus_t + P1 * 3.0 * t * one_minus_t2 + P2 * 3.0 * t2 * one_minus_t + P3 * t2 * t);\n}\nvec2 toBezier(float t, vec4 p){\n    return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));\n}\n#pragma include "projection"\nvoid main() {\n  v_texCoord = a_Uv;\n\n  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // \u5c06\u539f\u672c 0 -> 1 \u7684 uv \u8f6c\u6362\u4e3a -1 -> 1 \u7684\u6807\u51c6\u5750\u6807\u7a7a\u95f4\uff08NDC\uff09\n\n  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y \u5e73\u9762\u4e0a\u7684\u70b9\uff08z == 0\uff09\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e09\u7ef4\u4e0a\u7684\u70b9\u88ab\u6295\u5f71\u5230\u5e73\u9762\u540e\u7684\u70b9\n\tvec4 p2 = vec4(pos, 1.0, 1.0); // \u5e73\u884c\u4e8ex/y\u5e73\u9762\u3001z==1 \u7684\u5e73\u9762\u4e0a\u7684\u70b9\n\n\tvec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // \u6839\u636e\u89c6\u56fe\u6295\u5f71\u77e9\u9635\u7684\u9006\u77e9\u9635\u5e73\u9762\u4e0a\u7684\u53cd\u7b97\u51fa\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u70b9\uff08p1\u5e73\u9762\u4e0a\u7684\u70b9\uff09\n\tvec4 inverseP2 = u_InverseViewProjectionMatrix * p2;\n\n  inverseP1 = inverseP1 / inverseP1.w; // \u5f52\u4e00\u5316\u64cd\u4f5c\uff08\u5f52\u4e00\u5316\u540e\u4e3a\u4e16\u754c\u5750\u6807\uff09\n\tinverseP2 = inverseP2 / inverseP2.w;\n\n\tfloat zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??\n\tvec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);\n\n  vec4 b= vec4(0.5000, 0.0, 1.0, 0.5000);\n  float fh;\n\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  fh = toBezier(v_intensity, b).y;\n  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.), 1.0);\n \n}\n',T="uniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_opacity;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\n\nvoid main(){\n     float intensity = texture2D(u_texture, v_texCoord).r;\n    vec4 color = texture2D(u_colorTexture,vec2(intensity, 0));\n    gl_FragColor =color;\n    gl_FragColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;\n\n}\n",C="precision highp float;\nuniform float u_intensity;\nvarying float v_weight;\nvarying vec2 v_extrude;\n#define GAUSS_COEF  0.3989422804014327\nvoid main(){\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);\n    gl_FragColor = vec4(val, 1., 1., 1.);\n}\n",A='precision highp float;\nattribute vec3 a_Position;\nattribute float a_Size;\nattribute vec2 a_Dir;\nuniform float u_intensity;\nuniform float u_radius;\nvarying vec2 v_extrude;\nvarying float v_weight;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\n#define GAUSS_COEF  0.3989422804014327\n\n#pragma include "projection"\n\nvoid main(){\n    v_weight = a_Size;\n    float ZERO = 1.0 / 255.0 / 16.0;\n    float extrude_x = a_Dir.x * 2.0 -1.0;\n    float extrude_y = a_Dir.y * 2.0 -1.0;\n    vec2 extrude_dir = normalize(vec2(extrude_x,extrude_y));\n    float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 3.0;\n    v_extrude = extrude_dir * S;\n\n    vec2 offset = project_pixel(v_extrude * u_radius);\n    vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n    // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n        gl_Position = u_Mvp * (vec4(project_pos.xy + offset, 0.0, 1.0));\n    } else {\n        gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n    }\n}\n',M="precision highp float;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvarying float v_intensity;\nvoid main() {\n  v_texCoord = a_Uv;\n  v_intensity = texture2D(u_texture, v_texCoord).r;\n  gl_Position = vec4(a_Position.xy, 0, 1.);\n}\n",P=(m=(0,v.injectable)(),m(y=function(e){(0,u["default"])(n,e);var t=E(n);function n(){var e;(0,a["default"])(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,f["default"])((0,s["default"])(e),"texture",void 0),(0,f["default"])((0,s["default"])(e),"colorTexture",void 0),(0,f["default"])((0,s["default"])(e),"heatmapFramerBuffer",void 0),(0,f["default"])((0,s["default"])(e),"intensityModel",void 0),(0,f["default"])((0,s["default"])(e),"colorModel",void 0),(0,f["default"])((0,s["default"])(e),"shapeType",void 0),e}return(0,o["default"])(n,[{key:"render",value:function(){var e=this,t=this.rendererService,n=t.clear,r=t.useFramebuffer;r(this.heatmapFramerBuffer,(function(){n({color:[0,0,0,0],depth:1,stencil:0,framebuffer:e.heatmapFramerBuffer}),e.drawIntensityMode()})),this.layer.styleNeedUpdate&&this.updateColorTexture(),"heatmap"===this.shapeType?this.drawColorMode():this.draw3DHeatMap()}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){var e,t=this.rendererService,n=t.createFramebuffer,r=(t.clear,t.getViewportSize),i=t.createTexture2D,a=(t.useFramebuffer,this.styleAttributeService.getLayerStyleAttribute("shape")),o=(null===a||void 0===a||null===(e=a.scale)||void 0===e?void 0:e.field)||"heatmap";this.shapeType=o,this.intensityModel=this.buildHeatMapIntensity(),this.colorModel="heatmap"===o?this.buildHeatmapColor():this.build3dHeatMap();var s=this.layer.getLayerConfig(),u=s.rampColors,l=((0,d.generateColorRamp)(u),r()),c=l.width,f=l.height;return this.heatmapFramerBuffer=n({color:i({width:Math.floor(c/4),height:Math.floor(f/4),wrapS:p.gl.CLAMP_TO_EDGE,wrapT:p.gl.CLAMP_TO_EDGE,min:p.gl.LINEAR,mag:p.gl.LINEAR}),depth:!1}),this.updateColorTexture(),[this.intensityModel,this.colorModel]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:p.AttributeType.Attribute,descriptor:{name:"a_Dir",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return[a]}}})}},{key:"buildHeatMapIntensity",value:function(){return this.layer.buildLayerModel({moduleName:"heatmapintensity",vertexShader:A,fragmentShader:C,triangulation:b.HeatmapTriangulation,depth:{enable:!1},blend:{enable:!0,func:{srcRGB:p.gl.ONE,srcAlpha:1,dstRGB:p.gl.ONE,dstAlpha:1}}})}},{key:"buildHeatmapColor",value:function(){this.shaderModuleService.registerModule("heatmapColor",{vs:M,fs:T});var e=this.shaderModuleService.getModule("heatmapColor"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService,a=i.createAttribute,o=i.createElements,s=i.createBuffer,u=i.createModel;return u({vs:t,fs:n,attributes:{a_Position:a({buffer:s({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:p.gl.FLOAT}),size:3}),a_Uv:a({buffer:s({data:[0,1,1,1,0,0,1,0],type:p.gl.FLOAT}),size:2})},uniforms:w({},r),depth:{enable:!1},blend:this.getBlend(),count:6,elements:o({data:[0,2,1,2,3,1],type:p.gl.UNSIGNED_INT,count:6})})}},{key:"drawIntensityMode",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.intensity,r=void 0===n?10:n,i=e.radius,a=void 0===i?5:i;this.intensityModel.draw({uniforms:{u_opacity:t||1,u_radius:a,u_intensity:r}})}},{key:"drawColorMode",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer}})}},{key:"draw3DHeatMap",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=h.mat4.create();h.mat4.invert(n,this.cameraService.getViewProjectionMatrixUncentered()),this.colorModel.draw({uniforms:{u_opacity:t||1,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:(0,i["default"])(n)}})}},{key:"build3dHeatMap",value:function(){var e=this.rendererService.getViewportSize,t=e(),n=t.width,r=t.height,i=(0,_.heatMap3DTriangulation)(n/4,r/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:O,fs:k});var a=this.shaderModuleService.getModule("heatmap3dColor"),o=a.vs,s=a.fs,u=a.uniforms,l=this.rendererService,c=l.createAttribute,f=l.createElements,d=l.createBuffer,h=l.createModel;return h({vs:o,fs:s,attributes:{a_Position:c({buffer:d({data:i.vertices,type:p.gl.FLOAT}),size:3}),a_Uv:c({buffer:d({data:i.uvs,type:p.gl.FLOAT}),size:2})},primitive:p.gl.TRIANGLES,uniforms:w({},u),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:p.gl.SRC_ALPHA,srcAlpha:1,dstRGB:p.gl.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:f({data:i.indices,type:p.gl.UNSIGNED_INT,count:i.indices.length})})}},{key:"updateStyle",value:function(){this.updateColorTexture()}},{key:"updateColorTexture",value:function(){var e=this.rendererService.createTexture2D;this.texture&&this.texture.destroy();var t=this.layer.getLayerConfig(),n=t.rampColors,r=(0,d.generateColorRamp)(n);this.colorTexture=e({data:new Uint8Array(r.data),width:r.width,height:r.height,wrapS:p.gl.CLAMP_TO_EDGE,wrapT:p.gl.CLAMP_TO_EDGE,min:p.gl.NEAREST,mag:p.gl.NEAREST,flipY:!1})}}]),n}(g["default"]))||y);t["default"]=P},"93I0":function(e,t,n){var r=n("VpIT"),i=n("kOOl"),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},"94Xl":function(e,t,n){var r=n("JiZb");r("Array")},"9Baz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"message",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"notification",{enumerable:!0,get:function(){return i["default"]}}),n("miYZ");var r=a(n("tsqr"));n("/xke");var i=a(n("TeRw"));function a(e){return e&&e.__esModule?e:{default:e}}},"9D6x":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM");r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=a(this),r=arguments.length;o(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):o(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},"9Fde":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=n("LgvC"),s=n("MON2"),u=n("FV85"),l=n("xfSm"),c=n("wnjb"),f=n("h7MG"),p=n("aPG5"),d=n("gzZq"),h=n("d9O0"),v=n("ujMp"),m=n("HpQ9"),y=n("AwBQ"),g=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!==typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=u.BindingScopeEnum.Transient;else if(t.defaultScope!==u.BindingScopeEnum.Singleton&&t.defaultScope!==u.BindingScopeEnum.Transient&&t.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!==typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!==typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new c.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,s=a([t,n],r).map((function(e){return f.getBindingDictionary(e)})),u=f.getBindingDictionary(o);function l(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return s.forEach((function(e){l(e,u)})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var a=i[r],o=n(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,a,o;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(a=r[n],o=t(a.id),[4,a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||u.BindingScopeEnum.Transient,n=new o.Binding(e,t);return this._bindingDictionary.add(e,n),new d.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+v.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,l.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),a=f.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(a)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,u.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,l.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,u.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,u.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,l.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.bind.bind(e),a=i(r);return t(a,n),a}},r=function(t){return function(t){var n=e.unbind.bind(e);n(t)}},i=function(t){return function(t){var n=e.isBound.bind(e);return n(t)}},a=function(n){return function(r){var i=e.rebind.bind(e),a=i(r);return t(a,n),a}};return function(e){return{bindFunction:n(e),isboundFunction:i(e),rebindFunction:a(e),unbindFunction:r(e)}}},e.prototype._get=function(e,t,n,r,i,a){var o=null,u={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:a};if(this._middleware){if(o=this._middleware(u),void 0===o||null===o)throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else o=this._planAndResolve()(u);return o},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=f.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);n=t.contextInterceptor(n);var r=p.resolve(n);return r}},e}();t.Container=g},"9MQZ":function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,a=9007199254740991,o="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,y="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,b=y||g||Function("return this")();function _(e,t){return null==e?void 0:e[t]}function x(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var w=Array.prototype,E=Function.prototype,S=Object.prototype,k=b["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),T=E.toString,C=S.hasOwnProperty,A=S.toString,M=RegExp("^"+T.call(C).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=b.Symbol,I=w.splice,R=ue(b,"Map"),j=ue(Object,"create"),L=P?P.prototype:void 0,N=L?L.toString:void 0;function D(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function F(){this.__data__=j?j(null):{}}function z(e){return this.has(e)&&delete this.__data__[e]}function B(e){var t=this.__data__;if(j){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0}function U(e){var t=this.__data__;return j?void 0!==t[e]:C.call(t,e)}function V(e,t){var n=this.__data__;return n[e]=j&&void 0===t?r:t,this}function H(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function W(){this.__data__=[]}function q(e){var t=this.__data__,n=ne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():I.call(t,n,1),!0}function G(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]}function Z(e){return ne(this.__data__,e)>-1}function Y(e,t){var n=this.__data__,r=ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function X(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function K(){this.__data__={hash:new D,map:new(R||H),string:new D}}function J(e){return se(this,e)["delete"](e)}function Q(e){return se(this,e).get(e)}function $(e){return se(this,e).has(e)}function ee(e,t){return se(this,e).set(e,t),this}function te(e,t,n){var r=e[t];C.call(e,t)&&ye(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ne(e,t){var n=e.length;while(n--)if(ye(e[n][0],t))return n;return-1}function re(e){if(!_e(e)||pe(e))return!1;var t=be(e)||x(e)?M:v;return t.test(ve(e))}function ie(e,t,n,r){if(!_e(e))return e;t=ce(t,e)?[t]:oe(t);var i=-1,a=t.length,o=a-1,s=e;while(null!=s&&++i<a){var u=he(t[i]),l=n;if(i!=o){var c=s[u];l=r?r(c,u,s):void 0,void 0===l&&(l=_e(c)?c:le(t[i+1])?[]:{})}te(s,u,l),s=s[u]}return e}function ae(e){if("string"==typeof e)return e;if(we(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function oe(e){return ge(e)?e:de(e)}function se(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=_(e,t);return re(n)?n:void 0}function le(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||m.test(e))&&e>-1&&e%1==0&&e<t}function ce(e,t){if(ge(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!we(e))||(c.test(e)||!l.test(e)||null!=t&&e in Object(t))}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function pe(e){return!!O&&O in e}D.prototype.clear=F,D.prototype["delete"]=z,D.prototype.get=B,D.prototype.has=U,D.prototype.set=V,H.prototype.clear=W,H.prototype["delete"]=q,H.prototype.get=G,H.prototype.has=Z,H.prototype.set=Y,X.prototype.clear=K,X.prototype["delete"]=J,X.prototype.get=Q,X.prototype.has=$,X.prototype.set=ee;var de=me((function(e){e=Ee(e);var t=[];return f.test(e)&&t.push(""),e.replace(p,(function(e,n,r,i){t.push(r?i.replace(h,"$1"):n||e)})),t}));function he(e){if("string"==typeof e||we(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ve(e){if(null!=e){try{return T.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function me(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return r.cache=new(me.Cache||X),r}function ye(e,t){return e===t||e!==e&&t!==t}me.Cache=X;var ge=Array.isArray;function be(e){var t=_e(e)?A.call(e):"";return t==o||t==s}function _e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function xe(e){return!!e&&"object"==typeof e}function we(e){return"symbol"==typeof e||xe(e)&&A.call(e)==u}function Ee(e){return null==e?"":ae(e)}function Se(e,t,n){return null==e?e:ie(e,t,n)}e.exports=Se}).call(this,n("IyRk"))},"9N29":function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").right,a=n("pkCn"),o=n("rkAj"),s=a("reduceRight"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"9Nap":function(e,t,n){var r=n("/9aa"),i=1/0;function a(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=a},"9NmV":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",o=r+i+a,s="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",p=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",v=l+c+f+p,m="['\u2019]",y="["+v+"]",g="["+o+"]",b="\\d+",_="["+s+"]",x="["+u+"]",w="[^"+n+v+b+s+u+d+"]",E="\\ud83c[\\udffb-\\udfff]",S="(?:"+g+"|"+E+")",k="[^"+n+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",C="["+d+"]",A="\\u200d",M="(?:"+x+"|"+w+")",P="(?:"+C+"|"+w+")",I="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",R="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",j=S+"?",L="["+h+"]?",N="(?:"+A+"(?:"+[k,O,T].join("|")+")"+L+j+")*",D="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",z=L+j+N,B="(?:"+[_,O,T].join("|")+")"+z,U=RegExp([C+"?"+x+"+"+I+"(?="+[y,C,"$"].join("|")+")",P+"+"+R+"(?="+[y,C+M,"$"].join("|")+")",C+"?"+M+"+"+I,C+"+"+R,F,D,b,B].join("|"),"g");function V(e){return e.match(U)||[]}e.exports=V},"9R94":function(e,t,n){"use strict";var r=!0,i="Invariant failed";function a(e,t){if(!e){if(r)throw new Error(i);throw new Error(i+": "+(t||""))}}t["a"]=a},"9Rul":function(e,t,n){"use strict";n.r(t),n.d(t,"getCoord",(function(){return i})),n.d(t,"getCoords",(function(){return a})),n.d(t,"containsNumber",(function(){return o})),n.d(t,"geojsonType",(function(){return s})),n.d(t,"featureOf",(function(){return u})),n.d(t,"collectionOf",(function(){return l})),n.d(t,"getGeom",(function(){return c})),n.d(t,"getType",(function(){return f}));var r=n("0wsv");function i(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function a(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function o(e){if(e.length>1&&Object(r["isNumber"])(e[0])&&Object(r["isNumber"])(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return o(e[0]);throw new Error("coordinates must only contain numbers")}function s(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function u(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function l(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=e.features;r<i.length;r++){var a=i[r];if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!a.geometry||a.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+a.geometry.type)}}function c(e){return"Feature"===e.type?e.geometry:e}function f(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},"9d/t":function(e,t,n){var r=n("AO7/"),i=n("xrYK"),a=n("tiKp"),o=a("toStringTag"),s="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),o))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},"9dtU":function(e,t,n){},"9ggG":function(e,t,n){var r=n("Z0cm"),i=n("/9aa"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function s(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}e.exports=s},"9j+D":function(e,t,n){"use strict";function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function s(e,t,n,r,i){if(i){var a=e[r],o=a.glyph;if(o)for(var s=t[o].advance*a.scale,u=(e[r].x+s)*i,l=n;l<=r;l++)e[l].x-=u}}function u(e,t,n,i,a,o,s){var u,l=(t-n)*a,c=(-i*s+.5)*o,f=r(e);try{for(f.s();!(u=f.n()).done;){var p=u.value;p.x+=l,p.y+=c}}catch(d){f.e(d)}finally{f.f()}}function l(e,t,n,r,i,a,l){var c=-8,f=0,p=c,d=0,h=e.positionedGlyphs,v="right"===a?1:"left"===a?0:.5,m=h.length;n.forEach((function(e){if(e.split("").forEach((function(e){var n=t[e],r=0;n&&(h.push({glyph:e,x:f,y:p+r,vertical:!1,scale:1,metrics:n}),f+=n.advance+l)})),h.length!==m){var n=f-l;d=Math.max(n,d),s(h,t,m,h.length-1,v)}f=0,p+=r}));var y=o(i),g=y.horizontalAlign,b=y.verticalAlign;u(h,v,g,b,d,r,n.length);var _=p-c;e.top+=-b*_,e.bottom=e.top+_,e.left+=-g*d,e.right=e.left+d}function c(e,t,n,r,i,a,l){var c=-8,f=0,p=c,d=0,h=e.positionedGlyphs,v="right"===a?1:"left"===a?0:.5,m=h.length;n.forEach((function(e){var n=t[e],i=0;if(n&&(h.push({glyph:e,x:f,y:p+i,vertical:!1,scale:1,metrics:n}),f+=n.advance+l),h.length!==m){var a=f-l;d=Math.max(a,d),s(h,t,m,h.length-1,v)}f=0,p+=r}));var y=o(i),g=y.horizontalAlign,b=y.verticalAlign;u(h,v,g,b,d,r,n.length);var _=p-c;e.top+=-b*_,e.bottom=e.top+_,e.left+=-g*d,e.right=e.left+d}function f(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=arguments.length>7?arguments[7]:void 0,u=e.split("\n"),f=[],p={positionedGlyphs:f,top:o[1],bottom:o[1],left:o[0],right:o[0],lineCount:u.length,text:e};return s?c(p,t,u,n,r,i,a):l(p,t,u,n,r,i,a),!!f.length&&p}function p(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],i=arguments.length>2?arguments[2]:void 0,a=e.positionedGlyphs,o=void 0===a?[]:a,s=[],u=r(o);try{for(u.s();!(t=u.n()).done;){var l=t.value,c=l.metrics,f=4,p=c.advance*l.scale/2,d=i?[l.x+p,l.y]:[0,0],h=i?[0,0]:[l.x+p+n[0],l.y+n[1]],v=(0-f)*l.scale-p+h[0],m=(0-f)*l.scale+h[1],y=v+c.width*l.scale,g=m+c.height*l.scale,b={x:v,y:m},_={x:y,y:m},x={x:v,y:g},w={x:y,y:g};s.push({tl:b,tr:_,bl:x,br:w,tex:c,glyphOffset:d})}}catch(E){u.e(E)}finally{u.f()}return s}Object.defineProperty(t,"__esModule",{value:!0}),t.shapeText=f,t.getGlyphQuads=p},"9kvl":function(e,t,n){"use strict";n.d(t,"a",(function(){return r["b"]})),n.d(t,"b",(function(){return i["a"]}));var r=n("FfOG"),i=n("bCY9");n("I5X1"),n("9og8");n("k1fw"),n("WmNS"),n("ZqBY"),n("LtsZ"),n("9Baz");var a=n("q1tI"),o=n.n(a),s=n("9/5/"),u=n.n(s),l=n("hKI/"),c=n.n(l);function f(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}function p(){return"undefined"===typeof navigator.onLine||navigator.onLine}new Map;var d=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=a.next()).done)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return o},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e};function v(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n||(n=!0,e.apply(void 0,h(r)),setTimeout((function(){n=!1}),t))}}var m=[];function y(e){return m.push(e),function(){var t=m.indexOf(e);m.splice(t,1)}}var g=!1;if("undefined"!==typeof window&&window.addEventListener&&!g){var b=function(){if(f()&&p())for(var e=0;e<m.length;e++){var t=m[e];t()}};window.addEventListener("visibilitychange",b,!1),window.addEventListener("focus",b,!1),g=!0}var _=y,x=[];function w(e){return x.push(e),function(){var t=x.indexOf(e);x.splice(t,1)}}var E=!1;if("undefined"!==typeof window&&window.addEventListener&&!E){var S=function(){if(f())for(var e=0;e<x.length;e++){var t=x[e];t()}};window.addEventListener("visibilitychange",S,!1),E=!0}var k=w,O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},T=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=a.next()).done)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return o},C=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(T(arguments[t]));return e};(function(){function e(e,t,n,r){this.count=0,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.service=e,this.config=t,this.subscribe=n,r&&(this.state=O(O({},this.state),r)),this.debounceRun=this.config.debounceInterval?u()(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?c()(this._run,this.config.throttleInterval):void 0,this.limitRefresh=v(this.refresh.bind(this),this.config.focusTimespan),this.config.pollingInterval&&this.unsubscribe.push(k(this.rePolling.bind(this))),this.config.refreshOnWindowFocus&&this.unsubscribe.push(_(this.limitRefresh.bind(this)))}e.prototype.setState=function(e){void 0===e&&(e={}),this.state=O(O({},this.state),e),this.subscribe(this.state)},e.prototype._run=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var r=this.count;return this.setState({loading:!this.config.loadingDelay,params:t}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((function(){e.setState({loading:!0})}),this.config.loadingDelay)),this.service.apply(this,C(t)).then((function(n){if(r!==e.count)return new Promise((function(){}));e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer);var i=e.config.formatResult?e.config.formatResult(n):n;return e.setState({data:i,error:void 0,loading:!1}),e.config.onSuccess&&e.config.onSuccess(i,t),i}))["catch"]((function(n){if(r!==e.count)return new Promise((function(){}));if(e.loadingDelayTimer&&clearTimeout(e.loadingDelayTimer),e.setState({data:void 0,error:n,loading:!1}),e.config.onError&&e.config.onError(n,t),e.config.throwOnError)throw n;return console.error(n),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")}))["finally"]((function(){if(r===e.count&&e.config.pollingInterval){if(!f()&&!e.config.pollingWhenHidden)return void(e.pollingWhenVisibleFlag=!0);e.pollingTimer=setTimeout((function(){e._run.apply(e,C(t))}),e.config.pollingInterval)}}))},e.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.debounceRun?(this.debounceRun.apply(this,C(e)),Promise.resolve(null)):this.throttleRun?(this.throttleRun.apply(this,C(e)),Promise.resolve(null)):this._run.apply(this,C(e))},e.prototype.cancel=function(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})},e.prototype.refresh=function(){return this.run.apply(this,C(this.state.params))},e.prototype.rePolling=function(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())},e.prototype.mutate=function(e){"function"===typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})},e.prototype.unmount=function(){this.cancel(),this.unsubscribe.forEach((function(e){e()}))}})();var A=o.a.createContext({});A.displayName="UseRequestConfigContext";var M=A;var P;M.Provider;(function(e){e[e["SILENT"]=0]="SILENT",e[e["WARN_MESSAGE"]=1]="WARN_MESSAGE",e[e["ERROR_MESSAGE"]=2]="ERROR_MESSAGE",e[e["NOTIFICATION"]=4]="NOTIFICATION",e[e["REDIRECT"]=9]="REDIRECT"})(P||(P={}));n("qhky")},"9nhX":function(e,t,n){var r=n("g4R6"),i=n("tLB3");function a(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=i(n),n=n===n?n:0),void 0!==t&&(t=i(t),t=t===t?t:0),r(i(e),t,n)}e.exports=a},"9og8":function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},"9uU5":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s={panStep:100,bearingStep:15,pitchStep:10},u=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"panStep",void 0),(0,o["default"])(this,"bearingStep",void 0),(0,o["default"])(this,"pitchStep",void 0);var t=s;this.panStep=t.panStep,this.bearingStep=t.bearingStep,this.pitchStep=t.pitchStep}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:l,zoom:n?Math.round(u)+n*(e.shiftKey?2:1):u,bearing:s.getBearing()+r*t.bearingStep,pitch:s.getPitch()+i*t.pitchStep,offset:[-a*t.panStep,-o*t.panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function l(e){return e*(2-e)}var c=u;t["default"]=c},"9xmf":function(e,t,n){var r=n("EdiO");function i(e){if(Array.isArray(e))return r(e)}e.exports=i},A2ZE:function(e,t,n){var r=n("HAuM");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},A8o4:function(e,t){function n(e){return void 0===e}e.exports=n},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),a=Object.prototype,o=a.hasOwnProperty;function s(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=s},AAZ5:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("9og8"),i=n("k1fw"),a=n("WmNS"),o=n.n(a),s=n("rWO2"),u=n("uhBA"),l=n("RbnE"),c=n.n(l),f=n("GoyQ"),p=n.n(f),d=n("JBE3"),h=n.n(d),v=n("eRUA"),m=n.n(v),y=n("CUcw"),g=n.n(y),b=n("1wtQ"),_=["loaded"];function x(e,t){if(Array.isArray(t))return t}class w extends u["EventEmitter"]{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.fillLayer=void 0,this.lineLayer=void 0,this.labelLayer=void 0,this.bubbleLayer=void 0,this.loaded=!1,this.scene=void 0,this.options=void 0,this.layers=[],this.fillData=void 0,this.layerType=void 0,this.popup=void 0,this.scene=e,this.options=h()(this.getDefaultOption(),t,x),Object(b["b"])(this.options.geoDataLevel)}destroy(){this.layers.forEach((e=>this.scene.removeLayer(e))),this.layers.length=0}show(){this.layers.forEach((e=>e.show()))}hide(){this.layers.forEach((e=>e.hide()))}setOption(e){this.options=h()(this.options,e,x)}getFillData(){return this.fillData}getOptions(){return this.options}getLayer(e){return this[e+"Layer"]}on(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fill";return-1!==_.indexOf(e)?super.on(e,t):this.loaded&&this.getLayer(n)?this.getLayer(n).on(e,t):super.once("loaded",(()=>{this.getLayer(n).on(e,t)})),this}off(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fill";return-1!==_.indexOf(e)?super.on(e,t):this.getLayer(n)&&(this.loaded&&this.getLayer(n)?this.getLayer(n).off(e,t):super.once("loaded",(()=>{this.getLayer(n).off(e,t)}))),this}updateData(e,t){var n;this.setOption({data:e,joinBy:t});var r=this.options,a=r.data,o=void 0===a?[]:a,s=r.joinBy;if(this.fillLayer.setData(this.fillData,{transforms:0===o.length?[]:[{type:"join",sourceField:s[1],targetField:s[0],data:o}]}),this.options.bubble&&!1!==(null===(n=this.options.bubble)||void 0===n?void 0:n.enable)){var u={};o.forEach((e=>{u[e[s[1]]]=e}));var l=this.fillData.features.map((e=>Object(i["a"])(Object(i["a"])({},e.properties),{},{center:[e.properties.x,e.properties.y]}))).filter((e=>u[e[s[0]]]));this.bubbleLayer.setData(l,{transforms:0===o.length?[]:[{type:"join",sourceField:s[1],targetField:s[0],data:o}]})}}fetchData(e){var t=this;return Object(r["a"])(o.a.mark((function n(){var r,i;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("pbf"!==e.type){n.next=11;break}return n.next=3,fetch(e.url);case 3:return n.next=5,n.sent.arrayBuffer();case 5:return r=n.sent,i=c.a.decode(new m.a(r)),!1!==t.options.simplifyTolerance&&(i=g()(i,t.options.simplifyTolerance||.8)),n.abrupt("return",i);case 11:if(!p()(e.url)){n.next=15;break}n.t0=e.url,n.next=18;break;case 15:return n.next=17,fetch(e.url);case 17:n.t0=n.sent.json();case 18:return n.abrupt("return",n.t0);case 19:case"end":return n.stop()}}),n)})))()}getDefaultOption(){return{zIndex:0,visible:!0,viewType:"normal",enablePropagation:!0,geoDataLevel:2,regionType:"province",depth:1,adcode:[],joinBy:["name","name"],simplifyTolerance:!1,label:{enable:!0,color:"#000",field:"name",size:10,stroke:"#fff",strokeWidth:2,textAllowOverlap:!0,opacity:1,textOffset:[0,0],padding:[5,5]},bubble:{enable:!1,shape:"circle",color:"#1AA9FF",size:15,style:{opacity:1,stroke:"#fff",strokeWidth:1}},fill:{scale:null,color:"#ddd",style:{opacity:1},activeColor:!1},autoFit:!0,showBorder:!0,strokeOpacity:1,stroke:"#bdbdbd",strokeVisible:!0,strokeWidth:.6,cityStroke:"#636363",cityStrokeWidth:.6,countyStrokeWidth:.6,provinceStrokeWidth:.6,provinceStroke:"#f0f0f0",provinceStrokeVisible:!0,countyStroke:"#525252",coastlineStroke:"#4190da",coastlineWidth:.6,nationalStroke:"#c994c7",nationalWidth:.5,chinaNationalStroke:"gray",chinaNationalWidth:1,popup:{enable:!0,openTriggerEvent:"mousemove",closeTriggerEvent:"mouseout",option:{},Html:e=>"".concat(e.name)}}}addFillLayer(e){var t,n=this.options,r=(n.popup,n.data),a=void 0===r?[]:r,o=n.fill,u=n.autoFit,l=n.joinBy,c=n.visible,f=n.enablePropagation,d=n.zIndex;this.fillData=e;var h,v=new s["PolygonLayer"]({autoFit:u,visible:c,enablePropagation:f,zIndex:d}).source(e,{transforms:0===a.length?[]:[{type:"join",sourceField:l[1],targetField:l[0],data:a}]});(this.setLayerAttribute(v,"color",o.color),this.setLayerAttribute(v,"filter",o.filter),o.scale&&p()(o.color))&&v.scale("color",{type:o.scale,field:null===o||void 0===o||null===(h=o.color)||void 0===h?void 0:h.field});if(v.shape("fill").style(o.style),o.activeColor&&v.active({color:o.activeColor}),this.fillLayer=v,this.layers.push(v),this.scene.addLayer(v),this.options.onClick&&this.fillLayer.on("click",(e=>{this.options&&this.options.onClick&&this.options.onClick(e,this.layerType)})),this.options.bubble&&!1!==(null===(t=this.options.bubble)||void 0===t?void 0:t.enable)){var m=e.features.map((e=>Object(i["a"])(Object(i["a"])({},e.properties),{},{center:[e.properties.x,e.properties.y]})));this.addBubbleLayer(m)}this.addPopup()}updateLayerAttribute(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fill",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this.getLayer(e);this.setLayerAttribute(r,t,n)}enablePopup(){this.setOption({popup:Object(i["a"])(Object(i["a"])({},this.options.popup),{},{enable:!0})})}disablePopup(){this.setOption({popup:Object(i["a"])(Object(i["a"])({},this.options.popup),{},{enable:!1})})}addFillLine(e){var t=this.options,n=t.stroke,r=t.strokeWidth,i=t.zIndex,a=t.visible,o=t.strokeOpacity,u=new s["LineLayer"]({zIndex:i+.1,visible:a}).source(e).color(n).size(r).style({opacity:o});this.scene.addLayer(u),this.layers.push(u),this.lineLayer=u}addLabelLayer(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=this.addLabel(e,t);this.scene.addLayer(n),this.layers.push(n),this.labelLayer=n}addBubbleLayer(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=this.options,r=n.bubble,i=n.zIndex,a=n.data,o=void 0===a?[]:a,u=n.joinBy,l=n.visible,c=new s["PointLayer"]({zIndex:i+.3,visible:l}).source(e,{parser:{type:t,coordinates:"center"},transforms:0===o.length?[]:[{type:"join",sourceField:u[1],targetField:u[0],data:o}]});return this.setLayerAttribute(c,"color",r.color),this.setLayerAttribute(c,"size",r.size),this.setLayerAttribute(c,"shape",r.shape),this.setLayerAttribute(c,"filter",r.filter),r.scale&&c.scale(r.scale.field,{type:r.scale.type}),c.style(r.style),this.scene.addLayer(c),this.layers.push(c),this.bubbleLayer=c,c}addLabel(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=this.options,r=n.label,i=n.zIndex,a=n.visible,o=new s["PointLayer"]({zIndex:i+5,visible:a}).source(e,{parser:{type:t,coordinates:"center"}}).shape(r.field,"text").style(r);return this.setLayerAttribute(o,"color",r.color),this.setLayerAttribute(o,"size",r.size),this.setLayerAttribute(o,"filter",r.filter),o}addPopup(){var e,t=this.options.popup;e=t.triggerLayer?"bubble"===t.triggerLayer?this.bubbleLayer:this.fillLayer:this.options.bubble.enable?this.bubbleLayer:this.fillLayer,e.on(t.openTriggerEvent,(e=>{if(t.enable){var n=t.Html?t.Html(e.feature.properties?e.feature.properties:e.feature):"";this.popup=new s["Popup"](Object(i["a"])({closeButton:!1},t.option)).setLnglat(e.lngLat).setHTML(n),this.scene.addPopup(this.popup)}})),e.on(t.closeTriggerEvent,(e=>{this.popup&&this.popup.remove()}))}setLayerAttribute(e,t,n){n&&(p()(n)?e[t](n.field,n.values):e[t](n))}}},AK2Z:function(e,t,n){},AM7I:function(e,t,n){"use strict";var r,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(C){u=null}var l=function(){throw new o},c=u?function(){try{return l}catch(e){try{return u(arguments,"callee").get}catch(t){return l}}}():l,f=n("UVaH")(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"===typeof Uint8Array?r:p(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":d,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&f?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&f?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):r,"%Symbol%":f?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet},m=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=p(i.prototype))}return v[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n("D3zA"),b=n("oNNP"),_=g.call(Function.call,Array.prototype.concat),x=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),E=g.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,O=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,S,(function(e,t,n,i){r[r.length]=n?w(i,k,"$1"):t||e})),r},T=function(e,t){var n,r=e;if(b(y,r)&&(n=y[r],r="%"+n[0]+"%"),b(v,r)){var a=v[r];if(a===d&&(a=m(r)),"undefined"===typeof a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:a}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new o('"allowMissing" argument must be a boolean');var n=O(e),r=n.length>0?n[0]:"",a=T("%"+r+"%",t),s=a.name,l=a.value,c=!1,f=a.alias;f&&(r=f[0],x(n,_([0,1],f)));for(var p=1,d=!0;p<n.length;p+=1){var h=n[p],m=E(h,0,1),y=E(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&d||(c=!0),r+="."+h,s="%"+r+"%",b(v,s))l=v[s];else if(null!=l){if(!(h in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&p+1>=n.length){var g=u(l,h);d=!!g,l=d&&"get"in g&&!("originalValue"in g.get)?g.get:l[h]}else d=b(l,h),l=l[h];d&&!c&&(v[s]=l)}}return l}},"AO7/":function(e,t,n){var r=n("tiKp"),i=r("toStringTag"),a={};a[i]="z",e.exports="[object z]"===String(a)},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;function u(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}e.exports=u},APxj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Ucsi");function i(e,t){void 0===t&&(t=!0);var n=r.makePropertyInjectDecorator(e,t),i=r.makePropertyInjectNamedDecorator(e,t),a=r.makePropertyInjectTaggedDecorator(e,t),o=r.makePropertyMultiInjectDecorator(e,t);return{lazyInject:n,lazyInjectNamed:i,lazyInjectTagged:a,lazyMultiInject:o}}t["default"]=i},AQPS:function(e,t,n){},AVoK:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("Cg3G");r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},AdU9:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("JBE3")),p=r(n("4qC0")),d=r(n("lSCD")),h=r(n("BkRI")),v=n("xp6e"),m=n("z0pJ"),y=n("uhBA"),g=n("VvCl"),b=n("XKfH"),_=n("Taze"),x=n("nagm");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=k();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function O(e,t){if(Array.isArray(t))return t}var T=function(e){(0,s["default"])(n,e);var t=S(n);function n(e,r){var a;return(0,i["default"])(this,n),a=t.call(this),(0,c["default"])((0,o["default"])(a),"data",void 0),(0,c["default"])((0,o["default"])(a),"extent",void 0),(0,c["default"])((0,o["default"])(a),"hooks",{init:new v.SyncHook}),(0,c["default"])((0,o["default"])(a),"parser",{type:"geojson"}),(0,c["default"])((0,o["default"])(a),"transforms",[]),(0,c["default"])((0,o["default"])(a),"cluster",!1),(0,c["default"])((0,o["default"])(a),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),(0,c["default"])((0,o["default"])(a),"mapService",void 0),(0,c["default"])((0,o["default"])(a),"invalidExtent",!1),(0,c["default"])((0,o["default"])(a),"originData",void 0),(0,c["default"])((0,o["default"])(a),"rawData",void 0),(0,c["default"])((0,o["default"])(a),"cfg",{}),(0,c["default"])((0,o["default"])(a),"clusterIndex",void 0),a.originData=e,a.initCfg(r),a.hooks.init.tap("parser",(function(){a.excuteParser()})),a.hooks.init.tap("cluster",(function(){a.initCluster()})),a.hooks.init.tap("transform",(function(){a.executeTrans()})),a.init(),a}return(0,a["default"])(n,[{key:"setData",value:function(e,t){this.rawData=e,this.originData=e,this.initCfg(t),this.init(),this.emit("update")}},{key:"getClusters",value:function(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}},{key:"getClustersLeaves",value:function(e){return this.clusterIndex.getLeaves(e,1/0)}},{key:"updateClusterData",value:function(e){var t=this,n=this.clusterOptions,r=n.method,i=void 0===r?"sum":r,a=n.field,o=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,o.forEach((function(e){e.id||(e.properties.point_count=1)})),(a||(0,d["default"])(i))&&(o=o.map((function(e){var n=e.id;if(n){var r,o=t.clusterIndex.getLeaves(n,1/0),s=o.map((function(e){return e.properties}));if((0,p["default"])(i)&&a){var u=(0,x.getColumn)(s,a);r=_.statMap[i](u)}(0,d["default"])(i)&&(r=i(s)),e.properties.stat=r}else e.properties.point_count=1;return e}))),this.data=(0,g.getParser)("geojson")({type:"FeatureCollection",features:o}),this.executeTrans()}},{key:"getFeatureById",value:function(e){var t=this.parser.type,n=void 0===t?"geojson":t;if("geojson"!==n||this.cluster)return e<this.data.dataArray.length?this.data.dataArray[e]:"null";var r=e<this.originData.features.length?this.originData.features[e]:"null",i=(0,h["default"])(r);if(0!==this.transforms.length){var a=this.data.dataArray.find((function(t){return t._id===e}));i.properties=a}return i}},{key:"getFeatureId",value:function(e,t){var n=this.data.dataArray.find((function(t){return t[e]===name}));return null===n||void 0===n?void 0:n._id}},{key:"destroy",value:function(){this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null}},{key:"caculClusterExtent",value:function(e){var t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=(0,m.padBounds)((0,m.bBoxToBounds)(this.extent),e)),t[0].concat(t[1])}},{key:"initCfg",value:function(e){this.cfg=(0,f["default"])(this.cfg,e,O);var t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=E(E({},this.clusterOptions),t.clusterOptions)))}},{key:"excuteParser",value:function(){var e=this.parser,t=e.type||"geojson",n=(0,g.getParser)(t);this.data=n(this.originData,e),this.extent=(0,m.extent)(this.data.dataArray),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3]}},{key:"executeTrans",value:function(){var e=this,t=this.transforms;t.forEach((function(t){var n=t.type,r=(0,g.getTransform)(n)(e.data,t);Object.assign(e.data,r)}))}},{key:"initCluster",value:function(){if(this.cluster){var e=this.clusterOptions||{};this.clusterIndex=(0,b.cluster)(this.data,e)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),n}(y.EventEmitter);t["default"]=T},Ag8Z:function(e,t,n){var r=n("JC6p"),i=n("EwQA");function a(e,t){return e&&r(e,i(t))}e.exports=a},AnK5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=u(i),o=n("/FUP"),s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=1,h=38,v=40,m=[h,v],y=function(e){return m.indexOf(e)>-1},g=function(e){return Number(String(e).replace(/%/g,""))},b=1,_=t.EditableInput=function(e){function t(e){c(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t=g(e.target.value);if(!isNaN(t)&&y(e.keyCode)){var r=n.getArrowOffset(),i=e.keyCode===h?t+r:t-r;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+b++,n}return p(t,e),r(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return l({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||d}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,s["default"])({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return a["default"].createElement("div",{style:t.wrap},a["default"].createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?a["default"].createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t["default"]=_},AqCL:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},AuVy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.join=s;var i=r(n("lSNA"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n=t.sourceField,r=t.targetField,i=t.data,a={};return i.forEach((function(e){a[e[n]]=e})),e.dataArray=e.dataArray.map((function(e){var t=e[r];return o(o({},e),a[t])})),e}},AwBQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n("MON2"),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(null===t||void 0===t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);if(!this._map["delete"](e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map["delete"](r)}))},e.prototype.hasKey=function(e){if(null===e||void 0===e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},AwgR:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return o(e,a(t),n)}})},B5Mt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n};t["default"]=r},B6y2:function(e,t,n){var r=n("I+eb"),i=n("b1O7").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},B7qF:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=r(n("U+yc")),d=(r(n("1ABj")),r(n("uhBA"))),h=r(n("yLV6")),v=n("4cb6");n("mNvP");var m,y,g,b,_,x=n("0t2r"),w=n("OH7Y");function E(e){var t=S();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var k={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},O=(m=(0,v.injectable)(),y=(0,v.inject)(x.TYPES.IMapService),m((b=function(e){(0,u["default"])(n,e);var t=E(n);function n(){var e;(0,a["default"])(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,i["default"])((0,s["default"])(e),"mapService",_,(0,s["default"])(e)),(0,f["default"])((0,s["default"])(e),"hammertime",void 0),(0,f["default"])((0,s["default"])(e),"lastClickTime",0),(0,f["default"])((0,s["default"])(e),"lastClickXY",[-1,-1]),(0,f["default"])((0,s["default"])(e),"clickTimer",void 0),(0,f["default"])((0,s["default"])(e),"$containter",void 0),(0,f["default"])((0,s["default"])(e),"onDrag",(function(t){var n=e.interactionEvent(t);n.type=k[n.type],e.emit(w.InteractionEvent.Drag,n)})),(0,f["default"])((0,s["default"])(e),"onHammer",(function(t){t.srcEvent.stopPropagation();var n=e.interactionEvent(t);e.emit(w.InteractionEvent.Hover,n)})),(0,f["default"])((0,s["default"])(e),"onTouch",(function(t){var n=t.touches[0];e.onHover({x:n.pageX,y:n.pageY,type:"touch"})})),(0,f["default"])((0,s["default"])(e),"onHover",(function(t){var n=t.clientX,r=t.clientY,i=n,a=r,o=t.type,s=e.mapService.getMapContainer();if(s){var u=s.getBoundingClientRect(),l=u.top,c=u.left;i=i-c-s.clientLeft,a=a-l-s.clientTop}var f=e.mapService.containerToLngLat([i,a]);if("click"!==o)"touch"!==o?"click"!==o&&"dblclick"!==o&&e.emit(w.InteractionEvent.Hover,{x:i,y:a,lngLat:f,type:o,target:t}):e.isDoubleTap(i,a,f);else{if("ontouchstart"in document.documentElement===!0)return;e.isDoubleTap(i,a,f)}})),e}return(0,o["default"])(n,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(w.InteractionEvent.Hover)}},{key:"triggerHover",value:function(e){var t=e.x,n=e.y;this.emit(w.InteractionEvent.Hover,{x:t,y:n})}},{key:"triggerSelect",value:function(e){this.emit(w.InteractionEvent.Select,{featureId:e})}},{key:"triggerActive",value:function(e){this.emit(w.InteractionEvent.Active,{featureId:e})}},{key:"addEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();if(e){var t=new h["default"].Manager(e);t.add(new h["default"].Tap({event:"dblclick",taps:2})),t.add(new h["default"].Tap({event:"click"})),t.add(new h["default"].Pan({threshold:0,pointers:0})),t.add(new h["default"].Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("mousemove",this.onHover),e.addEventListener("mousedown",this.onHover,!0),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t}}},{key:"removeEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(e){var t,n,r=e.type,i=e.pointerType;"touch"===i?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));var a=this.mapService.getMapContainer();if(a){var o=a.getBoundingClientRect(),s=o.top,u=o.left;t-=u,n-=s}var l=this.mapService.containerToLngLat([t,n]);return{x:t,y:n,lngLat:l,type:r,target:e.srcEvent}}},{key:"isDoubleTap",value:function(e,t,n){var r=this,i=(new Date).getTime(),a="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),a="dblclick",this.emit(w.InteractionEvent.Hover,{x:e,y:t,lngLat:n,type:a})):(this.lastClickTime=i,this.lastClickXY=[e,t],this.clickTimer=setTimeout((function(){a="click",r.emit(w.InteractionEvent.Hover,{x:e,y:t,lngLat:n,type:a})}),400))}}]),n}(d["default"]),_=(0,p["default"])(b.prototype,"mapService",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g);t["default"]=O},B8du:function(e,t){function n(){return!1}e.exports=n},BGb9:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("SEBh"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=o(this),n=new(u(t,a("Set")))(t);return l(e,s(n.add),n),n}})},BIHw:function(e,t,n){"use strict";var r=n("I+eb"),i=n("or9q"),a=n("ewvW"),o=n("UMSQ"),s=n("ppGB"),u=n("ZfDv");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},BTho:function(e,t,n){"use strict";var r=n("HAuM"),i=n("hh1v"),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},BVa3:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-dark"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"}),i.a.createElement(o["default"],s["default"]["docs-dark"].previewerProps,i.a.createElement(u,null)))))},"BX/b":function(e,t,n){var r=n("/GqU"),i=n("JBy8").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(r(e))}},BXai:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"attribute",void 0),(0,o["default"])(this,"buffer",void 0);var r=n.buffer,a=n.offset,s=n.stride,u=n.normalized,l=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:a||0,stride:s||0,normalized:u||!1,divisor:c||0},l&&(this.attribute.size=l)}return(0,a["default"])(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}();t["default"]=s},Ba7A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),a=f(i),o=n("/FUP"),s=f(o),u=n("japM"),l=n("Nq3d"),c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var p=13,d=t.Swatch=function(e){var t=e.color,n=e.style,i=e.onClick,o=void 0===i?function(){}:i,u=e.onHover,l=e.title,f=void 0===l?t:l,d=e.children,h=e.focus,v=e.focusStyle,m=void 0===v?{}:v,y="transparent"===t,g=(0,s["default"])({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?m:{})}}),b=function(e){return o(t,e)},_=function(e){return e.keyCode===p&&o(t,e)},x=function(e){return u(t,e)},w={};return u&&(w.onMouseOver=x),a["default"].createElement("div",r({style:g.swatch,onClick:b,title:f,tabIndex:0,onKeyDown:_},w),d,y&&a["default"].createElement(c["default"],{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t["default"]=(0,u.handleFocus)(d)},"Bc+9":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("NMXm")),a=r(n("RN0t")),o=r(n("92R3")),s=r(n("hJqq")),u={heatmap:o["default"],heatmap3d:o["default"],grid:i["default"],grid3d:a["default"],hexagon:s["default"]},l=u;t["default"]=l},BkRI:function(e,t,n){var r=n("OBhP"),i=1,a=4;function o(e){return r(e,i|a)}e.exports=o},Bnag:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},Bs8V:function(e,t,n){var r=n("g6v/"),i=n("0eef"),a=n("XGwC"),o=n("/GqU"),s=n("wE6v"),u=n("UTVS"),l=n("DPsx"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(n){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a3WO");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},BsiK:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("Jwqz")),a=r(n("KYxC")),o=r(n("aI2/")),s=r(n("UkeQ")),u=r(n("3JiE")),l=r(n("jrcR")),c={fill:a["default"],image:s["default"],normal:u["default"],extrude:i["default"],text:l["default"],icon:o["default"]},f=c;t["default"]=f},Bv38:function(e,t,n){},C1JJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!0===n.call(t,e))return s.stop()})).stopped}})},CH3K:function(e,t){function n(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}e.exports=n},CMye:function(e,t,n){var r=n("GoyQ");function i(e){return e===e&&!r(e)}e.exports=i},CStC:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.generateLightingUniforms=y,t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("QILm")),l=r(n("lSNA")),c=n("4cb6");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("mNvP");var d={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},h={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},v={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},m={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function y(e){var t={u_DirectionalLights:new Array(3).fill(p({},v)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(p({},m)),u_NumOfSpotLights:0};return e&&e.length||(e=[h]),e.forEach((function(e,n){var r=e.type,i=void 0===r?"directional":r,a=(0,u["default"])(e,["type"]),o=d[i].lights,s=d[i].num,l=t[s];t[o][l]=p(p({},t[o][l]),a),t[s]++})),t}var g=(i=(0,c.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LightingPlugin",(function(){var t=e.getLayerConfig(),n=t.enableLighting;n&&e.models.forEach((function(e){return e.addUniforms(p({},y()))}))}))}}]),e}())||a);t["default"]=g},CUcw:function(e,t,n){var r=n("Kpgp");function i(t,n){var r=t.geometry,i=r.type;if("LineString"===i)r.coordinates=e.exports.simplify(r.coordinates,n);else if("Polygon"===i||"MultiLineString"===i)for(var a=0;a<r.coordinates.length;a++)r.coordinates[a]=e.exports.simplify(r.coordinates[a],n);else if("MultiPolygon"===i)for(var o=0;o<r.coordinates.length;o++)for(var s=0;s<r.coordinates[o].length;s++)r.coordinates[o][s]=e.exports.simplify(r.coordinates[o][s],n);return t}function a(e,t){for(var n=0;n<e.features.length;n++)e.features[n]=i(e.features[n],t);return e}e.exports=function(e,t,n){return n||(e=JSON.parse(JSON.stringify(e))),e.features?a(e,t):e.type&&"Feature"===e.type?i(e,t):new Error("FeatureCollection or individual Feature required")},e.exports.simplify=function(e,t){return r(e,t)}},CUyW:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("A2ZE"),l=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,e,r(n,e,t))}),void 0,!0,!0),i}})},CZoQ:function(e,t){function n(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}e.exports=n},Caer:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s,u,l,c,f,p,d,h,v=r(n("yG8O")),m=r(n("lwsE")),y=r(n("W8MJ")),g=r(n("lSNA")),b=r(n("U+yc")),_=(r(n("1ABj")),n("gHHc")),x=n("4cb6");n("mNvP");var w=(i=(0,x.injectable)(),a=(0,x.inject)(_.TYPES.ICameraService),o=(0,x.inject)(_.TYPES.ICoordinateSystemService),s=(0,x.inject)(_.TYPES.IRendererService),u=(0,x.inject)(_.TYPES.IMapService),i((c=function(){function e(){(0,m["default"])(this,e),(0,v["default"])(this,"cameraService",f,this),(0,v["default"])(this,"coordinateSystemService",p,this),(0,v["default"])(this,"rendererService",d,this),(0,v["default"])(this,"mapService",h,this)}return(0,y["default"])(e,[{key:"apply",value:function(e){var t=this,n=this.mapService.version,r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i=[0,0];e.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){t.coordinateSystemService.refresh(),"GAODE2.x"===n&&(r=t.mapService.map.customCoords.getMVPMatrix(),i=t.mapService.getCustomCoordCenter());var a=t.rendererService.getViewportSize(),o=a.width,s=a.height;e.models.forEach((function(n){var a;n.addUniforms((a={},(0,g["default"])(a,_.CameraUniform.ProjectionMatrix,t.cameraService.getProjectionMatrix()),(0,g["default"])(a,_.CameraUniform.ViewMatrix,t.cameraService.getViewMatrix()),(0,g["default"])(a,_.CameraUniform.ViewProjectionMatrix,t.cameraService.getViewProjectionMatrix()),(0,g["default"])(a,_.CameraUniform.Zoom,t.cameraService.getZoom()),(0,g["default"])(a,_.CameraUniform.ZoomScale,t.cameraService.getZoomScale()),(0,g["default"])(a,_.CameraUniform.FocalDistance,t.cameraService.getFocalDistance()),(0,g["default"])(a,_.CameraUniform.CameraPosition,t.cameraService.getCameraPosition()),(0,g["default"])(a,_.CoordinateUniform.CoordinateSystem,t.coordinateSystemService.getCoordinateSystem()),(0,g["default"])(a,_.CoordinateUniform.ViewportCenter,t.coordinateSystemService.getViewportCenter()),(0,g["default"])(a,_.CoordinateUniform.ViewportCenterProjection,t.coordinateSystemService.getViewportCenterProjection()),(0,g["default"])(a,_.CoordinateUniform.PixelsPerDegree,t.coordinateSystemService.getPixelsPerDegree()),(0,g["default"])(a,_.CoordinateUniform.PixelsPerDegree2,t.coordinateSystemService.getPixelsPerDegree2()),(0,g["default"])(a,_.CoordinateUniform.PixelsPerMeter,t.coordinateSystemService.getPixelsPerMeter()),(0,g["default"])(a,_.CoordinateUniform.Mvp,r),(0,g["default"])(a,"u_SceneCenterMKT",i),(0,g["default"])(a,"u_ViewportSize",[o,s]),(0,g["default"])(a,"u_DevicePixelRatio",window.devicePixelRatio),(0,g["default"])(a,"u_ModelMatrix",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),(0,g["default"])(a,"u_PickingBuffer",e.getLayerConfig().pickingBuffer||0),a))}))}))}}]),e}(),f=(0,b["default"])(c.prototype,"cameraService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,b["default"])(c.prototype,"coordinateSystemService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,b["default"])(c.prototype,"rendererService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,b["default"])(c.prototype,"mapService",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c))||l);t["default"]=w},Cg3G:function(e,t,n){"use strict";var r=n("glrk"),i=n("HAuM");e.exports=function(){for(var e,t=r(this),n=i(t["delete"]),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},ClmI:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-drilldown-1"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"}),i.a.createElement(o["default"],s["default"]["docs-drilldown-1"].previewerProps,i.a.createElement(u,null)))))},Co1j:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM"),s=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!1===n.call(t,e))return s.stop()})).stopped}})},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");function a(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=a},CyXQ:function(e,t,n){var r=n("ppGB"),i=n("UMSQ");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"D+bL":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"},i.a.createElement(a["AnchorLink"],{to:"#\u4e94\u79cd\u5730\u56fe\u7c7b\u578b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"),i.a.createElement("ul",null,i.a.createElement("li",null,"WorldLayer \u4e16\u754c\u5730\u56fe"),i.a.createElement("li",null,"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"),i.a.createElement("li",null,"ProvinceLayer \u7701\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CityLayer \u5e02\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CountyLayer \u53bf\u7ea7\u5730\u56fe")),i.a.createElement("h2",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"scene L7 scene \u5bf9\u8c61")),i.a.createElement("li",null,i.a.createElement("p",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"zIndex \u56fe\u5c42\u7ed8\u5236\u987a\u5e8f")),i.a.createElement("li",null,i.a.createElement("p",null,"data ",i.a.createElement("code",null,"Array")," \u5c5e\u6027\u6570\u636e\u7528\u4e8e\u53ef\u89c6\u5316\u6e32\u67d3")),i.a.createElement("li",null,i.a.createElement("p",null,"visible \u5730\u56fe\u662f\u5426\u53ef\u89c1")),i.a.createElement("li",null,i.a.createElement("p",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d")),i.a.createElement("li",null,i.a.createElement("p",null,"depth \u6570\u636e\u663e\u793a\u5c42\u7ea7 0\uff1a\u56fd\u5bb6\u7ea7\uff0c1:\u7701\u7ea7\uff0c2: \u5e02\u7ea7\uff0c3\uff1a\u53bf\u7ea7")),i.a.createElement("li",null,i.a.createElement("p",null,"showBorder ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u56fd\u754c\u7ebf\uff0c\u9ed8\u8ba4\u663e\u793a\uff0c\u4e0d\u5efa\u8bae\u4e0d\u663e\u793a")),i.a.createElement("li",null,i.a.createElement("p",null,"simplifyTolerance \u6570\u636e\u62bd\u7a00\u5bb9\u5dee,\u9ed8\u8ba4\u4e0d\u62bd\u7a00 ",i.a.createElement("code",null,"boolean | number")," \u5355\u4f4d\u4e3a\u5ea6\uff0c\u4e00\u5ea6\u7ea6 111km\uff0c\u6570\u5b57\u8d8a\u5927\u7cbe\u5ea6\u8d8a\u4f4e\u3002\u53c2\u8003\u8bbe\u7f6e\u6570\u636e 0.01")),i.a.createElement("li",null,i.a.createElement("p",null,"label \u6807\u6ce8\u914d\u7f6e\u9879 \u652f\u6301\u5e38\u91cf\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6807\u6ce8"),i.a.createElement("li",null,"color \u6807\u6ce8\u5b57\u4f53\u989c\u8272 \u5e38\u91cf"),i.a.createElement("li",null,"field \u6807\u6ce8\u5b57\u6bb5 \u5e38\u91cf"),i.a.createElement("li",null,"size \u6807\u6ce8\u5927\u5c0f \u5e38\u91cf"),i.a.createElement("li",null,"stroke \u6587\u5b57\u63cf\u8fb9\u989c\u8272"),i.a.createElement("li",null,"strokeWidth \u6587\u5b57\u63cf\u8fb9\u5bbd\u5ea6"),i.a.createElement("li",null,"textAllowOverlap \u662f\u5426\u5141\u8bb8\u6587\u5b57\u538b\u76d6"),i.a.createElement("li",null,"opacity \u6807\u6ce8\u900f\u660e\u5ea6"))),i.a.createElement("li",null,i.a.createElement("p",null,"fill \u586b\u5145\u914d\u7f6e\u9879 \u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"color \u56fe\u5c42\u586b\u5145\u989c\u8272\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u5e38\u91cf\uff1a\u7edf\u4e00\u8bbe\u7f6e\u6210\u4e00\u6837\u7684\u989c\u8272 \u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"field \u586b\u5145\u6620\u5c04\u5b57\u6bb5"),i.a.createElement("li",null,"values \u6620\u5c04\u503c\uff0c\u540c color \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570"))),i.a.createElement("li",null,"style \u540c polygonLayer \u7684 style \u65b9\u6cd5"),i.a.createElement("li",null,"activeColor \u9f20\u6807\u6ed1\u8fc7\u9ad8\u4eae\u989c\u8272"))),i.a.createElement("li",null,i.a.createElement("p",null,"bubble \u6c14\u6ce1\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 default false"),i.a.createElement("li",null,"color \u6c14\u6ce1\u989c\u8272 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size \u6c14\u6ce1\u5927\u5c0f \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"shape \u6c14\u6ce1\u5f62\u72b6 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"style \u6c14\u6ce1\u56fe\u6837\u5f0f \u540c PointLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"stroke \u586b\u5145\u63cf\u8fb9\u989c\u8272 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"strokeWidth \u586b\u5145\u63cf\u8fb9\u5bbd\u5ea6 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"autoFit \u662f\u5426\u81ea\u52a8\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4 ",i.a.createElement("code",null,"boolean"))),i.a.createElement("li",null,i.a.createElement("p",null,"popup \u4fe1\u606f\u7a97\u53e3")),i.a.createElement("li",null,i.a.createElement("p",null,"openTriggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';")),i.a.createElement("li",null,i.a.createElement("p",null,"closeTriggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';")),i.a.createElement("li",null,i.a.createElement("p",null,"enable \u662f\u5426\u5f00\u542f ",i.a.createElement("code",null,"boolean"))),i.a.createElement("li",null,i.a.createElement("p",null,"triggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';")),i.a.createElement("li",null,i.a.createElement("p",null,"Html popup html \u5b57\u7b26\u4e32\uff0c\u652f\u6301\u56de\u8c03\u51fd\u6570 (properties: any) => string;")),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalWidth \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalStroke \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStroke \u7701\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth= 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth = 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStroke \u5e02\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStrokeWidth \u5e02\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2 \u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStroke \u53bf\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStrokeWidth \u53bf\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548")))))),i.a.createElement("p",null,"\u26d4 ProvinceLayer, CityLayer, CountyLayer \u5982\u9700\u8981\u8bbe\u7f6e\u63cf\u8fb9\u989c\u8272\uff0c\u5bbd\u5ea6\u4f7f\u7528 storke,strokeWidth \u914d\u7f6e\u3002"),i.a.createElement("h3",{id:"\u6570\u636e"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e"),i.a.createElement("p",null,"District \u63d0\u4f9b polygon \u6570\u636e\u9700\u8981\u8ddf\u7528\u6237\u7684\u5c5e\u6027\u6570\u636e\uff0c\u901a\u8fc7\u5173\u7cfb\u5b57\u6bb5\u8fdb\u884c\u8fde\u63a5"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/b6fcd072-72a7-4875-8e05-9652ffc977d9.csv"},"\u56fd\u5bb6\u540d\u79f0\u5bf9\u7167\u8868"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/2aa6fb7b-3694-4df3-b601-6f6f9adac496.csv"},"\u7701\u7ea7\u884c\u653f\u540d\u79f0",i.a.createElement("em",null,"adcode"),"\u5bf9\u7167\u8868.csv"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/d2aefd78-f5df-486f-9310-7449cc7f5569.csv"},"\u5e02\u7ea7\u884c\u653f\u533a\u5212\u53ca\u7f16\u7801"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/fafd299e-0e1e-4fa2-a8ac-10a984c6e983.csv"},"\u53bf\u7ea7\u884c\u653f\u533a\u540d\u79f0\u7ea7\u7f16\u7801")))),i.a.createElement("h3",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u884c\u653f\u533a\u5212\u7ec4\u4ef6\u6bcf\u4e2a\u56fe\u5c42\u6709\u591a\u4e2a\u5b50\u56fe\u5c42\u7ec4\u6210\uff0c \u5982\u6807\u6ce8\u5c42\uff0c\u56fd\u754c\u7ebf\u3001\u7701\u754c\u7ebf\u7b49\u7b49\uff0c"),i.a.createElement("h4",{id:"filllayer"},i.a.createElement(a["AnchorLink"],{to:"#filllayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fillLayer"),i.a.createElement("p",null,"\u5404\u7701\u4efd\u989c\u8272\u586b\u5145\u56fe\u5c42\uff0c\u7528\u4e8e\u8bbe\u7f6e\u5404\u7701\u4efd\u586b\u5145\u989c\u8272\u3002 \u56fe\u5c42\u4e8b\u4ef6\u53ef\u4ee5\u901a\u8fc7\u8be5\u5c5e\u6027\u8fdb\u884c\u8bbe\u7f6e"),i.a.createElement("h4",{id:"labellayer"},i.a.createElement(a["AnchorLink"],{to:"#labellayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"labelLayer"),i.a.createElement("p",null,"\u6807\u6ce8\u56fe\u5c42\uff0c\u663e\u793a\u56fe\u5c42\u7684\u6807\u6ce8"),i.a.createElement("h4",{id:"linelayer"},i.a.createElement(a["AnchorLink"],{to:"#linelayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"lineLayer"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5c42\u7684\u989c\u8272"),i.a.createElement("h3",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h4",{id:"updatedatadata-joinby"},i.a.createElement(a["AnchorLink"],{to:"#updatedatadata-joinby","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData(data, joinBy)"),i.a.createElement("p",null,"\u66f4\u65b0\u663e\u793a\u6570\u636e\uff0c"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"data \u9700\u8981\u66f4\u65b0\u7684\u6570\u636e"),i.a.createElement("li",null,"joinBy \u5173\u8054\u5b57\u6bb5 \u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u4fdd\u6301\u548c\u521d\u59cb\u5316\u4e00\u81f4\u3002")),i.a.createElement("h3",{id:"getfilldata"},i.a.createElement(a["AnchorLink"],{to:"#getfilldata","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"getFillData"),i.a.createElement("p",null,"\u83b7\u53d6\u586b\u5145\u6570\u636e\uff0c\u53ef\u7528\u4e8e\u7ed8\u5236\u72ec\u7acb\u7684\u8fb9\u754c\u7ebf"),i.a.createElement("h4",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5c42"),i.a.createElement("h4",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u56fe\u5c42\u9690\u85cf\u4e0d\u663e\u793a"),i.a.createElement("h4",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"))))},D3zA:function(e,t,n){"use strict";var r=n("aI7X");e.exports=Function.prototype.bind||r},D9lx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n("6AGu"),i=n("406g"),a=n("z4Hk"),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new a.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=o},DA4O:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-fillcolor"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49"},i.a.createElement(a["AnchorLink"],{to:"#\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49"),i.a.createElement("p",null,"\u7ecf\u5e38\u4f1a\u5b58\u5728\u6839\u636e\u6570\u503c\u5bf9\u4e0d\u540c\u533a\u5757\u7ed9\u51fa\u4e0d\u540c\u7684\u989c\u8272\uff0c\u53ef\u4ee5\u4f7f\u7528",i.a.createElement("code",null,"joinBy"),"\u548c",i.a.createElement("code",null,"fill"),"\u5b9e\u73b0\u3002"),i.a.createElement("ul",null,i.a.createElement("li",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c06\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d"),i.a.createElement("li",null,"fill \u586b\u5145\u914d\u7f6e\u9879 \u652f\u6301\u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"color \u56fe\u5c42\u586b\u5145\u989c\u8272\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u5e38\u91cf\uff1a\u7edf\u4e00\u8bbe\u7f6e\u6210\u4e00\u6837\u7684\u989c\u8272 \u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"field \u586b\u5145\u6620\u5c04\u5b57\u6bb5"),i.a.createElement("li",null,"values \u6620\u5c04\u503c\uff0c\u540c color \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570"))),i.a.createElement("li",null,"style \u540c polygonLayer \u7684 style \u65b9\u6cd5"),i.a.createElement("li",null,"activeColor \u9f20\u6807\u6ed1\u8fc7\u9ad8\u4eae\u989c\u8272")))),i.a.createElement("p",null,"\u4f8b\u5982\uff1a\u676d\u5dde\u5e02\u5404\u533a\u4eba\u53e3\u5bc6\u5ea6")),i.a.createElement(o["default"],s["default"]["docs-fillcolor"].previewerProps,i.a.createElement(u,null)))))},DD0s:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("gHHc"),c=n("z0pJ"),f=r(n("YenN")),p=n("kIOg");function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v='uniform float u_opacity: 1.0;\nuniform vec4 u_baseColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_brightColor : [ 1.0, 0, 0, 1.0 ];\nuniform vec4 u_windowColor : [ 1.0, 0, 0, 1.0 ];\nuniform float u_near : 0;\nuniform float u_far : 1;\nvarying vec4 v_Color;\nvarying vec2 v_texCoord;\nuniform float u_Zoom : 1;\nuniform float u_time;\n\n#pragma include "picking"\n\nvec3 getWindowColor(float n, float hot, vec3 brightColor, vec3 darkColor) {\n    float s = step(hot, n);\n    vec3 color = mix(brightColor,vec3(0.9,0.9,1.0),n);\n\n    return mix(darkColor, color, s);\n}\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat LinearizeDepth()\n{\n    float z = gl_FragCoord.z * 2.0 - 1.0;\n    return (2.0 * u_near * u_far) / (u_far + u_near - z * (u_far - u_near));\n}\n\nvec3 fog(vec3 color, vec3 fogColor, float depth){\n    float fogFactor=clamp(depth,0.0,1.0);\n    vec3 output_color=mix(fogColor,color,fogFactor);\n    return output_color;\n}\n\nfloat sdRect(vec2 p, vec2 sz) {\n  vec2 d = abs(p) - sz;\n  float outside = length(max(d, 0.));\n  float inside = min(max(d.x, d.y), 0.);\n  return outside + inside;\n}\n\nvoid main() {\n  gl_FragColor = v_Color;\n  vec3 baseColor = u_baseColor.xyz;\n  vec3 brightColor = u_brightColor.xyz;\n  vec3 windowColor = u_windowColor.xyz;\n  float targetColId = 5.;\n  float depth = 1.0 - LinearizeDepth() / u_far * u_Zoom;\n  vec3 fogColor = vec3(23.0/255.0,31.0/255.0,51.0/255.0);\n  if(v_texCoord.x < 0.) { //\u9876\u90e8\u989c\u8272\n       vec3 foggedColor = fog(baseColor.xyz + vec3(0.12*0.9,0.2*0.9,0.3*0.9),fogColor,depth);\n       gl_FragColor = vec4( foggedColor, v_Color.w);\n  }else { // \u4fa7\u9762\u989c\u8272\n        vec2 st = v_texCoord;\n        vec2  UvScale = v_texCoord;\n        float tStep = min(0.08,max(0.05* (18.0-u_Zoom),0.02));\n        float tStart = 0.25 * tStep;\n        float tEnd = 0.75 * tStep;\n        float u = mod(UvScale.x, tStep);\n        float v = mod(UvScale.y, tStep);\n        float ux = floor(UvScale.x/tStep);\n        float uy = floor(UvScale.y/tStep);\n        float n = random(vec2(ux,uy));\n        float lightP = u_time;\n        float head = 1.0- step(0.005,st.y);\n        /*step3*/\n        // \u5c06\u7a97\u6237\u989c\u8272\u548c\u5899\u9762\u989c\u8272\u533a\u522b\u5f00\u6765\n        float sU = step(tStart, u) - step(tEnd, u);\n        float sV = step(tStart, v) - step(tEnd, v);\n        vec2 windowSize = vec2(abs(tEnd-tStart),abs(tEnd-tStart));\n        float dist = sdRect(vec2(u,v), windowSize);\n        float s = sU * sV;\n\n        float curColId = floor(UvScale.x / tStep);\n        float sCol = step(targetColId - 0.2, curColId) - step(targetColId + 0.2, curColId);\n\n        float mLightP = mod(lightP, 2.);\n        float sRow = step(mLightP - 0.2, st.y) - step(mLightP, st.y);\n        if(ux == targetColId){\n            n =0.;\n        }\n        float timeP = min(0.75, abs ( sin(u_time/3.0) ) );\n        float hot = smoothstep(1.0,0.0,timeP);\n        vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), s);\n        //vec3 color = mix(baseColor, getWindowColor(n,hot,brightColor,windowColor), 1.0);\n        float sFinal = s * sCol * sRow;\n        color += mix(baseColor, brightColor, sFinal*n);\n        if (st.y<0.01){\n        color = baseColor;\n         }\n        if(head ==1.0) { // \u9876\u90e8\u4eae\u7ebf\n            color = brightColor;\n        }\n        color = color * v_Color.rgb;\n\n        vec3 foggedColor = fog(color,fogColor,depth);\n\n        gl_FragColor = vec4(foggedColor,1.0);\n  }\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n\nvarying vec4 v_Color;\nuniform mat4 u_Mvp;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n   v_texCoord = a_Uv;\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',y=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.baseColor,i=void 0===r?"rgb(16,16,16)":r,a=e.brightColor,o=void 0===a?"rgb(255,176,38)":a,s=e.windowColor,u=void 0===s?"rgb(30,60,89)":s,l=e.time,f=void 0===l?0:l;return{u_opacity:n,u_baseColor:(0,c.rgb2arr)(i),u_brightColor:(0,c.rgb2arr)(o),u_windowColor:(0,c.rgb2arr)(u),u_time:this.layer.getLayerAnimateTime()||f}}},{key:"initModels",value:function(){return this.startModelAnimate(),[this.layer.buildLayerModel({moduleName:"cityBuilding",vertexShader:m,fragmentShader:v,triangulation:p.PolygonExtrudeTriangulation})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:l.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:l.gl.STATIC_DRAW,data:[],type:l.gl.FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:l.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?10:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:l.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:2,update:function(e,t,n,r){e.size;return[n[3],n[4]]}}})}}]),n}(f["default"]);t["default"]=y},DEfu:function(e,t,n){var r=n("2oRo"),i=n("1E5z");i(r.JSON,"JSON",!0)},DMt2:function(e,t,n){var r=n("UMSQ"),i=n("EUja"),a=n("HYAF"),o=Math.ceil,s=function(e){return function(t,n,s){var u,l,c=String(a(t)),f=c.length,p=void 0===s?" ":String(s),d=r(n);return d<=f||""==p?c:(u=d-f,l=i.call(p,o(u/p.length)),l.length>u&&(l=l.slice(0,u)),e?c+l:l+c)}};e.exports={start:s(!1),end:s(!0)}},DPsx:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),a=n("zBJ4");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},DSFK:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},DSRE:function(e,t,n){(function(e){var r=n("Kz5y"),i=n("B8du"),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||i;e.exports=c}).call(this,n("hOG+")(e))},DTth:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),a=n("xDBR"),o=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},DhMN:function(e,t,n){n("ofBz")},"Dno/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("Yr5f")),u=n("VVEm"),l=r(n("qXrd")),c=4.000244140625,f=.01,p=1/450,d=2,h=function(){function e(t,n){var r=this;(0,i["default"])(this,e),(0,o["default"])(this,"map",void 0),(0,o["default"])(this,"el",void 0),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"zooming",void 0),(0,o["default"])(this,"aroundCenter",void 0),(0,o["default"])(this,"around",void 0),(0,o["default"])(this,"aroundPoint",void 0),(0,o["default"])(this,"type",void 0),(0,o["default"])(this,"lastValue",void 0),(0,o["default"])(this,"timeout",void 0),(0,o["default"])(this,"finishTimeout",void 0),(0,o["default"])(this,"lastWheelEvent",void 0),(0,o["default"])(this,"lastWheelEventTime",void 0),(0,o["default"])(this,"startZoom",void 0),(0,o["default"])(this,"targetZoom",void 0),(0,o["default"])(this,"delta",void 0),(0,o["default"])(this,"easing",void 0),(0,o["default"])(this,"prevEase",void 0),(0,o["default"])(this,"frameId",void 0),(0,o["default"])(this,"handler",void 0),(0,o["default"])(this,"defaultZoomRate",void 0),(0,o["default"])(this,"wheelZoomRate",void 0),(0,o["default"])(this,"onScrollFrame",(function(){if(r.frameId&&(r.frameId=null,r.isActive())){var e=r.map.transform;if(0!==r.delta){var t="wheel"===r.type&&Math.abs(r.delta)>c?r.wheelZoomRate:r.defaultZoomRate,n=d/(1+Math.exp(-Math.abs(r.delta*t)));r.delta<0&&0!==n&&(n=1/n);var i="number"===typeof r.targetZoom?e.zoomScale(r.targetZoom):e.scale;r.targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(i*n))),"wheel"===r.type&&(r.startZoom=e.zoom,r.easing=r.smoothOutEasing(200)),r.delta=0}var a,o="number"===typeof r.targetZoom?r.targetZoom:e.zoom,s=r.startZoom,l=r.easing,f=!1;if("wheel"===r.type&&s&&l){var p=Math.min(((0,u.now)()-r.lastWheelEventTime)/200,1),h=l(p);a=(0,u.interpolate)(s,o,h),p<1?r.frameId||(r.frameId=!0):f=!0}else a=o,f=!0;return r.active=!0,f&&(r.active=!1,r.finishTimeout=setTimeout((function(){r.zooming=!1,r.handler.triggerRenderFrame(),delete r.targetZoom,delete r.finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!f,zoomDelta:a-e.zoom,around:r.aroundPoint,originalEvent:r.lastWheelEvent}}})),this.map=t,this.el=t.getCanvasContainer(),this.handler=n,this.delta=0,this.defaultZoomRate=f,this.wheelZoomRate=p}return(0,a["default"])(e,[{key:"setZoomRate",value:function(e){this.defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this.wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this.enabled}},{key:"isActive",value:function(){return!!this.active||void 0!==this.finishTimeout}},{key:"isZooming",value:function(){return!!this.zooming}},{key:"enable",value:function(e){this.isEnabled()||(this.enabled=!0,this.aroundCenter=e&&"center"===e.around)}},{key:"disable",value:function(){this.isEnabled()&&(this.enabled=!1)}},{key:"wheel",value:function(e){if(this.isEnabled()){var t=e.deltaMode===window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,n=(0,u.now)(),r=n-(this.lastWheelEventTime||0);this.lastWheelEventTime=n,0!==t&&t%c===0?this.type="wheel":0!==t&&Math.abs(t)<4?this.type="trackpad":r>400?(this.type=null,this.lastValue=t,this.timeout=setTimeout(this.onTimeout,40,e)):this.type||(this.type=Math.abs(r*t)<200?"trackpad":"wheel",this.timeout&&(clearTimeout(this.timeout),this.timeout=null,t+=this.lastValue)),e.shiftKey&&t&&(t/=4),this.type&&(this.lastWheelEvent=e,this.delta-=t,this.active||this.start(e)),e.preventDefault()}}},{key:"renderFrame",value:function(){return this.onScrollFrame()}},{key:"reset",value:function(){this.active=!1}},{key:"onTimeout",value:function(e){this.type="wheel",this.delta-=this.lastValue,this.active||this.start(e)}},{key:"start",value:function(e){if(this.delta){this.frameId&&(this.frameId=null),this.active=!0,this.isZooming()||(this.zooming=!0),this.finishTimeout&&(clearTimeout(this.finishTimeout),delete this.finishTimeout);var t=l["default"].mousePos(this.el,e);this.around=s["default"].convert(this.aroundCenter?this.map.getCenter():this.map.unproject(t)),this.aroundPoint=this.map.transform.locationPoint(this.around),this.frameId||(this.frameId=!0,this.handler.triggerRenderFrame())}}},{key:"smoothOutEasing",value:function(e){var t=u.ease;if(this.prevEase){var n=this.prevEase,r=((0,u.now)()-n.start)/n.duration,i=n.easing(r+.01)-n.easing(r),a=.27/Math.sqrt(i*i+1e-4)*.01,o=Math.sqrt(.0729-a*a);t=(0,u.bezier)(a,o,.25,1)}return this.prevEase={start:(0,u.now)(),duration:e,easing:t},t}}]),e}(),v=h;t["default"]=v},DrvE:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),a=n("0GbY"),o=n("8GlL"),s=n("5mdu"),u=n("ImZN"),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,f=s((function(){var n=i(t.resolve),o=[],s=0,f=1,p=!1;u(e,(function(e){var i=s++,u=!1;o.push(void 0),f++,n.call(t,e).then((function(e){u||p||(p=!0,r(e))}),(function(e){u||p||(u=!0,o[i]=e,--f||c(new(a("AggregateError"))(o,l)))}))})),--f||c(new(a("AggregateError"))(o,l))}));return f.error&&c(f.value),n.promise}})},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");function a(e,t){return e&&r(t,i(t),e)}e.exports=a},Dxau:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.calculteCentroid=a;var i=r(n("UB5X"));function a(e){if((0,i["default"])(e[0]))return e;if((0,i["default"])(e[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if((0,i["default"])(e[0][0][0])){var t=e,n=0,r=0,a=0;return t.forEach((function(e){e.forEach((function(e){n+=e[0],r+=e[1],a++}))})),[n/a,r/a,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}},DzJC:function(e,t,n){var r=n("sEfC"),i=n("GoyQ"),a="Expected a function";function o(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}e.exports=o},E0Ze:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("VVEm"),u=r(n("f1zB")),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if((0,i["default"])(this,e),(0,o["default"])(this,"top",void 0),(0,o["default"])(this,"bottom",void 0),(0,o["default"])(this,"left",void 0),(0,o["default"])(this,"right",void 0),isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0||isNaN(a)||a<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=n,this.left=r,this.right=a}return(0,a["default"])(e,[{key:"interpolate",value:function(e,t,n){return null!=t.top&&null!=e.top&&(this.top=(0,s.interpolate)(e.top,t.top,n)),null!=t.bottom&&null!=e.bottom&&(this.bottom=(0,s.interpolate)(e.bottom,t.bottom,n)),null!=t.left&&null!=e.left&&(this.left=(0,s.interpolate)(e.left,t.left,n)),null!=t.right&&null!=e.right&&(this.right=(0,s.interpolate)(e.right,t.right,n)),this}},{key:"getCenter",value:function(e,t){var n=(0,s.clamp)((this.left+e-this.right)/2,0,e),r=(0,s.clamp)((this.top+t-this.bottom)/2,0,t);return new u["default"](n,r)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new e(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),e}();t["default"]=l},E2Kq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("QILm")),o=r(n("yXPU")),s=r(n("yG8O")),u=r(n("lwsE")),l=r(n("W8MJ")),c=r(n("lSNA")),f=r(n("U+yc")),p=(r(n("1ABj")),n("gHHc")),d=n("z0pJ"),h=n("IOcx"),v=n("4cb6"),m=r(n("4ZJM"));n("mNvP");var y,g,b,_,x,w,E,S,k,O,T,C=n("MC4F"),A=r(n("YOfZ")),M=n("sc6S");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}R(".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=m["default"];var j={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},L=0,N=12,D="pk.eyJ1IjoibHp4dWUiLCJhIjoiY2tvaWZuM2s4MWZuYjJ1dHI5ZGduYTlrdiJ9.DQCfMRbZzx0VSwecQ69McA",F=(y=(0,v.injectable)(),g=(0,v.inject)(p.TYPES.MapConfig),b=(0,v.inject)(p.TYPES.IGlobalConfigService),_=(0,v.inject)(p.TYPES.ICoordinateSystemService),x=(0,v.inject)(p.TYPES.IEventEmitter),y((E=function(){function e(){var t=this;(0,u["default"])(this,e),(0,c["default"])(this,"version",C.Version.MAPBOX),(0,c["default"])(this,"map",void 0),(0,s["default"])(this,"config",S,this),(0,s["default"])(this,"configService",k,this),(0,s["default"])(this,"coordinateSystemService",O,this),(0,s["default"])(this,"eventEmitter",T,this),(0,c["default"])(this,"viewport",void 0),(0,c["default"])(this,"markerContainer",void 0),(0,c["default"])(this,"cameraChangedCallback",void 0),(0,c["default"])(this,"$mapContainer",void 0),(0,c["default"])(this,"handleCameraChanged",(function(){var e=t.map.getCenter().wrap(),n=e.lat,r=e.lng;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0});var i=t.config.offsetZoom,a=void 0===i?N:i;t.viewport.getZoom()>a?t.coordinateSystemService.setCoordinateSystem(p.CoordinateSystem.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(p.CoordinateSystem.LNGLAT),t.cameraChangedCallback(t.viewport)}))}return(0,l["default"])(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=d.DOM.create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==p.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(j[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(j[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(e,t){this.map.zoomIn(e,t)}},{key:"zoomOut",value:function(e,t){this.map.zoomOut(e,t)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.rotateEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(e){this.map.setStyle(this.getMapStyle(e))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),r=n.x,i=void 0===r?0:r,a=n.y,o=void 0===a?0:a,s=n.z,u=void 0===s?0:s;return{x:i,y:o,z:u}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},a=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),o=a.meterInMercatorCoordinateUnits(),s=h.mat4.create();return h.mat4.translate(s,s,h.vec3.fromValues(a.x-i.x,a.y-i.y,a.z||0-i.z)),h.mat4.scale(s,s,h.vec3.fromValues(o*r[0],-o*r[1],o*r[2])),h.mat4.rotateX(s,s,n[0]),h.mat4.rotateY(s,s,n[1]),h.mat4.rotateZ(s,s,n[2]),s}},{key:"init",value:function(){var e=(0,o["default"])(i["default"].mark((function e(){var t,n,r,o,s,u,l,c,f,p,d,h,v;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,o=t.attributionControl,s=void 0!==o&&o,u=t.style,l=void 0===u?"light":u,c=t.token,f=void 0===c?D:c,p=t.rotation,d=void 0===p?0:p,h=t.mapInstance,v=(0,a["default"])(t,["id","attributionControl","style","token","rotation","mapInstance"]),this.viewport=new A["default"],h||window.mapboxgl||console.error(this.configService.getSceneWarninfo("SDK")),f!==D||"blank"===l||window.mapboxgl.accessToken||h||console.warn(this.configService.getSceneWarninfo("MapToken")),h||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=f),h?(this.map=h,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new window.mapboxgl.Map(I({container:this.$mapContainer,style:this.getMapStyle(l),attributionControl:s,bearing:d},v))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas(),n="jpg"===e?null===t||void 0===t?void 0:t.toDataURL("image/jpeg"):null===t||void 0===t?void 0:t.toDataURL("image/png");return n}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;"string"===typeof e&&(t=document.getElementById(e));var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      top: 0;\n      height: 100%;\n      width: 100%;\n    ",n.id="l7_mapbox_div"+L++,t.appendChild(n),n}},{key:"getMapStyle",value:function(e){return"string"!==typeof e?e:M.MapTheme[e]?M.MapTheme[e]:e}}]),e}(),S=(0,f["default"])(E.prototype,"config",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,f["default"])(E.prototype,"configService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,f["default"])(E.prototype,"coordinateSystemService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,f["default"])(E.prototype,"eventEmitter",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=E))||w);t["default"]=F},E2jh:function(e,t,n){var r=n("2gN3"),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a(e){return!!i&&i in e}e.exports=a},E2zX:function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,v="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,y=v||m||Function("return this")();function g(e,t){return null==e?void 0:e[t]}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var _=Array.prototype,x=Function.prototype,w=Object.prototype,E=y["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=x.toString,O=w.hasOwnProperty,T=w.toString,C=RegExp("^"+k.call(O).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=y.Symbol,M=_.splice,P=ie(y,"Map"),I=ie(Object,"create"),R=A?A.prototype:void 0,j=R?R.toString:void 0;function L(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function N(){this.__data__=I?I(null):{}}function D(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(I){var n=t[e];return n===r?void 0:n}return O.call(t,e)?t[e]:void 0}function z(e){var t=this.__data__;return I?void 0!==t[e]:O.call(t,e)}function B(e,t){var n=this.__data__;return n[e]=I&&void 0===t?r:t,this}function U(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function V(){this.__data__=[]}function H(e){var t=this.__data__,n=$(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():M.call(t,n,1),!0}function W(e){var t=this.__data__,n=$(t,e);return n<0?void 0:t[n][1]}function q(e){return $(this.__data__,e)>-1}function G(e,t){var n=this.__data__,r=$(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function Z(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Y(){this.__data__={hash:new L,map:new(P||U),string:new L}}function X(e){return re(this,e)["delete"](e)}function K(e){return re(this,e).get(e)}function J(e){return re(this,e).has(e)}function Q(e,t){return re(this,e).set(e,t),this}function $(e,t){var n=e.length;while(n--)if(pe(e[n][0],t))return n;return-1}function ee(e){if(!ve(e)||se(e))return!1;var t=he(e)||b(e)?C:h;return t.test(ce(e))}function te(e){if("string"==typeof e)return e;if(ye(e))return j?j.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ne(e){return de(e)?e:ue(e)}function re(e,t){var n=e.__data__;return oe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ie(e,t){var n=g(e,t);return ee(n)?n:void 0}function ae(e,t){if(de(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ye(e))||(l.test(e)||!u.test(e)||null!=t&&e in Object(t))}function oe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function se(e){return!!S&&S in e}L.prototype.clear=N,L.prototype["delete"]=D,L.prototype.get=F,L.prototype.has=z,L.prototype.set=B,U.prototype.clear=V,U.prototype["delete"]=H,U.prototype.get=W,U.prototype.has=q,U.prototype.set=G,Z.prototype.clear=Y,Z.prototype["delete"]=X,Z.prototype.get=K,Z.prototype.has=J,Z.prototype.set=Q;var ue=fe((function(e){e=ge(e);var t=[];return c.test(e)&&t.push(""),e.replace(f,(function(e,n,r,i){t.push(r?i.replace(d,"$1"):n||e)})),t}));function le(e){if("string"==typeof e||ye(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ce(e){if(null!=e){try{return k.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function fe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return r.cache=new(fe.Cache||Z),r}function pe(e,t){return e===t||e!==e&&t!==t}fe.Cache=Z;var de=Array.isArray;function he(e){var t=ve(e)?T.call(e):"";return t==a||t==o}function ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function me(e){return!!e&&"object"==typeof e}function ye(e){return"symbol"==typeof e||me(e)&&T.call(e)==s}function ge(e){return null==e?"":te(e)}function be(e,t,n){t=ae(t,e)?[t]:ne(t);var r=-1,i=t.length;i||(e=void 0,i=1);while(++r<i){var a=null==e?void 0:e[le(t[r])];void 0===a&&(r=i,a=n),e=he(a)?a.call(e):a}return e}e.exports=be}).call(this,n("IyRk"))},E9XD:function(e,t,n){"use strict";var r=n("I+eb"),i=n("1Y/n").left,a=n("pkCn"),o=n("rkAj"),s=a("reduce"),u=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),a=n("wclG");function o(e,t){return a(i(e,t,r),e+"")}e.exports=o},"EDT/":function(e,t,n){var r=n("I+eb"),i=n("p5mE"),a=n("0GbY");r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?a("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",a("Symbol"))}})},EE3K:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("wx14"),i=n("rePB"),a=n("1OyB"),o=n("vuIU"),s=n("Ji7U"),u=n("LK+K"),l=n("q1tI"),c=n("i8i4"),f=n.n(c),p=n("TSYQ"),d=n.n(p),h=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;Object(a["a"])(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),e.closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(o["a"])(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=t.closable,s=t.closeIcon,u=t.style,c=t.onClick,p=t.children,h=t.holder,v="".concat(n,"-notice"),m=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),y=l["createElement"]("div",Object(r["a"])({className:d()(v,a,Object(i["a"])({},"".concat(v,"-closable"),o)),style:u,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},m),l["createElement"]("div",{className:"".concat(v,"-content")},p),o?l["createElement"]("a",{tabIndex:0,onClick:this.close,className:"".concat(v,"-close")},s||l["createElement"]("span",{className:"".concat(v,"-close-x")})):null);return h?f.a.createPortal(y,h):y}}]),n}(l["Component"]);h.defaultProps={onClose:function(){},duration:1.5}},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");function a(e,t){return r(e,i(e),t)}e.exports=a},EHvt:function(e,t,n){},ENF9:function(e,t,n){"use strict";var r,i=n("2oRo"),a=n("4syw"),o=n("8YOa"),s=n("bWFh"),u=n("rKzb"),l=n("hh1v"),c=n("afO8").enforce,f=n("f5p1"),p=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=s("WeakMap",h,u);if(f&&p){r=u.getConstructor(h,"WeakMap",!0),o.REQUIRED=!0;var m=v.prototype,y=m["delete"],g=m.has,b=m.get,_=m.set;a(m,{delete:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen["delete"](e)}return y.call(this,e)},has:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen.has(e)}return g.call(this,e)},get:function(e){if(l(e)&&!d(e)){var t=c(this);return t.frozen||(t.frozen=new r),g.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(l(e)&&!d(e)){var n=c(this);n.frozen||(n.frozen=new r),g.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},ERVX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("iWIM")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=n("4cb6");n("mNvP");var f,p,d=r(n("ldaH"));function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=(f=(0,c.injectable)(),f(p=function(e){(0,s["default"])(n,e);var t=h(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(e,t){(0,o["default"])((0,l["default"])(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(d["default"]))||p);t["default"]=m},EUja:function(e,t,n){"use strict";var r=n("ppGB"),i=n("HYAF");e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},EXcs:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)}},EbDI:function(e,t){function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},EdiO:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n},EgBx:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QkVN"),i=n.n(r),a=n("3m+5");class o extends a["a"]{constructor(){super(...arguments),this.layerType="City"}getDefaultOption(){var e=super.getDefaultOption();return i()({},e,{adcode:["110000"],depth:3})}filterData(e,t){var n=Array.isArray(t)?t:[t],r=e.features.filter((e=>{var t=e.properties,r=t.adcode_cit,i=t.adcode;return-1!==n.indexOf(r)||-1!==n.indexOf(""+r)||-1!==n.indexOf(i)||-1!==n.indexOf(""+i)}));return{type:"FeatureCollection",features:r}}filterLabelData(e,t){var n=Array.isArray(t)?t:[t],r=e.filter((e=>{var t=e.adcode_cit,r=e.adcode;return-1!==n.indexOf(t)||-1!==n.indexOf(""+t)||-1!==n.indexOf(r)||-1!==n.indexOf(""+r)}));return r}}},Em2t:function(e,t,n){var r=n("bahg"),i=n("quyA"),a=n("0JQy");function o(e){return i(e)?a(e):r(e)}e.exports=o},EnZy:function(e,t,n){"use strict";var r=n("14Sl"),i=n("ROdP"),a=n("glrk"),o=n("HYAF"),s=n("SEBh"),u=n("iqWW"),l=n("UMSQ"),c=n("FMNM"),f=n("kmMV"),p=n("0Dky"),d=[].push,h=Math.min,v=4294967295,m=!p((function(){return!RegExp(v,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?v:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);var s,u,l,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,p+"g");while(s=f.call(m,r)){if(u=m.lastIndex,u>h&&(c.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&d.apply(c,s.slice(1)),l=s[0].length,h=u,c.length>=a))break;m.lastIndex===s.index&&m.lastIndex++}return h===r.length?!l&&m.test("")||c.push(""):c.push(r.slice(h)),c.length>a?c.slice(0,a):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var f=a(e),p=String(this),d=s(f,RegExp),y=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(m?"y":"g"),b=new d(m?f:"^(?:"+f.source+")",g),_=void 0===i?v:i>>>0;if(0===_)return[];if(0===p.length)return null===c(b,p)?[p]:[];var x=0,w=0,E=[];while(w<p.length){b.lastIndex=m?w:0;var S,k=c(b,m?p:p.slice(w));if(null===k||(S=h(l(b.lastIndex+(m?0:w)),p.length))===x)w=u(p,w,y);else{if(E.push(p.slice(x,w)),E.length===_)return E;for(var O=1;O<=k.length-1;O++)if(E.push(k[O]),E.length===_)return E;w=x=S}}return E.push(p.slice(x)),E}]}),!m)},Ep9I:function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},EpBk:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},Eqjn:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("6x0u"),o=n("ewvW"),s=n("HAuM"),u=n("m/L8");i&&r({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){u.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"Ew+T":function(e,t,n){var r=n("I+eb"),i=n("2oRo"),a=n("LPSS"),o=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:a.set,clearImmediate:a.clear})},EwQA:function(e,t,n){var r=n("zZ0H");function i(e){return"function"==typeof e?e:r}e.exports=i},ExA7:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},"F+kV":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("H1Ra"),u=n("Rsk4"),l=i.a.memo(u["default"]["docs-china"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u5730\u56fe\u884c\u653f\u533a\u5212\u7ec4\u4ef6\uff0c\u652f\u6301\u4e16\u754c\u5730\u56fe\uff0c\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e09\u7ea7\uff0c\u652f\u6301\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e0a\u94bb\u4e0b\u53d6\u3002"),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),i.a.createElement("p",null,i.a.createElement("strong",null,"using modules")),i.a.createElement(s["a"],{code:"import { WorldLayer } from '@antv/l7-district';",lang:"javascript"}),i.a.createElement("p",null,i.a.createElement("strong",null,"CDN \u7248\u672c\u5f15\u7528")),i.a.createElement(s["a"],{code:'<head>\n  <! --\u5f15\u5165\u6700\u65b0\u7248\u7684L7-District --\x3e\n  <script src="https://unpkg.com/@antv/l7-district"><\/script>\n</head>',lang:"html"}),i.a.createElement("h2",{id:"\u7b80\u4ecb"},i.a.createElement(a["AnchorLink"],{to:"#\u7b80\u4ecb","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7b80\u4ecb"),i.a.createElement("p",null,"District \u652f\u6301\u4e0b\u9762\u51e0\u79cd\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"WorldLayer \u4e16\u754c\u5730\u56fe"),i.a.createElement("li",null,"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"),i.a.createElement("li",null,"ProvinceLayer \u7701\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CityLayer \u5e02\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CountyLayer \u53bf\u7ea7\u5730\u56fe")),i.a.createElement("h2",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"scene L7 scene \u5bf9\u8c61")),i.a.createElement("li",null,i.a.createElement("p",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"zIndex \u56fe\u5c42\u7ed8\u5236\u987a\u5e8f")),i.a.createElement("li",null,i.a.createElement("p",null,"data ",i.a.createElement("code",null,"Array")," \u5c5e\u6027\u6570\u636e\u7528\u4e8e\u53ef\u89c6\u5316\u6e32\u67d3")),i.a.createElement("li",null,i.a.createElement("p",null,"visible \u5730\u56fe\u662f\u5426\u53ef\u89c1")),i.a.createElement("li",null,i.a.createElement("p",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d")),i.a.createElement("li",null,i.a.createElement("p",null,"showBorder ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u56fd\u754c\u7ebf\uff0c\u9ed8\u8ba4\u663e\u793a\uff0c\u4e0d\u5efa\u8bae\u4e0d\u663e\u793a")),i.a.createElement("li",null,i.a.createElement("p",null,"simplifyTolerance \u6570\u636e\u62bd\u7a00\u5bb9\u5dee,\u9ed8\u8ba4\u4e0d\u62bd\u7a00 ",i.a.createElement("code",null,"boolean | number")," \u5355\u4f4d\u4e3a\u5ea6\uff0c\u4e00\u5ea6\u7ea6 111km\uff0c\u6570\u5b57\u8d8a\u5927\u7cbe\u5ea6\u8d8a\u4f4e\u3002\u53c2\u8003\u8bbe\u7f6e\u6570\u636e 0.01")),i.a.createElement("li",null,i.a.createElement("p",null,"depth \u6570\u636e\u663e\u793a\u5c42\u7ea7 0\uff1a\u56fd\u5bb6\u7ea7\uff0c1:\u7701\u7ea7\uff0c2: \u5e02\u7ea7\uff0c3\uff1a\u53bf\u7ea7")),i.a.createElement("li",null,i.a.createElement("p",null,"label \u6807\u6ce8\u914d\u7f6e\u9879 \u652f\u6301\u5e38\u91cf\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6807\u6ce8"),i.a.createElement("li",null,"color \u6807\u6ce8\u5b57\u4f53\u989c\u8272 \u5e38\u91cf"),i.a.createElement("li",null,"field \u6807\u6ce8\u5b57\u6bb5 \u5e38\u91cf"),i.a.createElement("li",null,"size \u6807\u6ce8\u5927\u5c0f \u5e38\u91cf"),i.a.createElement("li",null,"stroke \u6587\u5b57\u63cf\u8fb9\u989c\u8272"),i.a.createElement("li",null,"strokeWidth \u6587\u5b57\u63cf\u8fb9\u5bbd\u5ea6"),i.a.createElement("li",null,"textAllowOverlap \u662f\u5426\u5141\u8bb8\u6587\u5b57\u538b\u76d6"),i.a.createElement("li",null,"opacity \u6807\u6ce8\u900f\u660e\u5ea6"),i.a.createElement("li",null,"spacing: ",i.a.createElement("code",null,"number")," \u6587\u672c\u5305\u56f4\u76d2 padding [\u6c34\u5e73\uff0c\u5782\u76f4]\uff0c\u5f71\u54cd\u78b0\u649e\u68c0\u6d4b\u7ed3\u679c\uff0c\u907f\u514d\u76f8\u90bb\u6587\u672c\u9760\u7684\u592a\u8fd1"),i.a.createElement("li",null,"padding: ",i.a.createElement("code",null,"[number, number]")," \u6587\u672c\u76f8\u5bf9\u951a\u70b9\u7684\u504f\u79fb\u91cf [x, y] \u5176\u4ed6\u5305\u62ec text ",i.a.createElement(a["AnchorLink"],{to:"../layer/point_layer/text#style"},"style \u7684\u914d\u7f6e")))),i.a.createElement("li",null,i.a.createElement("p",null,"fill \u586b\u5145\u914d\u7f6e\u9879 \u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"color \u56fe\u5c42\u586b\u5145\u989c\u8272\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u5e38\u91cf\uff1a\u7edf\u4e00\u8bbe\u7f6e\u6210\u4e00\u6837\u7684\u989c\u8272 \u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"field \u586b\u5145\u6620\u5c04\u5b57\u6bb5"),i.a.createElement("li",null,"values \u6620\u5c04\u503c\uff0c\u540c color \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570"))),i.a.createElement("li",null,"filter \u56fe\u5c42\u8fc7\u6ee4\u65b9\u6cd5\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u540c layer.filter \u65b9\u6cd5 \u6570\u636e\u6620\u5c04 - field \u586b\u5145\u6620\u5c04\u5b57\u6bb5 - values \u56de\u8c03\u51fd\u6570 ",i.a.createElement("code",null,"false")," \u8fd4\u56de\u503c\u5c06\u4f1a\u88ab\u8fc7\u6ee4\u6389"),i.a.createElement("li",null,"style \u540c polygonLayer \u7684 style \u65b9\u6cd5"),i.a.createElement("li",null,"activeColor \u9f20\u6807\u6ed1\u8fc7\u9ad8\u4eae\u989c\u8272, ",i.a.createElement("code",null,"string | boolean")," \u5982\u679c\u8bbe\u7f6e\u4e3a ",i.a.createElement("code",null,"false"),"\u53d6\u6d88\u9ad8\u4eae"))),i.a.createElement("li",null,i.a.createElement("p",null,"bubble \u6c14\u6ce1\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 default false"),i.a.createElement("li",null,"color \u6c14\u6ce1\u989c\u8272 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size \u6c14\u6ce1\u5927\u5c0f \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"shape \u6c14\u6ce1\u5f62\u72b6 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"filter \u56fe\u5c42\u8fc7\u6ee4\u65b9\u6cd5\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u540c layer.filter \u65b9\u6cd5 \u6570\u636e\u6620\u5c04 - field \u586b\u5145\u6620\u5c04\u5b57\u6bb5 - values \u56de\u8c03\u51fd\u6570 ",i.a.createElement("code",null,"false")," \u8fd4\u56de\u503c\u5c06\u4f1a\u88ab\u8fc7\u6ee4\u6389"),i.a.createElement("li",null,"style \u6c14\u6ce1\u56fe\u6837\u5f0f \u540c PointLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"stroke \u586b\u5145\u63cf\u8fb9\u989c\u8272 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"strokeWidth \u586b\u5145\u63cf\u8fb9\u5bbd\u5ea6 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"autoFit \u662f\u5426\u81ea\u52a8\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4 ",i.a.createElement("code",null,"boolean"))),i.a.createElement("li",null,i.a.createElement("p",null,"popup \u4fe1\u606f\u7a97\u53e3"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable \u662f\u5426\u5f00\u542f ",i.a.createElement("code",null,"boolean")),i.a.createElement("li",null,"triggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';"),i.a.createElement("li",null,"Html popup html \u5b57\u7b26\u4e32\uff0c\u652f\u6301\u56de\u8c03\u51fd\u6570 (properties: any) => string;"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalWidth \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalStroke \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStroke \u7701\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth= 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth = 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStroke \u5e02\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStrokeWidth \u5e02\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2 \u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStroke \u53bf\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStrokeWidth \u53bf\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548")))))),i.a.createElement("p",null,"\u26d4 ProvinceLayer, CityLayer, CountyLayer \u5982\u9700\u8981\u8bbe\u7f6e\u63cf\u8fb9\u989c\u8272\uff0c\u5bbd\u5ea6\u4f7f\u7528 storke,strokeWidth \u914d\u7f6e\u3002"),i.a.createElement("h3",{id:"\u6570\u636e"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e"),i.a.createElement("p",null,"District \u63d0\u4f9b polygon \u6570\u636e\u9700\u8981\u8ddf\u7528\u6237\u7684\u5c5e\u6027\u6570\u636e\uff0c\u901a\u8fc7\u5173\u7cfb\u5b57\u6bb5\u8fdb\u884c\u8fde\u63a5"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/b6fcd072-72a7-4875-8e05-9652ffc977d9.csv"},"\u56fd\u5bb6\u540d\u79f0\u5bf9\u7167\u8868"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/2aa6fb7b-3694-4df3-b601-6f6f9adac496.csv"},"\u7701\u7ea7\u884c\u653f\u540d\u79f0",i.a.createElement("em",null,"adcode"),"\u5bf9\u7167\u8868.csv"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/d2aefd78-f5df-486f-9310-7449cc7f5569.csv"},"\u5e02\u7ea7\u884c\u653f\u533a\u5212\u53ca\u7f16\u7801"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/fafd299e-0e1e-4fa2-a8ac-10a984c6e983.csv"},"\u53bf\u7ea7\u884c\u653f\u533a\u540d\u79f0\u7ea7\u7f16\u7801")))),i.a.createElement("h3",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u884c\u653f\u533a\u5212\u7ec4\u4ef6\u6bcf\u4e2a\u56fe\u5c42\u6709\u591a\u4e2a\u5b50\u56fe\u5c42\u7ec4\u6210\uff0c\u5982\u6807\u6ce8\u5c42\uff0c\u56fd\u754c\u7ebf\u3001\u7701\u754c\u7ebf\u7b49\u7b49\uff0c"),i.a.createElement("h4",{id:"filllayer"},i.a.createElement(a["AnchorLink"],{to:"#filllayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fillLayer"),i.a.createElement("p",null,"\u56fe\u5c42\u4e8b\u4ef6\u53ef\u4ee5\u901a\u8fc7\u8be5\u5c5e\u6027\u8fdb\u884c\u8bbe\u7f6e"),i.a.createElement("h3",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h4",{id:"updatedatadata-joinby"},i.a.createElement(a["AnchorLink"],{to:"#updatedatadata-joinby","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData(data, joinBy)"),i.a.createElement("p",null,"\u66f4\u65b0\u663e\u793a\u6570\u636e\uff0c"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"data \u9700\u8981\u66f4\u65b0\u7684\u6570\u636e"),i.a.createElement("li",null,"joinBy \u5173\u8054\u5b57\u6bb5 \u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u4fdd\u6301\u548c\u521d\u59cb\u5316\u4e00\u81f4\u3002")),i.a.createElement("h3",{id:"getfilldata"},i.a.createElement(a["AnchorLink"],{to:"#getfilldata","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"getFillData"),i.a.createElement("p",null,"\u83b7\u53d6\u586b\u5145\u6570\u636e\uff0c\u53ef\u7528\u4e8e\u7ed8\u5236\u72ec\u7acb\u7684\u8fb9\u754c\u7ebf"),i.a.createElement("h4",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5c42"),i.a.createElement("h4",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u56fe\u5c42\u9690\u85cf\u4e0d\u663e\u793a"),i.a.createElement("h4",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"),i.a.createElement("h3",{id:"\u6848\u4f8b"},i.a.createElement(a["AnchorLink"],{to:"#\u6848\u4f8b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6848\u4f8b"),i.a.createElement("h4",{id:"\u4e2d\u56fd\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u4e2d\u56fd\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e2d\u56fd\u5730\u56fe")),i.a.createElement(o["default"],u["default"]["docs-china"].previewerProps,i.a.createElement(l,null)))))},F4QJ:function(e,t,n){"use strict";function r(){var e=a(n("q1tI"));return r=function(){return e},e}function i(){var e=n("dEAq");return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=function(e,t){var n=[],a=e.match.params.uuid,o=void 0===e.location.query.wrapper,u=t[a];if(u){var l=s(s({},u.previewerProps),{},{hideActions:(u.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==e.location.query.capture&&(l.motions=(l.motions||[]).slice(),l.motions.unshift("autoplay"),l.motions.every((function(e){return!e.startsWith("capture")}))&&l.motions.push("capture:[id|=root]")),n=o?[r()["default"].createElement((function(){return(0,i().useMotions)(l.motions||[],document.documentElement),r()["default"].createElement("div",{},r()["default"].createElement(u.component))}))]:[l,r()["default"].createElement(u.component)]}return n};t["default"]=l},F5Nq:function(e,t,n){"use strict";n.r(t);n("cIOH"),n("b2XM"),n("5YgA");var r=n("U8pU"),i=n("rePB"),a=n("wx14"),o=n("ODXe"),s=n("q1tI"),u=n.n(s),l=n("VTBJ"),c=n("1OyB"),f=n("vuIU"),p=n("Ji7U"),d=n("LK+K"),h=n("Kwbf"),v=function(e){var t,n,r=e.className,a=e.included,o=e.vertical,s=e.style,c=e.length,f=e.offset,p=e.reverse;c<0&&(p=!p,c=Math.abs(c),f=100-f);var d=o?(t={},Object(i["a"])(t,p?"top":"bottom","".concat(f,"%")),Object(i["a"])(t,p?"bottom":"top","auto"),Object(i["a"])(t,"height","".concat(c,"%")),t):(n={},Object(i["a"])(n,p?"right":"left","".concat(f,"%")),Object(i["a"])(n,p?"left":"right","auto"),Object(i["a"])(n,"width","".concat(c,"%")),n),h=Object(l["a"])(Object(l["a"])({},s),d);return a?u.a.createElement("div",{className:r,style:h}):null},m=v,y=n("Ff2n"),g=n("KQm4"),b=n("foSv");function _(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Object(b["a"])(e),null===e)break;return e}function x(e,t,n){return x="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},x(e,t,n||e)}var w=n("zT1h"),E=n("TSYQ"),S=n.n(E),k=function(e,t,n,r,i,a){Object(h["a"])(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var o=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var s=i;s<=a;s+=r)-1===o.indexOf(s)&&o.push(s);return o},O=function(e){var t=e.prefixCls,n=e.vertical,r=e.reverse,a=e.marks,o=e.dots,s=e.step,c=e.included,f=e.lowerBound,p=e.upperBound,d=e.max,h=e.min,v=e.dotStyle,m=e.activeDotStyle,y=d-h,g=k(n,a,o,s,h,d).map((function(e){var a,o="".concat(Math.abs(e-h)/y*100,"%"),s=!c&&e===p||c&&e<=p&&e>=f,d=n?Object(l["a"])(Object(l["a"])({},v),{},Object(i["a"])({},r?"top":"bottom",o)):Object(l["a"])(Object(l["a"])({},v),{},Object(i["a"])({},r?"right":"left",o));s&&(d=Object(l["a"])(Object(l["a"])({},d),m));var g=S()((a={},Object(i["a"])(a,"".concat(t,"-dot"),!0),Object(i["a"])(a,"".concat(t,"-dot-active"),s),Object(i["a"])(a,"".concat(t,"-dot-reverse"),r),a));return u.a.createElement("span",{className:g,style:d,key:e})}));return u.a.createElement("div",{className:"".concat(t,"-step")},g)},T=O,C=function(e){var t=e.className,n=e.vertical,a=e.reverse,o=e.marks,s=e.included,c=e.upperBound,f=e.lowerBound,p=e.max,d=e.min,h=e.onClickLabel,v=Object.keys(o),m=p-d,y=v.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var p,v=o[e],y="object"===Object(r["a"])(v)&&!u.a.isValidElement(v),g=y?v.label:v;if(!g&&0!==g)return null;var b=!s&&e===c||s&&e<=c&&e>=f,_=S()((p={},Object(i["a"])(p,"".concat(t,"-text"),!0),Object(i["a"])(p,"".concat(t,"-text-active"),b),p)),x=Object(i["a"])({marginBottom:"-50%"},a?"top":"bottom","".concat((e-d)/m*100,"%")),w=Object(i["a"])({transform:"translateX(".concat(a?"50%":"-50%",")"),msTransform:"translateX(".concat(a?"50%":"-50%",")")},a?"right":"left","".concat((e-d)/m*100,"%")),E=n?x:w,k=y?Object(l["a"])(Object(l["a"])({},E),v.style):E;return u.a.createElement("span",{className:_,style:k,key:e,onMouseDown:function(t){return h(t,e)},onTouchStart:function(t){return h(t,e)}},g)}));return u.a.createElement("div",{className:t},y)},A=C,M=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Object(w["a"])(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.prefixCls,s=r.vertical,c=r.reverse,f=r.offset,p=r.style,d=r.disabled,h=r.min,v=r.max,m=r.value,g=r.tabIndex,b=r.ariaLabel,_=r.ariaLabelledBy,x=r.ariaValueTextFormatter,w=Object(y["a"])(r,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),E=S()(this.props.className,Object(i["a"])({},"".concat(o,"-handle-click-focused"),this.state.clickFocused)),k=s?(e={},Object(i["a"])(e,c?"top":"bottom","".concat(f,"%")),Object(i["a"])(e,c?"bottom":"top","auto"),Object(i["a"])(e,"transform",c?null:"translateY(+50%)"),e):(t={},Object(i["a"])(t,c?"right":"left","".concat(f,"%")),Object(i["a"])(t,c?"left":"right","auto"),Object(i["a"])(t,"transform","translateX(".concat(c?"+":"-","50%)")),t),O=Object(l["a"])(Object(l["a"])({},p),k),T=g||0;return(d||null===g)&&(T=null),x&&(n=x(m)),u.a.createElement("div",Object(a["a"])({ref:this.setHandleRef,tabIndex:T},w,{className:E,style:O,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":h,"aria-valuemax":v,"aria-valuenow":m,"aria-disabled":!!d,"aria-label":b,"aria-labelledby":_,"aria-valuetext":n}))}}]),n}(u.a.Component),P=n("i8i4"),I=n("4IlW");function R(e,t){try{return Object.keys(t).some((function(n){return e.target===Object(P["findDOMNode"])(t[n])}))}catch(n){return!1}}function j(e,t){var n=t.min,r=t.max;return e<n||e>r}function L(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function N(e,t){var n=t.marks,r=t.step,i=t.min,a=t.max,o=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.pow(10,D(r)),u=Math.floor((a*s-i*s)/(r*s)),l=Math.min((e-i)/r,u),c=Math.round(l)*r+i;o.push(c)}var f=o.map((function(t){return Math.abs(e-t)}));return o[f.indexOf(Math.min.apply(Math,Object(g["a"])(f)))]}function D(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function F(e,t){return e?t.clientY:t.pageX}function z(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function B(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function U(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function V(e,t){var n=t.step,r=isFinite(N(e,t))?N(e,t):0;return null===n?r:parseFloat(r.toFixed(D(n)))}function H(e){e.stopPropagation(),e.preventDefault()}function W(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},i=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),a=Object.keys(n.marks)[i];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[a]?n.marks[a]:t}function q(e,t,n){var r="increase",i="decrease",a=r;switch(e.keyCode){case I["a"].UP:a=t&&n?i:r;break;case I["a"].RIGHT:a=!t&&n?i:r;break;case I["a"].DOWN:a=t&&n?r:i;break;case I["a"].LEFT:a=!t&&n?r:i;break;case I["a"].END:return function(e,t){return t.max};case I["a"].HOME:return function(e,t){return t.min};case I["a"].PAGE_UP:return function(e,t){return e+2*t.step};case I["a"].PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return W(a,e,t)}}function G(){}function Z(e){var t;return t=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;Object(c["a"])(this,n),r=t.call(this,e),r.onDown=function(e,t){var n=t,i=r.props,a=i.draggableTrack,o=i.vertical,s=r.state.bounds,u=a&&r.positionGetValue&&r.positionGetValue(n)||[],l=R(e,r.handlesRefs);if(r.dragTrack=a&&s.length>=2&&!l&&!u.map((function(e,t){var n=!!t||e>=s[t];return t===u.length-1?e<=s[t]:n})).some((function(e){return!e})),r.dragTrack)r.dragOffset=n,r.startBounds=Object(g["a"])(s);else{if(l){var c=B(o,e.target);r.dragOffset=n-c,n=c}else r.dragOffset=0;r.onStart(n)}},r.onMouseDown=function(e){if(0===e.button){r.removeDocumentEvents();var t=r.props.vertical,n=F(t,e);r.onDown(e,n),r.addDocumentMouseEvents()}},r.onTouchStart=function(e){if(!L(e)){var t=r.props.vertical,n=z(t,e);r.onDown(e,n),r.addDocumentTouchEvents(),H(e)}},r.onFocus=function(e){var t=r.props,n=t.onFocus,i=t.vertical;if(R(e,r.handlesRefs)&&!r.dragTrack){var a=B(i,e.target);r.dragOffset=0,r.onStart(a),H(e),n&&n(e)}},r.onBlur=function(e){var t=r.props.onBlur;r.dragTrack||r.onEnd(),t&&t(e)},r.onMouseUp=function(){r.handlesRefs[r.prevMovedHandleIndex]&&r.handlesRefs[r.prevMovedHandleIndex].clickFocus()},r.onMouseMove=function(e){if(r.sliderRef){var t=F(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onTouchMove=function(e){if(!L(e)&&r.sliderRef){var t=z(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onKeyDown=function(e){r.sliderRef&&R(e,r.handlesRefs)&&r.onKeyboard(e)},r.onClickMarkLabel=function(e,t){e.stopPropagation(),r.onChange({value:t}),r.setState({value:t},(function(){return r.onEnd(!0)}))},r.saveSlider=function(e){r.sliderRef=e};var i=e.step,a=e.max,o=e.min,s=!isFinite(a-o)||(a-o)%i===0;return Object(h["a"])(!i||Math.floor(i)!==i||s,"Slider[max] - Slider[min] (".concat(a-o,") should be a multiple of Slider[step] (").concat(i,")")),r.handlesRefs={},r}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){x(Object(b["a"])(n.prototype),"componentWillUnmount",this)&&x(Object(b["a"])(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,i=e.getBoundingClientRect();return n?r?i.bottom:i.top:window.pageXOffset+(r?i.right:i.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Object(w["a"])(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Object(w["a"])(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Object(w["a"])(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Object(w["a"])(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,r;null===(n=e.handlesRefs[t])||void 0===n||null===(r=n.blur)||void 0===r||r.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,a=Math.abs(Math.max(e,0)/this.getSliderLength()),o=n?(1-a)*(i-r)+r:a*(i-r)+r;return o}},{key:"calcValueByPos",value:function(e){var t=this.props.reverse?-1:1,n=t*(e-this.getSliderStart()),r=this.trimAlignValue(this.calcValue(n));return r}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=t.max,i=(e-n)/(r-n);return Math.max(0,100*i)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,r=t.prefixCls,a=t.className,o=t.marks,s=t.dots,c=t.step,f=t.included,p=t.disabled,d=t.vertical,h=t.reverse,v=t.min,m=t.max,y=t.children,g=t.maximumTrackStyle,_=t.style,w=t.railStyle,E=t.dotStyle,k=t.activeDotStyle,O=x(Object(b["a"])(n.prototype),"render",this).call(this),C=O.tracks,M=O.handles,P=S()(r,(e={},Object(i["a"])(e,"".concat(r,"-with-marks"),Object.keys(o).length),Object(i["a"])(e,"".concat(r,"-disabled"),p),Object(i["a"])(e,"".concat(r,"-vertical"),d),Object(i["a"])(e,a,a),e));return u.a.createElement("div",{ref:this.saveSlider,className:P,onTouchStart:p?G:this.onTouchStart,onMouseDown:p?G:this.onMouseDown,onMouseUp:p?G:this.onMouseUp,onKeyDown:p?G:this.onKeyDown,onFocus:p?G:this.onFocus,onBlur:p?G:this.onBlur,style:_},u.a.createElement("div",{className:"".concat(r,"-rail"),style:Object(l["a"])(Object(l["a"])({},g),w)}),C,u.a.createElement(T,{prefixCls:r,vertical:d,reverse:h,marks:o,dots:s,step:c,included:f,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:v,dotStyle:E,activeDotStyle:k}),M,u.a.createElement(A,{className:"".concat(r,"-mark"),onClickLabel:p?G:this.onClickMarkLabel,vertical:d,marks:o,included:f,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:m,min:v,reverse:h}),y)}}]),n}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=Object(l["a"])(Object(l["a"])({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=Object(y["a"])(e,["index"]);return delete n.dragging,null===n.value?null:u.a.createElement(M,Object(a["a"])({},n,{key:t}))},onBeforeChange:G,onChange:G,onAfterChange:G,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var Y=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;Object(c["a"])(this,n),r=t.call(this,e),r.positionGetValue=function(e){return[]},r.onEnd=function(e){var t=r.state.dragging;r.removeDocumentEvents(),(t||e)&&r.props.onAfterChange(r.getValue()),r.setState({dragging:!1})};var i=void 0!==e.defaultValue?e.defaultValue:e.min,a=void 0!==e.value?e.value:i;return r.state={value:r.trimAlignValue(a),dragging:!1},Object(h["a"])(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Object(h["a"])(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),r}return Object(f["a"])(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.min,i=n.max,a=n.value,o=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==a?a:t.value,u=this.trimAlignValue(s,this.props);u!==t.value&&(this.setState({value:u}),r===e.min&&i===e.max||!j(s,this.props)||o(u))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?Object(l["a"])(Object(l["a"])({},e),{},{value:this.props.max}):e;n&&this.setState(r);var i=r.value;t.onChange(i)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){H(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=t.vertical,i=q(e,r,n);if(i){H(e);var a=this.state,o=a.value,s=i(o,this.props),u=this.trimAlignValue(s);if(u===o)return;this.onChange({value:u}),this.props.onAfterChange(u),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=Object(l["a"])(Object(l["a"])({},this.props),t),r=U(e,n);return V(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.included,a=t.disabled,o=t.minimumTrackStyle,s=t.trackStyle,c=t.handleStyle,f=t.tabIndex,p=t.ariaLabelForHandle,d=t.ariaLabelledByForHandle,h=t.ariaValueTextFormatterForHandle,v=t.min,y=t.max,g=t.startPoint,b=t.reverse,_=t.handle,x=this.state,w=x.value,E=x.dragging,S=this.calcOffset(w),k=_({className:"".concat(n,"-handle"),prefixCls:n,vertical:r,offset:S,value:w,dragging:E,disabled:a,min:v,max:y,reverse:b,index:0,tabIndex:f,ariaLabel:p,ariaLabelledBy:d,ariaValueTextFormatter:h,style:c[0]||c,ref:function(t){return e.saveHandle(0,t)}}),O=void 0!==g?this.calcOffset(g):0,T=s[0]||s,C=u.a.createElement(m,{className:"".concat(n,"-track"),vertical:r,included:i,offset:O,reverse:b,length:S-O,style:Object(l["a"])(Object(l["a"])({},o),T)});return{tracks:C,handles:k}}}]),n}(u.a.Component),X=Z(Y),K=function(e){var t=e.value,n=e.handle,r=e.bounds,i=e.props,a=i.allowCross,o=i.pushable,s=Number(o),u=U(t,i),l=u;return a||null==n||void 0===r||(n>0&&u<=r[n-1]+s&&(l=r[n-1]+s),n<r.length-1&&u>=r[n+1]-s&&(l=r[n+1]-s)),V(l,i)},J=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(e){var r;Object(c["a"])(this,n),r=t.call(this,e),r.positionGetValue=function(e){var t=r.getValue(),n=r.calcValueByPos(e),i=r.getClosestBound(n),a=r.getBoundNeedMoving(n,i),o=t[a];if(n===o)return null;var s=Object(g["a"])(t);return s[a]=n,s},r.onEnd=function(e){var t=r.state.handle;r.removeDocumentEvents(),t||(r.dragTrack=!1),(null!==t||e)&&r.props.onAfterChange(r.getValue()),r.setState({handle:null})};var i=e.count,a=e.min,o=e.max,s=Array.apply(void 0,Object(g["a"])(Array(i+1))).map((function(){return a})),u="defaultValue"in e?e.defaultValue:s,l=void 0!==e.value?e.value:u,f=l.map((function(t,n){return K({value:t,handle:n,props:e})})),p=f[0]===o?0:f.length-1;return r.state={handle:null,recent:p,bounds:f},r}return Object(f["a"])(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.onChange,a=r.value,o=r.min,s=r.max;if(("min"in this.props||"max"in this.props)&&(o!==e.min||s!==e.max)){var u=a||t.bounds;if(u.some((function(e){return j(e,n.props)}))){var l=u.map((function(e){return U(e,n.props)}));i(l)}}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t);if(n)this.setState(e);else{var r={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(r[t]=e[t])})),Object.keys(r).length&&this.setState(r)}var i=Object(l["a"])(Object(l["a"])({},this.state),e),a=i.bounds;t.onChange(a)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var a=this.getClosestBound(i);this.prevMovedHandleIndex=this.getBoundNeedMoving(i,a),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var o=r[this.prevMovedHandleIndex];if(i!==o){var s=Object(g["a"])(n.bounds);s[this.prevMovedHandleIndex]=i,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t,n,r){H(e);var i=this.state,a=this.props,o=a.max||100,s=a.min||0;if(n){var u=a.vertical?-t:t;u=a.reverse?-u:u;var l=o-Math.max.apply(Math,Object(g["a"])(r)),c=s-Math.min.apply(Math,Object(g["a"])(r)),f=Math.min(Math.max(u/(this.getSliderLength()/100),c),l),p=r.map((function(e){return Math.floor(Math.max(Math.min(e+f,o),s))}));i.bounds.map((function(e,t){return e===p[t]})).some((function(e){return!e}))&&this.onChange({bounds:p})}else{var d=this.calcValueByPos(t),h=i.bounds[i.handle];d!==h&&this.moveTo(d)}}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=t.vertical,i=q(e,r,n);if(i){H(e);var a=this.state,o=this.props,s=a.bounds,u=a.handle,l=s[null===u?a.recent:u],c=i(l,o),f=K({value:c,handle:u,bounds:a.bounds,props:o});if(f===l)return;var p=!0;this.moveTo(f,p)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,i=n.recent,a=t,o=r[t+1]===r[t];return o&&r[i]===r[t]&&(a=i),o&&e!==r[t+1]&&(a=e<r[t+1]?t:t+1),a}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,a=this.internalPointsCache;if(!a||a.marks!==t||a.step!==n){var o=Object(l["a"])({},t);if(null!==n)for(var s=r;s<=i;s+=n)o[s]=s;var u=Object.keys(o).map(parseFloat);u.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:u}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,i=this.props,a=Object(g["a"])(r.bounds),o=null===r.handle?r.recent:r.handle;a[o]=e;var s=o;!1!==i.pushable?this.pushSurroundingHandles(a,s):i.allowCross&&(a.sort((function(e,t){return e-t})),s=a.indexOf(e)),this.onChange({recent:s,handle:s,bounds:a}),t&&(this.props.onAfterChange(a),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable,i=Number(r),a=0;if(e[t+1]-n<i&&(a=1),n-e[t-1]<i&&(a=-1),0!==a){var o=t+a,s=a*(e[o]-n);this.pushHandle(e,o,a,i-s)||(e[t]=e[o]-a*i)}}},{key:"pushHandle",value:function(e,t,n,r){var i=e[t],a=e[t];while(n*(a-i)<r){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;a=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t]),a=i+n;if(a>=r.length||a<0)return!1;var o=t+n,s=r[a],u=this.props.pushable,l=Number(u),c=n*(e[o]-s);return!!this.pushHandle(e,o,n,l-c)&&(e[t]=s,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,r=t.bounds;return K({value:e,handle:n,bounds:r,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,a=this.props,o=a.prefixCls,s=a.vertical,l=a.included,c=a.disabled,f=a.min,p=a.max,d=a.reverse,h=a.handle,v=a.trackStyle,y=a.handleStyle,g=a.tabIndex,b=a.ariaLabelGroupForHandles,_=a.ariaLabelledByGroupForHandles,x=a.ariaValueTextFormatterGroupForHandles,w=r.map((function(t){return e.calcOffset(t)})),E="".concat(o,"-handle"),k=r.map((function(t,r){var a,u=g[r]||0;(c||null===g[r])&&(u=null);var l=n===r;return h({className:S()((a={},Object(i["a"])(a,E,!0),Object(i["a"])(a,"".concat(E,"-").concat(r+1),!0),Object(i["a"])(a,"".concat(E,"-dragging"),l),a)),prefixCls:o,vertical:s,dragging:l,offset:w[r],value:t,index:r,tabIndex:u,min:f,max:p,reverse:d,disabled:c,style:y[r],ref:function(t){return e.saveHandle(r,t)},ariaLabel:b[r],ariaLabelledBy:_[r],ariaValueTextFormatter:x[r]})})),O=r.slice(0,-1).map((function(e,t){var n,r=t+1,a=S()((n={},Object(i["a"])(n,"".concat(o,"-track"),!0),Object(i["a"])(n,"".concat(o,"-track-").concat(r),!0),n));return u.a.createElement(m,{className:a,vertical:s,reverse:d,included:l,offset:w[r-1],length:w[r]-w[r-1],style:v[t],key:r})}));return{tracks:O,handles:k}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var n=e.value||t.bounds,r=n.map((function(n,r){return K({value:n,handle:r,bounds:t.bounds,props:e})}));if(t.bounds.length===r.length){if(r.every((function(e,n){return e===t.bounds[n]})))return null}else r=n.map((function(t,n){return K({value:t,handle:n,props:e})}));return Object(l["a"])(Object(l["a"])({},t),{},{bounds:r})}}]),n}(u.a.Component);J.displayName="Range",J.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var Q=Z(J),$=n("uciX"),ee={adjustX:1,adjustY:1},te=[0,0],ne={left:{points:["cr","cl"],overflow:ee,offset:[-4,0],targetOffset:te},right:{points:["cl","cr"],overflow:ee,offset:[4,0],targetOffset:te},top:{points:["bc","tc"],overflow:ee,offset:[0,-4],targetOffset:te},bottom:{points:["tc","bc"],overflow:ee,offset:[0,4],targetOffset:te},topLeft:{points:["bl","tl"],overflow:ee,offset:[0,-4],targetOffset:te},leftTop:{points:["tr","tl"],overflow:ee,offset:[-4,0],targetOffset:te},topRight:{points:["br","tr"],overflow:ee,offset:[0,-4],targetOffset:te},rightTop:{points:["tl","tr"],overflow:ee,offset:[4,0],targetOffset:te},bottomRight:{points:["tr","br"],overflow:ee,offset:[0,4],targetOffset:te},rightBottom:{points:["bl","br"],overflow:ee,offset:[4,0],targetOffset:te},bottomLeft:{points:["tl","bl"],overflow:ee,offset:[0,4],targetOffset:te},leftBottom:{points:["br","bl"],overflow:ee,offset:[-4,0],targetOffset:te}},re=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle;return s["createElement"]("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},"function"===typeof t?t():t)},ie=re,ae=function(e,t){var n=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,u=e.mouseEnterDelay,c=void 0===u?0:u,f=e.mouseLeaveDelay,p=void 0===f?.1:f,d=e.overlayStyle,h=e.prefixCls,v=void 0===h?"rc-tooltip":h,m=e.children,g=e.onVisibleChange,b=e.afterVisibleChange,_=e.transitionName,x=e.animation,w=e.motion,E=e.placement,S=void 0===E?"right":E,k=e.align,O=void 0===k?{}:k,T=e.destroyTooltipOnHide,C=void 0!==T&&T,A=e.defaultVisible,M=e.getTooltipContainer,P=e.overlayInnerStyle,I=Object(y["a"])(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),R=Object(s["useRef"])(null);Object(s["useImperativeHandle"])(t,(function(){return R.current}));var j=Object(l["a"])({},I);"visible"in e&&(j.popupVisible=e.visible);var L=function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,i=e.id;return[s["createElement"]("div",{className:"".concat(v,"-arrow"),key:"arrow"},n),s["createElement"](ie,{key:"content",prefixCls:v,id:i,overlay:r,overlayInnerStyle:P})]},N=!1,D=!1;if("boolean"===typeof C)N=C;else if(C&&"object"===Object(r["a"])(C)){var F=C.keepParent;N=!0===F,D=!1===F}return s["createElement"]($["a"],Object(a["a"])({popupClassName:n,prefixCls:v,popup:L,action:o,builtinPlacements:ne,popupPlacement:S,ref:R,popupAlign:O,getPopupContainer:M,onPopupVisibleChange:g,afterPopupVisibleChange:b,popupTransitionName:_,popupAnimation:x,popupMotion:w,defaultPopupVisible:A,destroyPopupOnHide:N,autoDestroy:D,mouseLeaveDelay:p,popupStyle:d,mouseEnterDelay:c},j),m)},oe=Object(s["forwardRef"])(ae),se=oe,ue=n("c+Xe"),le=n("wgJM"),ce=s["forwardRef"]((function(e,t){var n=e.visible,r=e.overlay,i=s["useRef"](null),o=Object(ue["a"])(t,i),u=s["useRef"](null);function l(){le["a"].cancel(u.current)}function c(){u.current=Object(le["a"])((function(){var e;null===(e=i.current)||void 0===e||e.forcePopupAlign()}))}return s["useEffect"]((function(){return n?c():l(),l}),[n,r]),s["createElement"](se,Object(a["a"])({ref:o},e))})),fe=ce;function pe(e){var t;return t=function(t){Object(p["a"])(r,t);var n=Object(d["a"])(r);function r(){var e;return Object(c["a"])(this,r),e=n.apply(this,arguments),e.state={visibles:{}},e.handleTooltipVisibleChange=function(t,n){e.setState((function(e){return{visibles:Object(l["a"])(Object(l["a"])({},e.visibles),{},Object(i["a"])({},t,n))}}))},e.handleWithTooltip=function(t){var n,r=t.value,i=t.dragging,o=t.index,s=t.disabled,c=Object(y["a"])(t,["value","dragging","index","disabled"]),f=e.props,p=f.tipFormatter,d=f.tipProps,h=f.handleStyle,v=f.getTooltipContainer,m=d.prefixCls,g=void 0===m?"rc-slider-tooltip":m,b=d.overlay,_=void 0===b?p(r):b,x=d.placement,w=void 0===x?"top":x,E=d.visible,S=void 0!==E&&E,k=Object(y["a"])(d,["prefixCls","overlay","placement","visible"]);return n=Array.isArray(h)?h[o]||h[0]:h,u.a.createElement(fe,Object(a["a"])({},k,{getTooltipContainer:v,prefixCls:g,overlay:_,placement:w,visible:!s&&(e.state.visibles[o]||i)||S,key:o}),u.a.createElement(M,Object(a["a"])({},c,{style:Object(l["a"])({},n),value:r,onMouseEnter:function(){return e.handleTooltipVisibleChange(o,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(o,!1)}})))},e}return Object(f["a"])(r,[{key:"render",value:function(){return u.a.createElement(e,Object(a["a"])({},this.props,{handle:this.handleWithTooltip}))}}]),r}(u.a.Component),t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},t}var de=X;de.Range=Q,de.Handle=M,de.createSliderWithTooltip=pe;var he=de,ve=n("6cGi"),me={adjustX:1,adjustY:1},ye={adjustX:0,adjustY:0},ge=[0,0];function be(e){return"boolean"===typeof e?e?me:ye:Object(a["a"])(Object(a["a"])({},ye),e)}function _e(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,s=void 0===o?8:o,u=e.autoAdjustOverflow,l={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(s+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(s+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,s+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,s+n]}};return Object.keys(l).forEach((function(t){l[t]=e.arrowPointAtCenter?Object(a["a"])(Object(a["a"])({},l[t]),{overflow:be(u),targetOffset:ge}):Object(a["a"])(Object(a["a"])({},ne[t]),{overflow:be(u)}),l[t].ignoreShake=!0})),l}var xe=s["isValidElement"];function we(e,t,n){return xe(e)?s["cloneElement"](e,"function"===typeof n?n(e.props||{}):n):t}function Ee(e,t){return we(e,e,t)}var Se=n("H84U"),ke=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Oe=(ke("success","processing","error","default","warning"),ke("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),Te=n("EXcs"),Ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ae=function(e,t){var n={},r=Object(a["a"])({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}},Me=new RegExp("^(".concat(Oe.join("|"),")(-inverse)?$"));function Pe(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||!0===n.__ANT_SWITCH||!0===n.__ANT_CHECKBOX||"button"===e.type)&&e.props.disabled){var r=Ae(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),i=r.picked,o=r.omitted,u=Object(a["a"])(Object(a["a"])({display:"inline-block"},i),{cursor:"not-allowed",width:e.props.block?"100%":null}),l=Object(a["a"])(Object(a["a"])({},o),{pointerEvents:"none"}),c=Ee(e,{style:l,className:null});return s["createElement"]("span",{style:u,className:S()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},c)}return e}var Ie=s["forwardRef"]((function(e,t){var n,r=s["useContext"](Se["b"]),u=r.getPopupContainer,l=r.getPrefixCls,c=r.direction,f=Object(ve["a"])(!1,{value:e.visible,defaultValue:e.defaultVisible}),p=Object(o["a"])(f,2),d=p[0],h=p[1],v=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},m=function(t){var n;h(!v()&&t),v()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},y=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||_e({arrowPointAtCenter:n,autoAdjustOverflow:r})},g=function(e,t){var n=y(),r=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];if(r){var i=e.getBoundingClientRect(),a={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?a.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(a.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?a.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},b=function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""},_=e.getPopupContainer,x=Ce(e,["getPopupContainer"]),w=e.prefixCls,E=e.openClassName,k=e.getTooltipContainer,O=e.overlayClassName,T=e.color,C=e.overlayInnerStyle,A=e.children,M=l("tooltip",w),P=l(),I=d;!("visible"in e)&&v()&&(I=!1);var R,j=Pe(xe(A)?A:s["createElement"]("span",null,A),M),L=j.props,N=S()(L.className,Object(i["a"])({},E||"".concat(M,"-open"),!0)),D=S()(O,(n={},Object(i["a"])(n,"".concat(M,"-rtl"),"rtl"===c),Object(i["a"])(n,"".concat(M,"-").concat(T),T&&Me.test(T)),n)),F=C;return T&&!Me.test(T)&&(F=Object(a["a"])(Object(a["a"])({},C),{background:T}),R={background:T}),s["createElement"](se,Object(a["a"])({},x,{prefixCls:M,overlayClassName:D,getTooltipContainer:_||k||u,ref:t,builtinPlacements:y(),overlay:b(),visible:I,onVisibleChange:m,onPopupAlign:g,overlayInnerStyle:F,arrowContent:s["createElement"]("span",{className:"".concat(M,"-arrow-content"),style:R}),motion:{motionName:Object(Te["a"])(P,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),I?Ee(j,{className:N}):j)}));Ie.displayName="Tooltip",Ie.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Re=Ie,je=s["forwardRef"]((function(e,t){var n=e.visible,r=Object(s["useRef"])(null),i=Object(s["useRef"])(null);function o(){le["a"].cancel(i.current),i.current=null}function u(){i.current=Object(le["a"])((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign(),i.current=null}))}return s["useEffect"]((function(){return n?u():o(),o}),[n,e.title]),s["createElement"](Re,Object(a["a"])({ref:Object(ue["a"])(r,t)},e))})),Le=je,Ne=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},De=s["forwardRef"]((function(e,t){var n,u=s["useContext"](Se["b"]),l=u.getPrefixCls,c=u.direction,f=u.getPopupContainer,p=s["useState"]({}),d=Object(o["a"])(p,2),h=d[0],v=d[1],m=function(e,t){v((function(n){return Object(a["a"])(Object(a["a"])({},n),Object(i["a"])({},e,t))}))},y=function(e,t){return e||(t?"rtl"===c?"left":"right":"top")},g=function(t){var n=t.tooltipPrefixCls,r=t.prefixCls,i=t.info,o=i.value,u=i.dragging,c=i.index,p=Ne(i,["value","dragging","index"]),d=e.tipFormatter,v=e.tooltipVisible,g=e.tooltipPlacement,b=e.getTooltipPopupContainer,_=e.vertical,x=!!d&&(h[c]||u),w=v||void 0===v&&x,E=l();return s["createElement"](Le,{prefixCls:n,title:d?d(o):"",visible:w,placement:y(g,_),transitionName:"".concat(E,"-zoom-down"),key:c,overlayClassName:"".concat(r,"-tooltip"),getPopupContainer:b||f},s["createElement"](M,Object(a["a"])({},p,{value:o,onMouseEnter:function(){return m(c,!0)},onMouseLeave:function(){return m(c,!1)}})))},b=e.prefixCls,_=e.tooltipPrefixCls,x=e.range,w=e.className,E=Ne(e,["prefixCls","tooltipPrefixCls","range","className"]),k=l("slider",b),O=l("tooltip",_),T=S()(w,Object(i["a"])({},"".concat(k,"-rtl"),"rtl"===c));return"rtl"!==c||E.vertical||(E.reverse=!E.reverse),"object"===Object(r["a"])(x)&&(n=x.draggableTrack),x?s["createElement"](Q,Object(a["a"])({},E,{step:E.step,draggableTrack:n,className:T,ref:t,handle:function(e){return g({tooltipPrefixCls:O,prefixCls:k,info:e})},prefixCls:k})):s["createElement"](he,Object(a["a"])({},E,{step:E.step,className:T,ref:t,handle:function(e){return g({tooltipPrefixCls:O,prefixCls:k,info:e})},prefixCls:k}))}));De.displayName="Slider",De.defaultProps={tipFormatter:function(e){return"number"===typeof e?e.toString():""}};var Fe=De,ze=n("rWO2"),Be=n("/7QA"),Ue=n("mDLg");t["default"]=()=>{var e,t=[{name:"\u4e0a\u57ce\u533a",value:"34.5",adcode:"330102"},{name:"\u4e0b\u57ce\u533a",value:"52.6",adcode:"330103"},{name:"\u6c5f\u5e72\u533a",value:"80.1",adcode:"330104"},{name:"\u62f1\u5885\u533a",value:"57.9",adcode:"330105"},{name:"\u897f\u6e56\u533a",value:"90.8",adcode:"330106"},{name:"\u6ee8\u6c5f\u533a",value:"45.5",adcode:"330108"},{name:"\u8427\u5c71\u533a",value:"158.5 ",adcode:"330109"},{name:"\u4f59\u676d\u533a",value:"189.1",adcode:"330110"},{name:"\u5bcc\u9633\u533a",value:"74.4",adcode:"330111"},{name:"\u4e34\u5b89\u533a",value:"59.6",adcode:"330112"},{name:"\u6850\u5e90\u53bf",value:"43.6",adcode:"330122"},{name:"\u6df3\u5b89\u53bf",value:"35.8",adcode:"330127"},{name:"\u5efa\u5fb7\u5e02",value:"44.7",adcode:"330182"}],n={0:"0",200:"200\u4e07\u4eba"};function r(e){var n=[];return t.map((t=>{t.value>=e[0]&&t.value<=e[1]&&n.push(t)})),n}function i(t){e.updateData(r(t))}return u.a.useEffect((()=>{var n=new ze["Scene"]({id:"city",map:new Ue["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});n.on("loaded",(()=>{e=new Be["CityLayer"](n,{data:t,joinBy:["adcode","adcode"],adcode:["330000","330100"],fill:{color:{field:"value",values:e=>{if(e)return e<30?"#FFE6D9":e<60?"#FFCBB3":e<90?"#FFAD86":e<120?"#FF8F59":e<140?"#FF5809":e<200?"#D94600":void 0}}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN+"  \u4eba\u53e3\uff1a"+e.value+"\u4e07\u4eba","</span>")}})}))}),[]),u.a.createElement("div",{style:{height:"500px"}},u.a.createElement("div",{style:{height:"400px",position:"relative"},id:"city"}),u.a.createElement("div",{style:{marginTop:"40px",padding:"0 100px"}},u.a.createElement(Fe,{marks:n,onChange:i,max:200,range:!0,defaultValue:[0,200]})))}},F8JR:function(e,t,n){"use strict";var r=n("tycR").forEach,i=n("pkCn"),a=n("rkAj"),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},FDzp:function(e,t,n){var r=n("dOgj");r("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},FMNM:function(e,t,n){var r=n("xrYK"),i=n("kmMV");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},FTpR:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("QkVN")),p=n("gHHc"),d=n("z0pJ"),h=n("uhBA"),v=r(n("mpbz")),m=r(n("jIE7"));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=_();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){(0,s["default"])(n,e);var t=b(n);function n(e){var r,a;return(0,i["default"])(this,n),a=t.call(this),(0,c["default"])((0,o["default"])(a),"markers",[]),(0,c["default"])((0,o["default"])(a),"markerLayerOption",void 0),(0,c["default"])((0,o["default"])(a),"clusterIndex",void 0),(0,c["default"])((0,o["default"])(a),"points",[]),(0,c["default"])((0,o["default"])(a),"clusterMarkers",[]),(0,c["default"])((0,o["default"])(a),"mapsService",void 0),(0,c["default"])((0,o["default"])(a),"scene",void 0),(0,c["default"])((0,o["default"])(a),"zoom",void 0),(0,c["default"])((0,o["default"])(a),"bbox",void 0),a.markerLayerOption=(0,f["default"])(a.getDefault(),e),(0,d.bindAll)(["update"],(0,o["default"])(a)),a.zoom=(null===(r=a.markerLayerOption.clusterOption)||void 0===r?void 0:r.zoom)||-99,a}return(0,a["default"])(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(e){return this.scene=e,this.mapsService=e.get(p.TYPES.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(e){var t=this.markerLayerOption.cluster;t&&this.addPoint(e,this.markers.length),this.markers.push(e)}},{key:"removeMarker",value:function(e){this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"hide",value:function(){this.markers.map((function(e){e.getElement().style.opacity="0"}))}},{key:"show",value:function(){this.markers.map((function(e){e.getElement().style.opacity="1"}))}},{key:"getMarkers",value:function(){var e=this.markerLayerOption.cluster;return e?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var e=this;this.getMarkers().forEach((function(t){t.addTo(e.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(e){e.remove()})),this.clusterMarkers.forEach((function(e){e.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(e,t){var n=e.getLnglat(),r=n.lng,i=n.lat,a={geometry:{type:"Point",coordinates:[r,i]},properties:g(g({},e.getExtData()),{},{marker_id:t})};this.points.push(a)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var e=this.markerLayerOption.clusterOption,t=e.radius,n=e.minZoom,r=void 0===n?0:n,i=e.maxZoom;this.clusterIndex=new v["default"]({radius:t,minZoom:r,maxZoom:i}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(e,t){var n=this,r=e[0].concat(e[1]),i=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach((function(e){e.remove()})),this.clusterMarkers=[],i.forEach((function(e){var t,r=n.markerLayerOption.clusterOption,i=r.field,a=r.method;if(e.properties&&null!==(t=e.properties)&&void 0!==t&&t.cluster_id){var o,s=n.getLeaves(null===(o=e.properties)||void 0===o?void 0:o.cluster_id);if(e.properties.clusterData=s,i&&a){var u=null===s||void 0===s?void 0:s.map((function(e){var t=(0,c["default"])({},i,e.properties[i]);return t})),l=d.Satistics.getColumn(u,i),f=d.Satistics.getSatByColumn(a,l),p="point_"+a;e.properties[p]=f.toFixed(2)}}var h=n.clusterMarker(e);n.clusterMarkers.push(h),h.addTo(n.scene)}))}},{key:"getLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?this.clusterIndex.getLeaves(e,t,n):null}},{key:"clusterMarker",value:function(e){var t=this.markerLayerOption.clusterOption,n=t,r=n.element,i=void 0===r?this.generateElement.bind(this):r,a=new m["default"]({element:i(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});return a}},{key:"normalMarker",value:function(e){var t=e.properties.marker_id;return this.markers[t]}},{key:"update",value:function(){var e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!(0,d.boundsContains)(this.bbox,t))&&(this.bbox=(0,d.padBounds)(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(e){var t=d.DOM.create("div","l7-marker-cluster"),n=d.DOM.create("div","",t),r=d.DOM.create("span","",n),i=this.markerLayerOption.clusterOption,a=i.field,o=i.method;e.properties.point_count=e.properties.point_count||1;var s=a&&o?e.properties["point_"+o]||e.properties[a]:e.properties.point_count;return r.textContent=s,t}}]),n}(h.EventEmitter);t["default"]=x},FV85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0;var r={Request:"Request",Singleton:"Singleton",Transient:"Transient"};t.BindingScopeEnum=r;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};t.BindingTypeEnum=i;var a={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};t.TargetTypeEnum=a},FWbK:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"drilldown",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:20})});e.on("loaded",(()=>{new o["DrillDownLayer"](e,{viewStart:"Country",viewEnd:"County",provinceData:[{areaCode:"100",govTrans_avgTrdCnt30d:6198254},{areaCode:"102",govTrans_avgTrdCnt30d:1688510},{areaCode:"301",govTrans_avgTrdCnt30d:4710502},{areaCode:"",govTrans_avgTrdCnt30d:8412},{areaCode:"3",govTrans_avgTrdCnt30d:2017222},{areaCode:"101",govTrans_avgTrdCnt30d:3660468},{areaCode:"103",govTrans_avgTrdCnt30d:1748562},{areaCode:"104",govTrans_avgTrdCnt30d:6425560}],provinceStroke:"#333",drillDownTriggerEvent:"dblclick",fill:{color:{field:"REGION_NAME",values:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]}},county:{strokeOpacity:.5,fill:{color:{field:"NAME_CHN",values:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]}}},city:{strokeOpacity:.5,fill:{color:{field:"NAME_CHN",values:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"]}}},onClick:(e,t)=>{console.log("click",e,t)},drillUpEvent:e=>{console.log("drillUpEvent",e)},drillDownEvent:(e,t)=>{console.log(t,e)},popup:{enable:!0,Html:e=>"<span>".concat(e.REGION_NAME,":").concat(e.govTrans_avgTrdCnt30d,"</span>")}})}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"drilldown"}))},FZJm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("UB2w");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},FZtP:function(e,t,n){var r=n("2oRo"),i=n("/byt"),a=n("F8JR"),o=n("kRJp");for(var s in i){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(c){l.forEach=a}}},Ff2n:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("zLVn");function i(e,t){if(null==e)return{};var n,i,a=Object(r["a"])(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},FfOG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("YS25"),i={basename:"/L7-boundary/"};window.routerBase&&(i.basename=window.routerBase);var a=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(r["a"])(i),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(a=Object(r["a"])(i)),a}},FmoU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return x})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return I}));var r=n("Y62N");function i(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,f=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),p=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),h=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),v=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function b(){return P(this).formatHsl()}function _(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?w(t):3===n?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?E(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?E(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=f.exec(e))?new O(t[1],t[2],t[3],1):(t=p.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?E(t[1],t[2],t[3],t[4]):(t=h.exec(e))?E(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=v.exec(e))?M(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?M(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?w(y[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null}function w(e){return new O(e>>16&255,e>>8&255,255&e,1)}function E(e,t,n,r){return r<=0&&(e=t=n=NaN),new O(e,t,n,r)}function S(e){return e instanceof i||(e=x(e)),e?(e=e.rgb(),new O(e.r,e.g,e.b,e.opacity)):new O}function k(e,t,n,r){return 1===arguments.length?S(e):new O(e,t,n,null==r?1:r)}function O(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function T(){return"#"+A(this.r)+A(this.g)+A(this.b)}function C(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function M(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new R(e,t,n,r)}function P(e){if(e instanceof R)return new R(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=x(e)),!e)return new R;if(e instanceof R)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-a,l=(o+a)/2;return u?(s=t===o?(n-r)/u+6*(n<r):n===o?(r-t)/u+2:(t-n)/u+4,u/=l<.5?o+a:2-o-a,s*=60):u=l>0&&l<1?0:s,new R(s,u,l,e.opacity)}function I(e,t,n,r){return 1===arguments.length?P(e):new R(e,t,n,null==r?1:r)}function R(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function j(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(r["a"])(i,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:b,formatRgb:_,toString:_}),Object(r["a"])(O,k,Object(r["b"])(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T,formatHex:T,formatRgb:C,toString:C})),Object(r["a"])(R,I,Object(r["b"])(i,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new R(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new R(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new O(j(e>=240?e-240:e+120,i,r),j(e,i,r),j(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},FpZJ:function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||!0!==a.enumerable)return!1}return!0}},Frqq:function(e,t,n){"use strict";function r(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break;default:}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getUniformLengthByType=r,t.extractUniforms=a;var i=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function a(e){var t={};return e=e.replace(i,(function(e,n,i){var a=i.split(":"),o=a[0].trim(),s="";switch(a.length>1&&(s=a[1].trim()),n){case"bool":s="true"===s;break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s=s?s.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(r(n)).fill(0);break;default:}return t[o]=s,"uniform ".concat(n," ").concat(o,";\n")})),{content:e,uniforms:t}}},"G+Rx":function(e,t,n){var r=n("0GbY");e.exports=r("document","documentElement")},G4nr:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-china-1"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"}),i.a.createElement(o["default"],s["default"]["docs-china-1"].previewerProps,i.a.createElement(u,null)))))},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),a=n("mTTR");function o(e){return r(e,a,i)}e.exports=o},GC2F:function(e,t,n){var r=n("+M1K");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},GDhZ:function(e,t,n){var r=n("wF/u"),i=n("mwIZ"),a=n("hgQt"),o=n("9ggG"),s=n("CMye"),u=n("IOzZ"),l=n("9Nap"),c=1,f=2;function p(e,t){return o(e)&&s(t)?u(l(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,c|f)}}e.exports=p},GG6w:function(e,t,n){},GHoU:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"drilldown",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:3,maxZoom:10})});e.on("loaded",(()=>{var t=new o["DrillDownLayer"](e,{autoFit:!1,data:[],autoUpdateData:!1,type:"DrillDownLayer",joinBy:["NAME_CHN","name"],viewStart:"Country",viewEnd:"City",provinceStroke:"#ccc",cityStroke:"#EBCCB4",cityStrokeWidth:1,fill:{color:"#ccc"},label:{size:12},popup:{enable:!0},bubble:{enable:!0,size:{field:"value",values:[3,20]}},drillUpTriggerEvent:"none",drillDownEvent:(e,n,r)=>{t.drillDown(r,[{name:"\u6210\u90fd\u5e02",value:122},{name:"\u4e50\u5c71\u5e02",value:422},{name:"\u5185\u6c5f\u5e02",value:222}],["NAME_CHN","name"])},province:{data:[{name:"\u4e0a\u6d77\u5e02",value:4161},{name:"\u4e91\u5357\u7701",value:5608},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",value:6090},{name:"\u5317\u4eac\u5e02",value:2367},{name:"\u53f0\u6e7e\u7701",value:3395},{name:"\u5409\u6797\u7701",value:5157},{name:"\u56db\u5ddd\u7701",value:7749},{name:"\u5929\u6d25\u5e02",value:5328},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",value:2900},{name:"\u5b89\u5fbd\u7701",value:4}]}})}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"drilldown"}))},GNiM:function(e,t,n){var r=n("I01J"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},GPqJ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-world"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u6807\u51c6\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u6807\u51c6\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6807\u51c6\u5730\u56fe"),i.a.createElement("h2",{id:"worldlayer-\u4e16\u754c\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#worldlayer-\u4e16\u754c\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"WorldLayer \u4e16\u754c\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-world"].previewerProps,i.a.createElement(u,null)))))},GQRD:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("k1fw"),i=n("9og8"),a=n("WmNS"),o=n.n(a),s=n("rWO2"),u=n("1wtQ"),l=n("AAZ5"),c=n("pd6k");class f extends l["a"]{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.layerType="Country",this.fillRawData=void 0,this.init()}init(){var e=this;return Object(i["a"])(o.a.mark((function t(){var n,r,i,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.options,r=n.depth,i=n.showBorder,t.next=3,e.addProvinceFill();case 3:return t.next=5,e.addProvinceLabel();case 5:if(a=Object(u["a"])(e.options.geoDataLevel).country.CHN[r],!i){t.next=15;break}return t.next=9,e.addProvinceLine(a.provinceLine);case 9:if(2!==r){t.next=12;break}return t.next=12,e.addCityBorder(a.fill);case 12:if(3!==r){t.next=15;break}return t.next=15,e.addCountyBorder(a.fill);case 15:e.emit("loaded"),e.loaded=!0;case 17:case"end":return t.stop()}}),t)})))()}addProvinceFill(){var e=this;return Object(i["a"])(o.a.mark((function t(){var n,r,i,a,s,l;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.options,r=n.depth,i=n.adcode,a=Object(u["a"])(e.options.geoDataLevel).country.CHN[r],t.next=4,e.fetchData(a.fill);case 4:s=t.sent,e.fillRawData=s,l=s,i&&Array.isArray(i)&&0!==i.length&&(l=e.filterData(s,i)),e.fillData=l,e.addFillLayer(l);case 10:case"end":return t.stop()}}),t)})))()}addProvinceLabel(){var e=this;return Object(i["a"])(o.a.mark((function t(){var n,r,i,a,s;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.options.depth,i=Object(u["a"])(e.options.geoDataLevel).country.CHN[r],!i.label){t.next=8;break}return t.next=5,e.fetchData(i.label);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=null;case 9:a=t.t0,a&&null!==(n=e.options.label)&&void 0!==n&&n.enable&&(s=e.getOptions().viewType,"standard"===s?(e.addLabelLayer(a.filter((e=>"\u6fb3\u95e8"!==e.name))),e.addMCLabel()):e.addLabelLayer(a));case 11:case"end":return t.stop()}}),t)})))()}addProvinceLine(e){var t=this;return Object(i["a"])(o.a.mark((function n(){var r,i,a,s,u,l,c;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchData(e);case 2:r=n.sent,i=r.features.filter((e=>{var t=e.properties.type;return"1"===t})),a=r.features.filter((e=>{var t=e.properties.type;return"4"===t})),s={type:"FeatureCollection",features:i},u={type:"FeatureCollection",features:a},l=r.features.filter((e=>{var t=e.properties.type;return"1"!==t&&"4"!==t})),c={type:"FeatureCollection",features:l},t.addNationBorder(c,s,u);case 10:case"end":return n.stop()}}),n)})))()}addNormalProvinceLine(e){return Object(i["a"])(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}addNationBorder(e,t,n){var r=this;return Object(i["a"])(o.a.mark((function i(){var a,u,l,c,f,p,d,h,v,m,y,g,b;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=r.options,a.nationalStroke,u=a.provinceStroke,l=a.provinceStrokeWidth,a.nationalWidth,c=a.chinaNationalStroke,f=a.chinaNationalWidth,p=a.coastlineStroke,d=a.coastlineWidth,h=a.showBorder,a.stroke,a.strokeWidth,v=a.visible,m=a.zIndex,a.strokeOpacity,y=new s["LineLayer"]({zIndex:m+.1,visible:v&&h}).source(e).size("type",(e=>"3"===e?l:"2"===e?d:"0"===e?f:"#fff")).shape("line").color("type",(e=>"3"===e?u:"2"===e?p:"0"===e?c:"#fff")),g=new s["LineLayer"]({zIndex:m+.1,visible:v&&h}).source(t).size(f).shape("line").color(c).style({lineType:"dash",dashArray:[2,2]}),b=new s["LineLayer"]({zIndex:m+.1,visible:v&&h}).source(n).size(l).shape("line").color(u).style({lineType:"dash",dashArray:[4,2,2,2]}),r.scene.addLayer(y),r.scene.addLayer(g),r.scene.addLayer(b),r.layers.push(y,g,b);case 8:case"end":return i.stop()}}),i)})))()}addCityBorder(e){var t=this;return Object(i["a"])(o.a.mark((function n(){var r,i,a,u,l,c,f;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchData(e);case 2:r=n.sent,i=t.options,a=i.cityStroke,u=i.cityStrokeWidth,l=i.visible,c=i.strokeOpacity,f=new s["LineLayer"]({zIndex:2,visible:l}).source(r).color(a).size(u).style({opacity:c}),t.scene.addLayer(f),t.layers.push(f);case 7:case"end":return n.stop()}}),n)})))()}addCountyBorder(e){var t=this;return Object(i["a"])(o.a.mark((function n(){var r,i,a,u,l,c,f;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fetchData(e);case 2:r=n.sent,i=t.options,a=i.countyStrokeWidth,u=i.countyStroke,l=i.visible,c=i.strokeOpacity,f=new s["LineLayer"]({zIndex:2,visible:l}).source(r).color(u).size(a).style({opacity:c}),t.scene.addLayer(f),t.layers.push(f);case 7:case"end":return n.stop()}}),n)})))()}addMCLabel(){var e=[{name:"\u6fb3\u95e8",center:[113.537747,22.187009]}],t=this.addText(e,{maxZoom:2.9},[-45,-10]),n=this.addText(e,{minZoom:3,maxZoom:4},[-35,-10]),r=this.addText(e,{minZoom:4.1},[0,0]);this.scene.addLayer(r),this.scene.addLayer(t),this.scene.addLayer(n),this.layers.push(r,t,n)}filterData(e,t){var n=Array.isArray(t)?t:[t],r=e.features.filter((e=>{var t=e.properties,r=t.REGION_CODE,i=t.adcode_pro;return-1!==n.indexOf("86")||-1!==n.indexOf(86)||-1!==n.indexOf(r)||-1!==n.indexOf(""+r)||-1!==n.indexOf(i)||-1!==n.indexOf(""+i)}));return{type:"FeatureCollection",features:r}}addText(e,t,n){var i=this.options,a=i.label,o=i.zIndex,u=i.visible,l=new s["PointLayer"](Object(r["a"])({zIndex:o+.4,visible:u},t)).source(e,{parser:{type:"json",coordinates:"center"}}).color(a.color).shape("name","text").size(a.size).style({opacity:a.opacity,stroke:a.stroke,strokeWidth:a.strokeWidth,textAllowOverlap:a.textAllowOverlap,textOffset:n});return l}addRegionLabel(){Object.values(c["b"]).map((e=>e))}}},GSMU:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getImage=t.getArrayBuffer=t.getJSON=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("oShl")),f=r(n("lSNA"));function p(e){var t=d();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){(0,s["default"])(n,e);var t=p(n);function n(e,r,a){var s;return(0,i["default"])(this,n),s=t.call(this,e),(0,f["default"])((0,o["default"])(s),"status",void 0),(0,f["default"])((0,o["default"])(s),"url",void 0),s.status=r,s.url=a,s.name=s.constructor.name,s.message=e,s}return(0,a["default"])(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}((0,c["default"])(Error));function v(e){var t=new XMLHttpRequest;for(var n in t.open("GET",e.url,!0),e.headers)e.headers.hasOwnProperty(n)&&t.setRequestHeader(n,e.headers[n]);return t.withCredentials="include"===e.credentials,t}var m=function(e,t){var n=v(e);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var r;try{r=JSON.parse(n.response)}catch(i){return t(i)}t(null,r)}else 401===n.status?t(new h("".concat(n.statusText),n.status,e.url)):t(new h(n.statusText,n.status,e.url))},n.send(),n};t.getJSON=m;var y=function(e,t){var n=v(e);return n.responseType="arraybuffer",n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return t(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?t(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new h(n.statusText,n.status,e.url))},n.send(),n};t.getArrayBuffer=y;var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",b=function(e,t){return y(e,(function(e,n){if(e)t(e);else if(n){var r=new window.Image;r.crossOrigin="anonymous";var i=window.URL||window.webkitURL;r.onload=function(){t(null,r),i.revokeObjectURL(r.src)};var a=new window.Blob([new Uint8Array(n.data)],{type:"image/png"});r.src=n.data.byteLength?i.createObjectURL(a):g}}))};t.getImage=b},"GU+X":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("gHHc"),l=n("4cb6");n("mNvP");var c=(i=(0,l.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(e){e.registerStyleAttribute({name:"position",type:u.AttributeType.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:u.gl.FLOAT},size:3,update:function(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),e.registerStyleAttribute({name:"filter",type:u.AttributeType.Attribute,descriptor:{name:"filter",buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:function(e,t){var n=e.filter;return n?[1]:[0]}}}),e.registerStyleAttribute({name:"color",type:u.AttributeType.Attribute,descriptor:{name:"a_Color",buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:4,update:function(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}}}),e.registerStyleAttribute({name:"vertexId",type:u.AttributeType.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:u.gl.DYNAMIC_DRAW,data:[],type:u.gl.FLOAT},size:1,update:function(e,t,n,r){return[t]}}})}}]),e}())||a);t["default"]=c},GXnB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n("xfSm"),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},GXvd:function(e,t,n){var r=n("dG/n");r("species")},GarU:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},GdC1:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.cullFaceMap=t.stencilOpMap=t.stencilFuncMap=t.blendFuncMap=t.blendEquationMap=t.depthFuncMap=t.colorSpaceMap=t.wrapModeMap=t.filterMap=t.mipmapMap=t.formatMap=t.dataTypeMap=t.usageMap=t.primitiveMap=void 0;var i,a,o,s,u,l,c,f,p,d,h,v,m,y,g=r(n("lSNA")),b=n("gHHc"),_=(i={},(0,g["default"])(i,b.gl.POINTS,"points"),(0,g["default"])(i,b.gl.LINES,"lines"),(0,g["default"])(i,b.gl.LINE_LOOP,"line loop"),(0,g["default"])(i,b.gl.LINE_STRIP,"line strip"),(0,g["default"])(i,b.gl.TRIANGLES,"triangles"),(0,g["default"])(i,b.gl.TRIANGLE_FAN,"triangle fan"),(0,g["default"])(i,b.gl.TRIANGLE_STRIP,"triangle strip"),i);t.primitiveMap=_;var x=(a={},(0,g["default"])(a,b.gl.STATIC_DRAW,"static"),(0,g["default"])(a,b.gl.DYNAMIC_DRAW,"dynamic"),(0,g["default"])(a,b.gl.STREAM_DRAW,"stream"),a);t.usageMap=x;var w=(o={},(0,g["default"])(o,b.gl.BYTE,"int8"),(0,g["default"])(o,b.gl.UNSIGNED_INT,"int16"),(0,g["default"])(o,b.gl.INT,"int32"),(0,g["default"])(o,b.gl.UNSIGNED_BYTE,"uint8"),(0,g["default"])(o,b.gl.UNSIGNED_SHORT,"uint16"),(0,g["default"])(o,b.gl.UNSIGNED_INT,"uint32"),(0,g["default"])(o,b.gl.FLOAT,"float"),o);t.dataTypeMap=w;var E=(s={},(0,g["default"])(s,b.gl.ALPHA,"alpha"),(0,g["default"])(s,b.gl.LUMINANCE,"luminance"),(0,g["default"])(s,b.gl.LUMINANCE_ALPHA,"luminance alpha"),(0,g["default"])(s,b.gl.RGB,"rgb"),(0,g["default"])(s,b.gl.RGBA,"rgba"),(0,g["default"])(s,b.gl.RGBA4,"rgba4"),(0,g["default"])(s,b.gl.RGB5_A1,"rgb5 a1"),(0,g["default"])(s,b.gl.RGB565,"rgb565"),(0,g["default"])(s,b.gl.DEPTH_COMPONENT,"depth"),(0,g["default"])(s,b.gl.DEPTH_STENCIL,"depth stencil"),s);t.formatMap=E;var S=(u={},(0,g["default"])(u,b.gl.DONT_CARE,"dont care"),(0,g["default"])(u,b.gl.NICEST,"nice"),(0,g["default"])(u,b.gl.FASTEST,"fast"),u);t.mipmapMap=S;var k=(l={},(0,g["default"])(l,b.gl.NEAREST,"nearest"),(0,g["default"])(l,b.gl.LINEAR,"linear"),(0,g["default"])(l,b.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,g["default"])(l,b.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,g["default"])(l,b.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,g["default"])(l,b.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),l);t.filterMap=k;var O=(c={},(0,g["default"])(c,b.gl.REPEAT,"repeat"),(0,g["default"])(c,b.gl.CLAMP_TO_EDGE,"clamp"),(0,g["default"])(c,b.gl.MIRRORED_REPEAT,"mirror"),c);t.wrapModeMap=O;var T=(f={},(0,g["default"])(f,b.gl.NONE,"none"),(0,g["default"])(f,b.gl.BROWSER_DEFAULT_WEBGL,"browser"),f);t.colorSpaceMap=T;var C=(p={},(0,g["default"])(p,b.gl.NEVER,"never"),(0,g["default"])(p,b.gl.ALWAYS,"always"),(0,g["default"])(p,b.gl.LESS,"less"),(0,g["default"])(p,b.gl.LEQUAL,"lequal"),(0,g["default"])(p,b.gl.GREATER,"greater"),(0,g["default"])(p,b.gl.GEQUAL,"gequal"),(0,g["default"])(p,b.gl.EQUAL,"equal"),(0,g["default"])(p,b.gl.NOTEQUAL,"notequal"),p);t.depthFuncMap=C;var A=(d={},(0,g["default"])(d,b.gl.FUNC_ADD,"add"),(0,g["default"])(d,b.gl.MIN_EXT,"min"),(0,g["default"])(d,b.gl.MAX_EXT,"max"),(0,g["default"])(d,b.gl.FUNC_SUBTRACT,"subtract"),(0,g["default"])(d,b.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),d);t.blendEquationMap=A;var M=(h={},(0,g["default"])(h,b.gl.ZERO,"zero"),(0,g["default"])(h,b.gl.ONE,"one"),(0,g["default"])(h,b.gl.SRC_COLOR,"src color"),(0,g["default"])(h,b.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,g["default"])(h,b.gl.SRC_ALPHA,"src alpha"),(0,g["default"])(h,b.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,g["default"])(h,b.gl.DST_COLOR,"dst color"),(0,g["default"])(h,b.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,g["default"])(h,b.gl.DST_ALPHA,"dst alpha"),(0,g["default"])(h,b.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,g["default"])(h,b.gl.CONSTANT_COLOR,"constant color"),(0,g["default"])(h,b.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,g["default"])(h,b.gl.CONSTANT_ALPHA,"constant alpha"),(0,g["default"])(h,b.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,g["default"])(h,b.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),h);t.blendFuncMap=M;var P=(v={},(0,g["default"])(v,b.gl.NEVER,"never"),(0,g["default"])(v,b.gl.ALWAYS,"always"),(0,g["default"])(v,b.gl.LESS,"less"),(0,g["default"])(v,b.gl.LEQUAL,"lequal"),(0,g["default"])(v,b.gl.GREATER,"greater"),(0,g["default"])(v,b.gl.GEQUAL,"gequal"),(0,g["default"])(v,b.gl.EQUAL,"equal"),(0,g["default"])(v,b.gl.NOTEQUAL,"notequal"),v);t.stencilFuncMap=P;var I=(m={},(0,g["default"])(m,b.gl.ZERO,"zero"),(0,g["default"])(m,b.gl.KEEP,"keep"),(0,g["default"])(m,b.gl.REPLACE,"replace"),(0,g["default"])(m,b.gl.INVERT,"invert"),(0,g["default"])(m,b.gl.INCR,"increment"),(0,g["default"])(m,b.gl.DECR,"decrement"),(0,g["default"])(m,b.gl.INCR_WRAP,"increment wrap"),(0,g["default"])(m,b.gl.DECR_WRAP,"decrement wrap"),m);t.stencilOpMap=I;var R=(y={},(0,g["default"])(y,b.gl.FRONT,"front"),(0,g["default"])(y,b.gl.BACK,"back"),y);t.cullFaceMap=R},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7"),a="[object Map]";function o(e){return i(e)&&r(e)==a}e.exports=o},Gl9S:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"framebuffer",void 0);var r=n.width,a=n.height,s=n.color,u=n.colors,l=(n.depth,n.stencil,{width:r,height:a});Array.isArray(u)&&(l.colors=u.map((function(e){return e.get()}))),s&&"boolean"!==typeof s&&(l.color=s.get()),this.framebuffer=t.framebuffer(l)}return(0,a["default"])(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}();t["default"]=s},GoyQ:function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},Gytx:function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var l=a[u];if(!s(l))return!1;var c=e[l],f=t[l];if(i=n?n.call(r,c,f,l):void 0,!1===i||void 0===i&&c!==f)return!1}return!0}},"H+LF":function(e,t,n){"use strict";var r=n("bWFh"),i=n("rKzb");r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},H1Ra:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),a=function(){var e=0,t={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content),e.alias):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(t){return t["__id"]||Object.defineProperty(t,"__id",{value:++e}),t["__id"]},clone:function(e,n){var r=t.util.type(e);switch(n=n||{},r){case"Object":if(n[t.util.objId(e)])return n[t.util.objId(e)];a={};for(var i in n[t.util.objId(e)]=a,e)e.hasOwnProperty(i)&&(a[i]=t.util.clone(e[i],n));return a;case"Array":if(n[t.util.objId(e)])return n[t.util.objId(e)];var a=[];return n[t.util.objId(e)]=a,e.forEach((function(e,r){a[r]=t.util.clone(e,n)})),a}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var a=i[e];if(2==arguments.length){for(var o in r=arguments[1],r)r.hasOwnProperty(o)&&(a[o]=r[o]);return a}var s={};for(var u in a)if(a.hasOwnProperty(u)){if(u==n)for(var o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);s[u]=a[u]}return t.languages.DFS(t.languages,(function(t,n){n===i[e]&&t!=e&&(this[t]=s)})),i[e]=s},DFS:function(e,n,r,i){for(var a in i=i||{},e)e.hasOwnProperty(a)&&(n.call(e,a,e[a],r||a),"Object"!==t.util.type(e[a])||i[t.util.objId(e[a])]?"Array"!==t.util.type(e[a])||i[t.util.objId(e[a])]||(i[t.util.objId(e[a])]=!0,t.languages.DFS(e[a],n,a,i)):(i[t.util.objId(e[a])]=!0,t.languages.DFS(e[a],n,null,i)))}},plugins:{},highlight:function(e,r,i){var a={code:e,grammar:r,language:i};return t.hooks.run("before-tokenize",a),a.tokens=t.tokenize(a.code,a.grammar),t.hooks.run("after-tokenize",a),n.stringify(t.util.encode(a.tokens),a.language)},matchGrammar:function(e,n,r,i,a,o,s){var u=t.Token;for(var l in r)if(r.hasOwnProperty(l)&&r[l]){if(l==s)return;var c=r[l];c="Array"===t.util.type(c)?c:[c];for(var f=0;f<c.length;++f){var p=c[f],d=p.inside,h=!!p.lookbehind,v=!!p.greedy,m=0,y=p.alias;if(v&&!p.pattern.global){var g=p.pattern.toString().match(/[imuy]*$/)[0];p.pattern=RegExp(p.pattern.source,g+"g")}p=p.pattern||p;for(var b=i,_=a;b<n.length;_+=n[b].length,++b){var x=n[b];if(n.length>e.length)return;if(!(x instanceof u)){if(v&&b!=n.length-1){p.lastIndex=_;var w=p.exec(e);if(!w)break;for(var E=w.index+(h?w[1].length:0),S=w.index+w[0].length,k=b,O=_,T=n.length;k<T&&(O<S||!n[k].type&&!n[k-1].greedy);++k)O+=n[k].length,E>=O&&(++b,_=O);if(n[b]instanceof u)continue;C=k-b,x=e.slice(_,O),w.index-=_}else{p.lastIndex=0;w=p.exec(x);var C=1}if(w){h&&(m=w[1]?w[1].length:0);E=w.index+m,w=w[0].slice(m),S=E+w.length;var A=x.slice(0,E),M=x.slice(S),P=[b,C];A&&(++b,_+=A.length,P.push(A));var I=new u(l,d?t.tokenize(w,d):w,y,w,v);if(P.push(I),M&&P.push(M),Array.prototype.splice.apply(n,P),1!=C&&t.matchGrammar(e,n,r,b,_,!0,l),o)break}else if(o)break}}}}},hooks:{add:function(){},run:function(e,t){}},tokenize:function(e,n,r){var i=[e],a=n.rest;if(a){for(var o in a)n[o]=a[o];delete n.rest}return t.matchGrammar(e,i,n,0,0,!1),i}},n=t.Token=function(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i};return n.stringify=function(e,r,i){if("string"==typeof e)return e;if("Array"===t.util.type(e))return e.map((function(t){return n.stringify(t,r,e)})).join("");var a={type:e.type,content:n.stringify(e.content,r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};if(e.alias){var o="Array"===t.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(a.classes,o)}var s=Object.keys(a.attributes).map((function(e){return e+'="'+(a.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+(s?" "+s:"")+">"+a.content+"</"+a.tag+">"},t}();a.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},a.languages.markup["tag"].inside["attr-value"].inside["entity"]=a.languages.markup["entity"],a.languages.markup["doctype"].inside["internal-subset"].inside=a.languages.markup,a.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(a.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:a.languages[t]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:a.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},a.languages.insertBefore("markup","cdata",i)}}),a.languages.html=a.languages.markup,a.languages.mathml=a.languages.markup,a.languages.svg=a.languages.markup,a.languages.xml=a.languages.extend("markup",{}),a.languages.ssml=a.languages.xml,a.languages.atom=a.languages.xml,a.languages.rss=a.languages.xml,function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:r}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],a=r.variable[1].inside,o=0;o<i.length;o++)a[i[o]]=e.languages.bash[i[o]];e.languages.shell=e.languages.bash}(a),a.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},a.languages.c=a.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),a.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},a.languages.c["string"]],comment:a.languages.c["comment"],"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:a.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete a.languages.c["boolean"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),e.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(a),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:e.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(a),function(e){var t,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css.selector={pattern:e.languages.css.selector,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css["atrule"].inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+\b)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#(?:[\da-f]{1,2}){3,4}\b/i,alias:"color"},color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(a),a.languages.javascript=a.languages.extend("clike",{"class-name":[a.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),a.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,a.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:a.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:a.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:a.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:a.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:a.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),a.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:a.languages.javascript}},string:/[\s\S]+/}}}),a.languages.markup&&a.languages.markup.tag.addInlined("script","javascript"),a.languages.js=a.languages.javascript,function(e){var t=e.util.clone(e.languages.javascript);e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+(?:\s+(?:[\w.:$-]+(?:=(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s{'">=]+|\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/i,e.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/i,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s'">]+)/i,e.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},e.languages.jsx.tag),e.languages.insertBefore("inside","attr-value",{script:{pattern:/=(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:e.languages.jsx},alias:"language-javascript"}},e.languages.jsx.tag);var n=function e(t){return t?"string"===typeof t?t:"string"===typeof t.content?t.content:t.content.map(e).join(""):""},r=function t(r){for(var i=[],a=0;a<r.length;a++){var o=r[a],s=!1;if("string"!==typeof o&&("tag"===o.type&&o.content[0]&&"tag"===o.content[0].type?"</"===o.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===n(o.content[0].content[1])&&i.pop():"/>"===o.content[o.content.length-1].content||i.push({tagName:n(o.content[0].content[1]),openedBraces:0}):i.length>0&&"punctuation"===o.type&&"{"===o.content?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===o.type&&"}"===o.content?i[i.length-1].openedBraces--:s=!0),(s||"string"===typeof o)&&i.length>0&&0===i[i.length-1].openedBraces){var u=n(o);a<r.length-1&&("string"===typeof r[a+1]||"plain-text"===r[a+1].type)&&(u+=n(r[a+1]),r.splice(a+1,1)),a>0&&("string"===typeof r[a-1]||"plain-text"===r[a-1].type)&&(u=n(r[a-1])+u,r.splice(a-1,1),a--),r[a]=new e.Token("plain-text",u,null,u)}o.content&&"string"!==typeof o.content&&t(o.content)}};e.hooks.add("after-tokenize",(function(e){"jsx"!==e.language&&"tsx"!==e.language||r(e.tokens)}))}(a),function(e){function t(e,t){return RegExp(e.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),t)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|for|finally|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],a=e.languages.javascript[i];"RegExp"===e.util.type(a)&&(a=e.languages.javascript[i]={pattern:a});var o=a.inside||{};a.inside=o,o["maybe-class-name"]=/^[A-Z][\s\S]*/}}(a),function(e){var t=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:n}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(a),function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(a),a.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},a.languages.go=a.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete a.languages.go["class-name"],a.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:a.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,a){if(n.language===r){var o=n.tokenStack=[];n.code=n.code.replace(i,(function(e){if("function"===typeof a&&!a(e))return e;var i,s=o.length;while(-1!==n.code.indexOf(i=t(r,s)))++s;return o[s]=e,i})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var i=0,a=Object.keys(n.tokenStack);o(n.tokens)}function o(s){for(var u=0;u<s.length;u++){if(i>=a.length)break;var l=s[u];if("string"===typeof l||l.content&&"string"===typeof l.content){var c=a[i],f=n.tokenStack[c],p="string"===typeof l?l:l.content,d=t(r,c),h=p.indexOf(d);if(h>-1){++i;var v=p.substring(0,h),m=new e.Token(r,e.tokenize(f,n.grammar),"language-"+r,f),y=p.substring(h+d.length),g=[];v&&g.push.apply(g,o([v])),g.push(m),y&&g.push.apply(g,o([y])),"string"===typeof l?s.splice.apply(s,[u,1].concat(g)):l.content=g}}else l.content&&o(l.content)}return s}}}})}(a),function(e){e.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},e.hooks.add("before-tokenize",(function(t){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;e.languages["markup-templating"].buildPlaceholders(t,"handlebars",n)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"handlebars")}))}(a),a.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},a.languages.webmanifest=a.languages.json,a.languages.less=a.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/}),a.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),a.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?!\n|\r\n?))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+a+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+a+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){function t(e){if(e&&"string"!==typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var a=i.content[1],o=i.content[3];if(a&&o&&"code-language"===a.type&&"code-block"===o.type&&"string"===typeof a.content){var s=a.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase();var u="language-"+s;o.alias?"string"===typeof o.alias?o.alias=[o.alias,u]:o.alias.push(u):o.alias=[u]}}else t(i.content)}}"markdown"!==e.language&&"md"!==e.language||t(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var a=t.classes[r],o=/language-(.+)/.exec(a);if(o){n=o[1];break}}var s=e.languages[n];if(s){var u=t.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");t.content=e.highlight(u,s,n)}else if(n&&"none"!==n&&e.plugins.autoloader){var l="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes["id"]=l,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(l);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}})),e.languages.md=e.languages.markdown}(a),a.languages.objectivec=a.languages.extend("c",{string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete a.languages.objectivec["class-name"],a.languages.objc=a.languages.objectivec,a.languages.ocaml={comment:/\(\*[\s\S]*?\*\)/,string:[{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},{pattern:/(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,greedy:!0}],number:/\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?[\d_]+)?)/i,directive:{pattern:/\B#\w+/,alias:"important"},label:{pattern:/\B~\w+/,alias:"function"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"variable"},module:{pattern:/\b[A-Z]\w+/,alias:"variable"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,operator:/:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/[(){}\[\]|.,:;]|\b_\b/},a.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},a.languages.python["string-interpolation"].inside["interpolation"].inside.rest=a.languages.python,a.languages.py=a.languages.python,a.languages.reason=a.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/}),a.languages.insertBefore("reason","class-name",{character:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,alias:"string"},constructor:{pattern:/\b[A-Z]\w*\b(?!\s*\.)/,alias:"variable"},label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete a.languages.reason["function"],function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/,lookbehind:!0}})}(a),a.languages.scss=a.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),a.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|forward|for|each|while|import|use|extend|debug|warn|mixin|include|function|return|content)\b/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),a.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),a.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|with|show|hide)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),a.languages.scss["atrule"].inside.rest=a.languages.scss,a.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/url\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:r}},r["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},e.languages.stylus={"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(a),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete e.languages.typescript["parameter"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(a),function(e){var t=e.util.clone(e.languages.typescript);e.languages.tsx=e.languages.extend("jsx",t);var n=e.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(a),a.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),a=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function o(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+a+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:o(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:o(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:o(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:o(a),lookbehind:!0,greedy:!0},number:{pattern:o(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(a);var o=a,s={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},u=s,l={Prism:o,theme:u};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},h=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},v=function(e){var t=[[]],n=[e],r=[0],i=[e.length],a=0,o=0,s=[],u=[s];while(o>-1){while((a=r[o]++)<i[o]){var l=void 0,c=t[o],f=n[o],v=f[a];if("string"===typeof v?(c=o>0?c:["plain"],l=v):(c=h(c,v.type),v.alias&&(c=h(c,v.alias)),l=v.content),"string"===typeof l){var m=l.split(p),y=m.length;s.push({types:c,content:m[0]});for(var g=1;g<y;g++)d(s),u.push(s=[]),s.push({types:c,content:m[g]})}else o++,t.push(c),n.push(l),r.push(0),i.push(l.length)}o--,t.pop(),n.pop(),r.pop(),i.pop()}return d(s),u},m=function(e,t){var n=e.plain,r=Object.create(null),i=e.styles.reduce((function(e,n){var r=n.languages,i=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=f({},e[t],i);e[t]=n})),e}),r);return i.root=n,i.plain=f({},n,{backgroundColor:null}),i};function y(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var g=function(e){function t(){var t=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];e.apply(this,n),c(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?m(e.theme,e.language):void 0;return t.themeDict=n})),c(this,"getLineProps",(function(e){var n=e.key,r=e.className,i=e.style,a=y(e,["key","className","style","line"]),o=a,s=f({},o,{className:"token-line",style:void 0,key:void 0}),u=t.getThemeDict(t.props);return void 0!==u&&(s.style=u.plain),void 0!==i&&(s.style=void 0!==s.style?f({},s.style,i):i),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),c(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,i=n.length,a=t.getThemeDict(t.props);if(void 0!==a){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return a[n[0]];var o=r?{display:"inline-block"}:{},s=n.map((function(e){return a[e]}));return Object.assign.apply(Object,[o].concat(s))}})),c(this,"getTokenProps",(function(e){var n=e.key,r=e.className,i=e.style,a=e.token,o=y(e,["key","className","style","token"]),s=o,u=f({},s,{className:"token "+a.types.join(" "),children:a.content,style:t.getStyleForToken(a),key:void 0});return void 0!==i&&(u.style=void 0!==u.style?f({},u.style,i):i),void 0!==n&&(u.key=n),r&&(u.className+=" "+r),u})),c(this,"tokenize",(function(e,t,n,r){var i={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",i);var a=i.tokens=e.tokenize(i.code,i.grammar,i.language);return e.hooks.run("after-tokenize",i),a}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,i=e.children,a=this.getThemeDict(this.props),o=t.languages[n],s=void 0!==o?this.tokenize(t,r,o,n):[r],u=v(s);return i({tokens:u,className:"prism-code language-"+n,style:void 0!==a?a.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(r["Component"]),b=g,_=n("dEAq");n("qHiR"),n("foS9");function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function w(e,t){return T(e)||O(e,t)||S(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function T(e){if(Array.isArray(e))return e}t["a"]=function(e){var t=e.code,n=e.lang,r=e.showCopy,a=void 0===r||r,o=Object(_["useCopy"])(),s=w(o,2),u=s[0],c=s[1];return i.a.createElement("div",{className:"__dumi-default-code-block"},i.a.createElement(b,x({},l,{code:t,language:n,theme:void 0}),(function(e){var n=e.className,r=e.style,o=e.tokens,s=e.getLineProps,l=e.getTokenProps;return i.a.createElement("pre",{className:n,style:r},a&&i.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":c,onClick:function(){return u(t)}}),o.map((function(e,t){return i.a.createElement("div",s({line:e,key:t}),e.map((function(e,t){return i.a.createElement("span",l({token:e,key:t}))})))})))})))}},H84U:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return w}));var r=n("wx14"),i=n("q1tI"),a=n("rePB"),o=n("TSYQ"),s=n.n(o),u=n("YMnH"),l=function(){var e=i["useContext"](x),t=e.getPrefixCls,n=t("empty-img-default");return i["createElement"]("svg",{className:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{fill:"none",fillRule:"evenodd"},i["createElement"]("g",{transform:"translate(24 31.67)"},i["createElement"]("ellipse",{className:"".concat(n,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),i["createElement"]("path",{className:"".concat(n,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),i["createElement"]("path",{className:"".concat(n,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),i["createElement"]("path",{className:"".concat(n,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),i["createElement"]("path",{className:"".concat(n,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),i["createElement"]("path",{className:"".concat(n,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),i["createElement"]("g",{className:"".concat(n,"-g"),transform:"translate(149.65 15.383)"},i["createElement"]("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),i["createElement"]("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},c=l,f=function(){var e=i["useContext"](x),t=e.getPrefixCls,n=t("empty-img-simple");return i["createElement"]("svg",{className:n,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},i["createElement"]("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},i["createElement"]("ellipse",{className:"".concat(n,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),i["createElement"]("g",{className:"".concat(n,"-g"),fillRule:"nonzero"},i["createElement"]("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),i["createElement"]("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(n,"-path")}))))},p=f,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},h=i["createElement"](c,null),v=i["createElement"](p,null),m=function(e){var t=e.className,n=e.prefixCls,o=e.image,l=void 0===o?h:o,c=e.description,f=e.children,p=e.imageStyle,m=d(e,["className","prefixCls","image","description","children","imageStyle"]),y=i["useContext"](x),g=y.getPrefixCls,b=y.direction;return i["createElement"](u["a"],{componentName:"Empty"},(function(e){var o,u=g("empty",n),d="undefined"!==typeof c?c:e.description,h="string"===typeof d?d:"empty",y=null;return y="string"===typeof l?i["createElement"]("img",{alt:h,src:l}):l,i["createElement"]("div",Object(r["a"])({className:s()(u,(o={},Object(a["a"])(o,"".concat(u,"-normal"),l===v),Object(a["a"])(o,"".concat(u,"-rtl"),"rtl"===b),o),t)},m),i["createElement"]("div",{className:"".concat(u,"-image"),style:p},y),d&&i["createElement"]("div",{className:"".concat(u,"-description")},d),f&&i["createElement"]("div",{className:"".concat(u,"-footer")},f))}))};m.PRESENTED_IMAGE_DEFAULT=h,m.PRESENTED_IMAGE_SIMPLE=v;var y=m,g=function(e){return i["createElement"](w,null,(function(t){var n=t.getPrefixCls,r=n("empty");switch(e){case"Table":case"List":return i["createElement"](y,{image:y.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return i["createElement"](y,{image:y.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return i["createElement"](y,null)}}))},b=g,_=function(e,t){return t||(e?"ant-".concat(e):"ant")},x=i["createContext"]({getPrefixCls:_,renderEmpty:b}),w=x.Consumer},H8j4:function(e,t,n){var r=n("QkVE");function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HDyB:function(e,t,n){var r=n("nmnc"),i=n("JHRd"),a=n("ljhN"),o=n("or5M"),s=n("7fqy"),u=n("rEGp"),l=1,c=2,f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,E=w?w.valueOf:void 0;function S(e,t,n,r,w,S,k){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case f:case p:case v:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case h:var O=s;case y:var T=r&l;if(O||(O=u),e.size!=t.size&&!T)return!1;var C=k.get(e);if(C)return C==t;r|=c,k.set(e,t);var A=o(O(e),O(t),r,w,S,k);return k["delete"](e),A;case b:if(E)return E.call(e)==E.call(t)}return!1}e.exports=S},HH4o:function(e,t,n){var r=n("tiKp"),i=r("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(u){}return n}},HNyW:function(e,t,n){var r=n("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},HOxn:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),a=r(i,"Promise");e.exports=a},HYAF:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},Hd5f:function(e,t,n){var r=n("0Dky"),i=n("tiKp"),a=n("LQDL"),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},HiXI:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").end,a=n("yNLB"),o=a("trimEnd"),s=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:s,trimRight:s})},HlQe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=f(i),o=n("/FUP"),s=f(o),u=n("srvI"),l=c(u);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.Hue=function(e){function t(){var e,n,r,i;p(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n=r,r.handleChange=function(e){var t=l.calculateChange(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},i=n,d(r,i)}return h(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,s["default"])({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return a["default"].createElement("div",{style:r.hue},a["default"].createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a["default"].createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a["default"].createElement("div",{style:r.pointer},this.props.pointer?a["default"].createElement(this.props.pointer,this.props):a["default"].createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t["default"]=v},"Hn/y":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("iWIM")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=r(n("LgV6"));function d(e){var t=h();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=.1;function m(e,t){return Math.log(e/t)/Math.LN2}var y=function(e){(0,u["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,f["default"])((0,o["default"])(e),"distance",void 0),(0,f["default"])((0,o["default"])(e),"startDistance",void 0),e}return(0,a["default"])(n,[{key:"reset",value:function(){(0,s["default"])((0,c["default"])(n.prototype),"reset",this).call(this),delete this.distance,delete this.startDistance}},{key:"start",value:function(e){this.startDistance=this.distance=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.distance;if(this.distance=e[0].dist(e[1]),this.active||!(Math.abs(m(this.distance,this.startDistance))<v))return this.active=!0,{zoomDelta:m(this.distance,n),pinchAround:t}}}]),n}(p["default"]);t["default"]=y},HpQ9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var r=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=r},Hpg4:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("gHHc"),u=n("GdC1"),l=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"buffer",void 0);var r=n.data,a=n.usage,l=n.type;this.buffer=t.buffer({data:r,usage:u.usageMap[a||s.gl.STATIC_DRAW],type:u.dataTypeMap[l||s.gl.UNSIGNED_BYTE]})}return(0,a["default"])(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}();t["default"]=l},HsHA:function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},Hvzi:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},HwBb:function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return 1*t}function i(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return 1*t}function a(e){if(0===e.length)return 0;for(var t=1*e[0],n=1;n<e.length;n++)t+=1*e[n];return t}function o(e){if(0===e.length)throw new Error("mean requires at least one data point");return a(e)/e.length}function s(e){if(0===e.length)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var t=e[0],n=NaN,r=0,i=1,a=1;a<e.length+1;a++)e[a]!==t?(i>r&&(r=i,n=t),i=1,t=e[a]):i++;return 1*n}Object.defineProperty(t,"__esModule",{value:!0}),t.sum=a,t.max=r,t.min=i,t.mean=o,t.mode=s,t.getColumn=l,t.getSatByColumn=c,t.statMap=void 0;var u={min:i,max:r,mean:o,sum:a,mode:s};function l(e,t){return e.map((function(e){return e[t]}))}function c(e,t){return u[e](t)}t.statMap=u},"I+eb":function(e,t,n){var r=n("2oRo"),i=n("Bs8V").f,a=n("kRJp"),o=n("busE"),s=n("zk60"),u=n("6JNq"),l=n("lMq5");e.exports=function(e,t){var n,c,f,p,d,h,v=e.target,m=e.global,y=e.stat;if(c=m?r:y?r[v]||s(v,{}):(r[v]||{}).prototype,c)for(f in t){if(d=t[f],e.noTargetGet?(h=i(c,f),p=h&&h.value):p=c[f],n=l(m?f:v+(y?".":"#")+f,e.forced),!n&&void 0!==p){if(typeof d===typeof p)continue;u(d,p)}(e.sham||p&&p.sham)&&a(d,"sham",!0),o(c,f,d,e)}}},I01J:function(e,t,n){var r=n("44Ds"),i=500;function a(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}e.exports=a},I12Z:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA"));function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){function e(t,n,r){(0,i["default"])(this,e),(0,o["default"])(this,"boxCells",[]),(0,o["default"])(this,"xCellCount",void 0),(0,o["default"])(this,"yCellCount",void 0),(0,o["default"])(this,"boxKeys",void 0),(0,o["default"])(this,"bboxes",void 0),(0,o["default"])(this,"width",void 0),(0,o["default"])(this,"height",void 0),(0,o["default"])(this,"xScale",void 0),(0,o["default"])(this,"yScale",void 0),(0,o["default"])(this,"boxUid",void 0);var a=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var s=0;s<this.xCellCount*this.yCellCount;s++)a.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}return(0,a["default"])(e,[{key:"insert",value:function(e,t,n,r,i){this.forEachCell(t,n,r,i,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}},{key:"query",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!1,i)}},{key:"hitTest",value:function(e,t,n,r,i){return this.queryHitTest(e,t,n,r,!0,i)}},{key:"insertBoxCell",value:function(e,t,n,r,i,a){this.boxCells[i].push(a)}},{key:"queryHitTest",value:function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});return a?o.filter(a):o}var u={hitTest:i,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,o,u,a),i?o.length>0:o}},{key:"queryCell",value:function(e,t,n,r,i,a,o,u){var l=o.seenUids,c=this.boxCells[i];if(null!==c){var f,p=this.bboxes,d=s(c);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(!l.box[h]){l.box[h]=!0;var v=4*h;if(e<=p[v+2]&&t<=p[v+3]&&n>=p[v+0]&&r>=p[v+1]&&(!u||u(this.boxKeys[h]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[h],x1:p[v],y1:p[v+1],x2:p[v+2],y2:p[v+3]})}}}}catch(m){d.e(m)}finally{d.f()}}return!1}},{key:"forEachCell",value:function(e,t,n,r,i,a,o,s){for(var u=this.convertToXCellCoord(e),l=this.convertToYCellCoord(t),c=this.convertToXCellCoord(n),f=this.convertToYCellCoord(r),p=u;p<=c;p++)for(var d=l;d<=f;d++){var h=this.xCellCount*d+p;if(i.call(this,e,t,n,r,h,a,o,s))return}}},{key:"convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}]),e}(),f=c;t["default"]=f},I1Gw:function(e,t,n){var r=n("dG/n");r("split")},I1ys:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lSNA")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("J2iB")),f=n("4cb6");n("mNvP");var p,d,h=r(n("2stA"));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=g();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",_="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",x=(p=(0,f.injectable)(),p(d=function(e){(0,s["default"])(n,e);var t=y(n);function n(){return(0,a["default"])(this,n),t.apply(this,arguments)}return(0,o["default"])(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:_,fs:b});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),a=i.width,o=i.height;return{vs:t,fs:n,uniforms:m(m({},r),{},{u_ViewportSize:[a,o]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return(0,c["default"])(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}]),n}(h["default"]))||d);t["default"]=x},I5X1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("tJVT"),i=n("q1tI"),a=n("1WJl"),o=n.n(a),s=n("qwGt");function u(e,t){var n=Object(i["useContext"])(s["a"]),a=Object(i["useRef"])(t);a.current=t;var u=Object(i["useState"])((()=>a.current?a.current(n.data[e]):n.data[e])),l=Object(r["a"])(u,2),c=l[0],f=l[1],p=Object(i["useRef"])(c);p.current=c;var d=Object(i["useRef"])(!1);return Object(i["useEffect"])((()=>(d.current=!0,()=>{d.current=!1})),[]),Object(i["useEffect"])((()=>{var r=r=>{if(d.current)if(t&&a.current){var i=a.current(r),s=p.current;o()(i,s)||f(i)}else f(r);else setTimeout((()=>{n.data[e]=r,n.update(e)}))};try{n.callbacks[e].add(r),n.update(e)}catch(i){n.callbacks[e]=new Set,n.callbacks[e].add(r),n.update(e)}return()=>{n.callbacks[e].delete(r)}}),[e]),c}},I8vh:function(e,t,n){var r=n("ppGB"),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},I9xj:function(e,t,n){var r=n("1E5z");r(Math,"Math",!0)},IIbP:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.EXTENT=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("lSNA")),u=n("IOcx"),l=i(n("f1zB")),c=n("VVEm"),f=i(n("E0Ze")),p=i(n("Yr5f")),d=i(n("XGpW")),h=r(n("MbJz"));function v(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function m(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=8192;t.EXTENT=g;var b=function(){function e(t,n,r,i,o){(0,a["default"])(this,e),(0,s["default"])(this,"tileSize",void 0),(0,s["default"])(this,"tileZoom",void 0),(0,s["default"])(this,"lngRange",void 0),(0,s["default"])(this,"latRange",void 0),(0,s["default"])(this,"maxValidLatitude",void 0),(0,s["default"])(this,"scale",void 0),(0,s["default"])(this,"width",void 0),(0,s["default"])(this,"height",void 0),(0,s["default"])(this,"angle",void 0),(0,s["default"])(this,"rotationMatrix",void 0),(0,s["default"])(this,"pixelsToGLUnits",void 0),(0,s["default"])(this,"cameraToCenterDistance",void 0),(0,s["default"])(this,"mercatorMatrix",void 0),(0,s["default"])(this,"projMatrix",void 0),(0,s["default"])(this,"invProjMatrix",void 0),(0,s["default"])(this,"alignedProjMatrix",void 0),(0,s["default"])(this,"pixelMatrix",void 0),(0,s["default"])(this,"pixelMatrixInverse",void 0),(0,s["default"])(this,"glCoordMatrix",void 0),(0,s["default"])(this,"labelPlaneMatrix",void 0),(0,s["default"])(this,"_fov",void 0),(0,s["default"])(this,"_pitch",void 0),(0,s["default"])(this,"_zoom",void 0),(0,s["default"])(this,"_renderWorldCopies",void 0),(0,s["default"])(this,"_minZoom",void 0),(0,s["default"])(this,"_maxZoom",void 0),(0,s["default"])(this,"_minPitch",void 0),(0,s["default"])(this,"_maxPitch",void 0),(0,s["default"])(this,"_center",void 0),(0,s["default"])(this,"zoomFraction",void 0),(0,s["default"])(this,"unmodified",void 0),(0,s["default"])(this,"edgeInsets",void 0),(0,s["default"])(this,"constraining",void 0),(0,s["default"])(this,"posMatrixCache",void 0),(0,s["default"])(this,"alignedPosMatrixCache",void 0),this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=void 0===r||null===r?0:r,this._maxPitch=void 0===i||null===i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new p["default"](0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this.unmodified=!0,this.edgeInsets=new f["default"],this.posMatrixCache={},this.alignedPosMatrixCache={}}return(0,o["default"])(e,[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this._pitch=Math.max(this._pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this._pitch=Math.min(this._pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new l["default"](this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){var t=-(0,c.wrap)(e,-180,180)*Math.PI/180;this.angle!==t&&(this.unmodified=!1,this.angle=t,this.calcMatrices(),this.rotationMatrix=u.mat2.create(),u.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(e){var t=(0,c.clamp)(e,this._minPitch,this._maxPitch)/180*Math.PI;this._pitch!==t&&(this.unmodified=!1,this._pitch=t,this.calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this.unmodified=!1,this._fov=e/180*Math.PI,this.calcMatrices())}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this._minZoom),this._maxZoom);this._zoom!==t&&(this.unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this.constrain(),this.calcMatrices())}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this.unmodified=!1,this._center=e,this.constrain(),this.calcMatrices())}},{key:"padding",get:function(){return this.edgeInsets.toJSON()},set:function(e){this.edgeInsets.equals(e)||(this.unmodified=!1,this.edgeInsets.interpolate(this.edgeInsets,e,1),this.calcMatrices())}},{key:"centerPoint",get:function(){return this.edgeInsets.getCenter(this.width,this.height)}},{key:"point",get:function(){return this.project(this.center)}},{key:"clone",value:function(){var t=new e(this._minZoom,this._maxZoom,this._minPitch,this._maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t.center=this._center,t.zoom=this.zoom,t.angle=this.angle,t.fov=this._fov,t.pitch=this._pitch,t.unmodified=this.unmodified,t.edgeInsets=this.edgeInsets.clone(),t.calcMatrices(),t}},{key:"isPaddingEqual",value:function(e){return this.edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,n){this.unmodified=!1,this.edgeInsets.interpolate(e,t,n),this.constrain(),this.calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this.constrain(),this.calcMatrices()}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(e){var t=(0,c.clamp)(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new l["default"]((0,h.mercatorXfromLng)(e.lng)*this.worldSize,(0,h.mercatorYfromLat)(t)*this.worldSize)}},{key:"unproject",value:function(e){return new h["default"](e.x/this.worldSize,e.y/this.worldSize).toLngLat()}},{key:"setLocationAtPoint",value:function(e,t){var n=this.pointCoordinate(t),r=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(e),a=new h["default"](i.x-(n.x-r.x),i.y-(n.y-r.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}},{key:"pointCoordinate",value:function(e){var t=0,n=new Float32Array([e.x,e.y,0,1]),r=new Float32Array([e.x,e.y,1,1]);u.vec4.transformMat4(n,n,this.pixelMatrixInverse),u.vec4.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],o=n[0]/i,s=r[0]/a,l=n[1]/i,f=r[1]/a,p=n[2]/i,d=r[2]/a,v=p===d?0:(t-p)/(d-p);return new h["default"]((0,c.interpolate)(o,s,v)/this.worldSize,(0,c.interpolate)(l,f,v)/this.worldSize)}},{key:"getBounds",value:function(){return(new d["default"]).extend(this.pointLocation(new l["default"](0,0))).extend(this.pointLocation(new l["default"](this.width,0))).extend(this.pointLocation(new l["default"](this.width,this.height))).extend(this.pointLocation(new l["default"](0,this.height)))}},{key:"getMaxBounds",value:function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new d["default"]([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}},{key:"setMaxBounds",value:function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this.constrain()):(this.lngRange=void 0,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"maxPitchScaleFactor",value:function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new l["default"](0,0)),t=new Float32Array([e.x*this.worldSize,e.y*this.worldSize,0,1]),n=u.vec4.transformMat4(t,t,this.pixelMatrix);return n[3]/this.cameraToCenterDistance}},{key:"getCameraPoint",value:function(){var e=this._pitch,t=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l["default"](0,t))}},{key:"getCameraQueryGeometry",value:function(e){var t=this.getCameraPoint();if(1===e.length)return[e[0],t];var n,r=t.x,i=t.y,a=t.x,o=t.y,s=v(e);try{for(s.s();!(n=s.n()).done;){var u=n.value;r=Math.min(r,u.x),i=Math.min(i,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y)}}catch(c){s.e(c)}finally{s.f()}return[new l["default"](r,i),new l["default"](a,i),new l["default"](a,o),new l["default"](r,o),new l["default"](r,i)]}},{key:"coordinatePoint",value:function(e){var t=u.vec4.fromValues(e.x*this.worldSize,e.y*this.worldSize,0,1);return u.vec4.transformMat4(t,t,this.pixelMatrix),new l["default"](t[0]/t[3],t[1]/t[3])}},{key:"locationPoint",value:function(e){return this.coordinatePoint(this.locationCoordinate(e))}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"locationCoordinate",value:function(e){return h["default"].fromLngLat(e)}},{key:"coordinateLocation",value:function(e){return e.toLngLat()}},{key:"getProjectionMatrix",value:function(){return this.projMatrix}},{key:"constrain",value:function(){if(this.center&&this.width&&this.height&&!this.constraining){this.constraining=!0;var e,t,n,r,i=-90,a=90,o=-180,s=180,u=this.size,c=this.unmodified;if(this.latRange){var f=this.latRange;i=(0,h.mercatorYfromLat)(f[1])*this.worldSize,a=(0,h.mercatorYfromLat)(f[0])*this.worldSize,e=a-i<u.y?u.y/(a-i):0}if(this.lngRange){var p=this.lngRange;o=(0,h.mercatorXfromLng)(p[0])*this.worldSize,s=(0,h.mercatorXfromLng)(p[1])*this.worldSize,t=s-o<u.x?u.x/(s-o):0}var d=this.point,v=Math.max(t||0,e||0);if(v)return this.center=this.unproject(new l["default"](t?(s+o)/2:d.x,e?(a+i)/2:d.y)),this.zoom+=this.scaleZoom(v),this.unmodified=c,void(this.constraining=!1);if(this.latRange){var m=d.y,y=u.y/2;m-y<i&&(r=i+y),m+y>a&&(r=a-y)}if(this.lngRange){var g=d.x,b=u.x/2;g-b<o&&(n=o+b),g+b>s&&(n=s-b)}void 0===n&&void 0===r||(this.center=this.unproject(new l["default"](void 0!==n?n:d.x,void 0!==r?r:d.y))),this.unmodified=c,this.constraining=!1}}},{key:"calcMatrices",value:function(){if(this.height){var e=this._fov/2,t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(e)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin((0,c.clamp)(Math.PI-n-r,.01,Math.PI-.01)),a=this.point,o=a.x,s=a.y,l=Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance,f=1.01*l,p=this.height/50,d=u.mat4.create();u.mat4.perspective(d,this._fov,this.width/this.height,p,f),d[8]=2*-t.x/this.width,d[9]=2*t.y/this.height,u.mat4.scale(d,d,[1,-1,1]),u.mat4.translate(d,d,[0,0,-this.cameraToCenterDistance]),u.mat4.rotateX(d,d,this._pitch),u.mat4.rotateZ(d,d,this.angle),u.mat4.translate(d,d,[-o,-s,0]),this.mercatorMatrix=u.mat4.scale(u.mat4.create(),d,[this.worldSize,this.worldSize,this.worldSize]),u.mat4.scale(d,d,u.vec3.fromValues(1,1,(0,h.mercatorZfromAltitude)(1,this.center.lat)*this.worldSize)),this.projMatrix=d,this.invProjMatrix=u.mat4.invert(u.mat4.create(),this.projMatrix);var v=this.width%2/2,m=this.height%2/2,y=Math.cos(this.angle),g=Math.sin(this.angle),b=o-Math.round(o)+y*v+g*m,_=s-Math.round(s)+y*m+g*v,x=u.mat4.clone(d);if(u.mat4.translate(x,x,[b>.5?b-1:b,_>.5?_-1:_,0]),this.alignedProjMatrix=x,d=u.mat4.create(),u.mat4.scale(d,d,[this.width/2,-this.height/2,1]),u.mat4.translate(d,d,[1,-1,0]),this.labelPlaneMatrix=d,d=u.mat4.create(),u.mat4.scale(d,d,[1,-1,1]),u.mat4.translate(d,d,[-1,-1,0]),u.mat4.scale(d,d,[2/this.width,2/this.height,1]),this.glCoordMatrix=d,this.pixelMatrix=u.mat4.multiply(u.mat4.create(),this.labelPlaneMatrix,this.projMatrix),d=u.mat4.invert(u.mat4.create(),this.pixelMatrix),!d)throw new Error("failed to invert matrix");this.pixelMatrixInverse=d,this.posMatrixCache={},this.alignedPosMatrixCache={}}}}]),e}();t["default"]=b},"IL/d":function(e,t,n){"use strict";var r=n("iqeF"),i=n("67WC").exportTypedArrayStaticMethod,a=n("oHi+");i("from",a,r)},IOcx:function(e,t,n){"use strict";n.r(t),n.d(t,"glMatrix",(function(){return u})),n.d(t,"mat2",(function(){return r})),n.d(t,"mat2d",(function(){return i})),n.d(t,"mat3",(function(){return a})),n.d(t,"mat4",(function(){return Fe})),n.d(t,"quat",(function(){return o})),n.d(t,"quat2",(function(){return s})),n.d(t,"vec2",(function(){return pn})),n.d(t,"vec3",(function(){return ze})),n.d(t,"vec4",(function(){return Be}));var r={};n.r(r),n.d(r,"create",(function(){return l})),n.d(r,"clone",(function(){return c})),n.d(r,"copy",(function(){return f})),n.d(r,"identity",(function(){return p})),n.d(r,"fromValues",(function(){return d})),n.d(r,"set",(function(){return h})),n.d(r,"transpose",(function(){return v})),n.d(r,"invert",(function(){return m})),n.d(r,"adjoint",(function(){return y})),n.d(r,"determinant",(function(){return g})),n.d(r,"multiply",(function(){return b})),n.d(r,"rotate",(function(){return _})),n.d(r,"scale",(function(){return x})),n.d(r,"fromRotation",(function(){return w})),n.d(r,"fromScaling",(function(){return E})),n.d(r,"str",(function(){return S})),n.d(r,"frob",(function(){return k})),n.d(r,"LDU",(function(){return O})),n.d(r,"add",(function(){return T})),n.d(r,"subtract",(function(){return C})),n.d(r,"exactEquals",(function(){return A})),n.d(r,"equals",(function(){return M})),n.d(r,"multiplyScalar",(function(){return P})),n.d(r,"multiplyScalarAndAdd",(function(){return I})),n.d(r,"mul",(function(){return R})),n.d(r,"sub",(function(){return j}));var i={};n.r(i),n.d(i,"create",(function(){return L})),n.d(i,"clone",(function(){return N})),n.d(i,"copy",(function(){return D})),n.d(i,"identity",(function(){return F})),n.d(i,"fromValues",(function(){return z})),n.d(i,"set",(function(){return B})),n.d(i,"invert",(function(){return U})),n.d(i,"determinant",(function(){return V})),n.d(i,"multiply",(function(){return H})),n.d(i,"rotate",(function(){return W})),n.d(i,"scale",(function(){return q})),n.d(i,"translate",(function(){return G})),n.d(i,"fromRotation",(function(){return Z})),n.d(i,"fromScaling",(function(){return Y})),n.d(i,"fromTranslation",(function(){return X})),n.d(i,"str",(function(){return K})),n.d(i,"frob",(function(){return J})),n.d(i,"add",(function(){return Q})),n.d(i,"subtract",(function(){return $})),n.d(i,"multiplyScalar",(function(){return ee})),n.d(i,"multiplyScalarAndAdd",(function(){return te})),n.d(i,"exactEquals",(function(){return ne})),n.d(i,"equals",(function(){return re})),n.d(i,"mul",(function(){return ie})),n.d(i,"sub",(function(){return ae}));var a={};n.r(a),n.d(a,"create",(function(){return oe})),n.d(a,"fromMat4",(function(){return se})),n.d(a,"clone",(function(){return ue})),n.d(a,"copy",(function(){return le})),n.d(a,"fromValues",(function(){return ce})),n.d(a,"set",(function(){return fe})),n.d(a,"identity",(function(){return pe})),n.d(a,"transpose",(function(){return de})),n.d(a,"invert",(function(){return he})),n.d(a,"adjoint",(function(){return ve})),n.d(a,"determinant",(function(){return me})),n.d(a,"multiply",(function(){return ye})),n.d(a,"translate",(function(){return ge})),n.d(a,"rotate",(function(){return be})),n.d(a,"scale",(function(){return _e})),n.d(a,"fromTranslation",(function(){return xe})),n.d(a,"fromRotation",(function(){return we})),n.d(a,"fromScaling",(function(){return Ee})),n.d(a,"fromMat2d",(function(){return Se})),n.d(a,"fromQuat",(function(){return ke})),n.d(a,"normalFromMat4",(function(){return Oe})),n.d(a,"projection",(function(){return Te})),n.d(a,"str",(function(){return Ce})),n.d(a,"frob",(function(){return Ae})),n.d(a,"add",(function(){return Me})),n.d(a,"subtract",(function(){return Pe})),n.d(a,"multiplyScalar",(function(){return Ie})),n.d(a,"multiplyScalarAndAdd",(function(){return Re})),n.d(a,"exactEquals",(function(){return je})),n.d(a,"equals",(function(){return Le})),n.d(a,"mul",(function(){return Ne})),n.d(a,"sub",(function(){return De}));var o={};n.r(o),n.d(o,"create",(function(){return Ue})),n.d(o,"identity",(function(){return Ve})),n.d(o,"setAxisAngle",(function(){return He})),n.d(o,"getAxisAngle",(function(){return We})),n.d(o,"getAngle",(function(){return qe})),n.d(o,"multiply",(function(){return Ge})),n.d(o,"rotateX",(function(){return Ze})),n.d(o,"rotateY",(function(){return Ye})),n.d(o,"rotateZ",(function(){return Xe})),n.d(o,"calculateW",(function(){return Ke})),n.d(o,"exp",(function(){return Je})),n.d(o,"ln",(function(){return Qe})),n.d(o,"pow",(function(){return $e})),n.d(o,"slerp",(function(){return et})),n.d(o,"random",(function(){return tt})),n.d(o,"invert",(function(){return nt})),n.d(o,"conjugate",(function(){return rt})),n.d(o,"fromMat3",(function(){return it})),n.d(o,"fromEuler",(function(){return at})),n.d(o,"str",(function(){return ot})),n.d(o,"clone",(function(){return st})),n.d(o,"fromValues",(function(){return ut})),n.d(o,"copy",(function(){return lt})),n.d(o,"set",(function(){return ct})),n.d(o,"add",(function(){return ft})),n.d(o,"mul",(function(){return pt})),n.d(o,"scale",(function(){return dt})),n.d(o,"dot",(function(){return ht})),n.d(o,"lerp",(function(){return vt})),n.d(o,"length",(function(){return mt})),n.d(o,"len",(function(){return yt})),n.d(o,"squaredLength",(function(){return gt})),n.d(o,"sqrLen",(function(){return bt})),n.d(o,"normalize",(function(){return _t})),n.d(o,"exactEquals",(function(){return xt})),n.d(o,"equals",(function(){return wt})),n.d(o,"rotationTo",(function(){return Et})),n.d(o,"sqlerp",(function(){return St})),n.d(o,"setAxes",(function(){return kt}));var s={};n.r(s),n.d(s,"create",(function(){return Ot})),n.d(s,"clone",(function(){return Tt})),n.d(s,"fromValues",(function(){return Ct})),n.d(s,"fromRotationTranslationValues",(function(){return At})),n.d(s,"fromRotationTranslation",(function(){return Mt})),n.d(s,"fromTranslation",(function(){return Pt})),n.d(s,"fromRotation",(function(){return It})),n.d(s,"fromMat4",(function(){return Rt})),n.d(s,"copy",(function(){return jt})),n.d(s,"identity",(function(){return Lt})),n.d(s,"set",(function(){return Nt})),n.d(s,"getReal",(function(){return Dt})),n.d(s,"getDual",(function(){return Ft})),n.d(s,"setReal",(function(){return zt})),n.d(s,"setDual",(function(){return Bt})),n.d(s,"getTranslation",(function(){return Ut})),n.d(s,"translate",(function(){return Vt})),n.d(s,"rotateX",(function(){return Ht})),n.d(s,"rotateY",(function(){return Wt})),n.d(s,"rotateZ",(function(){return qt})),n.d(s,"rotateByQuatAppend",(function(){return Gt})),n.d(s,"rotateByQuatPrepend",(function(){return Zt})),n.d(s,"rotateAroundAxis",(function(){return Yt})),n.d(s,"add",(function(){return Xt})),n.d(s,"multiply",(function(){return Kt})),n.d(s,"mul",(function(){return Jt})),n.d(s,"scale",(function(){return Qt})),n.d(s,"dot",(function(){return $t})),n.d(s,"lerp",(function(){return en})),n.d(s,"invert",(function(){return tn})),n.d(s,"conjugate",(function(){return nn})),n.d(s,"length",(function(){return rn})),n.d(s,"len",(function(){return an})),n.d(s,"squaredLength",(function(){return on})),n.d(s,"sqrLen",(function(){return sn})),n.d(s,"normalize",(function(){return un})),n.d(s,"str",(function(){return ln})),n.d(s,"exactEquals",(function(){return cn})),n.d(s,"equals",(function(){return fn}));var u=n("yU0y");function l(){var e=new u["ARRAY_TYPE"](4);return u["ARRAY_TYPE"]!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function c(e){var t=new u["ARRAY_TYPE"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function p(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function d(e,t,n,r){var i=new u["ARRAY_TYPE"](4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function h(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function v(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function m(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*a-i*r;return o?(o=1/o,e[0]=a*o,e[1]=-r*o,e[2]=-i*o,e[3]=n*o,e):null}function y(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function g(e){return e[0]*e[3]-e[2]*e[1]}function b(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+a*u,e[1]=i*s+o*u,e[2]=r*l+a*c,e[3]=i*l+o*c,e}function _(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=r*-s+a*u,e[3]=i*-s+o*u,e}function x(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=a*u,e[3]=o*u,e}function w(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function E(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function S(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function k(e){return Math.hypot(e[0],e[1],e[2],e[3])}function O(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function T(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function C(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function A(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function M(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],s=t[1],l=t[2],c=t[3];return Math.abs(n-o)<=u["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=u["EPSILON"]*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-l)<=u["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(a-c)<=u["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(c))}function P(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function I(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}var R=b,j=C;function L(){var e=new u["ARRAY_TYPE"](6);return u["ARRAY_TYPE"]!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function N(e){var t=new u["ARRAY_TYPE"](6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function D(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function F(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function z(e,t,n,r,i,a){var o=new u["ARRAY_TYPE"](6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=i,o[5]=a,o}function B(e,t,n,r,i,a,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e}function U(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=n*a-r*i;return u?(u=1/u,e[0]=a*u,e[1]=-r*u,e[2]=-i*u,e[3]=n*u,e[4]=(i*s-a*o)*u,e[5]=(r*o-n*s)*u,e):null}function V(e){return e[0]*e[3]-e[1]*e[2]}function H(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1],f=n[2],p=n[3],d=n[4],h=n[5];return e[0]=r*l+a*c,e[1]=i*l+o*c,e[2]=r*f+a*p,e[3]=i*f+o*p,e[4]=r*d+a*h+s,e[5]=i*d+o*h+u,e}function W(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*l,e[1]=i*c+o*l,e[2]=r*-l+a*c,e[3]=i*-l+o*c,e[4]=s,e[5]=u,e}function q(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=i*l,e[2]=a*c,e[3]=o*c,e[4]=s,e[5]=u,e}function G(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=r*l+a*c+s,e[5]=i*l+o*c+u,e}function Z(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function Y(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function X(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function K(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function J(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function Q(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function $(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function ee(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function te(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function ne(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function re(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=t[0],c=t[1],f=t[2],p=t[3],d=t[4],h=t[5];return Math.abs(n-l)<=u["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=u["EPSILON"]*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-f)<=u["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=u["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-d)<=u["EPSILON"]*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-h)<=u["EPSILON"]*Math.max(1,Math.abs(s),Math.abs(h))}var ie=H,ae=$;function oe(){var e=new u["ARRAY_TYPE"](9);return u["ARRAY_TYPE"]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function se(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function ue(e){var t=new u["ARRAY_TYPE"](9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function le(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function ce(e,t,n,r,i,a,o,s,l){var c=new u["ARRAY_TYPE"](9);return c[0]=e,c[1]=t,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=l,c}function fe(e,t,n,r,i,a,o,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e}function pe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function de(e,t){if(e===t){var n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function he(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=c*o-s*l,p=-c*a+s*u,d=l*a-o*u,h=n*f+r*p+i*d;return h?(h=1/h,e[0]=f*h,e[1]=(-c*r+i*l)*h,e[2]=(s*r-i*o)*h,e[3]=p*h,e[4]=(c*n-i*u)*h,e[5]=(-s*n+i*a)*h,e[6]=d*h,e[7]=(-l*n+r*u)*h,e[8]=(o*n-r*a)*h,e):null}function ve(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=o*c-s*l,e[1]=i*l-r*c,e[2]=r*s-i*o,e[3]=s*u-a*c,e[4]=n*c-i*u,e[5]=i*a-n*s,e[6]=a*l-o*u,e[7]=r*u-n*l,e[8]=n*o-r*a,e}function me(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*a-o*u)+n*(-l*i+o*s)+r*(u*i-a*s)}function ye(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=n[0],d=n[1],h=n[2],v=n[3],m=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return e[0]=p*r+d*o+h*l,e[1]=p*i+d*s+h*c,e[2]=p*a+d*u+h*f,e[3]=v*r+m*o+y*l,e[4]=v*i+m*s+y*c,e[5]=v*a+m*u+y*f,e[6]=g*r+b*o+_*l,e[7]=g*i+b*s+_*c,e[8]=g*a+b*u+_*f,e}function ge(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=n[0],d=n[1];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=p*r+d*o+l,e[7]=p*i+d*s+c,e[8]=p*a+d*u+f,e}function be(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=Math.sin(n),d=Math.cos(n);return e[0]=d*r+p*o,e[1]=d*i+p*s,e[2]=d*a+p*u,e[3]=d*o-p*r,e[4]=d*s-p*i,e[5]=d*u-p*a,e[6]=l,e[7]=c,e[8]=f,e}function _e(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xe(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function we(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ee(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Se(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function ke(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,f=r*s,p=i*o,d=i*s,h=i*u,v=a*o,m=a*s,y=a*u;return e[0]=1-f-h,e[3]=c-y,e[6]=p+m,e[1]=c+y,e[4]=1-l-h,e[7]=d-v,e[2]=p-m,e[5]=d+v,e[8]=1-l-f,e}function Oe(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],y=t[15],g=n*s-r*o,b=n*u-i*o,_=n*l-a*o,x=r*u-i*s,w=r*l-a*s,E=i*l-a*u,S=c*v-f*h,k=c*m-p*h,O=c*y-d*h,T=f*m-p*v,C=f*y-d*v,A=p*y-d*m,M=g*A-b*C+_*T+x*O-w*k+E*S;return M?(M=1/M,e[0]=(s*A-u*C+l*T)*M,e[1]=(u*O-o*A-l*k)*M,e[2]=(o*C-s*O+l*S)*M,e[3]=(i*C-r*A-a*T)*M,e[4]=(n*A-i*O+a*k)*M,e[5]=(r*O-n*C-a*S)*M,e[6]=(v*E-m*w+y*x)*M,e[7]=(m*_-h*E-y*b)*M,e[8]=(h*w-v*_+y*g)*M,e):null}function Te(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Ce(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ae(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function Me(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function Pe(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function Ie(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function Re(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function je(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function Le(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],p=t[0],d=t[1],h=t[2],v=t[3],m=t[4],y=t[5],g=t[6],b=t[7],_=t[8];return Math.abs(n-p)<=u["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(r-d)<=u["EPSILON"]*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-h)<=u["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-v)<=u["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-m)<=u["EPSILON"]*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-y)<=u["EPSILON"]*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-g)<=u["EPSILON"]*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-b)<=u["EPSILON"]*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=u["EPSILON"]*Math.max(1,Math.abs(f),Math.abs(_))}var Ne=ye,De=Pe,Fe=n("ZaHm"),ze=n("n+fv"),Be=n("bl9R");function Ue(){var e=new u["ARRAY_TYPE"](4);return u["ARRAY_TYPE"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Ve(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function He(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function We(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>u["EPSILON"]?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function qe(e,t){var n=ht(e,t);return Math.acos(2*n*n-1)}function Ge(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-r*l,e[2]=a*c+o*l+r*u-i*s,e[3]=o*c-r*s-i*u-a*l,e}function Ze(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=a*u-i*s,e[3]=o*u-r*s,e}function Ye(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-a*s,e[1]=i*u+o*s,e[2]=a*u+r*s,e[3]=o*u-i*s,e}function Xe(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=a*u+o*s,e[3]=o*u-a*s,e}function Ke(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function Je(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=Math.sqrt(n*n+r*r+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return e[0]=n*u,e[1]=r*u,e[2]=i*u,e[3]=s*Math.cos(o),e}function Qe(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=Math.sqrt(n*n+r*r+i*i),s=o>0?Math.atan2(o,a)/o:0;return e[0]=n*s,e[1]=r*s,e[2]=i*s,e[3]=.5*Math.log(n*n+r*r+i*i+a*a),e}function $e(e,t,n){return Qe(e,t),dt(e,e,n),Je(e,e),e}function et(e,t,n,r){var i,a,o,s,l,c=t[0],f=t[1],p=t[2],d=t[3],h=n[0],v=n[1],m=n[2],y=n[3];return a=c*h+f*v+p*m+d*y,a<0&&(a=-a,h=-h,v=-v,m=-m,y=-y),1-a>u["EPSILON"]?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-r)*i)/o,l=Math.sin(r*i)/o):(s=1-r,l=r),e[0]=s*c+l*h,e[1]=s*f+l*v,e[2]=s*p+l*m,e[3]=s*d+l*y,e}function tt(e){var t=u["RANDOM"](),n=u["RANDOM"](),r=u["RANDOM"](),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*r),e[3]=a*Math.cos(2*Math.PI*r),e}function nt(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e}function rt(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function it(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}function at(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),o=Math.cos(t),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=a*u*c-o*s*l,e[1]=o*s*c+a*u*l,e[2]=o*u*l-a*s*c,e[3]=o*u*c+a*s*l,e}function ot(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var st=Be["clone"],ut=Be["fromValues"],lt=Be["copy"],ct=Be["set"],ft=Be["add"],pt=Ge,dt=Be["scale"],ht=Be["dot"],vt=Be["lerp"],mt=Be["length"],yt=mt,gt=Be["squaredLength"],bt=gt,_t=Be["normalize"],xt=Be["exactEquals"],wt=Be["equals"],Et=function(){var e=ze["create"](),t=ze["fromValues"](1,0,0),n=ze["fromValues"](0,1,0);return function(r,i,a){var o=ze["dot"](i,a);return o<-.999999?(ze["cross"](e,t,i),ze["len"](e)<1e-6&&ze["cross"](e,n,i),ze["normalize"](e,e),He(r,e,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(ze["cross"](e,i,a),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+o,_t(r,r))}}(),St=function(){var e=Ue(),t=Ue();return function(n,r,i,a,o,s){return et(e,r,o,s),et(t,i,a,s),et(n,e,t,2*s*(1-s)),n}}(),kt=function(){var e=oe();return function(t,n,r,i){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],_t(t,it(t,e))}}();function Ot(){var e=new u["ARRAY_TYPE"](8);return u["ARRAY_TYPE"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function Tt(e){var t=new u["ARRAY_TYPE"](8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Ct(e,t,n,r,i,a,o,s){var l=new u["ARRAY_TYPE"](8);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l}function At(e,t,n,r,i,a,o){var s=new u["ARRAY_TYPE"](8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var l=.5*i,c=.5*a,f=.5*o;return s[4]=l*r+c*n-f*t,s[5]=c*r+f*e-l*n,s[6]=f*r+l*t-c*e,s[7]=-l*e-c*t-f*n,s}function Mt(e,t,n){var r=.5*n[0],i=.5*n[1],a=.5*n[2],o=t[0],s=t[1],u=t[2],l=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=l,e[4]=r*l+i*u-a*s,e[5]=i*l+a*o-r*u,e[6]=a*l+r*s-i*o,e[7]=-r*o-i*s-a*u,e}function Pt(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function It(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Rt(e,t){var n=Ue();Fe["getRotation"](n,t);var r=new u["ARRAY_TYPE"](3);return Fe["getTranslation"](r,t),Mt(e,n,r),e}function jt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Lt(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Nt(e,t,n,r,i,a,o,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e}var Dt=lt;function Ft(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var zt=lt;function Bt(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Ut(e,t){var n=t[4],r=t[5],i=t[6],a=t[7],o=-t[0],s=-t[1],u=-t[2],l=t[3];return e[0]=2*(n*l+a*o+r*u-i*s),e[1]=2*(r*l+a*s+i*o-n*u),e[2]=2*(i*l+a*u+n*s-r*o),e}function Vt(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=.5*n[0],u=.5*n[1],l=.5*n[2],c=t[4],f=t[5],p=t[6],d=t[7];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=o*s+i*l-a*u+c,e[5]=o*u+a*s-r*l+f,e[6]=o*l+r*u-i*s+p,e[7]=-r*s-i*u-a*l+d,e}function Ht(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=s*o+c*r+u*a-l*i,p=u*o+c*i+l*r-s*a,d=l*o+c*a+s*i-u*r,h=c*o-s*r-u*i-l*a;return Ze(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+p*a-d*i,e[5]=p*o+h*i+d*r-f*a,e[6]=d*o+h*a+f*i-p*r,e[7]=h*o-f*r-p*i-d*a,e}function Wt(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=s*o+c*r+u*a-l*i,p=u*o+c*i+l*r-s*a,d=l*o+c*a+s*i-u*r,h=c*o-s*r-u*i-l*a;return Ye(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+p*a-d*i,e[5]=p*o+h*i+d*r-f*a,e[6]=d*o+h*a+f*i-p*r,e[7]=h*o-f*r-p*i-d*a,e}function qt(e,t,n){var r=-t[0],i=-t[1],a=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=s*o+c*r+u*a-l*i,p=u*o+c*i+l*r-s*a,d=l*o+c*a+s*i-u*r,h=c*o-s*r-u*i-l*a;return Xe(e,t,n),r=e[0],i=e[1],a=e[2],o=e[3],e[4]=f*o+h*r+p*a-d*i,e[5]=p*o+h*i+d*r-f*a,e[6]=d*o+h*a+f*i-p*r,e[7]=h*o-f*r-p*i-d*a,e}function Gt(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],u=t[1],l=t[2],c=t[3];return e[0]=s*o+c*r+u*a-l*i,e[1]=u*o+c*i+l*r-s*a,e[2]=l*o+c*a+s*i-u*r,e[3]=c*o-s*r-u*i-l*a,s=t[4],u=t[5],l=t[6],c=t[7],e[4]=s*o+c*r+u*a-l*i,e[5]=u*o+c*i+l*r-s*a,e[6]=l*o+c*a+s*i-u*r,e[7]=c*o-s*r-u*i-l*a,e}function Zt(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+i*l-a*u,e[1]=i*c+o*u+a*s-r*l,e[2]=a*c+o*l+r*u-i*s,e[3]=o*c-r*s-i*u-a*l,s=n[4],u=n[5],l=n[6],c=n[7],e[4]=r*c+o*s+i*l-a*u,e[5]=i*c+o*u+a*s-r*l,e[6]=a*c+o*l+r*u-i*s,e[7]=o*c-r*s-i*u-a*l,e}function Yt(e,t,n,r){if(Math.abs(r)<u["EPSILON"])return jt(e,t);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var a=Math.sin(r),o=a*n[0]/i,s=a*n[1]/i,l=a*n[2]/i,c=Math.cos(r),f=t[0],p=t[1],d=t[2],h=t[3];e[0]=f*c+h*o+p*l-d*s,e[1]=p*c+h*s+d*o-f*l,e[2]=d*c+h*l+f*s-p*o,e[3]=h*c-f*o-p*s-d*l;var v=t[4],m=t[5],y=t[6],g=t[7];return e[4]=v*c+g*o+m*l-y*s,e[5]=m*c+g*s+y*o-v*l,e[6]=y*c+g*l+v*s-m*o,e[7]=g*c-v*o-m*s-y*l,e}function Xt(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function Kt(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=n[4],u=n[5],l=n[6],c=n[7],f=t[4],p=t[5],d=t[6],h=t[7],v=n[0],m=n[1],y=n[2],g=n[3];return e[0]=r*g+o*v+i*y-a*m,e[1]=i*g+o*m+a*v-r*y,e[2]=a*g+o*y+r*m-i*v,e[3]=o*g-r*v-i*m-a*y,e[4]=r*c+o*s+i*l-a*u+f*g+h*v+p*y-d*m,e[5]=i*c+o*u+a*s-r*l+p*g+h*m+d*v-f*y,e[6]=a*c+o*l+r*u-i*s+d*g+h*y+f*m-p*v,e[7]=o*c-r*s-i*u-a*l+h*g-f*v-p*m-d*y,e}var Jt=Kt;function Qt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}var $t=ht;function en(e,t,n,r){var i=1-r;return $t(t,n)<0&&(r=-r),e[0]=t[0]*i+n[0]*r,e[1]=t[1]*i+n[1]*r,e[2]=t[2]*i+n[2]*r,e[3]=t[3]*i+n[3]*r,e[4]=t[4]*i+n[4]*r,e[5]=t[5]*i+n[5]*r,e[6]=t[6]*i+n[6]*r,e[7]=t[7]*i+n[7]*r,e}function tn(e,t){var n=on(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function nn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var rn=mt,an=rn,on=gt,sn=on;function un(e,t){var n=on(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,i=t[1]/n,a=t[2]/n,o=t[3]/n,s=t[4],u=t[5],l=t[6],c=t[7],f=r*s+i*u+a*l+o*c;e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=(s-r*f)/n,e[5]=(u-i*f)/n,e[6]=(l-a*f)/n,e[7]=(c-o*f)/n}return e}function ln(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function cn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function fn(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=t[0],p=t[1],d=t[2],h=t[3],v=t[4],m=t[5],y=t[6],g=t[7];return Math.abs(n-f)<=u["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-p)<=u["EPSILON"]*Math.max(1,Math.abs(r),Math.abs(p))&&Math.abs(i-d)<=u["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-h)<=u["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(o-v)<=u["EPSILON"]*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-m)<=u["EPSILON"]*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(l-y)<=u["EPSILON"]*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-g)<=u["EPSILON"]*Math.max(1,Math.abs(c),Math.abs(g))}var pn=n("ZxFD")},IOzZ:function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},Iddi:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("yXPU")),o=r(n("yG8O")),s=r(n("lwsE")),u=r(n("W8MJ")),l=r(n("lSNA")),c=r(n("U+yc")),f=(r(n("1ABj")),n("4cb6"));n("mNvP");var p,d,h,v,m,y,g=n("0t2r"),b=(p=(0,f.injectable)(),d=(0,f.inject)(g.TYPES.IRendererService),h=(0,f.postConstruct)(),p((m=function(){function e(){(0,s["default"])(this,e),(0,o["default"])(this,"rendererService",y,this),(0,l["default"])(this,"passes",[]),(0,l["default"])(this,"readFBO",void 0),(0,l["default"])(this,"writeFBO",void 0)}return(0,u["default"])(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var e=(0,a["default"])(i["default"].mark((function e(t){var n,r;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.passes.length)){e.next=10;break}return r=this.passes[n],r.setRenderToScreen(this.isLastEnabledPass(n)),e.next=6,r.render(t);case 6:n!==this.passes.length-1&&this.swap();case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}},{key:"add",value:function(e,t,n){e.init(t,n),this.passes.push(e)}},{key:"insert",value:function(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}},{key:"getPostProcessingPassByName",value:function(e){return this.passes.find((function(t){return t.getName()===e}))}},{key:"init",value:function(){}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}},{key:"swap",value:function(){var e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}]),e}(),y=(0,c["default"])(m.prototype,"rendererService",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,c["default"])(m.prototype,"init",[h],Object.getOwnPropertyDescriptor(m.prototype,"init"),m.prototype),v=m))||v);t["default"]=b},IehP:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),this.reset()}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();t["default"]=s},Ijbi:function(e,t,n){var r=n("WkPL");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},Ik3C:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("LTtI")),c=r(n("E2Kq"));function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}d(".mapboxgl-ctrl-logo {\n display: none !important;\n}\n");var h=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getServiceConstructor",value:function(){return c["default"]}}]),n}(l["default"]);t["default"]=h},ImZN:function(e,t,n){var r=n("glrk"),i=n("6VoE"),a=n("UMSQ"),o=n("A2ZE"),s=n("NaFW"),u=n("m92n"),l=function(e,t){this.stopped=e,this.result=t},c=e.exports=function(e,t,n,c,f){var p,d,h,v,m,y,g,b=o(t,n,c?2:1);if(f)p=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(h=0,v=a(e.length);v>h;h++)if(m=c?b(r(g=e[h])[0],g[1]):b(e[h]),m&&m instanceof l)return m;return new l(!1)}p=d.call(e)}y=p.next;while(!(g=y.call(p)).done)if(m=u(p,b,g.value,c),"object"==typeof m&&m&&m instanceof l)return m;return new l(!1)};c.stop=function(e){return new l(!0,e)}},Ioao:function(e,t,n){var r=n("heNW"),i=Math.max;function a(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);while(++o<s)u[o]=a[t+o];o=-1;var l=Array(t+1);while(++o<t)l[o]=a[o];return l[t]=n(u),r(e,this,l)}}e.exports=a},IyRk:function(e,t){(function(t){e.exports=function(){var e={873:function(e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"===typeof window&&(t=window)}e.exports=t}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},a=!0;try{e[t](i,i.exports,r),a=!1}finally{a&&delete n[t]}return i.exports}return r.ab=t+"/",r(873)}()}).call(this,"/")},J2iB:function(e,t){function n(e){return null==e}e.exports=n},J4zp:function(e,t,n){var r=n("wTVA"),i=n("m0LI"),a=n("ZhPi"),o=n("wkBT");function s(e,t){return r(e)||i(e,t)||a(e,t)||o()}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},JBE3:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),a=i((function(e,t,n,i){r(e,t,n,i)}));e.exports=a},JBy8:function(e,t,n){var r=n("yoRg"),i=n("eDl+"),a=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},JC6p:function(e,t,n){var r=n("cq/+"),i=n("7GkX");function a(e,t){return e&&r(e,t,i)}e.exports=a},JHRd:function(e,t,n){var r=n("Kz5y"),i=r.Uint8Array;e.exports=i},JHgL:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).get(e)}e.exports=i},JQ51:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MapMouseEvent",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"MapTouchEvent",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"MapWheelEvent",{enumerable:!0,get:function(){return o["default"]}});var i=r(n("aWJ0")),a=r(n("uydJ")),o=r(n("ecyq"))},JSQU:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__";function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=a},JTJg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WjRb"),a=n("HYAF"),o=n("qxPZ");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7"),a="[object Arguments]";function o(e){return i(e)&&r(e)==a}e.exports=o},JX7q:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},JehX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("7tbW")),u=n("4cb6");n("mNvP");var l,c,f=n("Frqq");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h="#define PI 3.14159265359",v="#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",m="#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",y="// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",g="varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n",b="attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n\nfloat setPickingOrder(float z) {\n   bool selected = bool(v_PickingResult.a);\n   return selected ? z + 1. : 0.;\n}\n",_="\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n\n// gaode2.0\nvec2 customProject(vec2 lnglat) { // \u7ecf\u7eac\u5ea6 => \u5e73\u9762\u5750\u6807\n  float t = lnglat.x;\n  float e = lnglat.y;\n  float Sm = 180.0 / PI;\n  float Tm = 6378137.0;\n  float Rm = PI / 180.0;\n  float r = 85.0511287798;\n  e = max(min(r, e), -r);\n  t *= Rm;\n  e *= Rm;\n  e = log(tan(PI / 4.0 + e / 2.0));\n  return vec2(t * Tm, e * Tm);\n}\n\nvec2 unProjCustomCoord(vec2 point) { // \u5e73\u9762\u5750\u6807 => \u7ecf\u7eac\u5ea6\n  float Sm = 57.29577951308232; //180 / Math.PI\n  float Tm = 6378137.0;\n  float t = point.x;\n  float e = point.y;\n  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);\n}\n\n\nfloat customPixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}",x="#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\n#define COORDINATE_SYSTEM_P20_2 8.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// uniform mat4 u_Mvp;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0\n    return vector;\n  }\n  return vector;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // return vec4(\n    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), \n    //   project_scale(position.z), \n    //   position.w);\n\n     return vec4(\n      position.xy, \n      project_scale(position.z), \n      position.w);\n  }\n  return position;\n\n  // TODO: \u74e6\u7247\u5750\u6807\u7cfb & \u5e38\u89c4\u4e16\u754c\u5750\u6807\u7cfb\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel_allmap(float pixel) {\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    return pixel * pow(2.0, u_Zoom);\n  }\n  return pixel;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    // P20_2 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf3\n    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}",w="/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n",E="attribute float a_vertexId;\n\nuniform mat4 u_cellTypeLayout;      // \u63cf\u8ff0\u6570\u636e\u7eb9\u7406 cell \u7ed3\u6784\u7684\u77e9\u9635\nuniform sampler2D u_dataTexture;    // \u6570\u636e\u7eb9\u7406\n\nbool hasOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 opacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeOpacity() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeOpacity \u7684\u6570\u636e\n  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStrokeWidth() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 strokeWidth \u7684\u6570\u636e\n  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasStroke() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 stroke \u7684\u6570\u636e\n  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\nbool hasOffsets() { // \u5224\u65ad cell \u4e2d\u662f\u5426\u5b58\u5728 offsets \u7684\u6570\u636e\n  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;\n}\n\n// \u6839\u636e\u5750\u6807\u4f4d\u7f6e\u5148\u662f\u8ba1\u7b97 uv \uff0c\u7136\u540e\u6839\u636e uv \u4ece\u6570\u636e\u7eb9\u7406\u4e2d\u53d6\u503c\nfloat pos2value(vec2 pos, float columnWidth, float rowHeight) {\n  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;\n  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);\n  return texture2D(u_dataTexture, vec2(u, v)).r;\n}\n\n/*\n  currentRow \u5f53\u524d\u884c\n  currentColumn \u5f53\u524d\u5217\n  columnCount \u6709\u591a\u5c11\u5217\n  nextStep \u9700\u8981\u8ba1\u7b97\u5f53\u524d cell \u540e\u7684\u7b2c\u51e0\u4e2a cell \uff08\u5f53\u524d cell \u5219 nextStep = 0\uff09\n*/\nvec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {\n  float nextColumn = currentColumn;\n  float nextRow = currentRow;\n  if(currentColumn + nextStep <= columnCount){\n    nextColumn = currentColumn + nextStep;\n  } else {\n    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4e0d\u4f1a\u51fa\u73b0\u8de8\u4e24\u884c\n    nextRow = currentRow + 1.0;\n  }\n  return vec2(nextColumn, nextRow);\n}\n\n// \u8ba1\u7b97\u5f53\u524d\u5355\u4e2a cell \u7684\u5927\u5c0f\nfloat calCellCount() { \n  //   u_cellTypeLayout\n  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51e0\u884c\u51e0\u5217\n  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793a\u6709\u6570\u636e\u6620\u5c04\u30010.0 \u8868\u793a\u6ca1\u6709\n  //   1.0, 0.0, 0.0, 0.0, // offsets\n  //   0.0, 0.0, 0.0, 0.0\n  \n  return  u_cellTypeLayout[1][0] +        // opacity\n          u_cellTypeLayout[1][1] +        // strokeOpacity\n          u_cellTypeLayout[1][2] +        // strokeWidth\n          u_cellTypeLayout[1][3] * 4.0 +  // stroke\n          u_cellTypeLayout[2][0] * 2.0;   // offsets\n}",S="\n// \u8ba1\u7b97 opacity \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasOpacity()) { // \u6570\u636e\u7eb9\u7406\u4e2d\u4e0d\u5b58\u5728 opacity \u7684\u65f6\u5019\u53d6\u9ed8\u8ba4\u503c\uff08\u7528\u6237\u5728 style \u4e2d\u4f20\u5165\u7684\u662f\u5e38\u91cf\uff09\n    return vec2(u_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureOpacity, textureOffset + 1.0);\n  }\n}\n",k="\n// \u8ba1\u7b97 strokeOpaicty \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeOpacity()) {\n    return vec2(u_stroke_opacity, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeOpacity, textureOffset + 1.0);\n  }\n}\n",O="\n// \u8ba1\u7b97 strokeWidth \u548c\u6807\u793a\u5728 cell \u4e2d\u53d6\u503c\u4f4d\u7f6e\u7684\u504f\u79fb\u91cf textureOffset\nvec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {\n  if(!hasStrokeWidth()) {\n    return vec2(u_stroke_width, textureOffset);\n  } else {\n    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);\n    return vec2(textureStrokeWidth, textureOffset + 1.0);\n  }\n}\n",T=/precision\s+(high|low|medium)p\s+float/,C="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",A=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,M=(l=(0,u.injectable)(),l(c=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"moduleCache",{}),(0,o["default"])(this,"rawContentCache",{})}return(0,a["default"])(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:h,fs:h}),this.registerModule("decode",{vs:v,fs:""}),this.registerModule("projection",{vs:x,fs:""}),this.registerModule("project",{vs:_,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:w}),this.registerModule("lighting",{vs:y,fs:""}),this.registerModule("light",{vs:m,fs:""}),this.registerModule("picking",{vs:b,fs:g}),this.registerModule("styleMapping",{vs:E,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:S,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:k,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:O,fs:""})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=t.fs,i=t.uniforms,a=(0,f.extractUniforms)(n),o=a.content,s=a.uniforms,u=(0,f.extractUniforms)(r),l=u.content,c=u.uniforms;this.rawContentCache[e]={fs:l,uniforms:d(d(d({},s),c),i),vs:o}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,i=this.processModule(n,[],"vs"),a=i.content,o=i.includeList,u=this.processModule(r,[],"fs"),l=u.content,c=u.includeList,f=l,p=(0,s["default"])(o.concat(c).concat(e)).reduce((function(e,n){return d(d({},e),t.rawContentCache[n].uniforms)}),{});return T.test(l)||(f=C+l),this.moduleCache[e]={fs:f.trim(),uniforms:p,vs:a.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this,i=e.replace(A,(function(e,i){var a=i.split(" "),o=a[0].replace(/"/g,"");if(t.indexOf(o)>-1)return"";var s=r.rawContentCache[o][n];t.push(o);var u=r.processModule(s,t,n),l=u.content;return l}));return{content:i,includeList:t}}}]),e}())||c);t["default"]=M},JfAA:function(e,t,n){"use strict";var r=n("busE"),i=n("glrk"),a=n("0Dky"),o=n("rW0t"),s="toString",u=RegExp.prototype,l=u[s],c=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=s;(c||f)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},Ji7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r["a"])(e,t)}},JiZb:function(e,t,n){"use strict";var r=n("0GbY"),i=n("m/L8"),a=n("tiKp"),o=n("g6v/"),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},Juji:function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},Junv:function(e,t,n){"use strict";var r=n("I+eb"),i=n("6LWA"),a=[].reverse,o=[1,2];r({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),a.call(this)}})},JwUS:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM"),s=n("WGBp"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),u(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},Jwqz:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("UB5X")),c=n("gHHc"),f=r(n("YenN")),p=n("kIOg"),d=n("Dxau");function h(e){var t=v();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m='varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\n#pragma include "picking"\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',y='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  vec3 size = a_Size * a_Position;\n\n  vec2 offset = project_pixel(size.xy);\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n\n  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);\n\n  float lightWeight = calc_lighting(pos);\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  // gl_Position = project_common_position_to_clipspace(pos);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * pos;\n  } else {\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  setPickingColor(a_PickingColor);\n}\n',g=function(e){(0,o["default"])(n,e);var t=h(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),a=i.data,o=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&a.length>0?this.createTexture2D({flipY:!0,data:a,format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:o,height:s}):this.createTexture2D({flipY:!0,data:[1],format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,l["default"])(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:y,fragmentShader:m,triangulation:p.PointExtrudeTriangulation,blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:c.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:3,update:function(e,t,n,r){var i=e.size;if(i){var a=[];return Array.isArray(i)&&(a=2===i.length?[i[0],i[0],i[1]]:i),Array.isArray(i)||(a=[i]),a}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:c.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:c.gl.STATIC_DRAW,data:[],type:c.gl.FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:c.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:3,update:function(e,t){var n=(0,d.calculteCentroid)(e.coordinates);return[n[0],n[1],0]}}})}}]),n}(f["default"]);t["default"]=g},JxQ3:function(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&i&&"function"===typeof i.get?i.get:null,o=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=s&&u&&"function"===typeof u.get?u.get:null,c=s&&Set.prototype.forEach,f="function"===typeof WeakMap&&WeakMap.prototype,p=f?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype,h=d?WeakSet.prototype.has:null,v="function"===typeof WeakRef&&WeakRef.prototype,m=v?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,b=Function.prototype.toString,_=String.prototype.match,x="function"===typeof BigInt?BigInt.prototype.valueOf:null,w=Object.getOwnPropertySymbols,E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,S="function"===typeof Symbol&&"object"===typeof Symbol.iterator,k=Object.prototype.propertyIsEnumerable,O=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),T=n(1).custom,C=T&&z(T)?T:null,A="function"===typeof Symbol&&"undefined"!==typeof Symbol.toStringTag?Symbol.toStringTag:null;function M(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function P(e){return String(e).replace(/"/g,"&quot;")}function I(e){return"[object Array]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function R(e){return"[object Date]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function j(e){return"[object RegExp]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function L(e){return"[object Error]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function N(e){return"[object String]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function D(e){return"[object Number]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function F(e){return"[object Boolean]"===H(e)&&(!A||!("object"===typeof e&&A in e))}function z(e){if(S)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!E)return!1;try{return E.call(e),!0}catch(t){}return!1}function B(e){if(!e||"object"!==typeof e||!x)return!1;try{return x.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,i){var s=n||{};if(V(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!V(s,"customInspect")||s.customInspect;if("boolean"!==typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Q(t,s);if("number"===typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"===typeof t)return String(t)+"n";var f="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof r&&(r=0),r>=f&&f>0&&"object"===typeof t)return I(t)?"[Array]":"[Object]";var p=ie(s,r);if("undefined"===typeof i)i=[];else if(q(i,t)>=0)return"[Circular]";function d(t,n,a){if(n&&(i=i.slice(),i.push(n)),a){var o={depth:s.depth};return V(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,r+1,i)}return e(t,s,r+1,i)}if("function"===typeof t){var h=W(t),v=oe(t,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(v.length>0?" { "+v.join(", ")+" }":"")}if(z(t)){var m=S?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(t);return"object"!==typeof t||S?m:ee(m)}if(J(t)){for(var g="<"+String(t.nodeName).toLowerCase(),b=t.attributes||[],_=0;_<b.length;_++)g+=" "+b[_].name+"="+M(P(b[_].value),"double",s);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+String(t.nodeName).toLowerCase()+">",g}if(I(t)){if(0===t.length)return"[]";var w=oe(t,d);return p&&!re(w)?"["+ae(w,p)+"]":"[ "+w.join(", ")+" ]"}if(L(t)){var k=oe(t,d);return 0===k.length?"["+String(t)+"]":"{ ["+String(t)+"] "+k.join(", ")+" }"}if("object"===typeof t&&u){if(C&&"function"===typeof t[C])return t[C]();if("symbol"!==u&&"function"===typeof t.inspect)return t.inspect()}if(G(t)){var T=[];return o.call(t,(function(e,n){T.push(d(n,t,!0)+" => "+d(e,t))})),ne("Map",a.call(t),T,p)}if(X(t)){var U=[];return c.call(t,(function(e){U.push(d(e,t))})),ne("Set",l.call(t),U,p)}if(Z(t))return te("WeakMap");if(K(t))return te("WeakSet");if(Y(t))return te("WeakRef");if(D(t))return ee(d(Number(t)));if(B(t))return ee(d(x.call(t)));if(F(t))return ee(y.call(t));if(N(t))return ee(d(String(t)));if(!R(t)&&!j(t)){var $=oe(t,d),se=O?O(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",le=!se&&A&&Object(t)===t&&A in t?H(t).slice(8,-1):ue?"Object":"",ce=se||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",fe=ce+(le||ue?"["+[].concat(le||[],ue||[]).join(": ")+"] ":"");return 0===$.length?fe+"{}":p?fe+"{"+ae($,p)+"}":fe+"{ "+$.join(", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return U.call(e,t)}function H(e){return g.call(e)}function W(e){if(e.name)return e.name;var t=_.call(b.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function G(e){if(!a||!e||"object"!==typeof e)return!1;try{a.call(e);try{l.call(e)}catch(t){return!0}return e instanceof Map}catch(n){}return!1}function Z(e){if(!p||!e||"object"!==typeof e)return!1;try{p.call(e,p);try{h.call(e,h)}catch(t){return!0}return e instanceof WeakMap}catch(n){}return!1}function Y(e){if(!m||!e||"object"!==typeof e)return!1;try{return m.call(e),!0}catch(t){}return!1}function X(e){if(!l||!e||"object"!==typeof e)return!1;try{l.call(e);try{a.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}function K(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{p.call(e,p)}catch(t){return!0}return e instanceof WeakSet}catch(n){}return!1}function J(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof HTMLElement&&e instanceof HTMLElement||"string"===typeof e.nodeName&&"function"===typeof e.getAttribute)}function Q(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Q(e.slice(0,t.maxStringLength),t)+r}var i=e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,$);return M(i,"single",t)}function $(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function ee(e){return"Object("+e+")"}function te(e){return e+" { ? }"}function ne(e,t,n,r){var i=r?ae(n,r):n.join(", ");return e+" ("+t+") {"+i+"}"}function re(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}function ie(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}function ae(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function oe(e,t){var n=I(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):""}var a,o="function"===typeof w?w(e):[];if(S){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var u in e)V(e,u)&&(n&&String(Number(u))===u&&u<e.length||S&&a["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"===typeof w)for(var l=0;l<o.length;l++)k.call(e,o[l])&&r.push("["+t(o[l])+"]: "+t(e[o[l]],e));return r}},"K//t":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("4cb6");n("mNvP");var l=(i=(0,u.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("UpdateModelPlugin",(function(){e.layerModel&&e.layerModel.needUpdate()}))}}]),e}())||a);t["default"]=l},K6Lp:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("H1Ra");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u5730\u56fe\u884c\u653f\u533a\u5212\u7ec4\u4ef6\uff0c\u652f\u6301\u4e16\u754c\u5730\u56fe\uff0c\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e09\u7ea7\uff0c\u652f\u6301\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e0a\u94bb\u4e0b\u53d6\u3002"),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),i.a.createElement("p",null,i.a.createElement("strong",null,"using modules")),i.a.createElement(o["a"],{code:"import { WorldLayer } from '@antv/l7-district';",lang:"javascript"}),i.a.createElement("p",null,i.a.createElement("strong",null,"CDN \u7248\u672c\u5f15\u7528")),i.a.createElement("p",null,"CDN \u5f15\u7528\u6240\u6709\u7684\u65b9\u6cd5\u90fd\u5728 L7.District \u547d\u540d\u7a7a\u95f4\u4e0b\u3002"),i.a.createElement(o["a"],{code:'<head>\n  <! --\u5f15\u5165\u6700\u65b0\u7248\u7684L7-District --\x3e\n  <script src="https://unpkg.com/@antv/l7-district"><\/script>\n</head>',lang:"html"}),i.a.createElement(o["a"],{code:"import { WorldLayer } from '@antv/l7-district';\n/**\n * L7.District.WorldLayer()// CDN \u5f15\u7528\n * */\nnew WorldLayer(scene, {\n  data: [],\n  fill: {\n    color: {\n      field: 'NAME_CHN',\n      values: [\n        '#feedde',\n        '#fdd0a2',\n        '#fdae6b',\n        '#fd8d3c',\n        '#e6550d',\n        '#a63603',\n      ],\n    },\n  },\n  stroke: '#ccc',\n  label: {\n    enable: true,\n    textAllowOverlap: false,\n    field: 'Short_Name_ZH',\n  },\n  popup: {\n    enable: false,\n    Html: (props) => {\n      return `<span>${props.Short_Name_ZH}</span>`;\n    },\n  },\n});",lang:"javascript"}),i.a.createElement("p",null,"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f District \u76f8\u5173\u914d\u7f6e\u548c\u63a5\u53e3\u8fd8\u5728\u5b8c\u5584\u4e2d\uff0c\u4f60\u53ef\u4ee5\u9002\u7528\u4f53\u9a8c\uff0c\u67d0\u4e9b\u914d\u7f6e\u548c\u63a5\u53e3\u53ef\u80fd\u4f1a\u8fdb\u884c\u8c03\u6574"),i.a.createElement("h2",{id:"\u7b80\u4ecb"},i.a.createElement(a["AnchorLink"],{to:"#\u7b80\u4ecb","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u7b80\u4ecb"),i.a.createElement("p",null,"District \u652f\u6301\u4e0b\u9762\u51e0\u79cd\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"WorldLayer \u4e16\u754c\u5730\u56fe"),i.a.createElement("li",null,"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"),i.a.createElement("li",null,"ProvinceLayer \u7701\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CityLayer \u5e02\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CountyLayer \u53bf\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"DrillDownLayer \u4e0a\u94bb\u4e0b\u53d6\u5730\u56fe")),i.a.createElement("h2",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"scene L7 scene \u5bf9\u8c61")),i.a.createElement("li",null,i.a.createElement("p",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"zIndex \u56fe\u5c42\u7ed8\u5236\u987a\u5e8f")),i.a.createElement("li",null,i.a.createElement("p",null,"data ",i.a.createElement("code",null,"Array")," \u5c5e\u6027\u6570\u636e\u7528\u4e8e\u53ef\u89c6\u5316\u6e32\u67d3")),i.a.createElement("li",null,i.a.createElement("p",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d")),i.a.createElement("li",null,i.a.createElement("p",null,"depth \u6570\u636e\u663e\u793a\u5c42\u7ea7 0\uff1a\u56fd\u5bb6\u7ea7\uff0c1:\u7701\u7ea7\uff0c2: \u5e02\u7ea7\uff0c3\uff1a\u53bf\u7ea7")),i.a.createElement("li",null,i.a.createElement("p",null,"label \u6807\u6ce8\u914d\u7f6e\u9879 \u652f\u6301\u5e38\u91cf\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6807\u6ce8"),i.a.createElement("li",null,"color \u6807\u6ce8\u5b57\u4f53\u989c\u8272 \u5e38\u91cf"),i.a.createElement("li",null,"field \u6807\u6ce8\u5b57\u6bb5 \u5e38\u91cf"),i.a.createElement("li",null,"size \u6807\u6ce8\u5927\u5c0f \u5e38\u91cf"),i.a.createElement("li",null,"stroke \u6587\u5b57\u63cf\u8fb9\u989c\u8272"),i.a.createElement("li",null,"strokeWidth \u6587\u5b57\u63cf\u8fb9\u5bbd\u5ea6"),i.a.createElement("li",null,"textAllowOverlap \u662f\u5426\u5141\u8bb8\u6587\u5b57\u538b\u76d6"),i.a.createElement("li",null,"opacity \u6807\u6ce8\u900f\u660e\u5ea6"))),i.a.createElement("li",null,i.a.createElement("p",null,"fill \u586b\u5145\u914d\u7f6e\u9879 \u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"color \u56fe\u5c42\u586b\u5145\u989c\u8272\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u5e38\u91cf\uff1a\u7edf\u4e00\u8bbe\u7f6e\u6210\u4e00\u6837\u7684\u989c\u8272 \u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"field \u586b\u5145\u6620\u5c04\u5b57\u6bb5"),i.a.createElement("li",null,"values \u6620\u5c04\u503c\uff0c\u540c color \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570"))),i.a.createElement("li",null,"style \u540c polygonLayer \u7684 style \u65b9\u6cd5"),i.a.createElement("li",null,"activeColor \u9f20\u6807\u6ed1\u8fc7\u9ad8\u4eae\u989c\u8272"))),i.a.createElement("li",null,i.a.createElement("p",null,"bubble \u6c14\u6ce1\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 default false"),i.a.createElement("li",null,"color \u6c14\u6ce1\u989c\u8272 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size \u6c14\u6ce1\u5927\u5c0f \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"shape \u6c14\u6ce1\u5f62\u72b6 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"style \u6c14\u6ce1\u56fe\u6837\u5f0f \u540c PointLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"stroke \u586b\u5145\u63cf\u8fb9\u989c\u8272")),i.a.createElement("li",null,i.a.createElement("p",null,"strokeWidth \u586b\u5145\u63cf\u8fb9\u5bbd\u5ea6")),i.a.createElement("li",null,i.a.createElement("p",null,"autoFit \u662f\u5426\u81ea\u52a8\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4 ",i.a.createElement("code",null,"boolean"))),i.a.createElement("li",null,i.a.createElement("p",null,"popup \u4fe1\u606f\u7a97\u53e3"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable \u662f\u5426\u5f00\u542f ",i.a.createElement("code",null,"boolean")),i.a.createElement("li",null,"triggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';"),i.a.createElement("li",null,"Html popup html \u5b57\u7b26\u4e32\uff0c\u652f\u6301\u56de\u8c03\u51fd\u6570 (properties: any) => string;"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272")),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6")),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272")),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalWidth \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalStroke \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStroke \u7701\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStroke \u5e02\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStrokeWidth \u5e02\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStroke \u53bf\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStrokeWidth \u53bf\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer")))))),i.a.createElement("h3",{id:"\u6570\u636e"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e"),i.a.createElement("p",null,"District \u63d0\u4f9b polygon \u6570\u636e\u9700\u8981\u8ddf\u7528\u6237\u7684\u5c5e\u6027\u6570\u636e\uff0c\u901a\u8fc7\u5173\u7cfb\u5b57\u6bb5\u8fdb\u884c\u8fde\u63a5"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/b6fcd072-72a7-4875-8e05-9652ffc977d9.csv"},"\u56fd\u5bb6\u540d\u79f0\u5bf9\u7167\u8868"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/2aa6fb7b-3694-4df3-b601-6f6f9adac496.csv"},"\u7701\u7ea7\u884c\u653f\u540d\u79f0",i.a.createElement("em",null,"adcode"),"\u5bf9\u7167\u8868.csv"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/d2aefd78-f5df-486f-9310-7449cc7f5569.csv"},"\u5e02\u7ea7\u884c\u653f\u533a\u5212\u53ca\u7f16\u7801"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/fafd299e-0e1e-4fa2-a8ac-10a984c6e983.csv"},"\u53bf\u7ea7\u884c\u653f\u533a\u540d\u79f0\u7ea7\u7f16\u7801")))),i.a.createElement("h3",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u884c\u653f\u533a\u5212\u7ec4\u4ef6\u6bcf\u4e2a\u56fe\u5c42\u6709\u591a\u4e2a\u5b50\u56fe\u5c42\u7ec4\u6210\uff0c\u5982\u6807\u6ce8\u5c42\uff0c\u56fd\u754c\u7ebf\u3001\u7701\u754c\u7ebf\u7b49\u7b49\uff0c"),i.a.createElement("h4",{id:"filllayer"},i.a.createElement(a["AnchorLink"],{to:"#filllayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fillLayer"),i.a.createElement("h3",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h4",{id:"updatedatadata-joinby"},i.a.createElement(a["AnchorLink"],{to:"#updatedatadata-joinby","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData(data, joinBy)"),i.a.createElement("p",null,"\u66f4\u65b0\u663e\u793a\u6570\u636e\uff0c"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"data \u9700\u8981\u66f4\u65b0\u7684\u6570\u636e"),i.a.createElement("li",null,"joinBy \u5173\u8054\u5b57\u6bb5 \u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u4fdd\u6301\u548c\u521d\u59cb\u5316\u4e00\u81f4\u3002")),i.a.createElement("h4",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5c42"),i.a.createElement("h4",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u56fe\u5c42\u9690\u85cf\u4e0d\u663e\u793a"),i.a.createElement("h4",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"))))},"KKr/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("iWIM")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=r(n("LgV6"));function d(e){var t=h();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){return Math.abs(e.y)>Math.abs(e.x)}var m=100,y=function(e){(0,u["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,f["default"])((0,o["default"])(e),"valid",void 0),(0,f["default"])((0,o["default"])(e),"firstMove",void 0),(0,f["default"])((0,o["default"])(e),"lastPoints",void 0),e}return(0,a["default"])(n,[{key:"reset",value:function(){(0,s["default"])((0,c["default"])(n.prototype),"reset",this).call(this),this.valid=void 0,delete this.firstMove,delete this.lastPoints}},{key:"start",value:function(e){this.lastPoints=e,v(e[0].sub(e[1]))&&(this.valid=!1)}},{key:"move",value:function(e,t,n){var r=e[0].sub(this.lastPoints[0]),i=e[1].sub(this.lastPoints[1]);if(this.valid=this.gestureBeginsVertically(r,i,n.timeStamp),this.valid){this.lastPoints=e,this.active=!0;var a=(r.y+i.y)/2,o=-.5;return{pitchDelta:a*o}}}},{key:"gestureBeginsVertically",value:function(e,t,n){if(void 0!==this.valid)return this.valid;var r=2,i=e.mag()>=r,a=t.mag()>=r;if(i||a){if(!i||!a)return void 0===this.firstMove&&(this.firstMove=n),n-this.firstMove<m&&void 0;var o=e.y>0===t.y>0;return v(e)&&v(t)&&o}}}]),n}(p["default"]);t["default"]=y},KMkd:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},KQag:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("uhBA"),p=n("4cb6");n("mNvP");var d,h,v=n("TpkO");function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g=3,b=1024,_=64,x=(d=(0,p.injectable)(),d(h=function(e){(0,s["default"])(n,e);var t=m(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"canvasHeight",128),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"canvas",void 0),(0,c["default"])((0,o["default"])(e),"iconData",void 0),(0,c["default"])((0,o["default"])(e),"iconMap",void 0),(0,c["default"])((0,o["default"])(e),"ctx",void 0),(0,c["default"])((0,o["default"])(e),"loadingImageCount",0),e}return(0,a["default"])(n,[{key:"isLoading",value:function(){return 0===this.loadingImageCount}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(e,t){var n=this,r=new Image;if(this.loadingImageCount++,this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,size:_}),this.updateIconMap(),this.loadImage(t).then((function(t){r=t;var i=n.iconData.find((function(t){return t.id===e}));i&&(i.image=r,i.width=r.width,i.height=r.height),n.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(e){return this.iconMap.hasOwnProperty(e)}},{key:"removeImage",value:function(e){this.hasImage(e)&&(this.iconData=this.iconData.filter((function(t){return t.id!==e})),delete this.iconMap[e],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,0===this.loadingImageCount&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var e=this;this.canvas.width=b,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(t){var n=e.iconMap[t],r=n.x,i=n.y,a=n.image,o=n.width,s=void 0===o?64:o,u=n.height,l=void 0===u?64:u,c=Math.max(s,l),f=c/_,p=l/f,d=s/f;a&&e.ctx.drawImage(a,r+(_-d)/2,i+(_-p)/2,d,p)}))}},{key:"updateIconMap",value:function(){var e=(0,v.buildIconMaping)(this.iconData,g,b),t=e.mapping,n=e.canvasHeight;this.iconMap=t,this.canvasHeight=n}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(f.EventEmitter))||h);t["default"]=x},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("a3WO");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}var a=n("25BE"),o=n("BsWD");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return i(e)||Object(a["a"])(e)||Object(o["a"])(e)||s()}},KYxC:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("UB5X")),c=n("gHHc"),f=r(n("YenN")),p=n("kIOg");function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v="#define Animate 0.0\n\nuniform float u_blur : 0;\n// uniform float u_stroke_width : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n \n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  float opacity = styleMappingMat[0][0];\n  float stroke_opacity = styleMappingMat[0][1];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;\n\n  lowp float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  // float r = v_radius / (v_radius + u_stroke_width);\n  float r = v_radius / (v_radius + strokeWidth);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n  // float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n  //   antialiased_blur,\n  //   0.0,\n  //   inner_df\n  // );\n   float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);\n\n  \n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n  if(u_aimate.x == Animate) {\n    float d = length(v_data.xy);\n    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n    gl_FragColor = vec4(gl_FragColor.xyz, intensity);\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n\n}\n",m='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec2 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\nuniform float u_opacity : 1;\nuniform float u_stroke_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\nuniform vec2 u_offsets;\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\n\nvoid main() {\n  vec2 extrude = a_Extrude;\n  float shape_type = a_Shape;\n  float newSize = setPickingSize(a_Size);\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][1] = strokeOpacityAndOffset.r;\n  textureOffset = strokeOpacityAndOffset.g;\n\n  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping\n\n  // unpack color(vec2)\n  v_color = a_Color;\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  // TODO: billboard\n  // anti-alias\n  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(extrude, antialiasblur,shape_type);\n\n  // vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + u_offsets);\n  vec2 offset = project_pixel(extrude * (newSize + u_stroke_width) + textrueOffsets);\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * vec4(project_pos.xy + offset, 0.0, 1.0);\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));\n  }\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',y=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.strokeOpacity,i=void 0===r?1:r,a=e.strokeWidth,o=void 0===a?0:a,s=e.stroke,u=void 0===s?"rgba(0,0,0,0)":s,f=e.offsets,p=void 0===f?[0,0]:f;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeOpacity:i,strokeWidth:o,stroke:u,offsets:p})){this.judgeStyleAttributes({opacity:n,strokeOpacity:i,strokeWidth:o,stroke:u,offsets:p});var d=this.layer.getEncodedData(),h=this.calDataFrame(this.cellLength,d,this.cellProperties),v=h.data,m=h.width,y=h.height;this.rowCount=y,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:m,height:y}):this.createTexture2D({flipY:!0,data:[1],format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,l["default"])(n)?n:1,u_stroke_opacity:(0,l["default"])(i)?i:1,u_stroke_width:(0,l["default"])(o)?o:0,u_stroke_color:this.getStrokeColor(u),u_offsets:this.isOffsetStatic(p)?p:[0,0]}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),p.PointFillTriangulation)}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:m,fragmentShader:v,triangulation:p.PointFillTriangulation,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:c.AttributeType.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:2,update:function(e,t,n,r){var i=[1,1,-1,1,-1,-1,1,-1],a=r%4*2;return[i[a],i[a+1]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:c.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?5:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:c.AttributeType.Attribute,descriptor:{name:"a_Shape",buffer:{usage:c.gl.DYNAMIC_DRAW,data:[],type:c.gl.FLOAT},size:1,update:function(t,n,r,i){var a=t.shape,o=void 0===a?2:a,s=e.layer.getLayerConfig().shape2d,u=s.indexOf(o);return[u]}}})}}]),n}(f["default"]);t["default"]=y},KcUY:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=l(n("q1tI")),a=s(n("q3YX")),o=s(n("nLCz"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i["default"]=e,n&&n.set(e,i),i}function c(e,t){return v(e)||h(e,t)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function v(e){if(Array.isArray(e))return e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r[1].replace(/([^^])\/$/,"$1");return y(y({},(null===(e=r[0].find((function(e){var t=e.path;return t===a})))||void 0===e?void 0:e.meta)||{}),{},{__pathname:t})},r=(0,i.useState)(n(e,t)),a=c(r,2),o=a[0],s=a[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),o},_=function(e,t){var n=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(null===(t=r[0].find((function(e){return r[1].startsWith("/".concat(e.name))})))||void 0===t?void 0:t.name)||e[0].name},r=(0,i.useState)(n(e,t)),a=c(r,2),o=a[0],s=a[1];return(0,i.useLayoutEffect)((function(){s(n(e,t))}),[t]),o},x=function(e,t,n){var r=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].navs[n[1]]||[],a="*",o=i.length-1;o>=0;o-=1){var s=i[o],u=[s].concat(s.children).filter(Boolean),l=u.find((function(e){return e.path&&new RegExp("^".concat(e.path.replace(/\.html$/,""),"(/|.|$)")).test(n[2])}));if(l){a=l.path;break}}return(null===(e=n[0].menus[n[1]])||void 0===e?void 0:e[a])||[]},a=(0,i.useState)(r(e,t,n)),o=c(a,2),s=o[0],u=o[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e.navs,e.menus,t,n]),s},w=function(e,t,n){var r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]===r[1][0].name?r[2].path:"".concat(n.path,"/").concat(e).replace(/\/\//,"/")},a=(0,i.useState)(r(e,t,n)),o=c(a,2),s=o[0],u=o[1];return(0,i.useLayoutEffect)((function(){u(r(e,t,n))}),[e]),s},E=function e(t){var n;return null===(n=t.find((function(t){return!!t.__dumiRoot||!!t.routes&&e(t.routes)})))||void 0===n?void 0:n.routes},S=function(e){var t=e.location,n=e.route,r=e.children,s=t.pathname.replace(n.path.replace(/^\/$/,"//"),""),u=E(e.routes)||[],l=b(u,t.pathname),c=_(a["default"].locales,s),f=x(a["default"],c,t.pathname),p=w(c,a["default"].locales,n);return i["default"].createElement(o["default"].Provider,{value:{config:a["default"],meta:l.__pathname===t.pathname?l:{},locale:c,nav:a["default"].navs[c]||[],menu:f,base:p,routes:u}},r)},k=S;t["default"]=k},KfNM:function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},KfSR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r=n("Ag8Z"),i=o(r),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},u=t.autoprefix=function(e){var t={};return(0,i["default"])(e,(function(e,n){var r={};(0,i["default"])(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t["default"]=u},KhsS:function(e,t,n){var r=n("dG/n");r("match")},KpVd:function(e,t,n){"use strict";(function(e){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return s=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&a(o,n.prototype),o},s.apply(null,arguments)}function u(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||!u(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},l(e)}var c=/%[sdj%]/g,f=function(){};function p(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],a=t.length;if("function"===typeof i)return i.apply(null,t.slice(1));if("string"===typeof i){var o=String(i).replace(c,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}}));return o}return i}function h(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}function v(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!h(t)||"string"!==typeof e||e))}function m(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e),i++,i===a&&n(r)}e.forEach((function(e){t(e,o)}))}function y(e,t,n){var r=0,i=e.length;function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}}a([])}function g(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}"undefined"!==typeof e&&Object({NODE_ENV:"production"});var b=function(e){function t(t,n){var r;return r=e.call(this,"Async Validation Error")||this,r.errors=t,r.fields=n,r}return r(t,e),t}(l(Error));function _(e,t,n,r){if(t.first){var i=new Promise((function(t,i){var a=function(e){return r(e),e.length?i(new b(e,p(e))):t()},o=g(e);y(o,n,a)}));return i["catch"]((function(e){return e})),i}var a=t.firstFields||[];!0===a&&(a=Object.keys(e));var o=Object.keys(e),s=o.length,u=0,l=[],c=new Promise((function(t,i){var c=function(e){if(l.push.apply(l,e),u++,u===s)return r(l),l.length?i(new b(l,p(l))):t()};o.length||(r(l),t()),o.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?y(r,n,c):m(r,n,c)}))}));return c["catch"]((function(e){return e})),c}function x(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"===typeof t?t():t,field:t.field||e.fullField}}}function w(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"object"===typeof i&&"object"===typeof e[r]?e[r]=n({},e[r],i):e[r]=i}return e}function E(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!v(t,a||e.type)||r.push(d(i.messages.required,e.fullField))}function S(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(d(i.messages.whitespace,e.fullField))}var k={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},O={integer:function(e){return O.number(e)&&parseInt(e,10)===e},float:function(e){return O.number(e)&&!O.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!O.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(k.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(k.url)},hex:function(e){return"string"===typeof e&&!!e.match(k.hex)}};function T(e,t,n,r,i){if(e.required&&void 0===t)E(e,t,n,r,i);else{var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;a.indexOf(o)>-1?O[o](t)||r.push(d(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(d(i.messages.types[o],e.fullField,e.type))}}function C(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,c=null,f="number"===typeof t,p="string"===typeof t,h=Array.isArray(t);if(f?c="number":p?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),p&&(l=t.replace(u,"_").length),a?l!==e.len&&r.push(d(i.messages[c].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(d(i.messages[c].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(d(i.messages[c].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(d(i.messages[c].range,e.fullField,e.min,e.max))}var A="enum";function M(e,t,n,r,i){e[A]=Array.isArray(e[A])?e[A]:[],-1===e[A].indexOf(t)&&r.push(d(i.messages[A],e.fullField,e[A].join(", ")))}function P(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){var a=new RegExp(e.pattern);a.test(t)||r.push(d(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}var I={required:E,whitespace:S,type:T,range:C,enum:M,pattern:P};function R(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t,"string")&&!e.required)return n();I.required(e,t,r,a,i,"string"),v(t,"string")||(I.type(e,t,r,a,i),I.range(e,t,r,a,i),I.pattern(e,t,r,a,i),!0===e.whitespace&&I.whitespace(e,t,r,a,i))}n(a)}function j(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&I.type(e,t,r,a,i)}n(a)}function L(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(""===t&&(t=void 0),v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&(I.type(e,t,r,a,i),I.range(e,t,r,a,i))}n(a)}function N(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&I.type(e,t,r,a,i)}n(a)}function D(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),v(t)||I.type(e,t,r,a,i)}n(a)}function F(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&(I.type(e,t,r,a,i),I.range(e,t,r,a,i))}n(a)}function z(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&(I.type(e,t,r,a,i),I.range(e,t,r,a,i))}n(a)}function B(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if((void 0===t||null===t)&&!e.required)return n();I.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(I.type(e,t,r,a,i),I.range(e,t,r,a,i))}n(a)}function U(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&I.type(e,t,r,a,i)}n(a)}var V="enum";function H(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i),void 0!==t&&I[V](e,t,r,a,i)}n(a)}function W(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t,"string")&&!e.required)return n();I.required(e,t,r,a,i),v(t,"string")||I.pattern(e,t,r,a,i)}n(a)}function q(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t,"date")&&!e.required)return n();var s;if(I.required(e,t,r,a,i),!v(t,"date"))s=t instanceof Date?t:new Date(t),I.type(e,s,r,a,i),s&&I.range(e,s.getTime(),r,a,i)}n(a)}function G(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;I.required(e,t,r,a,i,o),n(a)}function Z(e,t,n,r,i){var a=e.type,o=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(v(t,a)&&!e.required)return n();I.required(e,t,r,o,i,a),v(t,a)||I.type(e,t,r,o,i)}n(o)}function Y(e,t,n,r,i){var a=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(v(t)&&!e.required)return n();I.required(e,t,r,a,i)}n(a)}var X={string:R,method:j,number:L,boolean:N,regexp:D,integer:F,float:z,array:B,object:U,enum:H,pattern:W,date:q,url:Z,hex:Z,email:Z,required:G,any:Y};function K(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var J=K();function Q(e){this.rules=null,this._messages=J,this.define(e)}Q.prototype={messages:function(e){return e&&(this._messages=w(K(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var a,o,s=e,u=t,l=r;if("function"===typeof u&&(l=u,u={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();function c(e){var t,n=[],r={};function i(e){var t;Array.isArray(e)?n=(t=n).concat.apply(t,e):n.push(e)}for(t=0;t<e.length;t++)i(e[t]);n.length?r=p(n):(n=null,r=null),l(n,r)}if(u.messages){var f=this.messages();f===J&&(f=K()),w(f,u.messages),u.messages=f}else u.messages=this.messages();var h={},v=u.keys||Object.keys(this.rules);v.forEach((function(t){a=i.rules[t],o=s[t],a.forEach((function(r){var a=r;"function"===typeof a.transform&&(s===e&&(s=n({},s)),o=s[t]=a.transform(o)),a="function"===typeof a?{validator:a}:n({},a),a.validator=i.getValidationMethod(a),a.field=t,a.fullField=a.fullField||t,a.type=i.getType(a),a.validator&&(h[t]=h[t]||[],h[t].push({rule:a,value:o,source:s,field:t}))}))}));var m={};return _(h,u,(function(e,t){var r,i=e.rule,a=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function o(e,t){return n({},t,{fullField:i.fullField+"."+e})}function s(r){void 0===r&&(r=[]);var s=r;if(Array.isArray(s)||(s=[s]),!u.suppressWarning&&s.length&&Q.warning("async-validator:",s),s.length&&void 0!==i.message&&(s=[].concat(i.message)),s=s.map(x(i)),u.first&&s.length)return m[i.field]=1,t(s);if(a){if(i.required&&!e.value)return void 0!==i.message?s=[].concat(i.message).map(x(i)):u.error&&(s=[u.error(i,d(u.messages.required,i.field))]),t(s);var l={};if(i.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(l[c]=i.defaultField);for(var f in l=n({},l,e.rule.fields),l)if(l.hasOwnProperty(f)){var p=Array.isArray(l[f])?l[f]:[l[f]];l[f]=p.map(o.bind(null,f))}var h=new Q(l);h.messages(u.messages),e.rule.options&&(e.rule.options.messages=u.messages,e.rule.options.error=u.error),h.validate(e.value,e.rule.options||u,(function(e){var n=[];s&&s.length&&n.push.apply(n,s),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(s)}a=a&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?r=i.asyncValidator(i,e.value,s,e.source,u):i.validator&&(r=i.validator(i,e.value,s,e.source,u),!0===r?s():!1===r?s(i.message||i.field+" fails"):r instanceof Array?s(r):r instanceof Error&&s(r.message)),r&&r.then&&r.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){c(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!X.hasOwnProperty(e.type))throw new Error(d("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?X.required:X[this.getType(e)]||!1}},Q.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");X[e]=t},Q.warning=f,Q.messages=J,Q.validators=X,t["a"]=Q}).call(this,n("Q2Ig"))},Kpgp:function(e,t,n){var r=n("ZWQd"),i=function e(t,n){for(var i=0,a=0,o=1;o<=t.length-2;o++){var s=new r(t[0],t[t.length-1]).perpendicularDistance(t[o]);s>i&&(a=o,i=s)}if(i>n)var u=e(t.slice(0,a),n),l=e(t.slice(a,t.length),n),c=u.concat(l);else c=t.length>1?[t[0],t[t.length-1]]:[t[0]];return c};e.exports=i},Kqk8:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("UB5X")),c=n("gHHc"),f=r(n("YenN")),p=n("kIOg");function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  gl_FragColor = v_Color;\n  // gl_FragColor.a *= u_opacity;\n  gl_FragColor.a *= opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec4 v_Color;\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\nstyleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n\n',y=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n})){this.judgeStyleAttributes({opacity:n});var r=this.layer.getEncodedData(),i=this.calDataFrame(this.cellLength,r,this.cellProperties),a=i.data,o=i.width,s=i.height;this.rowCount=s,this.dataTexture=this.cellLength>0&&a.length>0?this.createTexture2D({flipY:!0,data:a,format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:o,height:s}):this.createTexture2D({flipY:!0,data:[1],format:c.gl.LUMINANCE,type:c.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,l["default"])(n)?n:1}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:m,fragmentShader:v,triangulation:p.polygonTriangulation,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(f["default"]);t["default"]=y},KrxN:function(e,t,n){var r=n("I+eb"),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(e){return e*i}})},KtxS:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("yXPU")),o=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("lSNA")),l=n("4cb6"),c=r(n("SUU4"));n("mNvP");var f,p,d=r(n("BXai")),h=r(n("Hpg4")),v=r(n("htLe")),m=r(n("Gl9S")),y=r(n("KvoV")),g=r(n("hupY")),b=(f=(0,l.injectable)(),f(p=function(){function e(){var t=this;(0,o["default"])(this,e),(0,u["default"])(this,"extensionObject",void 0),(0,u["default"])(this,"gl",void 0),(0,u["default"])(this,"$container",void 0),(0,u["default"])(this,"canvas",void 0),(0,u["default"])(this,"width",void 0),(0,u["default"])(this,"height",void 0),(0,u["default"])(this,"isDirty",void 0),(0,u["default"])(this,"createModel",(function(e){return new y["default"](t.gl,e)})),(0,u["default"])(this,"createAttribute",(function(e){return new d["default"](t.gl,e)})),(0,u["default"])(this,"createBuffer",(function(e){return new h["default"](t.gl,e)})),(0,u["default"])(this,"createElements",(function(e){return new v["default"](t.gl,e)})),(0,u["default"])(this,"createTexture2D",(function(e){return new g["default"](t.gl,e)})),(0,u["default"])(this,"createFramebuffer",(function(e){return new m["default"](t.gl,e)})),(0,u["default"])(this,"useFramebuffer",(function(e,n){t.gl({framebuffer:e?e.get():null})(n)})),(0,u["default"])(this,"clear",(function(e){var n=e.color,r=e.depth,i=e.stencil,a=e.framebuffer,o=void 0===a?null:a,s={color:n,depth:r,stencil:i};s.framebuffer=null===o?o:o.get(),t.gl.clear(s)})),(0,u["default"])(this,"viewport",(function(e){var n=e.x,r=e.y,i=e.width,a=e.height;t.gl._gl.viewport(n,r,i,a),t.width=i,t.height=a,t.gl._refresh()})),(0,u["default"])(this,"readPixels",(function(e){var n=e.framebuffer,r=e.x,i=e.y,a=e.width,o=e.height,s={x:r,y:i,width:a,height:o};return n&&(s.framebuffer=n.get()),t.gl.read(s)})),(0,u["default"])(this,"getViewportSize",(function(){return{width:t.gl._gl.drawingBufferWidth,height:t.gl._gl.drawingBufferHeight}})),(0,u["default"])(this,"getContainer",(function(){var e;return null===(e=t.canvas)||void 0===e?void 0:e.parentElement})),(0,u["default"])(this,"getCanvas",(function(){return t.canvas})),(0,u["default"])(this,"getGLContext",(function(){return t.gl._gl})),(0,u["default"])(this,"destroy",(function(){t.gl.destroy()}))}return(0,s["default"])(e,[{key:"init",value:function(){var e=(0,a["default"])(i["default"].mark((function e(t,n){var r=this;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.canvas=t,e.next=3,new Promise((function(e,t){(0,c["default"])({canvas:r.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(n,r){!n&&r||t(n),e(r)}})}));case 3:this.gl=e.sent,this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"testExtension",value:function(e){return!!this.getGLContext().getExtension(e)}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var e=this.getGLContext();e.disable(e.CULL_FACE)}},{key:"setDirty",value:function(e){this.isDirty=e}},{key:"getDirty",value:function(){return this.isDirty}}]),e}())||p);t["default"]=b},Kvjs:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("POYw"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","RasterLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={raster:{},raster3d:{}};return t[e]}},{key:"getModelType",value:function(){return"raster"}}]),n}(f["default"]);t["default"]=v},KvoV:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("cDf5")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("c6wG")),l=r(n("YO3V")),c=n("gHHc"),f=n("GdC1");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(t,n){(0,a["default"])(this,e),(0,s["default"])(this,"reGl",void 0),(0,s["default"])(this,"destroyed",!1),(0,s["default"])(this,"drawCommand",void 0),(0,s["default"])(this,"drawParams",void 0),(0,s["default"])(this,"options",void 0),(0,s["default"])(this,"uniforms",{}),this.reGl=t;var r=n.vs,i=n.fs,o=n.attributes,u=n.uniforms,l=n.primitive,p=n.count,d=n.elements,h=n.depth,v=n.blend,m=n.stencil,y=n.cull,g=n.instances,b={};this.options=n,u&&(this.uniforms=this.extractUniforms(u),Object.keys(u).forEach((function(e){b[e]=t.prop(e)})));var _={};Object.keys(o).forEach((function(e){_[e]=o[e].get()}));var x={attributes:_,frag:i,uniforms:b,vert:r,primitive:f.primitiveMap[void 0===l?c.gl.TRIANGLES:l]};g&&(x.instances=g),p&&(x.count=p),d&&(x.elements=d.get()),this.initDepthDrawParams({depth:h},x),this.initBlendDrawParams({blend:v},x),this.initStencilDrawParams({stencil:m},x),this.initCullDrawParams({cull:y},x),this.drawCommand=t(x),this.drawParams=x}return(0,o["default"])(e,[{key:"addUniforms",value:function(e){this.uniforms=d(d({},this.uniforms),this.extractUniforms(e))}},{key:"draw",value:function(e){if(!this.drawParams.attributes||0!==Object.keys(this.drawParams.attributes).length){var t=d(d({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=(0,i["default"])(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:n[e]=t[e].get()})),this.drawCommand(n)}}},{key:"destroy",value:function(){this.drawParams.elements.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach((function(e){e.destroy()})),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:f.depthFuncMap[n.func||c.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,i=n.func,a=n.equation,o=n.color,s=void 0===o?[0,0,0,0]:o;t.blend={enable:!!r,func:{srcRGB:f.blendFuncMap[i&&i.srcRGB||c.gl.SRC_ALPHA],srcAlpha:f.blendFuncMap[i&&i.srcAlpha||c.gl.SRC_ALPHA],dstRGB:f.blendFuncMap[i&&i.dstRGB||c.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:f.blendFuncMap[i&&i.dstAlpha||c.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:f.blendEquationMap[a&&a.rgb||c.gl.FUNC_ADD],alpha:f.blendEquationMap[a&&a.alpha||c.gl.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,i=n.mask,a=void 0===i?-1:i,o=n.func,s=void 0===o?{cmp:c.gl.ALWAYS,ref:0,mask:-1}:o,u=n.opFront,l=void 0===u?{fail:c.gl.KEEP,zfail:c.gl.KEEP,zpass:c.gl.KEEP}:u,p=n.opBack,h=void 0===p?{fail:c.gl.KEEP,zfail:c.gl.KEEP,zpass:c.gl.KEEP}:p;t.stencil={enable:!!r,mask:a,func:d(d({},s),{},{cmp:f.stencilFuncMap[s.cmp]}),opFront:{fail:f.stencilOpMap[l.fail],zfail:f.stencilOpMap[l.zfail],zpass:f.stencilOpMap[l.zpass]},opBack:{fail:f.stencilOpMap[h.fail],zfail:f.stencilOpMap[h.zfail],zpass:f.stencilOpMap[h.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,i=n.face,a=void 0===i?c.gl.BACK:i;t.cull={enable:!!r,face:f.cullFaceMap[a]}}}},{key:"extractUniforms",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){t.extractUniformsRecursively(r,e[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(e,t,n,r){var i=this;null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||(0,u["default"])(t)||""===t||"resize"in t?n["".concat(r&&r+".").concat(e)]=t:((0,l["default"])(t)&&Object.keys(t).forEach((function(a){i.extractUniformsRecursively(a,t[a],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,a){Object.keys(t).forEach((function(o){i.extractUniformsRecursively(o,t[o],n,"".concat(r&&r+".").concat(e,"[").concat(a,"]"))}))})))}}]),e}();t["default"]=h},KwMD:function(e,t){function n(e,t,n,r){var i=e.length,a=n+(r?1:-1);while(r?a--:++a<i)if(t(e[a],a,e))return a;return-1}e.exports=n},Kwbf:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r={};function i(e,t){0}function a(e,t){0}function o(e,t,n){t||r[n]||(e(!1,n),r[n]=!0)}function s(e,t){o(i,e,t)}function u(e,t){o(a,e,t)}t["a"]=s},KxBF:function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var a=Array(i);while(++r<i)a[r]=e[r+t];return a}e.exports=n},Kz25:function(e,t,n){"use strict";n("PKPk");var r,i=n("I+eb"),a=n("g6v/"),o=n("DTth"),s=n("2oRo"),u=n("N+g0"),l=n("busE"),c=n("GarU"),f=n("UTVS"),p=n("YNrV"),d=n("TfTi"),h=n("ZUd8").codeAt,v=n("X7LM"),m=n("1E5z"),y=n("mGGf"),g=n("afO8"),b=s.URL,_=y.URLSearchParams,x=y.getState,w=g.set,E=g.getterFor("URL"),S=Math.floor,k=Math.pow,O="Invalid authority",T="Invalid scheme",C="Invalid host",A="Invalid port",M=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,I=/\d/,R=/^(0x|0X)/,j=/^[0-7]+$/,L=/^\d+$/,N=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,U=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return C;if(n=H(t.slice(1,-1)),!n)return C;e.host=n}else if(Q(e)){if(t=v(t),D.test(t))return C;if(n=V(t),null===n)return C;e.host=n}else{if(F.test(t))return C;for(n="",r=d(t),i=0;i<r.length;i++)n+=K(r[i],G);e.host=n}},V=function(e){var t,n,r,i,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=R.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?L:8==a?j:N).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=k(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*k(256,3-r);return s},H=function(e){var t,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,l++,c=l}while(p()){if(8==l)return;if(":"!=p()){t=n=0;while(n<4&&N.test(p()))t=16*t+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,l>6)return;r=0;while(p()){if(i=null,r>0){if(!("."==p()&&r<4))return;f++}if(!I.test(p()))return;while(I.test(p())){if(a=parseInt(p(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;f++}u[l]=256*u[l]+i,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[l++]=t}else{if(null!==c)return;f++,l++,c=l}}if(null!==c){o=l-c,l=7;while(0!=l&&o>0)s=u[l],u[l--]=u[c+o-1],u[c+--o]=s}else if(8!=l)return;return u},W=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},q=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=W(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},G={},Z=p({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=p({},Z,{"#":1,"?":1,"{":1,"}":1}),X=p({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var n=h(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return f(J,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&M.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},le={},ce={},fe={},pe={},de={},he={},ve={},me={},ye={},ge={},be={},_e={},xe={},we={},Ee={},Se={},ke={},Oe={},Te=function(e,t,n,i){var a,o,s,u,l=n||oe,c=0,p="",h=!1,v=!1,m=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(z,"")),t=t.replace(B,""),a=d(t);while(c<=a.length){switch(o=a[c],l){case oe:if(!o||!M.test(o)){if(n)return T;l=ue;continue}p+=o.toLowerCase(),l=se;break;case se:if(o&&(P.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return T;p="",l=ue,c=0;continue}if(n&&(Q(e)!=f(J,p)||"file"==p&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(Q(e)&&J[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?l=be:Q(e)&&i&&i.scheme==e.scheme?l=le:Q(e)?l=de:"/"==a[c+1]?(l=ce,c++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Se)}break;case ue:if(!i||i.cannotBeABaseURL&&"#"!=o)return T;if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=Oe;break}l="file"==i.scheme?be:fe;continue;case le:if("/"!=o||"/"!=a[c+1]){l=fe;continue}l=he,c++;break;case ce:if("/"==o){l=ve;break}l=Ee;continue;case fe:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&Q(e))l=pe;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=ke;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=Ee;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Oe}break;case pe:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=Ee;continue}l=ve}else l=he;break;case de:if(l=he,"/"!=o||"/"!=p.charAt(c+1))continue;c++;break;case he:if("/"!=o&&"\\"!=o){l=ve;continue}break;case ve:if("@"==o){h&&(p="%40"+p),h=!0,s=d(p);for(var y=0;y<s.length;y++){var g=s[y];if(":"!=g||m){var b=K(g,X);m?e.password+=b:e.username+=b}else m=!0}p=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(h&&""==p)return O;c-=d(p).length+1,p="",l=me}else p+=o;break;case me:case ye:if(n&&"file"==e.scheme){l=xe;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==p)return C;if(n&&""==p&&($(e)||null!==e.port))return;if(u=U(e,p),u)return u;if(p="",l=we,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),p+=o}else{if(""==p)return C;if(u=U(e,p),u)return u;if(p="",l=ge,n==ye)return}break;case ge:if(!I.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=p){var _=parseInt(p,10);if(_>65535)return A;e.port=Q(e)&&_===J[e.scheme]?null:_,p=""}if(n)return;l=we;continue}return A}p+=o;break;case be:if(e.scheme="file","/"==o||"\\"==o)l=_e;else{if(!i||"file"!=i.scheme){l=Ee;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",l=ke;else{if("#"!=o){ne(a.slice(c).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),l=Ee;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=Oe}}break;case _e:if("/"==o||"\\"==o){l=xe;break}i&&"file"==i.scheme&&!ne(a.slice(c).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=Ee;continue;case xe:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(p))l=Ee;else if(""==p){if(e.host="",n)return;l=we}else{if(u=U(e,p),u)return u;if("localhost"==e.host&&(e.host=""),n)return;p="",l=we}continue}p+=o;break;case we:if(Q(e)){if(l=Ee,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(l=Ee,"/"!=o))continue}else e.fragment="",l=Oe;else e.query="",l=ke;break;case Ee:if(o==r||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(ae(p)?(re(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):ie(p)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(o==r||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",l=ke):"#"==o&&(e.fragment="",l=Oe)}else p+=K(o,Y);break;case Se:"?"==o?(e.query="",l=ke):"#"==o?(e.fragment="",l=Oe):o!=r&&(e.path[0]+=K(o,G));break;case ke:n||"#"!=o?o!=r&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":K(o,G)):(e.fragment="",l=Oe);break;case Oe:o!=r&&(e.fragment+=K(o,Z));break}c++}},Ce=function(e){var t,n,r=c(this,Ce,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof Ce)t=E(i);else if(n=Te(t={},String(i)),n)throw TypeError(n);if(n=Te(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new _,l=x(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(r.href=Me.call(r),r.origin=Pe.call(r),r.protocol=Ie.call(r),r.username=Re.call(r),r.password=je.call(r),r.host=Le.call(r),r.hostname=Ne.call(r),r.port=De.call(r),r.pathname=Fe.call(r),r.search=ze.call(r),r.searchParams=Be.call(r),r.hash=Ue.call(r))},Ae=Ce.prototype,Me=function(){var e=E(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,l=t+":";return null!==i?(l+="//",$(e)&&(l+=n+(r?":"+r:"")+"@"),l+=q(i),null!==a&&(l+=":"+a)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Pe=function(){var e=E(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Q(e)?t+"://"+q(e.host)+(null!==n?":"+n:""):"null"},Ie=function(){return E(this).scheme+":"},Re=function(){return E(this).username},je=function(){return E(this).password},Le=function(){var e=E(this),t=e.host,n=e.port;return null===t?"":null===n?q(t):q(t)+":"+n},Ne=function(){var e=E(this).host;return null===e?"":q(e)},De=function(){var e=E(this).port;return null===e?"":String(e)},Fe=function(){var e=E(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},ze=function(){var e=E(this).query;return e?"?"+e:""},Be=function(){return E(this).searchParams},Ue=function(){var e=E(this).fragment;return e?"#"+e:""},Ve=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ae,{href:Ve(Me,(function(e){var t=E(this),n=String(e),r=Te(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:Ve(Pe),protocol:Ve(Ie,(function(e){var t=E(this);Te(t,String(e)+":",oe)})),username:Ve(Re,(function(e){var t=E(this),n=d(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=K(n[r],X)}})),password:Ve(je,(function(e){var t=E(this),n=d(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=K(n[r],X)}})),host:Ve(Le,(function(e){var t=E(this);t.cannotBeABaseURL||Te(t,String(e),me)})),hostname:Ve(Ne,(function(e){var t=E(this);t.cannotBeABaseURL||Te(t,String(e),ye)})),port:Ve(De,(function(e){var t=E(this);ee(t)||(e=String(e),""==e?t.port=null:Te(t,e,ge))})),pathname:Ve(Fe,(function(e){var t=E(this);t.cannotBeABaseURL||(t.path=[],Te(t,e+"",we))})),search:Ve(ze,(function(e){var t=E(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Te(t,e,ke)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Ve(Be),hash:Ve(Ue,(function(e){var t=E(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Te(t,e,Oe)):t.fragment=null}))}),l(Ae,"toJSON",(function(){return Me.call(this)}),{enumerable:!0}),l(Ae,"toString",(function(){return Me.call(this)}),{enumerable:!0}),b){var He=b.createObjectURL,We=b.revokeObjectURL;He&&l(Ce,"createObjectURL",(function(e){return He.apply(b,arguments)})),We&&l(Ce,"revokeObjectURL",(function(e){return We.apply(b,arguments)}))}m(Ce,"URL"),i({global:!0,forced:!o,sham:!a},{URL:Ce})},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},"L+Zf":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-update-data"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u6570\u636e\u66f4\u65b0"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e\u66f4\u65b0","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u66f4\u65b0")),i.a.createElement(o["default"],s["default"]["docs-update-data"].previewerProps,i.a.createElement(u,null)))))},L8xA:function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},LGYb:function(e,t,n){var r=n("1hJj"),i=n("jbM+"),a=n("Xt/L"),o=n("xYSL"),s=n("dQpi"),u=n("rEGp"),l=200;function c(e,t,n){var c=-1,f=i,p=e.length,d=!0,h=[],v=h;if(n)d=!1,f=a;else if(p>=l){var m=t?null:s(e);if(m)return u(m);d=!1,f=o,v=new r}else v=t?[]:h;e:while(++c<p){var y=e[c],g=t?t(y):y;if(y=n||0!==y?y:0,d&&g===g){var b=v.length;while(b--)if(v[b]===g)continue e;t&&v.push(g),h.push(y)}else f(v,g,n)||(v!==h&&v.push(g),h.push(y))}return h}e.exports=c},"LK+K":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("foSv");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var a=n("md7G");function o(e){var t=i();return function(){var n,i=Object(r["a"])(e);if(t){var o=Object(r["a"])(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(a["a"])(this,n)}}},LKBx:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,a=n("UMSQ"),o=n("WjRb"),s=n("HYAF"),u=n("qxPZ"),l=n("xDBR"),c="".startsWith,f=Math.min,p=u("startsWith"),d=!l&&!p&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!p},{startsWith:function(e){var t=String(s(this));o(e);var n=a(f(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,n):t.slice(n,n+r.length)===r}})},LKzl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n("406g"),i=n("z4Hk"),a=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=a},LPSS:function(e,t,n){var r,i,a,o=n("2oRo"),s=n("0Dky"),u=n("xrYK"),l=n("A2ZE"),c=n("G+Rx"),f=n("zBJ4"),p=n("HNyW"),d=o.location,h=o.setImmediate,v=o.clearImmediate,m=o.process,y=o.MessageChannel,g=o.Dispatch,b=0,_={},x="onreadystatechange",w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},E=function(e){return function(){w(e)}},S=function(e){w(e.data)},k=function(e){o.postMessage(e+"",d.protocol+"//"+d.host)};h&&v||(h=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete _[e]},"process"==u(m)?r=function(e){m.nextTick(E(e))}:g&&g.now?r=function(e){g.now(E(e))}:y&&!p?(i=new y,a=i.port2,i.port1.onmessage=S,r=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(k)||"file:"===d.protocol?r=x in f("script")?function(e){c.appendChild(f("script"))[x]=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(E(e),0)}:(r=k,o.addEventListener("message",S,!1))),e.exports={set:h,clear:v}},LQDL:function(e,t,n){var r,i,a=n("2oRo"),o=n("NC/Y"),s=a.process,u=s&&s.versions,l=u&&u.v8;l?(r=l.split("."),i=r[0]+r[1]):o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},LTtI:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s=r(n("yG8O")),u=r(n("lwsE")),l=r(n("W8MJ")),c=r(n("lSNA")),f=r(n("U+yc")),p=(r(n("1ABj")),n("gHHc"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(i=(0,p.lazyInject)(p.TYPES.IGlobalConfigService),a=function(){function e(t){(0,u["default"])(this,e),(0,s["default"])(this,"configService",o,this),(0,c["default"])(this,"config",void 0),this.config=t}return(0,l["default"])(e,[{key:"setContainer",value:function(e,t){e.bind(p.TYPES.MapConfig).toConstantValue(h(h({},this.config),{},{id:t})),e.bind(p.TYPES.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),o=(0,f["default"])(a.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a);t["default"]=v},LXxW:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=0,a=[];while(++n<r){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}e.exports=n},LY09:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("QILm")),a=r(n("RIqP")),o=r(n("yG8O")),s=r(n("lwsE")),u=r(n("W8MJ")),l=r(n("U+yc")),c=(r(n("1ABj")),r(n("lSNA"))),f=n("4cb6");n("mNvP");var p,d,h,v,m,y,g=n("0t2r"),b=n("2FAK"),_=r(n("XMUI"));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(p={},(0,c["default"])(p,b.gl.FLOAT,4),(0,c["default"])(p,b.gl.UNSIGNED_BYTE,1),(0,c["default"])(p,b.gl.UNSIGNED_SHORT,2),p),S=(d=(0,f.injectable)(),h=(0,f.inject)(g.TYPES.IRendererService),d((m=function(){function e(){(0,s["default"])(this,e),(0,c["default"])(this,"attributesAndIndices",void 0),(0,o["default"])(this,"rendererService",y,this),(0,c["default"])(this,"attributes",[]),(0,c["default"])(this,"triangulation",void 0),(0,c["default"])(this,"featureLayout",{sizePerElement:0,elements:[]})}return(0,u["default"])(e,[{key:"registerStyleAttribute",value:function(e){var t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new _["default"](e),this.attributes.push(t)),t}},{key:"updateStyleAttribute",value:function(e,t,n){var r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute(w(w({},t),{},{name:e})));var i=t.scale;i&&r&&(r.scale=i,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(e){return this.attributes.find((function(t){return t.name===e}))}},{key:"getLayerAttributeScale",value:function(e){var t,n=this.getLayerStyleAttribute(e),r=null===n||void 0===n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=this.attributes.find((function(t){return t.name===e}));if(i&&i.descriptor){var o=i.descriptor,s=o.update,u=o.buffer,l=o.size,c=void 0===l?0:l,f=E[u.type||b.gl.FLOAT];if(s){var p=this.featureLayout,d=p.elements,h=p.sizePerElement,v=d.slice(n,r);if(!v.length)return;var m=v[0].offset,y=m*c*f,g=v.map((function(e,n){for(var r=e.featureIdx,i=e.vertices,o=e.normals,u=i.length/h,l=[],c=0;c<u;c++){var f=o?o.slice(3*c,3*c+3):[];l.push.apply(l,(0,a["default"])(s(t[r],r,i.slice(c*h,c*h+h),n,f)))}return l})).reduce((function(e,t){return e.push.apply(e,(0,a["default"])(t)),e}),[]);i.vertexAttribute.updateBuffer({data:g,offset:y})}}}},{key:"createAttributesAndIndices",value:function(e,t){var n=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var r=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),o=0,s=[],u=3;e.forEach((function(e,t){var i=n.triangulation(e),l=i.indices,c=i.vertices,f=i.normals,p=i.size;l.forEach((function(e){s.push(e+o)})),u=p;var d=c.length/p;n.featureLayout.sizePerElement=u,n.featureLayout.elements.push({featureIdx:t,vertices:c,normals:f,offset:o}),o+=d;for(var h=function(n){var i=(null===f||void 0===f?void 0:f.slice(3*n,3*n+3))||[],o=c.slice(n*p,n*p+p);r.forEach((function(r,s){var u;r&&r.update&&(u=r.buffer.data).push.apply(u,(0,a["default"])(r.update(e,t,o,n,i)))}))},v=0;v<d;v++)h(v)}));var l=this.rendererService,c=l.createAttribute,f=l.createBuffer,p=l.createElements,d={};r.forEach((function(e,t){if(e){var r=e.buffer,a=(e.update,e.name,(0,i["default"])(e,["buffer","update","name"])),o=c(w({buffer:f(r)},a));d[e.name||""]=o,n.attributes[t].vertexAttribute=o}}));var h=p({data:s,type:b.gl.UNSIGNED_INT,count:s.length});return this.attributesAndIndices={attributes:d,elements:h},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){var e;this.attributes.forEach((function(e){e.vertexAttribute&&e.vertexAttribute.destroy()})),null===(e=this.attributesAndIndices)||void 0===e||e.elements.destroy(),this.attributes=[]}}]),e}(),y=(0,l["default"])(m.prototype,"rendererService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v);t["default"]=S},LamF:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("4cb6");n("mNvP");var l=(i=(0,u.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e){e.hooks.afterInit.tap("LayerStylePlugin",(function(){e.updateLayerConfig({});var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&setTimeout((function(){e.fitBounds(r)}),100)}))}}]),e}())||a);t["default"]=l},Lbjt:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("PJYZ")),u=i(n("7W2i")),l=i(n("a1gu")),c=i(n("Nsbk")),f=i(n("lSNA")),p=n("z0pJ"),d=r(n("04D5"));function h(e){var t=v();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,u["default"])(n,e);var t=h(n);function n(e){var r;return(0,a["default"])(this,n),r=t.call(this,e),(0,f["default"])((0,s["default"])(r),"disabled",void 0),(0,f["default"])((0,s["default"])(r),"zoomInButton",void 0),(0,f["default"])((0,s["default"])(r),"zoomOutButton",void 0),(0,p.bindAll)(["updateDisabled","zoomIn","zoomOut"],(0,s["default"])(r)),r}return(0,o["default"])(n,[{key:"getDefault",value:function(){return{position:d.PositionType.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var e="l7-control-zoom",t=p.DOM.create("div",e+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,e+"-in",t,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,e+"-out",t,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),t}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(e,t,n,r,i){var a=p.DOM.create("a",n,r);return a.innerHTML=e,a.title=t,a.href="javascript:void(0)",a.addEventListener("click",i),a}},{key:"updateDisabled",value:function(){var e=this.mapsService,t="l7-disabled";p.DOM.removeClass(this.zoomInButton,t),p.DOM.removeClass(this.zoomOutButton,t),(this.disabled||e.getZoom()<=e.getMinZoom())&&p.DOM.addClass(this.zoomOutButton,t),(this.disabled||e.getZoom()>=e.getMaxZoom())&&p.DOM.addClass(this.zoomInButton,t)}}]),n}(d["default"]);t["default"]=m},LcsW:function(e,t,n){var r=n("kekF"),i=r(Object.getPrototypeOf,Object);e.exports=i},LgV6:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("J4zp")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("qXrd")),l=function(){function e(){(0,a["default"])(this,e),(0,s["default"])(this,"enabled",void 0),(0,s["default"])(this,"active",void 0),(0,s["default"])(this,"firstTwoTouches",void 0),(0,s["default"])(this,"vector",void 0),(0,s["default"])(this,"startVector",void 0),(0,s["default"])(this,"aroundCenter",void 0),this.reset()}return(0,o["default"])(e,[{key:"reset",value:function(){this.active=!1,delete this.firstTwoTouches}},{key:"start",value:function(e){}},{key:"move",value:function(e,t,n){}},{key:"touchstart",value:function(e,t,n){this.firstTwoTouches||n.length<2||(this.firstTwoTouches=[n[0].identifier,n[1].identifier],this.start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,n){if(this.firstTwoTouches){e.preventDefault();var r=(0,i["default"])(this.firstTwoTouches,2),a=r[0],o=r[1],s=c(n,t,a),u=c(n,t,o);if(s&&u){var l=this.aroundCenter?null:s.add(u).div(2);return this.move([s,u],l,e)}}}},{key:"touchend",value:function(e,t,n){if(this.firstTwoTouches){var r=(0,i["default"])(this.firstTwoTouches,2),a=r[0],o=r[1],s=c(n,t,a),l=c(n,t,o);s&&l||(this.active&&u["default"].suppressClick(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this.enabled=!0,this.aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();function c(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}t["default"]=l},LggG:function(e,t,n){},LgvC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n("FV85"),i=n("d9O0"),a=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===r.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=a},"LnO/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTransform=t.getTransform=t.registerParser=t.getParser=void 0;var r={},i={},a=function(e){return i[e]};t.getParser=a;var o=function(e,t){i[e]=t};t.registerParser=o;var s=function(e){return r[e]};t.getTransform=s;var u=function(e,t){r[e]=t};t.registerTransform=u},LpSC:function(e,t,n){n("bZMm"),e.exports=self.fetch.bind(self)},LsHQ:function(e,t,n){var r=n("EA7m"),i=n("mv/X");function a(e){return r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);while(++r<a){var u=n[r];u&&e(t,u,r,o)}return t}))}e.exports=a},LtsZ:function(e,t,n){"use strict";n.r(t),n.d(t,"createBrowserHistory",(function(){return a["a"]})),n.d(t,"createHashHistory",(function(){return a["b"]})),n.d(t,"createMemoryHistory",(function(){return a["d"]})),n.d(t,"__RouterContext",(function(){return o["h"]})),n.d(t,"Link",(function(){return b})),n.d(t,"MemoryRouter",(function(){return o["a"]})),n.d(t,"NavLink",(function(){return E})),n.d(t,"Prompt",(function(){return o["b"]})),n.d(t,"Redirect",(function(){return o["c"]})),n.d(t,"Route",(function(){return o["d"]})),n.d(t,"Router",(function(){return o["e"]})),n.d(t,"StaticRouter",(function(){return o["f"]})),n.d(t,"Switch",(function(){return o["g"]})),n.d(t,"matchPath",(function(){return o["i"]})),n.d(t,"useHistory",(function(){return o["j"]})),n.d(t,"useLocation",(function(){return o["k"]})),n.d(t,"useParams",(function(){return o["l"]})),n.d(t,"useRouteMatch",(function(){return o["m"]})),n.d(t,"withRouter",(function(){return o["n"]})),n.d(t,"ApplyPluginsType",(function(){return ne})),n.d(t,"Plugin",(function(){return oe})),n.d(t,"dynamic",(function(){return ee})),n.d(t,"isBrowser",(function(){return re}));var r=n("WmNS"),i=n.n(r),a=n("YS25"),o=n("Ty5D"),s=n("dI71"),u=n("q1tI"),l=n.n(u),c=(n("17x9"),n("wx14")),f=n("zLVn"),p=n("9R94");l.a.Component;l.a.Component;var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(a["c"])(e,null,null,t):e},v=function(e){return e},m=l.a.forwardRef;function y(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}"undefined"===typeof m&&(m=v);var g=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(f["a"])(e,["innerRef","navigate","onClick"]),o=a.target,s=Object(c["a"])({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||o&&"_self"!==o||y(e)||(e.preventDefault(),r())}});return s.ref=v!==m&&t||n,l.a.createElement("a",s)}));var b=m((function(e,t){var n=e.component,r=void 0===n?g:n,i=e.replace,a=e.to,s=e.innerRef,u=Object(f["a"])(e,["component","replace","to","innerRef"]);return l.a.createElement(o["h"].Consumer,null,(function(e){e||Object(p["a"])(!1);var n=e.history,o=h(d(a,e.location),e.location),f=o?n.createHref(o):"",y=Object(c["a"])({},u,{href:f,navigate:function(){var t=d(a,e.location),r=i?n.replace:n.push;r(t)}});return v!==m?y.ref=t||s:y.innerRef=s,l.a.createElement(r,y)}))})),_=function(e){return e},x=l.a.forwardRef;function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}"undefined"===typeof x&&(x=_);var E=x((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,s=e.activeStyle,u=e.className,v=e.exact,m=e.isActive,y=e.location,g=e.sensitive,E=e.strict,S=e.style,k=e.to,O=e.innerRef,T=Object(f["a"])(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return l.a.createElement(o["h"].Consumer,null,(function(e){e||Object(p["a"])(!1);var n=y||e.location,i=h(d(k,n),n),f=i.pathname,C=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),A=C?Object(o["i"])(n.pathname,{path:C,exact:v,sensitive:g,strict:E}):null,M=!!(m?m(A,n):A),P=M?w(u,a):u,I=M?Object(c["a"])({},S,{},s):S,R=Object(c["a"])({"aria-current":M&&r||null,className:P,style:I,to:i},T);return _!==x?R.ref=t||O:R.innerRef=O,l.a.createElement(b,R)}))})),S=n("8L3h");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){return T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function C(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){C(a,r,i,o,s,"next",e)}function s(e){C(a,r,i,o,s,"throw",e)}o(void 0)}))}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return L(e)||N(e)||D(e)||z()}function L(e){if(Array.isArray(e))return e}function N(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function D(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}var U=Object(u["createContext"])(null),V=[],H=[],W=!1;function q(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e}))["catch"]((function(e){throw n.loading=!1,n.error=e,e})),n}function G(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=q(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e}))["catch"]((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e}))["catch"]((function(e){throw t.loading=!1,e})),t}function Z(e){return e&&e.__esModule?e["default"]:e}function Y(e,t){return Object(u["createElement"])(Z(e),t)}function X(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:Y,webpack:null,modules:null},t),r=null;function i(){if(!r){var t=new K(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if("undefined"===typeof window&&V.push(i),!W&&"undefined"!==typeof window&&"function"===typeof n.webpack){var a=n.webpack();H.push((function(e){var t,n=B(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return i()}}catch(o){n.e(o)}finally{n.f()}}))}var o=function(e,t){i();var a=Object(u["useContext"])(U),o=Object(S["useSubscription"])(r);return Object(u["useImperativeHandle"])(t,(function(){return{retry:r.retry}})),a&&Array.isArray(n.modules)&&n.modules.forEach((function(e){a(e)})),o.loading||o.error?Object(u["createElement"])(n.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:r.retry}):o.loaded?n.render(o.loaded,e):null},s=Object(u["forwardRef"])(o);return s.preload=function(){return i()},s.displayName="LoadableComponent",s}var K=function(){function e(t,n){M(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return I(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update(),e._clearTimeouts()}))["catch"]((function(t){e._update(),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=O(O({},this._state),e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return O(O({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks["delete"](e)}}}]),e}();function J(e){return X(q,e)}function Q(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return X(G,e)}function $(e,t){var n=[];while(e.length){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return $(e,t)}))}function ee(e){var t=J,n={loading:function(e){e.error,e.isLoading;return Object(u["createElement"])("p",null,"loading...")}};if("function"===typeof e)n.loader=e;else{if("object"!==T(e))throw new Error("Unexpect arguments ".concat(e));n=O(O({},n),e)}return t(n)}function te(e,t){if(!e)throw new Error(t)}J.Map=Q,J.preloadAll=function(){return new Promise((function(e,t){$(V).then(e,t)}))},J.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return W=!0,t()};$(H,e).then(n,n)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=J.preloadReady);var ne,re=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement};function ie(e){var t=e.fns,n=e.args;if(1===t.length)return t[0];var r=t.pop();return t.reduce((function(e,t){return function(){return t(e,n)}}),r)}function ae(e){return!!e&&"object"===T(e)&&"function"===typeof e.then}(function(e){e["compose"]="compose",e["modify"]="modify",e["event"]="event"})(ne||(ne={}));var oe=function(){function e(t){M(this,e),this.validKeys=void 0,this.hooks={},this.validKeys=(null===t||void 0===t?void 0:t.validKeys)||[]}return I(e,[{key:"register",value:function(e){var t=this;te(!!e.apply,"register failed, plugin.apply must supplied"),te(!!e.path,"register failed, plugin.path must supplied"),Object.keys(e.apply).forEach((function(n){te(t.validKeys.indexOf(n)>-1,"register failed, invalid key ".concat(n," from plugin ").concat(e.path,".")),t.hooks[n]||(t.hooks[n]=[]),t.hooks[n]=t.hooks[n].concat(e.apply[n])}))}},{key:"getHooks",value:function(e){var t=e.split("."),n=j(t),r=n[0],i=n.slice(1),a=this.hooks[r]||[];return i.length&&(a=a.map((function(e){try{var t,n=e,r=B(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n[a]}}catch(o){r.e(o)}finally{r.f()}return n}catch(s){return null}})).filter(Boolean)),a}},{key:"applyPlugins",value:function(e){var t=e.key,n=e.type,r=e.initialValue,a=e.args,o=e.async,s=this.getHooks(t)||[];switch(a&&te("object"===T(a),"applyPlugins failed, args must be plain object."),n){case ne.modify:return o?s.reduce(function(){var e=A(i.a.mark((function e(n,r){var o;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(te("function"===typeof r||"object"===T(r)||ae(r),"applyPlugins failed, all hooks for key ".concat(t," must be function, plain object or Promise.")),!ae(n)){e.next=5;break}return e.next=4,n;case 4:n=e.sent;case 5:if("function"!==typeof r){e.next=16;break}if(o=r(n,a),!ae(o)){e.next=13;break}return e.next=10,o;case 10:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",o);case 14:e.next=21;break;case 16:if(!ae(r)){e.next=20;break}return e.next=19,r;case 19:r=e.sent;case 20:return e.abrupt("return",O(O({},n),r));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ae(r)?r:Promise.resolve(r)):s.reduce((function(e,n){return te("function"===typeof n||"object"===T(n),"applyPlugins failed, all hooks for key ".concat(t," must be function or plain object.")),"function"===typeof n?n(e,a):O(O({},e),n)}),r);case ne.event:return s.forEach((function(e){te("function"===typeof e,"applyPlugins failed, all hooks for key ".concat(t," must be function.")),e(a)}));case ne.compose:return function(){return ie({fns:s.concat(r),args:a})()}}}}]),e}()},LvWW:function(e,t,n){var r=n("mhV4");function i(e,t){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(a(i,t)),e;case"GeometryCollection":return e.geometries=e.geometries.map(a(i,t)),e;case"Feature":return e.geometry=i(e.geometry,t),e;case"Polygon":case"MultiPolygon":return o(e,t);default:return e}}function a(e,t){return function(n){return e(n,t)}}function o(e,t){return"Polygon"===e.type?e.coordinates=s(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(a(s,t))),e}function s(e,t){t=!!t,e[0]=u(e[0],t);for(var n=1;n<e.length;n++)e[n]=u(e[n],!t);return e}function u(e,t){return l(e)===t?e:e.reverse()}function l(e){return r.ring(e)>=0}e.exports=i},Lw8S:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r},Lwbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},i=t.render=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var a=i.getContext("2d");return a?(a.fillStyle=e,a.fillRect(0,0,i.width,i.height),a.fillStyle=t,a.fillRect(0,0,n,n),a.translate(n,n),a.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,a){var o=e+"-"+t+"-"+n+(a?"-server":"");if(r[o])return r[o];var s=i(e,t,n,a);return r[o]=s,s}},MC4F:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Version=void 0,t.Version=r,function(e){e["GAODE1.x"]="GAODE1.x",e["GAODE2.x"]="GAODE2.x",e["MAPBOX"]="MAPBOX",e["L7MAP"]="L7MAP"}(r||(t.Version=r={}))},MIOZ:function(e,t){function n(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}e.exports=n},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");function a(e){return null!=e&&i(e.length)&&!r(e)}e.exports=a},MNnm:function(e,t,n){"use strict";function r(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}n.d(t,"a",(function(){return r}))},MON2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var r=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};t.UNDEFINED_INJECT_ANNOTATION=r,t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."};t.ARGUMENTS_LENGTH_MISMATCH=i,t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};t.POST_CONSTRUCT_ERROR=a;var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."};t.CIRCULAR_DEPENDENCY_IN_FACTORY=o,t.STACK_OVERFLOW="Maximum call stack size exceeded"},MTkF:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("Vf98")),u=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"viewport",void 0)}return(0,a["default"])(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,i=e.bearing,a=e.viewportHeight,o=e.viewportWidth;this.viewport=new s["default"]({width:o,height:a,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}();t["default"]=u},MUOp:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-custom-drilldown"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe"),i.a.createElement("p",null,"\u901a\u8fc7 ",i.a.createElement("code",null,"ProvinceLayer \u7701\u7ea7\u5730\u56fe")," \u548c ",i.a.createElement("code",null,"CityLayer \u5e02\u7ea7\u5730\u56fe")," \u5b9e\u73b0\u7701\u5e02\u4e24\u7ea7\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-custom-drilldown"].previewerProps,i.a.createElement(u,null)))))},MbJz:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.mercatorXfromLng=f,t.mercatorYfromLat=p,t.mercatorZfromAltitude=d,t.lngFromMercatorX=h,t.latFromMercatorY=v,t.altitudeFromMercatorZ=m,t.mercatorScale=y,t["default"]=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("lSNA")),u=r(n("Yr5f")),l=2*Math.PI*u.earthRadius;function c(e){return l*Math.cos(e*Math.PI/180)}function f(e){return(180+e)/360}function p(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function d(e,t){return e/c(t)}function h(e){return 360*e-180}function v(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}function m(e,t){return e*c(v(t))}function y(e){return 1/Math.cos(e*Math.PI/180)}var g=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,a["default"])(this,e),(0,s["default"])(this,"x",void 0),(0,s["default"])(this,"y",void 0),(0,s["default"])(this,"z",void 0),this.x=+t,this.y=+n,this.z=+r}return(0,o["default"])(e,[{key:"toLngLat",value:function(){return new u["default"](h(this.x),v(this.y))}},{key:"toAltitude",value:function(){return m(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/l*y(v(this.y))}}],[{key:"fromLngLat",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=u["default"].convert(t);return new e(f(r.lng),p(r.lat),d(n,r.lat))}}]),e}();t["default"]=g},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]),n)i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},Mpie:function(e,t,n){},MrPd:function(e,t,n){var r=n("hypo"),i=n("ljhN"),a=Object.prototype,o=a.hasOwnProperty;function s(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=s},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),a=Object.prototype,o=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=u},"N+g0":function(e,t,n){var r=n("g6v/"),i=n("m/L8"),a=n("glrk"),o=n("33Wh");e.exports=r?Object.defineProperties:function(e,t){a(e);var n,r=o(t),s=r.length,u=0;while(s>u)i.f(e,n=r[u++],t[n]);return e}},"NC/Y":function(e,t,n){var r=n("0GbY");e.exports=r("navigator","userAgent")||""},NEDz:function(e,t){},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),a=n("GoyQ"),o=n("3Fdi"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,p=c.hasOwnProperty,d=RegExp("^"+f.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(e){if(!a(e)||i(e))return!1;var t=r(e)?d:u;return t.test(o(e))}e.exports=h},NMXm:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("gHHc"),c=r(n("YenN")),f=n("kIOg");function p(e){var t=d();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h='precision highp float;\r\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\r\nattribute vec3 a_Position;\r\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\r\nattribute vec3 a_Pos;\r\nattribute float a_Size;\r\nattribute vec4 a_Color;\r\nuniform vec2 u_radius;\r\nuniform float u_coverage: 0.9;\r\nuniform float u_angle: 0;\r\nuniform mat4 u_ModelMatrix;\r\nuniform mat4 u_Mvp;\r\nvarying vec4 v_color;\r\n\r\nuniform vec2 u_SceneCenterMKT;\r\n\r\n#pragma include "projection"\r\n#pragma include "project"\r\n#pragma include "picking"\r\n\r\nvoid main() {\r\n  v_color = a_Color;\r\n\r\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\r\n  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage ;\r\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n  // gl_Position = project_common_position_to_clipspace(project_pos);\r\n\r\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\r\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\r\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\r\n    gl_Position = u_Mvp * (project_pos);\r\n  } else {\r\n     vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\r\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\r\n    gl_Position = project_common_position_to_clipspace(project_pos);\r\n  }\r\n\r\n  setPickingColor(a_PickingColor);\r\n}\r\n',v='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m=function(e){(0,o["default"])(n,e);var t=p(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||.9,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"gridheatmap",vertexShader:h,fragmentShader:v,triangulation:f.HeatmapGridTriangulation,depth:{enable:!1},primitive:l.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:l.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(c["default"]);t["default"]=m},NN2X:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lSNA")),s=r(n("lwsE")),u=r(n("W8MJ")),l=r(n("7W2i")),c=r(n("a1gu")),f=r(n("Nsbk")),p=r(n("J2iB")),d=n("4cb6"),h=r(n("2stA"));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=g();return function(){var n,r=(0,f["default"])(e);if(t){var i=(0,f["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c["default"])(this,n)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var b="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",_="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",x=(i=(0,d.injectable)(),i(a=function(e){(0,l["default"])(n,e);var t=y(n);function n(){return(0,s["default"])(this,n),t.apply(this,arguments)}return(0,u["default"])(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:_,fs:b});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),a=i.width,o=i.height;return{vs:t,fs:n,uniforms:m(m({},r),{},{u_ViewportSize:[a,o]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return(0,p["default"])(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}]),n}(h["default"]))||a);t["default"]=x},NV22:function(e,t,n){var r=n("I+eb"),i=n("glrk"),a=n("4oU/"),o=n("ntOU"),s=n("afO8"),u="Seeded Random",l=u+" Generator",c=s.set,f=s.getterFor(l),p='Math.seededPRNG() argument should have a "seed" field with a finite value.',d=o((function(e){c(this,{type:l,seed:e%2147483647})}),u,(function(){var e=f(this),t=e.seed=(1103515245*e.seed+12345)%2147483647;return{value:(1073741823&t)/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!a(t))throw TypeError(p);return new d(t)}})},NaFW:function(e,t,n){var r=n("9d/t"),i=n("P4y1"),a=n("tiKp"),o=a("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},NeDX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3m+5");class i extends r["a"]{constructor(){super(...arguments),this.layerType="Region"}}},Npjl:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},Nq3d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),a=f(i),o=n("/FUP"),s=f(o),u=n("Lwbf"),l=c(u);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var p=t.Checkboard=function(e){var t=e.white,n=e.grey,o=e.size,u=e.renderers,c=e.borderRadius,f=e.boxShadow,p=e.children,d=(0,s["default"])({default:{grid:{borderRadius:c,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+l.get(t,n,o,u.canvas)+") center left"}}});return(0,i.isValidElement)(p)?a["default"].cloneElement(p,r({},p.props,{style:r({},p.props.style,d.grid)})):a["default"].createElement("div",{style:d.grid})};p.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t["default"]=p},NqB8:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("u5ea")),u=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"zoomIn",void 0),(0,o["default"])(this,"zoomOut",void 0),this.zoomIn=new s["default"]({numTouches:1,numTaps:2}),this.zoomOut=new s["default"]({numTouches:2,numTaps:1}),this.reset()}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1,this.zoomIn.reset(),this.zoomOut.reset()}},{key:"touchstart",value:function(e,t,n){this.zoomIn.touchstart(e,t,n),this.zoomOut.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.zoomIn.touchmove(e,t,n),this.zoomOut.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this,i=this.zoomIn.touchend(e,t,n),a=this.zoomOut.touchend(e,t,n);return i?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}}):a?(this.active=!0,e.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}}]),e}();t["default"]=u},NqR8:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},NyNd:function(e,t,n){"use strict";n.r(t),n.d(t,"hexbin",(function(){return s}));var r=Math.PI/3,i=[0,r,2*r,3*r,4*r,5*r];function a(e){return e[0]}function o(e){return e[1]}var s=function(){var e,t,n,s=0,u=0,l=1,c=1,f=a,p=o;function d(e){var r,i={},a=[],o=e.length;for(r=0;r<o;++r)if(!isNaN(u=+f.call(null,s=e[r],r,e))&&!isNaN(l=+p.call(null,s,r,e))){var s,u,l,c=Math.round(l/=n),d=Math.round(u=u/t-(1&c)/2),h=l-c;if(3*Math.abs(h)>1){var v=u-d,m=d+(u<d?-1:1)/2,y=c+(l<c?-1:1),g=u-m,b=l-y;v*v+h*h>g*g+b*b&&(d=m+(1&c?1:-1)/2,c=y)}var _=d+"-"+c,x=i[_];x?x.push(s):(a.push(x=i[_]=[s]),x.x=(d+(1&c)/2)*t,x.y=c*n)}return a}function h(e){var t=0,n=0;return i.map((function(r){var i=Math.sin(r)*e,a=-Math.cos(r)*e,o=i-t,s=a-n;return t=i,n=a,[o,s]}))}return d.hexagon=function(t){return"m"+h(null==t?e:+t).join("l")+"z"},d.centers=function(){for(var r=[],i=Math.round(u/n),a=Math.round(s/t),o=i*n;o<c+e;o+=n,++i)for(var f=a*t+(1&i)*t/2;f<l+t/2;f+=t)r.push([f,o]);return r},d.mesh=function(){var t=h(e).slice(0,4).join("l");return d.centers().map((function(e){return"M"+e+"m"+t})).join("")},d.x=function(e){return arguments.length?(f=e,d):f},d.y=function(e){return arguments.length?(p=e,d):p},d.radius=function(i){return arguments.length?(e=+i,t=2*e*Math.sin(r),n=1.5*e,d):e},d.size=function(e){return arguments.length?(s=u=0,l=+e[0],c=+e[1],d):[l-s,c-u]},d.extent=function(e){return arguments.length?(s=+e[0][0],u=+e[0][1],l=+e[1][0],c=+e[1][1],d):[[s,u],[l,c]]},d.radius(1)}},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),a=n("KfNM"),o="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;function l(e){return null==e?void 0===e?s:o:u&&u in Object(e)?i(e):a(e)}e.exports=l},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},O741:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},O7RO:function(e,t,n){var r=n("CMye"),i=n("7GkX");function a(e){var t=i(e),n=t.length;while(n--){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}e.exports=a},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),a=n("MrPd"),o=n("WwFo"),s=n("Dw+G"),u=n("5Tg0"),l=n("Q1l4"),c=n("VOtZ"),f=n("EEGq"),p=n("qZTm"),d=n("G6z8"),h=n("QqLw"),v=n("yHx3"),m=n("wrZu"),y=n("+iFO"),g=n("Z0cm"),b=n("DSRE"),_=n("zEVN"),x=n("GoyQ"),w=n("1+5i"),E=n("7GkX"),S=n("mTTR"),k=1,O=2,T=4,C="[object Arguments]",A="[object Array]",M="[object Boolean]",P="[object Date]",I="[object Error]",R="[object Function]",j="[object GeneratorFunction]",L="[object Map]",N="[object Number]",D="[object Object]",F="[object RegExp]",z="[object Set]",B="[object String]",U="[object Symbol]",V="[object WeakMap]",H="[object ArrayBuffer]",W="[object DataView]",q="[object Float32Array]",G="[object Float64Array]",Z="[object Int8Array]",Y="[object Int16Array]",X="[object Int32Array]",K="[object Uint8Array]",J="[object Uint8ClampedArray]",Q="[object Uint16Array]",$="[object Uint32Array]",ee={};function te(e,t,n,A,M,P){var I,L=t&k,N=t&O,F=t&T;if(n&&(I=M?n(e,A,M,P):n(e)),void 0!==I)return I;if(!x(e))return e;var z=g(e);if(z){if(I=v(e),!L)return l(e,I)}else{var B=h(e),U=B==R||B==j;if(b(e))return u(e,L);if(B==D||B==C||U&&!M){if(I=N||U?{}:y(e),!L)return N?f(e,s(I,e)):c(e,o(I,e))}else{if(!ee[B])return M?e:{};I=m(e,B,L)}}P||(P=new r);var V=P.get(e);if(V)return V;P.set(e,I),w(e)?e.forEach((function(r){I.add(te(r,t,n,r,e,P))})):_(e)&&e.forEach((function(r,i){I.set(i,te(r,t,n,i,e,P))}));var H=F?N?d:p:N?S:E,W=z?void 0:H(e);return i(W||e,(function(r,i){W&&(i=r,r=e[i]),a(I,i,te(r,t,n,i,e,P))})),I}ee[C]=ee[A]=ee[H]=ee[W]=ee[M]=ee[P]=ee[q]=ee[G]=ee[Z]=ee[Y]=ee[X]=ee[L]=ee[N]=ee[D]=ee[F]=ee[z]=ee[B]=ee[U]=ee[K]=ee[J]=ee[Q]=ee[$]=!0,ee[I]=ee[R]=ee[V]=!1,e.exports=te},ODXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSFK");function i(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}var a=n("BsWD"),o=n("PYwp");function s(e,t){return Object(r["a"])(e)||i(e,t)||Object(a["a"])(e,t)||Object(o["a"])()}},OH7Y:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionEvent=void 0,t.InteractionEvent=r,function(e){e["Hover"]="hover",e["Click"]="click",e["Select"]="select",e["Active"]="active",e["Drag"]="drag"}(r||(t.InteractionEvent=r={}))},"Of+w":function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),a=r(i,"WeakMap");e.exports=a},OgxK:function(e,t,n){"use strict";var r=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.rgb2arr=a,t.decodePickingColor=o,t.encodePickingColor=s,t.generateColorRamp=u;var i=r(n("SC+/"));function a(e){var t=i.color(e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function o(e){var t=e&&e[0],n=e&&e[1],r=e&&e[2],i=t+256*n+65536*r-1;return i}function s(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function u(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;for(var r=n.createLinearGradient(0,0,256,1),i=null,a=e.positions[0],o=e.positions[e.positions.length-1],s=0;s<e.colors.length;++s){var u=(e.positions[s]-a)/(o-a);r.addColorStop(u,e.colors[s])}return n.fillStyle=r,n.fillRect(0,0,256,1),i=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),new ImageData(i,256,1)}},Ojt5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=n("q1tI"),i=f(r),a=n("17x9"),o=f(a),s=n("/FUP"),u=f(s),l=n("QkVN"),c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var p=t.Raised=function(e){var t=e.zDepth,n=e.radius,r=e.background,a=e.children,o=e.styles,s=void 0===o?{}:o,l=(0,u["default"])((0,c["default"])({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return i["default"].createElement("div",{style:l.wrap},i["default"].createElement("div",{style:l.bg}),i["default"].createElement("div",{style:l.content},a))};p.propTypes={background:o["default"].string,zDepth:o["default"].oneOf([0,1,2,3,4,5]),radius:o["default"].number,styles:o["default"].object},p.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t["default"]=p},OsUo:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReglRendererService",{enumerable:!0,get:function(){return i["default"]}});var i=r(n("KtxS"))},P4y1:function(e,t){e.exports={}},P940:function(e,t,n){"use strict";e.exports=function(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];return new this(t)}},P9V8:function(e,t,n){"use strict";function r(e,t){for(var n=[],r=[],i=[],a=e+1,o=t+1,s=e/2,u=t/2,l=0;l<o;l++)for(var c=l-u,f=0;f<a;f++){var p=f-s;r.push(p/s,-c/u,0),i.push(f/e),i.push(1-l/t)}for(var d=0;d<t;d++)for(var h=0;h<e;h++){var v=h+a*d,m=h+a*(d+1),y=h+1+a*(d+1),g=h+1+a*d;n.push(v,m,g),n.push(m,y,g)}return{vertices:r,indices:n,uvs:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.heatMap3DTriangulation=r},PBMj:function(e,t,n){},PJYZ:function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},PKPk:function(e,t,n){"use strict";var r=n("ZUd8").charAt,i=n("afO8"),a=n("fdAy"),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},POYw:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("m//G")),a={raster:i["default"],raster3d:i["default"]},o=a;t["default"]=o},PQyO:function(e,t,n){},PYwp:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},Ph3d:function(e,t,n){},PrET:function(e,t,n){"use strict";var r=n("D3zA"),i=n("AM7I"),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(o,a),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(p){l=null}e.exports=function(e){var t=s(r,o,arguments);if(u&&l){var n=u(t,"length");n.configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(r,a,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},Pw59:function(e,t,n){"use strict";var r=n("q1tI"),i=Object(r["createContext"])({});t["a"]=i},Q1l4:function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},Q2Ig:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("33yf")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},Q2XI:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("7W2i")),u=i(n("a1gu")),l=i(n("Nsbk")),c=n("z0pJ"),f=r(n("04D5"));function p(e){var t=d();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){(0,s["default"])(n,e);var t=p(n);function n(){return(0,a["default"])(this,n),t.apply(this,arguments)}return(0,o["default"])(n,[{key:"getDefault",value:function(){return{position:f.PositionType.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var e="l7-control-logo",t=c.DOM.create("div",e),n=c.DOM.create("a","l7-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://antv.alipay.com/l7",n.setAttribute("aria-label","AntV logo"),n.setAttribute("rel","noopener nofollow"),t.appendChild(n),t}},{key:"onRemove",value:function(){return null}}]),n}(f["default"]);t["default"]=h},Q7Pz:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("Sssf"),s=n("i4U9"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(o(a(this)),(function(t,n){if(s(n,e))return u.stop()}),void 0,!0,!0).stopped}})},Q9SF:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QFcT:function(e,t,n){var r=n("I+eb"),i=Math.hypot,a=Math.abs,o=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:s},{hypot:function(e,t){var n,r,i=0,s=0,u=arguments.length,l=0;while(s<u)n=a(arguments[s++]),l<n?(r=l/n,i=i*r*r+1,l=n):n>0?(r=n/l,i+=r*r):i+=n;return l===1/0?1/0:l*o(i)}})},QGkA:function(e,t,n){var r=n("RNIs");r("flat")},QILm:function(e,t,n){var r=n("8OQS");function i(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},QIpd:function(e,t,n){var r=n("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},QIyF:function(e,t,n){var r=n("Kz5y"),i=function(){return r.Date.now()};e.exports=i},QSc6:function(e,t,n){"use strict";var r=n("VAJa"),i=n("0jNN"),a=n("sxOR"),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,p=a["default"],d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},h=function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e},v=function e(t,n,a,o,s,l,f,p,v,m,y,g,b,_,x){var w=t;if(x.has(t))throw new RangeError("Cyclic object value");if("function"===typeof f?w=f(n,w):w instanceof Date?w=m(w):"comma"===a&&u(w)&&(w=i.maybeMap(w,(function(e){return e instanceof Date?m(e):e}))),null===w){if(o)return l&&!b?l(n,d.encoder,_,"key",y):n;w=""}if(h(w)||i.isBuffer(w)){if(l){var E=b?n:l(n,d.encoder,_,"key",y);return[g(E)+"="+g(l(w,d.encoder,_,"value",y))]}return[g(n)+"="+g(String(w))]}var S,k=[];if("undefined"===typeof w)return k;if("comma"===a&&u(w))S=[{value:w.length>0?w.join(",")||null:void 0}];else if(u(f))S=f;else{var O=Object.keys(w);S=p?O.sort(p):O}for(var T=0;T<S.length;++T){var C=S[T],A="object"===typeof C&&void 0!==C.value?C.value:w[C];if(!s||null!==A){var M=u(w)?"function"===typeof a?a(n,C):n:n+(v?"."+C:"["+C+"]");x.set(t,!0);var P=r();c(k,e(A,M,a,o,s,l,f,p,v,m,y,g,b,_,P))}}return k},m=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a["default"];if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=a.formatters[n],i=d.filter;return("function"===typeof e.filter||u(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var n,i,a=e,o=m(t);"function"===typeof o.filter?(i=o.filter,a=i("",a)):u(o.filter)&&(i=o.filter,n=i);var l,f=[];if("object"!==typeof a||null===a)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=s[l];n||(n=Object.keys(a)),o.sort&&n.sort(o.sort);for(var d=r(),h=0;h<n.length;++h){var y=n[h];o.skipNulls&&null===a[y]||c(f,v(a[y],y,p,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,d))}var g=f.join(o.delimiter),b=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},QcOe:function(e,t,n){var r=n("GoyQ"),i=n("6sVZ"),a=n("7Ix3"),o=Object.prototype,s=o.hasOwnProperty;function u(e){if(!r(e))return a(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&n.push(o);return n}e.exports=u},QioJ:function(e,t,n){},QkVE:function(e,t,n){var r=n("EpBk");function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ"),a=i((function(e,t,n){r(e,t,n)}));e.exports=a},Qo9l:function(e,t,n){var r=n("2oRo");e.exports=r},QoRX:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),a=n("HOxn"),o=n("yGk4"),s=n("Of+w"),u=n("NykK"),l=n("3Fdi"),c="[object Map]",f="[object Object]",p="[object Promise]",d="[object Set]",h="[object WeakMap]",v="[object DataView]",m=l(r),y=l(i),g=l(a),b=l(o),_=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=v||i&&x(new i)!=c||a&&x(a.resolve())!=p||o&&x(new o)!=d||s&&x(new s)!=h)&&(x=function(e){var t=u(e),n=t==f?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return v;case y:return c;case g:return p;case b:return d;case _:return h}return t}),e.exports=x},Qyje:function(e,t,n){"use strict";var r=n("QSc6"),i=n("nmq7"),a=n("sxOR");e.exports={formats:a,parse:i,stringify:r}},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),a=n("CZoQ");function o(e,t,n){return t===t?a(e,t,n):r(e,i,n)}e.exports=o},"R3/m":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("Sssf"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e,n){if(!r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},R5yR:function(e,t,n){var r=n("9xmf"),i=n("rhT+"),a=n("mGKP"),o=n("XWE6");function s(e){return r(e)||i(e)||a(e)||o()}e.exports=s},RHKt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRendererContainer=i;window.document.documentElement.style;var r=0;function i(e){var t=e;if("string"===typeof e&&(t=document.getElementById(e)),t){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(r++),n.classList.add("l7-scene"),t.appendChild(n),n}return null}},RIqP:function(e,t,n){var r=n("Ijbi"),i=n("EbDI"),a=n("ZhPi"),o=n("Bnag");function s(e){return r(e)||i(e)||a(e)||o()}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},RK3t:function(e,t,n){var r=n("0Dky"),i=n("xrYK"),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},RN0t:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("gHHc"),c=r(n("YenN")),f=n("kIOg");function p(e){var t=d();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h='precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\n\nattribute vec3 a_Normal;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "light"\n#pragma include "picking"\n\n\nvoid main() {\n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  // vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n  // vec2 lnglat = (a_Pos.xy + offset); \n  // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n  // gl_Position = project_common_position_to_clipspace(project_pos);\n  // float lightWeight = calc_lighting(project_pos);\n  // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // vec2 lnglat = (a_Pos.xy + offset); \n    // vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n\n    // float lightWeight = calc_lighting(project_pos);\n    // v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    // gl_Position = u_Mvp * vec4(lnglat , a_Position.z * a_Size, 1.0);\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u7ecf\u7eac\u5ea6\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT; // \u5c06\u7ecf\u7eac\u5ea6\u8f6c\u6362\u4e3a\u9ad8\u5fb72.0\u9700\u8981\u7684\u5e73\u9762\u5750\u6807\n    vec4 project_pos = project_position(vec4(customLnglat, a_Position.z * a_Size, 1.0));\n\n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n  \n    gl_Position = u_Mvp * vec4(customLnglat , a_Position.z * a_Size, 1.0);\n  } else {\n    vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // \u5b9e\u9645\u7684\u7ecf\u7eac\u5ea6\n    vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));\n    \n    float lightWeight = calc_lighting(project_pos);\n    v_color =vec4(a_Color.rgb*lightWeight, a_Color.w);\n    \n    gl_Position = project_common_position_to_clipspace(project_pos);\n  }\n\n\n\n  setPickingColor(a_PickingColor);\n}\n',v='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',m=function(e){(0,o["default"])(n,e);var t=p(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||1,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"grid3dheatmap",vertexShader:h,fragmentShader:v,triangulation:f.PointExtrudeTriangulation,depth:{enable:!0},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:l.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:l.gl.STATIC_DRAW,data:[],type:l.gl.FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:l.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(c["default"]);t["default"]=m},RN6c:function(e,t,n){var r=n("2oRo");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},RNIs:function(e,t,n){var r=n("tiKp"),i=n("fHMY"),a=n("m/L8"),o=r("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},ROdP:function(e,t,n){var r=n("hh1v"),i=n("xrYK"),a=n("tiKp"),o=a("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},"RR/i":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n("xfSm"),i=n("GXnB"),a=function e(t,n){var r=t.parentRequest;return null!==r&&(!!n(r)||e(r,n))};t.traverseAncerstors=a;var o=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=o;var s=o(r.NAMED_TAG);t.namedConstraint=s;var u=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"===typeof e){var r=n.serviceIdentifier;return r===e}var i=t.bindings[0].implementationType;return e===i}return!1}};t.typeConstraint=u},RUxq:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"drilldown",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{var t=new o["DrillDownLayer"](e,{viewStart:"Province",viewEnd:"County",data:[{NAME_CHN:"\u4e91\u5357\u7701",adcode:53e4,value:17881.12}],fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},city:{adcode:[53e4],fill:{color:{field:"NAME_CHN",values:["#feedde"]}}},drillUpEvent:e=>{console.log("drillUpEvent",e)},drillDownEvent:e=>{console.log("drillDownEvent",e)},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});console.log(t)}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"drilldown"}))},RZMt:function(e,t,n){},RbnE:function(e,t,n){"use strict";t.encode=n("bFf/"),t.decode=n("ks0d")},Ri0D:function(e,t,n){"use strict";n.r(t),n.d(t,"dsvFormat",(function(){return h})),n.d(t,"csvParse",(function(){return m})),n.d(t,"csvParseRows",(function(){return y})),n.d(t,"csvFormat",(function(){return g})),n.d(t,"csvFormatBody",(function(){return b})),n.d(t,"csvFormatRows",(function(){return _})),n.d(t,"csvFormatRow",(function(){return x})),n.d(t,"csvFormatValue",(function(){return w})),n.d(t,"tsvParse",(function(){return S})),n.d(t,"tsvParseRows",(function(){return k})),n.d(t,"tsvFormat",(function(){return O})),n.d(t,"tsvFormatBody",(function(){return T})),n.d(t,"tsvFormatRows",(function(){return C})),n.d(t,"tsvFormatRow",(function(){return A})),n.d(t,"tsvFormatValue",(function(){return M})),n.d(t,"autoType",(function(){return P}));var r={},i={},a=34,o=10,s=13;function u(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function l(e,t){var n=u(e);return function(r,i){return t(n(r),i,e)}}function c(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function f(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function p(e){return e<0?"-"+f(-e,6):e>9999?"+"+f(e,6):f(e,4)}function d(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":p(e.getUTCFullYear(),4)+"-"+f(e.getUTCMonth()+1,2)+"-"+f(e.getUTCDate(),2)+(i?"T"+f(t,2)+":"+f(n,2)+":"+f(r,2)+"."+f(i,3)+"Z":r?"T"+f(t,2)+":"+f(n,2)+":"+f(r,2)+"Z":n||t?"T"+f(t,2)+":"+f(n,2)+"Z":"")}var h=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function f(e,t){var n,r,i=p(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?l(e,t):u(e)}));return i.columns=r||[],i}function p(e,t){var u,l=[],c=e.length,f=0,p=0,d=c<=0,h=!1;function v(){if(d)return i;if(h)return h=!1,r;var t,u,l=f;if(e.charCodeAt(l)===a){while(f++<c&&e.charCodeAt(f)!==a||e.charCodeAt(++f)===a);return(t=f)>=c?d=!0:(u=e.charCodeAt(f++))===o?h=!0:u===s&&(h=!0,e.charCodeAt(f)===o&&++f),e.slice(l+1,t-1).replace(/""/g,'"')}while(f<c){if((u=e.charCodeAt(t=f++))===o)h=!0;else if(u===s)h=!0,e.charCodeAt(f)===o&&++f;else if(u!==n)continue;return e.slice(l,t)}return d=!0,e.slice(l,c)}e.charCodeAt(c-1)===o&&--c,e.charCodeAt(c-1)===s&&--c;while((u=v())!==i){var m=[];while(u!==r&&u!==i)m.push(u),u=v();t&&null==(m=t(m,p++))||l.push(m)}return l}function h(t,n){return t.map((function(t){return n.map((function(e){return b(t[e])})).join(e)}))}function v(t,n){return null==n&&(n=c(t)),[n.map(b).join(e)].concat(h(t,n)).join("\n")}function m(e,t){return null==t&&(t=c(e)),h(e,t).join("\n")}function y(e){return e.map(g).join("\n")}function g(t){return t.map(b).join(e)}function b(e){return null==e?"":e instanceof Date?d(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:f,parseRows:p,format:v,formatBody:m,formatRows:y,formatRow:g,formatValue:b}},v=h(","),m=v.parse,y=v.parseRows,g=v.format,b=v.formatBody,_=v.formatRows,x=v.formatRow,w=v.formatValue,E=h("\t"),S=E.parse,k=E.parseRows,O=E.format,T=E.formatBody,C=E.formatRows,A=E.formatRow,M=E.formatValue;function P(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;I&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}var I=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours()},RjfE:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("iWIM")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("WaiV")),f=n("dJQ9");function p(e){var t=d();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){(0,s["default"])(n,e);var t=p(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"mousedown",value:function(e,t){(0,o["default"])((0,l["default"])(n.prototype),"mousedown",this).call(this,e,t),this.lastPoint&&(this.active=!0)}},{key:"move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}},{key:"correctButton",value:function(e,t){return t===f.LEFT_BUTTON&&!e.ctrlKey}}]),n}(c["default"]);t["default"]=h},Rk16:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-drilldown"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u94bb\u53d6\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u94bb\u53d6\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u94bb\u53d6\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-drilldown"].previewerProps,i.a.createElement(u,null)))))},Rm1S:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),a=n("UMSQ"),o=n("HYAF"),s=n("iqWW"),u=n("FMNM");r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this);if(!o.global)return u(o,l);var c=o.unicode;o.lastIndex=0;var f,p=[],d=0;while(null!==(f=u(o,l))){var h=String(f[0]);p[d]=h,""===h&&(o.lastIndex=s(l,a(o.lastIndex),c)),d++}return 0===d?null:p}]}))},Rsk4:function(e,t,n){"use strict";n.r(t);var r="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CountryLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const ProvinceData = [\n      {\n        name: '\u4e91\u5357\u7701',\n        code: 530000,\n        value: 17881.12,\n      },\n      {\n        name: '\u9ed1\u9f99\u6c5f\u7701',\n        code: 230000,\n        value: 16361.62,\n      },\n      {\n        name: '\u8d35\u5dde\u7701',\n        code: 520000,\n        value: 14806.45,\n      },\n      {\n        name: '\u5317\u4eac\u5e02',\n        code: 110000,\n        value: 30319.98,\n      },\n      {\n        name: '\u6cb3\u5317\u7701',\n        code: 130000,\n        value: 36010.27,\n      },\n      {\n        name: '\u5c71\u897f\u7701',\n        code: 140000,\n        value: 16818.11,\n      },\n      {\n        name: '\u5409\u6797\u7701',\n        code: 220000,\n        value: 15074,\n      },\n      {\n        name: '\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a',\n        code: 640000,\n        value: 3705.18,\n      },\n      {\n        name: '\u8fbd\u5b81\u7701',\n        code: 210000,\n        value: 25315.35,\n      },\n      {\n        name: '\u6d77\u5357\u7701',\n        code: 460000,\n        value: 4832.05,\n      },\n      {\n        name: '\u5185\u8499\u53e4\u81ea\u6cbb\u533a',\n        code: 150000,\n        value: 17289.22,\n      },\n      {\n        name: '\u5929\u6d25\u5e02',\n        code: 120000,\n        value: 18809.64,\n      },\n      {\n        name: '\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a',\n        code: 650000,\n        value: 12199.08,\n      },\n      {\n        name: '\u4e0a\u6d77\u5e02',\n        code: 310000,\n        value: 32679.87,\n      },\n      {\n        name: '\u9655\u897f\u7701',\n        code: 610000,\n        value: 24438.32,\n      },\n      {\n        name: '\u7518\u8083\u7701',\n        code: 620000,\n        value: 8246.07,\n      },\n      {\n        name: '\u5b89\u5fbd\u7701',\n        code: 340000,\n        value: 30006.82,\n      },\n      {\n        name: '\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a',\n        code: 810000,\n        value: 0,\n      },\n      {\n        name: '\u5e7f\u4e1c\u7701',\n        code: 440000,\n        value: 97277.77,\n      },\n      {\n        name: '\u6cb3\u5357\u7701',\n        code: 410000,\n        value: 48055.86,\n      },\n      {\n        name: '\u6e56\u5357\u7701',\n        code: 430000,\n        value: 36425.78,\n      },\n      {\n        name: '\u6c5f\u897f\u7701',\n        code: 360000,\n        value: 21984.78,\n      },\n      {\n        name: '\u56db\u5ddd\u7701',\n        code: 510000,\n        value: 40678.13,\n      },\n      {\n        name: '\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a',\n        code: 450000,\n        value: 20353.51,\n      },\n      {\n        name: '\u6c5f\u82cf\u7701',\n        code: 320000,\n        value: 92595.4,\n      },\n      {\n        name: '\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a',\n        code: 820000,\n        value: null,\n      },\n      {\n        name: '\u6d59\u6c5f\u7701',\n        code: 330000,\n        value: 56197.15,\n      },\n      {\n        name: '\u5c71\u4e1c\u7701',\n        code: 370000,\n        value: 76469.67,\n      },\n      {\n        name: '\u9752\u6d77\u7701',\n        code: 630000,\n        value: 2865.23,\n      },\n      {\n        name: '\u91cd\u5e86\u5e02',\n        code: 500000,\n        value: 20363.19,\n      },\n      {\n        name: '\u798f\u5efa\u7701',\n        code: 350000,\n        value: 35804.04,\n      },\n      {\n        name: '\u6e56\u5317\u7701',\n        code: 420000,\n        value: 39366.55,\n      },\n      {\n        name: '\u897f\u85cf\u81ea\u6cbb\u533a',\n        code: 540000,\n        value: 1477.63,\n      },\n      {\n        name: '\u53f0\u6e7e\u7701',\n        code: 710000,\n        value: null,\n      },\n    ];\n\n    const scene = new Scene({\n      id: 'china3',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 1,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const layer = new CountryLayer(scene, {\n        data: ProvinceData,\n        joinBy: ['NAME_CHN', 'name'],\n        visible: true,\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'name',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n\n      setTimeout(() => {\n        layer.disablePopup();\n      }, 10000);\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"china3\"\n    ></div>\n  );\n};",i="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { WorldLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'world',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 1,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const layer = new WorldLayer(scene, {\n        data: [],\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      console.log(layer.getLayer('fill'));\n      layer.on('click', e => {\n        alert(e);\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"world\"\n    ></div>\n  );\n};",a="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { ProvinceLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'province',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 1,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const layer1 = new ProvinceLayer(scene, {\n        enablePropagation: false,\n        adcode: ['330000'], //\u9009\u62e9\u5bf9\u5e94\u7701\u7684\u884c\u653f\u7f16\u7801\uff0c\u53ea\u53ef\u5c55\u793a\u4e00\u4e2a\u7701\u4efd\n        depth: 2, //\u666e\u901a\u7701\u4efd\u5982\u679c\u9700\u8981\u5c55\u793a\u4e0b\u9762\u5e02\u7684\u8fb9\u754cdepth\u4e3a2\uff0c \u5bf9\u5e94\u76f4\u8f96\u5e02\u9700\u8981\u5c06depth\u8bbe\u4e3a3\n        fill: {\n          color: {\n            values: 'red',\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      layer1.on('click', e => {\n        console.log('1', e);\n      });\n      const layer2 = new ProvinceLayer(scene, {\n        enablePropagation: true,\n        adcode: ['330000'], //\u9009\u62e9\u5bf9\u5e94\u7701\u7684\u884c\u653f\u7f16\u7801\uff0c\u53ea\u53ef\u5c55\u793a\u4e00\u4e2a\u7701\u4efd\n        depth: 2, //\u666e\u901a\u7701\u4efd\u5982\u679c\u9700\u8981\u5c55\u793a\u4e0b\u9762\u5e02\u7684\u8fb9\u754cdepth\u4e3a2\uff0c \u5bf9\u5e94\u76f4\u8f96\u5e02\u9700\u8981\u5c06depth\u8bbe\u4e3a3\n        fill: {\n          color: {\n            values: 'blue',\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      layer2.on('click', e => {\n        console.log('2', e);\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"province\"\n    ></div>\n  );\n};",o="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CityLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'city',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      new CityLayer(scene, {\n        adcode: ['330000', '330100'], // adcode[0] \u5bf9\u5e94\u7701\u884c\u653f\u7f16\u7801  adcode[1] \u5bf9\u5e94\u5e02\u884c\u653f\u7f16\u7801\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"city\"\n    ></div>\n  );\n};",s="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CountyLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'county',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      new CountyLayer(scene, {\n        adcode: ['110101', '110102', '110106', '110105'], // \u533a\u53bf\u884c\u653f\u7f16\u7801\uff0c\u53ef\u4ee5\u52a0\u591a\u4e2a\u533a\u53bf\u884c\u653f\u7f16\u7801\uff0c\u5c55\u793a\u591a\u4e2a\u533a\u53bf\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"county\"\n    ></div>\n  );\n};",u="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { ProvinceLayer, CityLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'province',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 1,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      //\u53bb\u9664scene\u53cc\u51fbzoom\u653e\u5927\u4e8b\u4ef6\n      scene.setMapStatus({ doubleClickZoom: false });\n\n      //\u7701\u7ea7\u533a\u5212\n      let provinceLayer = new ProvinceLayer(scene, {\n        adcode: ['330000'], //\u9009\u62e9\u5bf9\u5e94\u7701\u7684\u884c\u653f\u7f16\u7801\uff0c\u53ea\u53ef\u5c55\u793a\u4e00\u4e2a\u7701\u4efd\n        depth: 2, //\u666e\u901a\u7701\u4efd\u5982\u679c\u9700\u8981\u5c55\u793a\u4e0b\u9762\u5e02\u7684\u8fb9\u754cdepth\u4e3a2\uff0c \u5bf9\u5e94\u76f4\u8f96\u5e02\u9700\u8981\u5c06depth\u8bbe\u4e3a3\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n\n      //\u5e02\u7ea7\u533a\u5212\n      let cityLayer = new CityLayer(scene, {\n        adcode: ['330000', '330100'], // adcode[0] \u5bf9\u5e94\u7701\u884c\u653f\u7f16\u7801  adcode[1] \u5bf9\u5e94\u5e02\u884c\u653f\u7f16\u7801\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        autoFit: false,\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      //\u521d\u59cb\u5316\u9690\u85cf\u5e02\u7ea7\u533a\u5212\n      cityLayer.hide();\n\n      //\u70b9\u51fb\u7701\u7ea7\u533a\u5212\uff0c\u4e0b\u94bb\u5230\u5e02\n      provinceLayer.on('loaded', () => {\n        provinceLayer.fillLayer.on('click', e => {\n          const adcode = [e.feature.properties.adcode];\n          cityLayer.show();\n          cityLayer.updateDistrict(adcode);\n          cityLayer.fillLayer.fitBounds();\n          provinceLayer.hide();\n        });\n      });\n\n      //\u53cc\u51fb\u5e02\u7ea7\u7a7a\u767d\u533a\uff0c\u4e0a\u94bb\u56de\u7701\u7ea7\u533a\u5212\n      cityLayer.on('loaded', () => {\n        cityLayer.fillLayer.on('undblclick', e => {\n          provinceLayer.show();\n          provinceLayer.updateDistrict(['330000']);\n          provinceLayer.fillLayer.fitBounds();\n          cityLayer.hide();\n        });\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"province\"\n    ></div>\n  );\n};",l="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { DrillDownLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'drilldown',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const layer = new DrillDownLayer(scene, {\n        viewStart: 'Province',\n        viewEnd: 'County',\n        data: [\n          {\n            NAME_CHN: '\u4e91\u5357\u7701',\n            adcode: 530000,\n            value: 17881.12,\n          },\n        ],\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        city: {\n          adcode: [530000],\n          fill: {\n            color: {\n              field: 'NAME_CHN',\n              values: ['#feedde'],\n            },\n          },\n        },\n        drillUpEvent: props => {\n          console.log('drillUpEvent', props);\n        },\n        drillDownEvent: props => {\n          console.log('drillDownEvent', props);\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      console.log(layer);\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"drilldown\"\n    ></div>\n  );\n};",c="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { DrillDownLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'drilldown',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 3,\n        maxZoom: 10,\n      }),\n    });\n    scene.on('loaded', () => {\n      const layer = new DrillDownLayer(scene, {\n        autoFit: false,\n        data: [],\n        autoUpdateData: false,\n        type: 'DrillDownLayer',\n        joinBy: ['NAME_CHN', 'name'],\n        viewStart: 'Country',\n        viewEnd: 'City',\n        provinceStroke: '#ccc',\n        cityStroke: '#EBCCB4',\n        cityStrokeWidth: 1,\n        fill: { color: '#ccc' },\n        label: { size: 12 },\n        popup: { enable: true },\n        bubble: {\n          enable: true,\n          size: { field: 'value', values: [3, 20] },\n        },\n        drillUpTriggerEvent: 'none',\n        drillDownEvent: (properties, type, adcode) => {\n          layer.drillDown(\n            adcode,\n            [\n              { name: '\u6210\u90fd\u5e02', value: 122 },\n              { name: '\u4e50\u5c71\u5e02', value: 422 },\n              { name: '\u5185\u6c5f\u5e02', value: 222 },\n            ],\n            ['NAME_CHN', 'name'],\n          );\n        },\n        province: {\n          data: [\n            { name: '\u4e0a\u6d77\u5e02', value: 4161 },\n            { name: '\u4e91\u5357\u7701', value: 5608 },\n            { name: '\u5185\u8499\u53e4\u81ea\u6cbb\u533a', value: 6090 },\n            { name: '\u5317\u4eac\u5e02', value: 2367 },\n            { name: '\u53f0\u6e7e\u7701', value: 3395 },\n            { name: '\u5409\u6797\u7701', value: 5157 },\n            { name: '\u56db\u5ddd\u7701', value: 7749 },\n            { name: '\u5929\u6d25\u5e02', value: 5328 },\n            { name: '\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a', value: 2900 },\n            { name: '\u5b89\u5fbd\u7701', value: 4 },\n          ],\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"drilldown\"\n    ></div>\n  );\n};",f="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CityLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  const data = [\n    {\n      name: '\u4e0a\u57ce\u533a',\n      value: '34.5',\n      adcode: '330102',\n    },\n    {\n      name: '\u4e0b\u57ce\u533a',\n      value: '52.6',\n      adcode: '330103',\n    },\n    {\n      name: '\u6c5f\u5e72\u533a',\n      value: '80.1',\n      adcode: '330104',\n    },\n    {\n      name: '\u62f1\u5885\u533a',\n      value: '57.9',\n      adcode: '330105',\n    },\n    {\n      name: '\u897f\u6e56\u533a',\n      value: '90.8',\n      adcode: '330106',\n    },\n    {\n      name: '\u6ee8\u6c5f\u533a',\n      value: '45.5',\n      adcode: '330108',\n    },\n    {\n      name: '\u8427\u5c71\u533a',\n      value: '158.5 ',\n      adcode: '330109',\n    },\n    {\n      name: '\u4f59\u676d\u533a',\n      value: '189.1',\n      adcode: '330110',\n    },\n    {\n      name: '\u5bcc\u9633\u533a',\n      value: '74.4',\n      adcode: '330111',\n    },\n    {\n      name: '\u4e34\u5b89\u533a',\n      value: '59.6',\n      adcode: '330112',\n    },\n    {\n      name: '\u6850\u5e90\u53bf',\n      value: '43.6',\n      adcode: '330122',\n    },\n    {\n      name: '\u6df3\u5b89\u53bf',\n      value: '35.8',\n      adcode: '330127',\n    },\n    {\n      name: '\u5efa\u5fb7\u5e02',\n      value: '44.7',\n      adcode: '330182',\n    },\n  ];\n\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'city',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      new CityLayer(scene, {\n        data,\n        joinBy: ['adcode', 'adcode'],\n        adcode: ['330000', '330100'], // adcode[0] \u5bf9\u5e94\u7701\u884c\u653f\u7f16\u7801  adcode[1] \u5bf9\u5e94\u5e02\u884c\u653f\u7f16\u7801\n        fill: {\n          color: {\n            field: 'value',\n            values: value => {\n              if (value < 30) return '#FFE6D9';\n              if (value < 60) return '#FFCBB3';\n              if (value < 90) return '#FFAD86';\n              if (value < 120) return '#FF8F59';\n              if (value < 140) return '#FF5809';\n              if (value < 200) return '#D94600';\n            },\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN +\n              '  \u4eba\u53e3\uff1a' +\n              props.value +\n              '\u4e07\u4eba'}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"city\"\n    ></div>\n  );\n};",p="import React from 'react';\nimport { Slider } from 'antd';\nimport { Scene } from '@antv/l7';\nimport { CityLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  const data = [\n    {\n      name: '\u4e0a\u57ce\u533a',\n      value: '34.5',\n      adcode: '330102',\n    },\n    {\n      name: '\u4e0b\u57ce\u533a',\n      value: '52.6',\n      adcode: '330103',\n    },\n    {\n      name: '\u6c5f\u5e72\u533a',\n      value: '80.1',\n      adcode: '330104',\n    },\n    {\n      name: '\u62f1\u5885\u533a',\n      value: '57.9',\n      adcode: '330105',\n    },\n    {\n      name: '\u897f\u6e56\u533a',\n      value: '90.8',\n      adcode: '330106',\n    },\n    {\n      name: '\u6ee8\u6c5f\u533a',\n      value: '45.5',\n      adcode: '330108',\n    },\n    {\n      name: '\u8427\u5c71\u533a',\n      value: '158.5 ',\n      adcode: '330109',\n    },\n    {\n      name: '\u4f59\u676d\u533a',\n      value: '189.1',\n      adcode: '330110',\n    },\n    {\n      name: '\u5bcc\u9633\u533a',\n      value: '74.4',\n      adcode: '330111',\n    },\n    {\n      name: '\u4e34\u5b89\u533a',\n      value: '59.6',\n      adcode: '330112',\n    },\n    {\n      name: '\u6850\u5e90\u53bf',\n      value: '43.6',\n      adcode: '330122',\n    },\n    {\n      name: '\u6df3\u5b89\u53bf',\n      value: '35.8',\n      adcode: '330127',\n    },\n    {\n      name: '\u5efa\u5fb7\u5e02',\n      value: '44.7',\n      adcode: '330182',\n    },\n  ];\n  let layer;\n  const marks = {\n    0: '0',\n    200: '200\u4e07\u4eba',\n  };\n\n  function handleData(values) {\n    let dataTmp = [];\n    data.map(item => {\n      if (item.value >= values[0] && item.value <= values[1])\n        dataTmp.push(item);\n    });\n    return dataTmp;\n  }\n\n  function change(value) {\n    layer.updateData(handleData(value));\n  }\n\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'city',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      layer = new CityLayer(scene, {\n        data,\n        joinBy: ['adcode', 'adcode'],\n        adcode: ['330000', '330100'], // adcode[0] \u5bf9\u5e94\u7701\u884c\u653f\u7f16\u7801  adcode[1] \u5bf9\u5e94\u5e02\u884c\u653f\u7f16\u7801\n        fill: {\n          color: {\n            field: 'value',\n            values: value => {\n              if (!value) return;\n              if (value < 30) return '#FFE6D9';\n              if (value < 60) return '#FFCBB3';\n              if (value < 90) return '#FFAD86';\n              if (value < 120) return '#FF8F59';\n              if (value < 140) return '#FF5809';\n              if (value < 200) return '#D94600';\n            },\n          },\n        },\n        stroke: '#ccc',\n        label: {\n          enable: true,\n          textAllowOverlap: false,\n          field: 'NAME_CHN',\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN +\n              '  \u4eba\u53e3\uff1a' +\n              props.value +\n              '\u4e07\u4eba'}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '500px',\n      }}\n    >\n      <div\n        style={{\n          height: '400px',\n          position: 'relative',\n        }}\n        id=\"city\"\n      ></div>\n      <div style={{ marginTop: '40px', padding: '0 100px' }}>\n        <Slider\n          marks={marks}\n          onChange={change}\n          max={200}\n          range\n          defaultValue={[0, 200]}\n        />\n      </div>\n    </div>\n  );\n};",d="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CountryLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\nimport DatGui, {\n  DatBoolean,\n  DatColor,\n  DatNumber,\n  DatString,\n} from 'react-dat-gui';\nimport 'react-dat-gui/dist/index.css';\nexport default () => {\n  const [data, setData] = React.useState({\n    package: '\u5730\u56fe\u914d\u7f6e\u9879',\n    provinceStroke: '#783D2D',\n    cityStroke: '#EBCCB4',\n    cityStrokeWidth: 1,\n  });\n\n  React.useEffect(() => {\n    const ProvinceData = [\n      {\n        name: '\u4e91\u5357\u7701',\n        code: 530000,\n        value: 17881.12,\n      },\n      {\n        name: '\u9ed1\u9f99\u6c5f\u7701',\n        code: 230000,\n        value: 16361.62,\n      },\n      {\n        name: '\u8d35\u5dde\u7701',\n        code: 520000,\n        value: 14806.45,\n      },\n      {\n        name: '\u5317\u4eac\u5e02',\n        code: 110000,\n        value: 30319.98,\n      },\n      {\n        name: '\u6cb3\u5317\u7701',\n        code: 130000,\n        value: 36010.27,\n      },\n      {\n        name: '\u5c71\u897f\u7701',\n        code: 140000,\n        value: 16818.11,\n      },\n      {\n        name: '\u5409\u6797\u7701',\n        code: 220000,\n        value: 15074,\n      },\n      {\n        name: '\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a',\n        code: 640000,\n        value: 3705.18,\n      },\n      {\n        name: '\u8fbd\u5b81\u7701',\n        code: 210000,\n        value: 25315.35,\n      },\n      {\n        name: '\u6d77\u5357\u7701',\n        code: 460000,\n        value: 4832.05,\n      },\n      {\n        name: '\u5185\u8499\u53e4\u81ea\u6cbb\u533a',\n        code: 150000,\n        value: 17289.22,\n      },\n      {\n        name: '\u5929\u6d25\u5e02',\n        code: 120000,\n        value: 18809.64,\n      },\n      {\n        name: '\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a',\n        code: 650000,\n        value: 12199.08,\n      },\n      {\n        name: '\u4e0a\u6d77\u5e02',\n        code: 310000,\n        value: 32679.87,\n      },\n      {\n        name: '\u9655\u897f\u7701',\n        code: 610000,\n        value: 24438.32,\n      },\n      {\n        name: '\u7518\u8083\u7701',\n        code: 620000,\n        value: 8246.07,\n      },\n      {\n        name: '\u5b89\u5fbd\u7701',\n        code: 340000,\n        value: 30006.82,\n      },\n      {\n        name: '\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a',\n        code: 810000,\n        value: 0,\n      },\n      {\n        name: '\u5e7f\u4e1c\u7701',\n        code: 440000,\n        value: 97277.77,\n      },\n      {\n        name: '\u6cb3\u5357\u7701',\n        code: 410000,\n        value: 48055.86,\n      },\n      {\n        name: '\u6e56\u5357\u7701',\n        code: 430000,\n        value: 36425.78,\n      },\n      {\n        name: '\u6c5f\u897f\u7701',\n        code: 360000,\n        value: 21984.78,\n      },\n      {\n        name: '\u56db\u5ddd\u7701',\n        code: 510000,\n        value: 40678.13,\n      },\n      {\n        name: '\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a',\n        code: 450000,\n        value: 20353.51,\n      },\n      {\n        name: '\u6c5f\u82cf\u7701',\n        code: 320000,\n        value: 92595.4,\n      },\n      {\n        name: '\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a',\n        code: 820000,\n        value: null,\n      },\n      {\n        name: '\u6d59\u6c5f\u7701',\n        code: 330000,\n        value: 56197.15,\n      },\n      {\n        name: '\u5c71\u4e1c\u7701',\n        code: 370000,\n        value: 76469.67,\n      },\n      {\n        name: '\u9752\u6d77\u7701',\n        code: 630000,\n        value: 2865.23,\n      },\n      {\n        name: '\u91cd\u5e86\u5e02',\n        code: 500000,\n        value: 20363.19,\n      },\n      {\n        name: '\u798f\u5efa\u7701',\n        code: 350000,\n        value: 35804.04,\n      },\n      {\n        name: '\u6e56\u5317\u7701',\n        code: 420000,\n        value: 39366.55,\n      },\n      {\n        name: '\u897f\u85cf\u81ea\u6cbb\u533a',\n        code: 540000,\n        value: 1477.63,\n      },\n      {\n        name: '\u53f0\u6e7e\u7701',\n        code: 710000,\n        value: null,\n      },\n    ];\n    const scene = new Scene({\n      id: 'map',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const layer = new CountryLayer(scene, {\n        data: ProvinceData,\n        joinBy: ['NAME_CHN', 'name'],\n        depth: 1,\n        provinceStroke: '#783D2D',\n        cityStroke: '#EBCCB4',\n        cityStrokeWidth: 1,\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n      layer.on('loaded', () => {\n        console.log('\u52a0\u8f7d\u5b8c\u6210');\n      });\n      layer.on('click', e => {\n        layer.updateLayerAttribute('fill', 'color', 'red');\n      });\n      layer.on('dblclick', e => {\n        layer.updateLayerAttribute('fill', 'color', 'blue');\n      });\n      layer.on('undblclick', e => {\n        layer.updateLayerAttribute('fill', 'color', 'green');\n      });\n    });\n  }, []);\n\n  return (\n    <>\n      <DatGui\n        style={{ zIndex: 13 }}\n        data={data}\n        onUpdate={newdata => {\n          setData({\n            ...data,\n            ...newdata,\n          });\n        }}\n      >\n        <DatString path=\"package\" label=\"Package\" />\n        <DatNumber path=\"power\" label=\"Power\" min={1} max={10} step={1} />\n        <DatColor label=\"provinceStroke\" path=\"provinceStroke\" />\n        <DatColor label=\"cityStroke\" path=\"cityStroke\" />\n        <DatColor label=\"cityStrokeWidth\" path=\"cityStrokeWidth\" />\n      </DatGui>\n      <div\n        style={{\n          height: '800px',\n          position: 'relative',\n        }}\n        id=\"map\"\n      ></div>\n    </>\n  );\n};",h="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { CountryLayer } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\nexport default () => {\n  React.useEffect(() => {\n    const ProvinceData = [\n      {\n        name: '\u4e91\u5357\u7701',\n        code: 530000,\n        value: 17881.12,\n      },\n      {\n        name: '\u9ed1\u9f99\u6c5f\u7701',\n        code: 230000,\n        value: 16361.62,\n      },\n      {\n        name: '\u8d35\u5dde\u7701',\n        code: 520000,\n        value: 14806.45,\n      },\n      {\n        name: '\u5317\u4eac\u5e02',\n        code: 110000,\n        value: 30319.98,\n      },\n      {\n        name: '\u6cb3\u5317\u7701',\n        code: 130000,\n        value: 36010.27,\n      },\n      {\n        name: '\u5c71\u897f\u7701',\n        code: 140000,\n        value: 16818.11,\n      },\n      {\n        name: '\u5409\u6797\u7701',\n        code: 220000,\n        value: 15074,\n      },\n      {\n        name: '\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a',\n        code: 640000,\n        value: 3705.18,\n      },\n      {\n        name: '\u8fbd\u5b81\u7701',\n        code: 210000,\n        value: 25315.35,\n      },\n      {\n        name: '\u6d77\u5357\u7701',\n        code: 460000,\n        value: 4832.05,\n      },\n      {\n        name: '\u5185\u8499\u53e4\u81ea\u6cbb\u533a',\n        code: 150000,\n        value: 17289.22,\n      },\n      {\n        name: '\u5929\u6d25\u5e02',\n        code: 120000,\n        value: 18809.64,\n      },\n      {\n        name: '\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a',\n        code: 650000,\n        value: 12199.08,\n      },\n      {\n        name: '\u4e0a\u6d77\u5e02',\n        code: 310000,\n        value: 32679.87,\n      },\n      {\n        name: '\u9655\u897f\u7701',\n        code: 610000,\n        value: 24438.32,\n      },\n      {\n        name: '\u7518\u8083\u7701',\n        code: 620000,\n        value: 8246.07,\n      },\n      {\n        name: '\u5b89\u5fbd\u7701',\n        code: 340000,\n        value: 30006.82,\n      },\n      {\n        name: '\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a',\n        code: 810000,\n        value: 0,\n      },\n      {\n        name: '\u5e7f\u4e1c\u7701',\n        code: 440000,\n        value: 97277.77,\n      },\n      {\n        name: '\u6cb3\u5357\u7701',\n        code: 410000,\n        value: 48055.86,\n      },\n      {\n        name: '\u6e56\u5357\u7701',\n        code: 430000,\n        value: 36425.78,\n      },\n      {\n        name: '\u6c5f\u897f\u7701',\n        code: 360000,\n        value: 21984.78,\n      },\n      {\n        name: '\u56db\u5ddd\u7701',\n        code: 510000,\n        value: 40678.13,\n      },\n      {\n        name: '\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a',\n        code: 450000,\n        value: 20353.51,\n      },\n      {\n        name: '\u6c5f\u82cf\u7701',\n        code: 320000,\n        value: 92595.4,\n      },\n      {\n        name: '\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a',\n        code: 820000,\n        value: null,\n      },\n      {\n        name: '\u6d59\u6c5f\u7701',\n        code: 330000,\n        value: 56197.15,\n      },\n      {\n        name: '\u5c71\u4e1c\u7701',\n        code: 370000,\n        value: 76469.67,\n      },\n      {\n        name: '\u9752\u6d77\u7701',\n        code: 630000,\n        value: 2865.23,\n      },\n      {\n        name: '\u91cd\u5e86\u5e02',\n        code: 500000,\n        value: 20363.19,\n      },\n      {\n        name: '\u798f\u5efa\u7701',\n        code: 350000,\n        value: 35804.04,\n      },\n      {\n        name: '\u6e56\u5317\u7701',\n        code: 420000,\n        value: 39366.55,\n      },\n      {\n        name: '\u897f\u85cf\u81ea\u6cbb\u533a',\n        code: 540000,\n        value: 1477.63,\n      },\n      {\n        name: '\u53f0\u6e7e\u7701',\n        code: 710000,\n        value: null,\n      },\n    ];\n    const scene = new Scene({\n      id: 'map',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      new CountryLayer(scene, {\n        data: ProvinceData,\n        joinBy: ['NAME_CHN', 'name'],\n        depth: 1,\n        coastlineStroke: '#91b1f0',\n        coastlineWidth: 1,\n        chinaNationalStroke: '#91b1f0',\n        chinaNationalWidth: 1,\n        provinceStroke: '#5d7bba',\n        cityStroke: '#EBCCB4',\n        cityStrokeWidth: 1,\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: ['#112B62', '#2455BB', '#3172F7', '#5E90F7'],\n          },\n        },\n        label: {\n          color: '#00FFF8',\n          size: 14,\n          stroke: '#00FFF8',\n          strokeWidth: 0.2,\n        },\n\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{\n          height: '400px',\n          position: 'relative',\n          background: '#011030',\n        }}\n        id=\"map\"\n      ></div>\n    </>\n  );\n};",v="import React from 'react';\nimport { Scene } from '@antv/l7';\nimport { DrillDownLayer } from '@antv/l7-district';\nimport { RegionList, getRegionByAdcode } from '@antv/l7-district';\nimport { Mapbox } from '@antv/l7-maps';\n\nexport default () => {\n  React.useEffect(() => {\n    const scene = new Scene({\n      id: 'drilldown',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 0,\n        maxZoom: 20,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const drillLayer = new DrillDownLayer(scene, {\n        viewStart: 'Country',\n        viewEnd: 'County',\n        provinceData: [\n          { areaCode: '100', govTrans_avgTrdCnt30d: 6198254 },\n          { areaCode: '102', govTrans_avgTrdCnt30d: 1688510 },\n          { areaCode: '301', govTrans_avgTrdCnt30d: 4710502 },\n          { areaCode: '', govTrans_avgTrdCnt30d: 8412 },\n          { areaCode: '3', govTrans_avgTrdCnt30d: 2017222 },\n          { areaCode: '101', govTrans_avgTrdCnt30d: 3660468 },\n          { areaCode: '103', govTrans_avgTrdCnt30d: 1748562 },\n          { areaCode: '104', govTrans_avgTrdCnt30d: 6425560 },\n        ],\n        provinceStroke: '#333',\n        drillDownTriggerEvent: 'dblclick',\n        fill: {\n          color: {\n            field: 'REGION_NAME',\n            values: ['#eff3ff', '#bdd7e7', '#6baed6', '#3182bd', '#08519c'],\n          },\n        },\n        // province: {\n        //   joinBy: ['REGION_CODE', 'areaCode'],\n        //   provinceStroke: 'rgba(255,255,255,0.1)',\n        // },\n        county: {\n          strokeOpacity: 0.5,\n          fill: {\n            color: {\n              field: 'NAME_CHN',\n              values: ['#eff3ff', '#bdd7e7', '#6baed6', '#3182bd', '#08519c'],\n            },\n          },\n        },\n        city: {\n          // adcode: [330000],\n          strokeOpacity: 0.5,\n          fill: {\n            color: {\n              field: 'NAME_CHN',\n              values: ['#eff3ff', '#bdd7e7', '#6baed6', '#3182bd', '#08519c'],\n            },\n          },\n        },\n        onClick: (e, layerType) => {\n          console.log('click', e, layerType);\n        },\n        drillUpEvent: props => {\n          console.log('drillUpEvent', props);\n        },\n        drillDownEvent: (props, type) => {\n          console.log(type, props);\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.REGION_NAME}:${props.govTrans_avgTrdCnt30d}</span>`;\n          },\n        },\n      });\n    });\n  }, []);\n\n  return (\n    <div\n      style={{\n        height: '400px',\n        position: 'relative',\n      }}\n      id=\"drilldown\"\n    ></div>\n  );\n};",m="import { Scene } from '@antv/l7';\nimport { RegionLayer, RegionList } from '@antv/l7-district';\nimport { GaodeMap, Mapbox } from '@antv/l7-maps';\nimport { Select } from 'antd';\nimport * as React from 'react';\nconst { Option } = Select;\n\nexport default class Province extends React.Component {\n  public state = {\n    province: RegionList['101'].child,\n  };\n  // @ts-ignore\n  private scene: Scene;\n  private provinceLayer: ProvinceLayer;\n  public componentWillUnmount() {\n    this.scene.destroy();\n  }\n\n  public async componentDidMount() {\n    const response = await fetch(\n      'https://gw.alipayobjects.com/os/bmw-prod/149b599d-21ef-4c24-812c-20deaee90e20.json',\n    );\n    const provinceData = await response.json();\n    const data = Object.keys(provinceData).map((key: string) => {\n      return {\n        code: key,\n        name: provinceData[key][0],\n        pop: provinceData[key][3],\n      };\n    });\n    const scene = new Scene({\n      id: 'map',\n      map: new Mapbox({\n        center: [116.2825, 39.9],\n        pitch: 0,\n        style: 'blank',\n        zoom: 3,\n        minZoom: 3,\n        maxZoom: 10,\n      }),\n    });\n\n    scene.on('loaded', () => {\n      const { province } = this.state;\n      this.provinceLayer = new RegionLayer(scene, {\n        adcode: province,\n        depth: 1,\n        label: {\n          field: 'NAME_CHN',\n          textAllowOverlap: false,\n        },\n        fill: {\n          color: {\n            field: 'NAME_CHN',\n            values: [\n              '#feedde',\n              '#fdd0a2',\n              '#fdae6b',\n              '#fd8d3c',\n              '#e6550d',\n              '#a63603',\n            ],\n          },\n        },\n        popup: {\n          enable: true,\n          Html: props => {\n            return `<span>${props.NAME_CHN}</span>`;\n          },\n        },\n      });\n    });\n    this.scene = scene;\n  }\n\n  public render() {\n    return (\n      <>\n        <div\n          id=\"map\"\n          style={{\n            height: '400px',\n            position: 'relative',\n          }}\n        />\n      </>\n    );\n  }\n\n  private handleProvinceChange = (value: string) => {\n    this.setState({\n      province: value,\n    });\n    this.provinceLayer.updateDistrict(RegionList[value].child);\n  };\n}";t["default"]={"docs-china":{component:n("WKif").default,previewerProps:{sources:{_:{jsx:r}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-china"}},"docs-world":{component:n("YrvM").default,previewerProps:{sources:{_:{jsx:i}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-world"}},"docs-province":{component:n("VzS/").default,previewerProps:{sources:{_:{jsx:a}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-province"}},"docs-city":{component:n("wrfV").default,previewerProps:{sources:{_:{jsx:o}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-city"}},"docs-county":{component:n("8b1Q").default,previewerProps:{sources:{_:{jsx:s}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-county"}},"docs-custom-drilldown":{component:n("docD").default,previewerProps:{sources:{_:{jsx:u}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-custom-drilldown"}},"docs-drilldown":{component:n("RUxq").default,previewerProps:{sources:{_:{jsx:l}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-drilldown"}},"docs-drilldownbuble":{component:n("GHoU").default,previewerProps:{sources:{_:{jsx:c}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-drilldownbuble"}},"docs-fillcolor":{component:n("tq1B").default,previewerProps:{sources:{_:{jsx:f}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-fillcolor"}},"docs-update-data":{component:n("F5Nq").default,previewerProps:{sources:{_:{jsx:p}},dependencies:{react:{version:">=16.9.0"},antd:{version:"4.16.12",css:"antd/dist/antd.css"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"},"react-dom":{version:">=16.9.0"}},identifier:"docs-update-data"}},"docs-china-1":{component:n("cVVU").default,previewerProps:{sources:{_:{jsx:d}},dependencies:{react:{version:">=16.0.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"},"react-dat-gui":{version:"4.1.1",css:"react-dat-gui/dist/index.css"},"prop-types":{version:"^15.7.2"},"react-dom":{version:">=16.0.0"}},identifier:"docs-china-1"}},"docs-dark":{component:n("t4+7").default,previewerProps:{sources:{_:{jsx:h}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-dark"}},"docs-drilldown-1":{component:n("FWbK").default,previewerProps:{sources:{_:{jsx:v}},dependencies:{react:{version:"16.14.0"},"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"}},identifier:"docs-drilldown-1"}},"docs-regionlayer":{component:n("TJtU").default,previewerProps:{sources:{_:{tsx:m}},dependencies:{"@antv/l7":{version:"^2.3.0"},"@antv/l7-district":{version:"2.3.11"},"@antv/l7-maps":{version:"^2.3.0"},antd:{version:"4.16.12",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},identifier:"docs-regionlayer"}}}},"S+vj":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("DzJC")),u=function(){function e(t){var n=this;(0,i["default"])(this,e),(0,o["default"])(this,"map",void 0),(0,o["default"])(this,"updateHash",void 0),(0,o["default"])(this,"hashName",void 0),(0,o["default"])(this,"onHashChange",(function(){var e=n.getCurrentHash();if(e.length>=3&&!e.some((function(e){return isNaN(+e)}))){var t=n.map.dragRotate.isEnabled()&&n.map.touchZoomRotate.isEnabled()?+(e[3]||0):n.map.getBearing();return n.map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1})),(0,o["default"])(this,"getCurrentHash",(function(){var e,t=window.location.hash.replace("#","");return n.hashName?(t.split("&").map((function(e){return e.split("=")})).forEach((function(t){t[0]===n.hashName&&(e=t)})),(e&&e[1]||"").split("/")):t.split("/")})),(0,o["default"])(this,"updateHashUnthrottled",(function(){var e=n.getHashString();try{window.history.replaceState(window.history.state,"",e)}catch(t){}})),this.hashName=t&&encodeURIComponent(t),this.updateHash=(0,s["default"])(this.updateHashUnthrottled,300)}return(0,a["default"])(e,[{key:"addTo",value:function(e){return this.map=e,window.addEventListener("hashchange",this.onHashChange,!1),this.map.on("moveend",this.updateHash),this}},{key:"remove",value:function(){return window.removeEventListener("hashchange",this.onHashChange,!1),this.map.off("moveend",this.updateHash),delete this.map,this}},{key:"getHashString",value:function(e){var t=this.map.getCenter(),n=Math.round(100*this.map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),a=Math.round(t.lng*i)/i,o=Math.round(t.lat*i)/i,s=this.map.getBearing(),u=this.map.getPitch(),l="";if(l+=e?"/".concat(a,"/").concat(o,"/").concat(n):"".concat(n,"/").concat(o,"/").concat(a),(s||u)&&(l+="/".concat(Math.round(10*s)/10)),u&&(l+="/".concat(Math.round(u))),this.hashName){var c=this.hashName,f=!1,p=window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===c?(f=!0,"".concat(t,"=").concat(l)):e})).filter((function(e){return e}));return f||p.push("".concat(c,"=").concat(l)),"#".concat(p.join("&"))}return"#".concat(l)}}]),e}(),l=u;t["default"]=l},S4IS:function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.indexTouches=r},S5x9:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("PJYZ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),c=n("i4Tg");function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,l["default"])((0,a["default"])(e),"type","renderFrame"),(0,l["default"])((0,a["default"])(e),"timeStamp",void 0),e}return n}(c.Event);t["default"]=d},"SC+/":function(e,t,n){"use strict";n.r(t),n.d(t,"color",(function(){return r["e"]})),n.d(t,"rgb",(function(){return r["g"]})),n.d(t,"hsl",(function(){return r["f"]})),n.d(t,"lab",(function(){return y})),n.d(t,"hcl",(function(){return k})),n.d(t,"lch",(function(){return S})),n.d(t,"gray",(function(){return m})),n.d(t,"cubehelix",(function(){return D}));var r=n("FmoU"),i=n("Y62N"),a=Math.PI/180,o=180/Math.PI,s=18,u=.96422,l=1,c=.82521,f=4/29,p=6/29,d=3*p*p,h=p*p*p;function v(e){if(e instanceof g)return new g(e.l,e.a,e.b,e.opacity);if(e instanceof O)return T(e);e instanceof r["b"]||(e=Object(r["h"])(e));var t,n,i=w(e.r),a=w(e.g),o=w(e.b),s=b((.2225045*i+.7168786*a+.0606169*o)/l);return i===a&&a===o?t=n=s:(t=b((.4360747*i+.3850649*a+.1430804*o)/u),n=b((.0139322*i+.0971045*a+.7141733*o)/c)),new g(116*s-16,500*(t-s),200*(s-n),e.opacity)}function m(e,t){return new g(e,0,0,null==t?1:t)}function y(e,t,n,r){return 1===arguments.length?v(e):new g(e,t,n,null==r?1:r)}function g(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function b(e){return e>h?Math.pow(e,1/3):e/d+f}function _(e){return e>p?e*e*e:d*(e-f)}function x(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function E(e){if(e instanceof O)return new O(e.h,e.c,e.l,e.opacity);if(e instanceof g||(e=v(e)),0===e.a&&0===e.b)return new O(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*o;return new O(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function S(e,t,n,r){return 1===arguments.length?E(e):new O(n,t,e,null==r?1:r)}function k(e,t,n,r){return 1===arguments.length?E(e):new O(e,t,n,null==r?1:r)}function O(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function T(e){if(isNaN(e.h))return new g(e.l,0,0,e.opacity);var t=e.h*a;return new g(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(i["a"])(g,y,Object(i["b"])(r["a"],{brighter:function(e){return new g(this.l+s*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new g(this.l-s*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=u*_(t),e=l*_(e),n=c*_(n),new r["b"](x(3.1338561*t-1.6168667*e-.4906146*n),x(-.9787684*t+1.9161415*e+.033454*n),x(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(i["a"])(O,k,Object(i["b"])(r["a"],{brighter:function(e){return new O(this.h,this.c,this.l+s*(null==e?1:e),this.opacity)},darker:function(e){return new O(this.h,this.c,this.l-s*(null==e?1:e),this.opacity)},rgb:function(){return T(this).rgb()}}));var C=-.14861,A=1.78277,M=-.29227,P=-.90649,I=1.97294,R=I*P,j=I*A,L=A*M-P*C;function N(e){if(e instanceof F)return new F(e.h,e.s,e.l,e.opacity);e instanceof r["b"]||(e=Object(r["h"])(e));var t=e.r/255,n=e.g/255,i=e.b/255,a=(L*i+R*t-j*n)/(L+R-j),s=i-a,u=(I*(n-a)-M*s)/P,l=Math.sqrt(u*u+s*s)/(I*a*(1-a)),c=l?Math.atan2(u,s)*o-120:NaN;return new F(c<0?c+360:c,l,a,e.opacity)}function D(e,t,n,r){return 1===arguments.length?N(e):new F(e,t,n,null==r?1:r)}function F(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Object(i["a"])(F,D,Object(i["b"])(r["a"],{brighter:function(e){return e=null==e?r["c"]:Math.pow(r["c"],e),new F(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?r["d"]:Math.pow(r["d"],e),new F(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),o=Math.sin(e);return new r["b"](255*(t+n*(C*i+A*o)),255*(t+n*(M*i+P*o)),255*(t+n*(I*i)),this.opacity)}}))},SEBh:function(e,t,n){var r=n("glrk"),i=n("HAuM"),a=n("tiKp"),o=a("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},SKAX:function(e,t,n){var r=n("JC6p"),i=n("lQqw"),a=i(r);e.exports=a},SL6q:function(e,t,n){var r=n("I+eb"),i=n("voyM"),a=n("vo4V");r({target:"Math",stat:!0},{fscale:function(e,t,n,r,o){return a(i(e,t,n,r,o))}})},STAE:function(e,t,n){var r=n("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},SUU4:function(e,t,n){(function(t,r){e.exports=r(n("szb8"))})(0,(function(e){"use strict";var t=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},n=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},r="\n";function i(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function a(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||a(t)}function s(e){return e?": "+e:""}function u(e,t,n){e in t||a("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join())}function l(e,n){t(e)||a("invalid parameter type"+s(n)+". must be a typed array")}function c(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function f(e,t,n){c(e,t)||a("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e)}function p(e,t){e>=0&&(0|e)===e||a("invalid parameter type, ("+e+")"+s(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&a("invalid value"+s(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function v(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&a('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function m(e,t){e+="";while(e.length<t)e=" "+e;return e}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function g(e,t){this.number=e,this.line=t,this.errors=[]}function b(e,t,n){this.file=e,this.line=t,this.message=n}function _(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),r=1,a=0,o={unknown:new y,0:new y};o.unknown.name=o[0].name=t||_(),o.unknown.lines.push(new g(0,""));for(var s=0;s<n.length;++s){var u=n[s],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(r=0|c[1],c[2]&&(a=0|c[2],a in o||(o[a]=new y)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(o[a].name=f[1]?i(f[2]):f[2]);break}o[a].lines.push(new g(r++,u))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function E(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new b(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new b("unknown",0,e))}})),t}function S(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function k(e,t,n,i,a){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=i===e.FRAGMENT_SHADER?"fragment":"vertex";I(n,"string",u+" shader source must be a string",a);var l=w(n,a),c=E(s);S(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var n=[""],i=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){a(m(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(n){var i=n.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(o){var s=o[1];switch(i=o[2],s){case"assign":s="=";break}t=Math.max(e.line.indexOf(s,t),0)}else t=0;a(m("| ",6)),a(m("^^^",t+3)+r,"font-weight:bold"),a(m("| ",6)),a(i+r,"font-weight:bold")})),a(m("| ",6)+r)}else a(m(e.number,4)+"|  "),a(e.line+r,"color:red")})),"undefined"===typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function a(e,t){n.push(e),i.push(t||"")}})),o.raise("Error compiling "+u+" shader, "+l[0].name)}}function O(e,t,n,i,a){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(n,a),l=w(i,a),c='Error linking program with vertex shader, "'+l[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+c+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+r+s),o.raise(c)}}function T(e){e._commandRef=_()}function C(e,t,n,r){function i(e){return e?r.id(e):0}function a(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}T(e),e._fragId=i(e["static"].frag),e._vertId=i(e["static"].vert);var o=e._uniformSet={};a(o,t["static"]),a(o,t.dynamic);var s=e._attributeSet={};a(s,n["static"]),a(s,n.dynamic),e._hasCount="count"in e["static"]||"count"in e.dynamic||"elements"in e["static"]||"elements"in e.dynamic}function A(e,t){var n=x();a(e+" in command "+(t||_())+("unknown"===n?"":" called from "+n))}function M(e,t,n){e||A(t,n||_())}function P(e,t,n,r){e in t||A("unknown parameter ("+e+")"+s(n)+". possible values: "+Object.keys(t).join(),r||_())}function I(e,t,n,r){c(e,t)||A("invalid parameter type"+s(n)+". expected "+t+", got "+typeof e,r||_())}function R(e){e()}function j(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var L=33071,N=9728,D=9984,F=9985,z=9986,B=9987,U=5120,V=5121,H=5122,W=5123,q=5124,G=5125,Z=5126,Y=32819,X=32820,K=33635,J=34042,Q=36193,$={};function ee(e,t){return e===X||e===Y||e===K?2:e===J?4:$[e]*t}function te(e){return!(e&e-1)&&!!e}function ne(e,t,n){var r,i=t.width,a=t.height,s=t.channels;o(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),e.wrapS===L&&e.wrapT===L||o(te(i)&&te(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==a&&o(e.minFilter!==D&&e.minFilter!==z&&e.minFilter!==F&&e.minFilter!==B,"min filter requires mipmap"):(o(te(i)&&te(a),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===Z&&(n.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===N&&e.magFilter===N,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(r=0;r<16;++r)if(u[r]){var l=i>>r,c=a>>r;o(t.mipmask&1<<r,"missing mipmap data");var f=u[r];if(o(f.width===l&&f.height===c,"invalid shape for mip images"),o(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var p=Math.ceil(ee(f.type,s)*l/f.unpackAlignment)*f.unpackAlignment;o(f.data.byteLength===p*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||o(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")}function re(e,t,n,r){var i=e.width,a=e.height,s=e.channels;o(i>0&&i<=r.maxTextureSize&&a>0&&a<=r.maxTextureSize,"invalid texture shape"),o(i===a,"cube map must be square"),o(t.wrapS===L&&t.wrapT===L,"wrap mode not supported by cube map");for(var u=0;u<n.length;++u){var l=n[u];o(l.width===i&&l.height===a,"inconsistent cube map face shape"),t.genMipmaps&&(o(!l.compressed,"can not generate mipmap for compressed textures"),o(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var p=c[f];if(p){var d=i>>f,h=a>>f;o(l.mipmask&1<<f,"missing mipmap data"),o(p.width===d&&p.height===h,"invalid shape for mip images"),o(p.format===e.format&&p.internalformat===e.internalformat&&p.type===e.type,"incompatible type for mip image"),p.compressed||(p.data?o(p.data.byteLength===d*h*Math.max(ee(p.type,s),p.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):p.element||p.copy)}}}}$[U]=$[V]=1,$[H]=$[W]=$[Q]=$[K]=$[Y]=$[X]=2,$[q]=$[G]=$[Z]=$[J]=4;var ie=n(o,{optional:R,raise:a,commandRaise:A,command:M,parameter:u,commandParameter:P,constructor:v,type:f,commandType:I,isTypedArray:l,nni:p,oneOf:d,shaderError:k,linkError:O,callSite:x,saveCommandRef:T,saveDrawInfo:C,framebufferFormat:j,guessCommand:_,texture2D:ne,textureCube:re}),ae=0,oe=0,se=5,ue=6;function le(e,t){this.id=ae++,this.type=e,this.data=t}function ce(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fe(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+ce(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return fe(e.substr(0,r.index)).concat(fe(r[1])).concat(fe(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+ce(e)+'"'];for(var a=[],o=0;o<i.length;++o)a=a.concat(fe(i[o]));return a}function pe(e){return"["+fe(e).join("][")+"]"}function de(e,t){return new le(e,pe(t+""))}function he(e){return"function"===typeof e&&!e._reglType||e instanceof le}function ve(e,t){return"function"===typeof e?new le(oe,e):"number"===typeof e||"boolean"===typeof e?new le(se,e):Array.isArray(e)?new le(ue,e.map((function(e,n){return ve(e,t+"["+n+"]")}))):e instanceof le?e:void ie(!1,"invalid option type in uniform "+t)}var me={DynamicVariable:le,define:de,isDynamic:he,unbox:ve,accessor:pe},ye={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ge="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function be(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function _e(e,t,r){var i,a=document.createElement("canvas");function o(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=a.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}a.width=r*t,a.height=r*n}function s(){i?i.disconnect():window.removeEventListener("resize",o),e.removeChild(a)}return n(a.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(a),e===document.body&&(a.style.position="absolute",n(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(o)})),i.observe(e)):window.addEventListener("resize",o,!1),o(),{canvas:a,onDestroy:s}}function xe(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function we(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function Ee(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Se(e){return"string"===typeof e?e.split():(ie(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"===typeof e?(ie("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Oe(e){var t,n,r,i,a=e||{},o={},s=[],u=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ie.raise(e)},p=function(){};if("string"===typeof a?(ie("undefined"!==typeof document,"selector queries only supported in DOM environments"),t=document.querySelector(a),ie(t,"invalid query string for element")):"object"===typeof a?we(a)?t=a:Ee(a)?(i=a,r=i.canvas):(ie.constructor(a),"gl"in a?i=a.gl:"canvas"in a?r=ke(a.canvas):"container"in a&&(n=ke(a.container)),"attributes"in a&&(o=a.attributes,ie.type(o,"object","invalid context attributes")),"extensions"in a&&(s=Se(a.extensions)),"optionalExtensions"in a&&(u=Se(a.optionalExtensions)),"onDone"in a&&(ie.type(a.onDone,"function","invalid or missing onDone callback"),f=a.onDone),"profile"in a&&(c=!!a.profile),"pixelRatio"in a&&(l=+a.pixelRatio,ie(l>0,"invalid pixel ratio"))):ie.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ie("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var d=_e(n||document.body,f,l);if(!d)return null;r=d.canvas,p=d.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),i=xe(r,o)}return i?{gl:i,canvas:r,container:n,extensions:s,optionalExtensions:u,pixelRatio:l,profile:c,onDone:f,onDestroy:p}:(p(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Te(e,t){var n={};function r(t){ie.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(a){}return!!r}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Ce(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Ae=5120,Me=5121,Pe=5122,Ie=5123,Re=5124,je=5125,Le=5126;function Ne(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function De(e){var t,n;return t=(e>65535)<<4,e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1}function Fe(){var e=Ce(8,(function(){return[]}));function t(t){var n=Ne(t),r=e[De(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[De(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Ae:r=new Int8Array(t(n),0,n);break;case Me:r=new Uint8Array(t(n),0,n);break;case Pe:r=new Int16Array(t(2*n),0,n);break;case Ie:r=new Uint16Array(t(2*n),0,n);break;case Re:r=new Int32Array(t(4*n),0,n);break;case je:r=new Uint32Array(t(4*n),0,n);break;case Le:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var ze=Fe();ze.zero=Fe();var Be=3408,Ue=3410,Ve=3411,He=3412,We=3413,qe=3414,Ge=3415,Ze=33901,Ye=33902,Xe=3379,Ke=3386,Je=34921,Qe=36347,$e=36348,et=35661,tt=35660,nt=34930,rt=36349,it=34076,at=34024,ot=7936,st=7937,ut=7938,lt=35724,ct=34047,ft=36063,pt=34852,dt=3553,ht=34067,vt=34069,mt=33984,yt=6408,gt=5126,bt=5121,_t=36160,xt=36053,wt=36064,Et=16384,St=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(ct));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(pt),i=e.getParameter(ft));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(dt,o),e.texImage2D(dt,0,yt,1,1,0,yt,gt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(_t,s),e.framebufferTexture2D(_t,wt,dt,o,0),e.bindTexture(dt,null),e.checkFramebufferStatus(_t)!==xt)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(Et);var u=ze.allocType(gt,4);e.readPixels(0,0,1,1,yt,gt,u),e.getError()?a=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),a=1===u[0]),ze.freeType(u)}}var l="undefined"!==typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),c=!0;if(!l){var f=e.createTexture(),p=ze.allocType(bt,36);e.activeTexture(mt),e.bindTexture(ht,f),e.texImage2D(vt,0,yt,3,3,0,yt,bt,p),ze.freeType(p),e.bindTexture(ht,null),e.deleteTexture(f),c=!e.getError()}return{colorBits:[e.getParameter(Ue),e.getParameter(Ve),e.getParameter(He),e.getParameter(We)],depthBits:e.getParameter(qe),stencilBits:e.getParameter(Ge),subpixelBits:e.getParameter(Be),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(Ze),lineWidthDims:e.getParameter(Ye),maxViewportDims:e.getParameter(Ke),maxCombinedTextureUnits:e.getParameter(et),maxCubeMapSize:e.getParameter(it),maxRenderbufferSize:e.getParameter(at),maxTextureUnits:e.getParameter(nt),maxTextureSize:e.getParameter(Xe),maxAttributes:e.getParameter(Je),maxVertexUniforms:e.getParameter(Qe),maxVertexTextureUnits:e.getParameter(tt),maxVaryingVectors:e.getParameter($e),maxFragmentUniforms:e.getParameter(rt),glsl:e.getParameter(lt),renderer:e.getParameter(st),vendor:e.getParameter(ot),version:e.getParameter(ut),readFloat:a,npotTextureCube:c}};function kt(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}var Ot=function(e){return Object.keys(e).map((function(t){return e[t]}))},Tt={shape:Rt,flatten:It};function Ct(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function At(e,t,n,r){for(var i=0,a=0;a<t;++a)for(var o=e[a],s=0;s<n;++s)r[i++]=o[s]}function Mt(e,t,n,r,i,a){for(var o=a,s=0;s<t;++s)for(var u=e[s],l=0;l<n;++l)for(var c=u[l],f=0;f<r;++f)i[o++]=c[f]}function Pt(e,t,n,r,i){for(var a=1,o=n+1;o<t.length;++o)a*=t[o];var s=t[n];if(t.length-n===4){var u=t[n+1],l=t[n+2],c=t[n+3];for(o=0;o<s;++o)Mt(e[o],u,l,c,r,i),i+=a}else for(o=0;o<s;++o)Pt(e[o],t,n+1,r,i),i+=a}function It(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=r||ze.allocType(n,i);switch(t.length){case 0:break;case 1:Ct(e,t[0],o);break;case 2:At(e,t[0],t[1],o);break;case 3:Mt(e,t[0],t[1],t[2],o,0);break;default:Pt(e,t,0,o,0)}return o}function Rt(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var jt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Lt=5120,Nt=5122,Dt=5124,Ft=5121,zt=5123,Bt=5125,Ut=5126,Vt=5126,Ht={int8:Lt,int16:Nt,int32:Dt,uint8:Ft,uint16:zt,uint32:Bt,float:Ut,float32:Vt},Wt=35048,qt=35040,Gt={dynamic:Wt,stream:qt,static:35044},Zt=Tt.flatten,Yt=Tt.shape,Xt=35044,Kt=35040,Jt=5121,Qt=5126,$t=[];function en(e){return 0|jt[Object.prototype.toString.call(e)]}function tn(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function nn(e,t,n,r,i,a,o){for(var s=0,u=0;u<n;++u)for(var l=0;l<r;++l)e[s++]=t[i*u+a*l+o]}function rn(e,n,r,i){var a=0,o={};function s(t){this.id=a++,this.buffer=e.createBuffer(),this.type=t,this.usage=Xt,this.byteLength=0,this.dimension=1,this.dtype=Jt,this.persistentData=null,r.profile&&(this.stats={size:0})}s.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){d(this)};var u=[];function l(e,t){var n=u.pop();return n||(n=new s(e)),n.bind(),p(n,t,Kt,0,1,!1),n}function c(e){u.push(e)}function f(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function p(e,n,r,i,a,o){var s,u;if(e.usage=r,Array.isArray(n)){if(e.dtype=i||Qt,n.length>0)if(Array.isArray(n[0])){s=Yt(n);for(var l=1,c=1;c<s.length;++c)l*=s[c];e.dimension=l,u=Zt(n,s,e.dtype),f(e,u,r),o?e.persistentData=u:ze.freeType(u)}else if("number"===typeof n[0]){e.dimension=a;var p=ze.allocType(e.dtype,n.length);tn(p,n),f(e,p,r),o?e.persistentData=p:ze.freeType(p)}else t(n[0])?(e.dimension=n[0].length,e.dtype=i||en(n[0])||Qt,u=Zt(n,[n.length,n[0].length],e.dtype),f(e,u,r),o?e.persistentData=u:ze.freeType(u)):ie.raise("invalid buffer data")}else if(t(n))e.dtype=i||en(n),e.dimension=a,f(e,n,r),o&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){s=n.shape;var d=n.stride,h=n.offset,v=0,m=0,y=0,g=0;1===s.length?(v=s[0],m=1,y=d[0],g=0):2===s.length?(v=s[0],m=s[1],y=d[0],g=d[1]):ie.raise("invalid shape"),e.dtype=i||en(n.data)||Qt,e.dimension=m;var b=ze.allocType(e.dtype,v*m);nn(b,n.data,v,m,y,g,h),f(e,b,r),o?e.persistentData=b:ze.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=Jt,e.dimension=a,f(e,n,r),o&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):ie.raise("invalid buffer data")}function d(t){n.bufferCount--,i(t);var r=t.buffer;ie(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete o[t.id]}function h(i,a,u,l){n.bufferCount++;var c=new s(a);function f(n){var i=Xt,a=null,o=0,s=0,u=1;return Array.isArray(n)||t(n)||kt(n)||n instanceof ArrayBuffer?a=n:"number"===typeof n?o=0|n:n&&(ie.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ie(null===a||Array.isArray(a)||t(a)||kt(a),"invalid data for buffer"),a=n.data),"usage"in n&&(ie.parameter(n.usage,Gt,"invalid buffer usage"),i=Gt[n.usage]),"type"in n&&(ie.parameter(n.type,Ht,"invalid buffer type"),s=Ht[n.type]),"dimension"in n&&(ie.type(n.dimension,"number","invalid dimension"),u=0|n.dimension),"length"in n&&(ie.nni(o,"buffer length must be a nonnegative integer"),o=0|n.length)),c.bind(),a?p(c,a,i,s,u,l):(o&&e.bufferData(c.type,o,i),c.dtype=s||Jt,c.usage=i,c.dimension=u,c.byteLength=o),r.profile&&(c.stats.size=c.byteLength*$t[c.dtype]),f}function h(t,n){ie(n+t.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),e.bufferSubData(c.type,n,t)}function v(e,n){var r,i=0|(n||0);if(c.bind(),t(e)||e instanceof ArrayBuffer)h(e,i);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var a=ze.allocType(c.dtype,e.length);tn(a,e),h(a,i),ze.freeType(a)}else if(Array.isArray(e[0])||t(e[0])){r=Yt(e);var o=Zt(e,r,c.dtype);h(o,i),ze.freeType(o)}else ie.raise("invalid buffer data")}else if(kt(e)){r=e.shape;var s=e.stride,u=0,l=0,p=0,d=0;1===r.length?(u=r[0],l=1,p=s[0],d=0):2===r.length?(u=r[0],l=r[1],p=s[0],d=s[1]):ie.raise("invalid shape");var v=Array.isArray(e.data)?c.dtype:en(e.data),m=ze.allocType(v,u*l);nn(m,e.data,u,l,p,d,e.offset),h(m,i),ze.freeType(m)}else ie.raise("invalid data for buffer subdata");return f}return o[c.id]=c,u||f(i),f._reglType="buffer",f._buffer=c,f.subdata=v,r.profile&&(f.stats=c.stats),f.destroy=function(){d(c)},f}function v(){Ot(o).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:h,createStream:l,destroyStream:c,clear:function(){Ot(o).forEach(d),u.forEach(d)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:v,_initBuffer:p}}$t[5120]=1,$t[5122]=2,$t[5124]=4,$t[5121]=1,$t[5123]=2,$t[5125]=4,$t[5126]=4;var an=0,on=0,sn=1,un=1,ln=4,cn=4,fn={points:an,point:on,lines:sn,line:un,triangles:ln,triangle:cn,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},pn=0,dn=1,hn=4,vn=5120,mn=5121,yn=5122,gn=5123,bn=5124,_n=5125,xn=34963,wn=35040,En=35044;function Sn(e,n,r,i){var a={},o=0,s={uint8:mn,uint16:gn};function u(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=hn,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(s.uint32=_n),u.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new u(r.create(null,xn,!0,!1)._buffer)),p(t,e,wn,-1,-1,0,0),t}function f(e){l.push(e)}function p(i,a,o,s,u,l,c){var f;if(i.buffer.bind(),a){var p=c;c||t(a)&&(!kt(a)||t(a.data))||(p=n.oes_element_index_uint?_n:gn),r._initBuffer(i.buffer,a,o,p,3)}else e.bufferData(xn,l,o),i.buffer.dtype=f||mn,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case mn:case vn:f=mn;break;case gn:case yn:f=gn;break;case _n:case bn:f=_n;break;default:ie.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ie(f!==_n||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=u;d<0&&(d=i.buffer.byteLength,f===gn?d>>=1:f===_n&&(d>>=2)),i.vertCount=d;var h=s;if(s<0){h=hn;var v=i.buffer.dimension;1===v&&(h=pn),2===v&&(h=dn),3===v&&(h=hn)}i.primType=h}function d(e){i.elementsCount--,ie(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}function h(e,n){var a=r.create(null,xn,!0),o=new u(a._buffer);function l(e){if(e)if("number"===typeof e)a(e),o.primType=hn,o.vertCount=0|e,o.type=mn;else{var n=null,r=En,i=-1,u=-1,c=0,f=0;Array.isArray(e)||t(e)||kt(e)?n=e:(ie.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,ie(Array.isArray(n)||t(n)||kt(n),"invalid data for element buffer")),"usage"in e&&(ie.parameter(e.usage,Gt,"invalid element buffer usage"),r=Gt[e.usage]),"primitive"in e&&(ie.parameter(e.primitive,fn,"invalid element buffer primitive"),i=fn[e.primitive]),"count"in e&&(ie("number"===typeof e.count&&e.count>=0,"invalid vertex count for elements"),u=0|e.count),"type"in e&&(ie.parameter(e.type,s,"invalid buffer type"),f=s[e.type]),"length"in e?c=0|e.length:(c=u,f===gn||f===yn?c*=2:f!==_n&&f!==bn||(c*=4))),p(o,n,r,i,u,c,f)}else a(),o.primType=hn,o.vertCount=0,o.type=mn;return l}return i.elementsCount++,l(e),l._reglType="elements",l._elements=o,l.subdata=function(e,t){return a.subdata(e,t),l},l.destroy=function(){d(o)},l}return{create:h,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){Ot(a).forEach(d)}}}var kn=new Float32Array(1),On=new Uint32Array(kn.buffer),Tn=5123;function Cn(e){for(var t=ze.allocType(Tn,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{kn[0]=e[n];var r=On[0],i=r>>>31<<15,a=(r<<1>>>24)-127,o=r>>13&1023;if(a<-24)t[n]=i;else if(a<-14){var s=-14-a;t[n]=i+(o+1024>>s)}else t[n]=a>15?i+31744:i+(a+15<<10)+o}return t}function An(e){return Array.isArray(e)||t(e)}var Mn=function(e){return!(e&e-1)&&!!e},Pn=34467,In=3553,Rn=34067,jn=34069,Ln=6408,Nn=6406,Dn=6407,Fn=6409,zn=6410,Bn=32854,Un=32855,Vn=36194,Hn=32819,Wn=32820,qn=33635,Gn=34042,Zn=6402,Yn=34041,Xn=35904,Kn=35906,Jn=36193,Qn=33776,$n=33777,er=33778,tr=33779,nr=35986,rr=35987,ir=34798,ar=35840,or=35841,sr=35842,ur=35843,lr=36196,cr=5121,fr=5123,pr=5125,dr=5126,hr=10242,vr=10243,mr=10497,yr=33071,gr=33648,br=10240,_r=10241,xr=9728,wr=9729,Er=9984,Sr=9985,kr=9986,Or=9987,Tr=33170,Cr=4352,Ar=4353,Mr=4354,Pr=34046,Ir=3317,Rr=37440,jr=37441,Lr=37443,Nr=37444,Dr=33984,Fr=[Er,kr,Sr,Or],zr=[0,Fn,zn,Dn,Ln],Br={};function Ur(e){return"[object "+e+"]"}Br[Fn]=Br[Nn]=Br[Zn]=1,Br[Yn]=Br[zn]=2,Br[Dn]=Br[Xn]=3,Br[Ln]=Br[Kn]=4;var Vr=Ur("HTMLCanvasElement"),Hr=Ur("OffscreenCanvas"),Wr=Ur("CanvasRenderingContext2D"),qr=Ur("ImageBitmap"),Gr=Ur("HTMLImageElement"),Zr=Ur("HTMLVideoElement"),Yr=Object.keys(jt).concat([Vr,Hr,Wr,qr,Gr,Zr]),Xr=[];Xr[cr]=1,Xr[dr]=4,Xr[Jn]=2,Xr[fr]=2,Xr[pr]=4;var Kr=[];function Jr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Qr(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!An(e[0]))}function $r(e){return Object.prototype.toString.call(e)}function ei(e){return $r(e)===Vr}function ti(e){return $r(e)===Hr}function ni(e){return $r(e)===Wr}function ri(e){return $r(e)===qr}function ii(e){return $r(e)===Gr}function ai(e){return $r(e)===Zr}function oi(e){if(!e)return!1;var t=$r(e);return Yr.indexOf(t)>=0||(Jr(e)||Qr(e)||kt(e))}function si(e){return 0|jt[Object.prototype.toString.call(e)]}function ui(e,t){var n=t.length;switch(e.type){case cr:case fr:case pr:case dr:var r=ze.allocType(e.type,n);r.set(t),e.data=r;break;case Jn:e.data=Cn(t);break;default:ie.raise("unsupported texture type, must specify a typed array")}}function li(e,t){return ze.allocType(e.type===Jn?dr:e.type,t)}function ci(e,t){e.type===Jn?(e.data=Cn(t),ze.freeType(t)):e.data=t}function fi(e,t,n,r,i,a){for(var o=e.width,s=e.height,u=e.channels,l=o*s*u,c=li(e,l),f=0,p=0;p<s;++p)for(var d=0;d<o;++d)for(var h=0;h<u;++h)c[f++]=t[n*d+r*p+i*h+a];ci(e,c)}function pi(e,t,n,r,i,a){var o;if(o="undefined"!==typeof Kr[e]?Kr[e]:Br[e]*Xr[t],a&&(o*=6),i){var s=0,u=n;while(u>=1)s+=o*u*u,u/=2;return s}return o*n*r}function di(e,r,i,a,o,s,u){var l={"don't care":Cr,"dont care":Cr,nice:Mr,fast:Ar},c={repeat:mr,clamp:yr,mirror:gr},f={nearest:xr,linear:wr},p=n({mipmap:Or,"nearest mipmap nearest":Er,"linear mipmap nearest":Sr,"nearest mipmap linear":kr,"linear mipmap linear":Or},f),d={none:0,browser:Nr},h={uint8:cr,rgba4:Hn,rgb565:qn,"rgb5 a1":Wn},v={alpha:Nn,luminance:Fn,"luminance alpha":zn,rgb:Dn,rgba:Ln,rgba4:Bn,"rgb5 a1":Un,rgb565:Vn},m={};r.ext_srgb&&(v.srgb=Xn,v.srgba=Kn),r.oes_texture_float&&(h.float32=h["float"]=dr),r.oes_texture_half_float&&(h["float16"]=h["half float"]=Jn),r.webgl_depth_texture&&(n(v,{depth:Zn,"depth stencil":Yn}),n(h,{uint16:fr,uint32:pr,"depth stencil":Gn})),r.webgl_compressed_texture_s3tc&&n(m,{"rgb s3tc dxt1":Qn,"rgba s3tc dxt1":$n,"rgba s3tc dxt3":er,"rgba s3tc dxt5":tr}),r.webgl_compressed_texture_atc&&n(m,{"rgb atc":nr,"rgba atc explicit alpha":rr,"rgba atc interpolated alpha":ir}),r.webgl_compressed_texture_pvrtc&&n(m,{"rgb pvrtc 4bppv1":ar,"rgb pvrtc 2bppv1":or,"rgba pvrtc 4bppv1":sr,"rgba pvrtc 2bppv1":ur}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=lr);var y=Array.prototype.slice.call(e.getParameter(Pn)||new Uint32Array(0));Object.keys(m).forEach((function(e){var t=m[e];y.indexOf(t)>=0&&(v[e]=t)}));var g=Object.keys(v);i.textureFormats=g;var b=[];Object.keys(v).forEach((function(e){var t=v[e];b[t]=e}));var _=[];Object.keys(h).forEach((function(e){var t=h[e];_[t]=e}));var x=[];Object.keys(f).forEach((function(e){var t=f[e];x[t]=e}));var w=[];Object.keys(p).forEach((function(e){var t=p[e];w[t]=e}));var E=[];Object.keys(c).forEach((function(e){var t=c[e];E[t]=e}));var S=g.reduce((function(e,t){var n=v[t];return n===Fn||n===Nn||n===Fn||n===zn||n===Zn||n===Yn||r.ext_srgb&&(n===Xn||n===Kn)?e[n]=n:n===Un||t.indexOf("rgba")>=0?e[n]=Ln:e[n]=Dn,e}),{});function k(){this.internalformat=Ln,this.format=Ln,this.type=cr,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Nr,this.width=0,this.height=0,this.channels=0}function O(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function T(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ie.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ie.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ie.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ie.parameter(t.colorSpace,d,"invalid colorSpace"),e.colorSpace=d[t.colorSpace]),"type"in t){var n=t.type;ie(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ie(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ie(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(n,h,"invalid texture type"),e.type=h[n]}var a=e.width,o=e.height,s=e.channels,u=!1;"shape"in t?(ie(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),a=t.shape[0],o=t.shape[1],3===t.shape.length&&(s=t.shape[2],ie(s>0&&s<=4,"invalid number of channels"),u=!0),ie(a>=0&&a<=i.maxTextureSize,"invalid width"),ie(o>=0&&o<=i.maxTextureSize,"invalid height")):("radius"in t&&(a=o=t.radius,ie(a>=0&&a<=i.maxTextureSize,"invalid radius")),"width"in t&&(a=t.width,ie(a>=0&&a<=i.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,ie(o>=0&&o<=i.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,ie(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|a,e.height=0|o,e.channels=0|s;var l=!1;if("format"in t){var c=t.format;ie(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ie.parameter(c,v,"invalid texture format");var f=e.internalformat=v[c];e.format=S[f],c in h&&("type"in t||(e.type=h[c])),c in m&&(e.compressed=!0),l=!0}!u&&l?e.channels=Br[e.format]:u&&!l?e.channels!==zr[e.format]&&(e.format=e.internalformat=zr[e.channels]):l&&u&&ie(e.channels===Br[e.format],"number of channels inconsistent with specified format")}}function C(t){e.pixelStorei(Rr,t.flipY),e.pixelStorei(jr,t.premultiplyAlpha),e.pixelStorei(Lr,t.colorSpace),e.pixelStorei(Ir,t.unpackAlignment)}function A(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(e,n){var r=null;if(oi(n)?r=n:n&&(ie.type(n,"object","invalid pixel data type"),T(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),oi(n.data)&&(r=n.data)),ie(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ie(!r,"can not specify copy and data field for the same texture");var a=o.viewportWidth,s=o.viewportHeight;e.width=e.width||a-e.xOffset,e.height=e.height||s-e.yOffset,e.needsCopy=!0,ie(e.xOffset>=0&&e.xOffset<a&&e.yOffset>=0&&e.yOffset<s&&e.width>0&&e.width<=a&&e.height>0&&e.height<=s,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||e.type!==cr||(e.type=si(r));else if(Jr(r))e.channels=e.channels||4,ui(e,r),e.alignment=1,e.needsFree=!0;else if(kt(r)){var u=r.data;Array.isArray(u)||e.type!==cr||(e.type=si(u));var l,c,f,p,d,h,v=r.shape,m=r.stride;3===v.length?(f=v[2],h=m[2]):(ie(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,h=1),l=v[0],c=v[1],p=m[0],d=m[1],e.alignment=1,e.width=l,e.height=c,e.channels=f,e.format=e.internalformat=zr[f],e.needsFree=!0,fi(e,u,p,d,h,r.offset)}else if(ei(r)||ti(r)||ni(r))ei(r)||ti(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(ri(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(ii(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(ai(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(Qr(r)){var y=e.width||r[0].length,g=e.height||r.length,b=e.channels;b=An(r[0][0])?b||r[0][0].length:b||1;for(var _=Tt.shape(r),x=1,w=0;w<_.length;++w)x*=_[w];var E=li(e,x);Tt.flatten(r,_,"",E),ci(e,E),e.alignment=1,e.width=y,e.height=g,e.channels=b,e.format=e.internalformat=zr[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===dr?ie(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):e.type===Jn&&ie(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(t,n,r){var i=t.element,o=t.data,s=t.internalformat,u=t.format,l=t.type,c=t.width,f=t.height;C(t),i?e.texImage2D(n,r,u,u,l,i):t.compressed?e.compressedTexImage2D(n,r,s,c,f,0,o):t.needsCopy?(a(),e.copyTexImage2D(n,r,u,t.xOffset,t.yOffset,c,f,0)):e.texImage2D(n,r,u,c,f,0,u,l,o||null)}function I(t,n,r,i,o){var s=t.element,u=t.data,l=t.internalformat,c=t.format,f=t.type,p=t.width,d=t.height;C(t),s?e.texSubImage2D(n,o,r,i,c,f,s):t.compressed?e.compressedTexSubImage2D(n,o,r,i,l,p,d,u):t.needsCopy?(a(),e.copyTexSubImage2D(n,o,r,i,t.xOffset,t.yOffset,p,d)):e.texSubImage2D(n,o,r,i,p,d,c,f,u)}var R=[];function j(){return R.pop()||new A}function L(e){e.needsFree&&ze.freeType(e.data),A.call(e),R.push(e)}function N(){k.call(this),this.genMipmaps=!1,this.mipmapHint=Cr,this.mipmask=0,this.images=Array(16)}function D(e,t,n){var r=e.images[0]=j();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function F(e,t){var n=null;if(oi(t))n=e.images[0]=j(),O(n,e),M(n,t),e.mipmask=1;else if(T(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=j(),O(n,e),n.width>>=i,n.height>>=i,M(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=j(),O(n,e),M(n,t),e.mipmask=1;O(e,e.images[0]),!e.compressed||e.internalformat!==Qn&&e.internalformat!==$n&&e.internalformat!==er&&e.internalformat!==tr||ie(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function z(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;P(n[r],t,r)}}var B=[];function U(){var e=B.pop()||new N;k.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&L(t[n]),t[n]=null;B.push(e)}function H(){this.minFilter=xr,this.magFilter=xr,this.wrapS=yr,this.wrapT=yr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Cr}function W(e,t){if("min"in t){var n=t.min;ie.parameter(n,p),e.minFilter=p[n],Fr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ie.parameter(r,f),e.magFilter=f[r]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(ie.parameter(s,c),a=o=c[s]):Array.isArray(s)&&(ie.parameter(s[0],c),ie.parameter(s[1],c),a=c[s[0]],o=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;ie.parameter(u,c),a=c[u]}if("wrapT"in t){var d=t.wrapT;ie.parameter(d,c),o=c[d]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var h=t.anisotropic;ie("number"===typeof h&&h>=1&&h<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":ie.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":ie(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:ie.raise("invalid mipmap type")}v&&!("min"in t)&&(e.minFilter=Er)}}function q(t,n){e.texParameteri(n,_r,t.minFilter),e.texParameteri(n,br,t.magFilter),e.texParameteri(n,hr,t.wrapS),e.texParameteri(n,vr,t.wrapT),r.ext_texture_filter_anisotropic&&e.texParameteri(n,Pr,t.anisotropic),t.genMipmaps&&(e.hint(Tr,t.mipmapHint),e.generateMipmap(n))}var G=0,Z={},Y=i.maxTextureUnits,X=Array(Y).map((function(){return null}));function K(t){k.call(this),this.mipmask=0,this.internalformat=Ln,this.id=G++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,u.profile&&(this.stats={size:0})}function J(t){e.activeTexture(Dr),e.bindTexture(t.target,t.texture)}function Q(){var t=X[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(In,null)}function $(t){var n=t.texture;ie(n,"must not double destroy texture");var r=t.unit,i=t.target;r>=0&&(e.activeTexture(Dr+r),e.bindTexture(i,null),X[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete Z[t.id],s.textureCount--}function ee(t,n){var r=new K(In);function a(e,t){var n=r.texInfo;H.call(n);var o=U();return"number"===typeof e?D(o,0|e,"number"===typeof t?0|t:0|e):e?(ie.type(e,"object","invalid arguments to regl.texture"),W(n,e),F(o,e)):D(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,O(r,o),ie.texture2D(n,o,i),r.internalformat=o.internalformat,a.width=o.width,a.height=o.height,J(r),z(o,In),q(n,In),Q(),V(o),u.profile&&(r.stats.size=pi(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),a.format=b[r.internalformat],a.type=_[r.type],a.mag=x[n.magFilter],a.min=w[n.minFilter],a.wrapS=E[n.wrapS],a.wrapT=E[n.wrapT],a}function o(e,t,n,i){ie(!!e,"must specify image data");var o=0|t,s=0|n,u=0|i,l=j();return O(l,r),l.width=0,l.height=0,M(l,e),l.width=l.width||(r.width>>u)-o,l.height=l.height||(r.height>>u)-s,ie(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ie(o>=0&&s>=0&&o+l.width<=r.width&&s+l.height<=r.height,"texture.subimage write out of bounds"),ie(r.mipmask&1<<u,"missing mipmap data"),ie(l.data||l.element||l.needsCopy,"missing image data"),J(r),I(l,In,o,s,u),Q(),L(l),a}function l(t,n){var i=0|t,o=0|n||i;if(i===r.width&&o===r.height)return a;a.width=r.width=i,a.height=r.height=o,J(r);for(var s=0;r.mipmask>>s;++s){var l=i>>s,c=o>>s;if(!l||!c)break;e.texImage2D(In,s,r.format,l,c,0,r.format,r.type,null)}return Q(),u.profile&&(r.stats.size=pi(r.internalformat,r.type,i,o,!1,!1)),a}return Z[r.id]=r,s.textureCount++,a(t,n),a.subimage=o,a.resize=l,a._reglType="texture2d",a._texture=r,u.profile&&(a.stats=r.stats),a.destroy=function(){r.decRef()},a}function te(t,n,r,a,o,l){var c=new K(Rn);Z[c.id]=c,s.cubeCount++;var f=new Array(6);function p(e,t,n,r,a,o){var s,l=c.texInfo;for(H.call(l),s=0;s<6;++s)f[s]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)F(f[0],e),F(f[1],t),F(f[2],n),F(f[3],r),F(f[4],a),F(f[5],o);else if(W(l,e),T(c,e),"faces"in e){var d=e.faces;for(ie(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),s=0;s<6;++s)ie("object"===typeof d[s]&&!!d[s],"invalid input for cube map face"),O(f[s],c),F(f[s],d[s])}else for(s=0;s<6;++s)F(f[s],e);else ie.raise("invalid arguments to cube map");else{var h=0|e||1;for(s=0;s<6;++s)D(f[s],h,h)}for(O(c,f[0]),ie.optional((function(){i.npotTextureCube||ie(Mn(c.width)&&Mn(c.height),"your browser does not support non power or two texture dimensions")})),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ie.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,p.width=f[0].width,p.height=f[0].height,J(c),s=0;s<6;++s)z(f[s],jn+s);for(q(l,Rn),Q(),u.profile&&(c.stats.size=pi(c.internalformat,c.type,p.width,p.height,l.genMipmaps,!0)),p.format=b[c.internalformat],p.type=_[c.type],p.mag=x[l.magFilter],p.min=w[l.minFilter],p.wrapS=E[l.wrapS],p.wrapT=E[l.wrapT],s=0;s<6;++s)V(f[s]);return p}function d(e,t,n,r,i){ie(!!t,"must specify image data"),ie("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|n,o=0|r,s=0|i,u=j();return O(u,c),u.width=0,u.height=0,M(u,t),u.width=u.width||(c.width>>s)-a,u.height=u.height||(c.height>>s)-o,ie(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),ie(a>=0&&o>=0&&a+u.width<=c.width&&o+u.height<=c.height,"texture.subimage write out of bounds"),ie(c.mipmask&1<<s,"missing mipmap data"),ie(u.data||u.element||u.needsCopy,"missing image data"),J(c),I(u,jn+e,a,o,s),Q(),L(u),p}function h(t){var n=0|t;if(n!==c.width){p.width=c.width=n,p.height=c.height=n,J(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)e.texImage2D(jn+r,i,c.format,n>>i,n>>i,0,c.format,c.type,null);return Q(),u.profile&&(c.stats.size=pi(c.internalformat,c.type,p.width,p.height,!1,!0)),p}}return p(t,n,r,a,o,l),p.subimage=d,p.resize=h,p._reglType="textureCube",p._texture=c,u.profile&&(p.stats=c.stats),p.destroy=function(){c.decRef()},p}function ne(){for(var t=0;t<Y;++t)e.activeTexture(Dr+t),e.bindTexture(In,null),X[t]=null;Ot(Z).forEach($),s.cubeCount=0,s.textureCount=0}function re(){for(var t=0;t<Y;++t){var n=X[t];n&&(n.bindCount=0,n.unit=-1,X[t]=null)}Ot(Z).forEach((function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;n<32;++n)if(0!==(t.mipmask&1<<n))if(t.target===In)e.texImage2D(In,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)e.texImage2D(jn+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);q(t.texInfo,t.target)}))}function ae(){for(var t=0;t<Y;++t){var n=X[t];n&&(n.bindCount=0,n.unit=-1,X[t]=null),e.activeTexture(Dr+t),e.bindTexture(In,null),e.bindTexture(Rn,null)}}return n(K.prototype,{bind:function(){var t=this;t.bindCount+=1;var n=t.unit;if(n<0){for(var r=0;r<Y;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=t,n=r;break}n>=Y&&ie.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<n+1&&(s.maxTextureUnits=n+1),t.unit=n,e.activeTexture(Dr+n),e.bindTexture(t.target,t.texture)}return n},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&$(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(Z).forEach((function(t){e+=Z[t].stats.size})),e}),{create2D:ee,createCube:te,clear:ne,getTexture:function(e){return null},restore:re,refresh:ae}}Kr[Bn]=2,Kr[Un]=2,Kr[Vn]=2,Kr[Yn]=4,Kr[Qn]=.5,Kr[$n]=.5,Kr[er]=1,Kr[tr]=1,Kr[nr]=.5,Kr[rr]=1,Kr[ir]=1,Kr[ar]=.5,Kr[or]=.25,Kr[sr]=.5,Kr[ur]=.25,Kr[lr]=.5;var hi=36161,vi=32854,mi=32855,yi=36194,gi=33189,bi=36168,_i=34041,xi=35907,wi=34836,Ei=34842,Si=34843,ki=[];function Oi(e,t,n){return ki[e]*t*n}ki[vi]=2,ki[mi]=2,ki[yi]=2,ki[gi]=2,ki[bi]=1,ki[_i]=4,ki[xi]=4,ki[wi]=16,ki[Ei]=8,ki[Si]=6;var Ti=function(e,t,n,r,i){var a={rgba4:vi,rgb565:yi,"rgb5 a1":mi,depth:gi,stencil:bi,"depth stencil":_i};t.ext_srgb&&(a["srgba"]=xi),t.ext_color_buffer_half_float&&(a["rgba16f"]=Ei,a["rgb16f"]=Si),t.webgl_color_buffer_float&&(a["rgba32f"]=wi);var o=[];Object.keys(a).forEach((function(e){var t=a[e];o[t]=e}));var s=0,u={};function l(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=vi,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ie(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(hi,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}function f(t,s){var c=new l(e.createRenderbuffer());function f(t,r){var s=0,u=0,l=vi;if("object"===typeof t&&t){var p=t;if("shape"in p){var d=p.shape;ie(Array.isArray(d)&&d.length>=2,"invalid renderbuffer shape"),s=0|d[0],u=0|d[1]}else"radius"in p&&(s=u=0|p.radius),"width"in p&&(s=0|p.width),"height"in p&&(u=0|p.height);"format"in p&&(ie.parameter(p.format,a,"invalid renderbuffer format"),l=a[p.format])}else"number"===typeof t?(s=0|t,u="number"===typeof r?0|r:s):t?ie.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(ie(s>0&&u>0&&s<=n.maxRenderbufferSize&&u<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||l!==c.format)return f.width=c.width=s,f.height=c.height=u,c.format=l,e.bindRenderbuffer(hi,c.renderbuffer),e.renderbufferStorage(hi,l,s,u),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=Oi(c.format,c.width,c.height)),f.format=o[c.format],f}function p(t,r){var a=0|t,o=0|r||a;return a===c.width&&o===c.height||(ie(a>0&&o>0&&a<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=a,f.height=c.height=o,e.bindRenderbuffer(hi,c.renderbuffer),e.renderbufferStorage(hi,c.format,a,o),ie(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=Oi(c.format,c.width,c.height))),f}return u[c.id]=c,r.renderbufferCount++,f(t,s),f.resize=p,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function p(){Ot(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(hi,t.renderbuffer),e.renderbufferStorage(hi,t.format,t.width,t.height)})),e.bindRenderbuffer(hi,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:f,clear:function(){Ot(u).forEach(c)},restore:p}},Ci=36160,Ai=36161,Mi=3553,Pi=34069,Ii=36064,Ri=36096,ji=36128,Li=33306,Ni=36053,Di=36054,Fi=36055,zi=36057,Bi=36061,Ui=36193,Vi=5121,Hi=5126,Wi=6407,qi=6408,Gi=6402,Zi=[Wi,qi],Yi=[];Yi[qi]=4,Yi[Wi]=3;var Xi=[];Xi[Vi]=1,Xi[Hi]=4,Xi[Ui]=2;var Ki=32854,Ji=32855,Qi=36194,$i=33189,ea=36168,ta=34041,na=35907,ra=34836,ia=34842,aa=34843,oa=[Ki,Ji,Qi,na,ia,aa,ra],sa={};function ua(e,t,r,i,a,o){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],l=["rgba4","rgb565","rgb5 a1"];t.ext_srgb&&l.push("srgba"),t.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),t.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function p(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),a=Math.max(1,r.height);ie(i===t&&a===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;ie(o.width===t&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function h(t,n){n&&(n.texture?e.framebufferTexture2D(Ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(Ci,t,Ai,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=Mi,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ie.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(n=i,ie(t===Mi)):"textureCube"===a?(n=i,ie(t>=Pi&&t<Pi+6,"invalid cube map target")):"renderbuffer"===a?(r=i,t=Ai):ie.raise("invalid regl object for attachment"),new f(t,n,r)}function m(e,t,n,r,o){if(n){var s=i.create2D({width:e,height:t,format:r,type:o});return s._texture.refCount=0,new f(Mi,s,null)}var u=a.create({width:e,height:t,format:r});return u._renderbuffer.refCount=0,new f(Ai,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}t.oes_texture_half_float&&c.push("half float","float16"),t.oes_texture_float&&c.push("float","float32");var b=0,_={};function x(){this.id=b++,_[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function w(e){e.colorAttachments.forEach(p),p(e.depthAttachment),p(e.stencilAttachment),p(e.depthStencilAttachment)}function E(t){var n=t.framebuffer;ie(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete _[t.id]}function S(t){var n;e.bindFramebuffer(Ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)h(Ii+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(Ci,Ii+n,Mi,null,0);e.framebufferTexture2D(Ci,Li,Mi,null,0),e.framebufferTexture2D(Ci,Ri,Mi,null,0),e.framebufferTexture2D(Ci,ji,Mi,null,0),h(Ri,t.depthAttachment),h(ji,t.stencilAttachment),h(Li,t.depthStencilAttachment);var a=e.checkFramebufferStatus(Ci);e.isContextLost()||a===Ni||ie.raise("framebuffer configuration not supported, status = "+sa[a]),e.bindFramebuffer(Ci,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function k(e,i){var a=new x;function f(e,n){var i;ie(s.next!==a,"can not update framebuffer which is currently in use");var o=0,p=0,h=!0,g=!0,b=null,_=!0,x="rgba",E="uint8",k=1,O=null,T=null,C=null,A=!1;if("number"===typeof e)o=0|e,p=0|n||o;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var M=e;if("shape"in M){var P=M.shape;ie(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),o=P[0],p=P[1]}else"radius"in M&&(o=p=M.radius),"width"in M&&(o=M.width),"height"in M&&(p=M.height);("color"in M||"colors"in M)&&(b=M.color||M.colors,Array.isArray(b)&&ie(1===b.length||t.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in M&&(k=0|M.colorCount,ie(k>0,"invalid color buffer count")),"colorTexture"in M&&(_=!!M.colorTexture,x="rgba4"),"colorType"in M&&(E=M.colorType,_?(ie(t.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ie(t.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(ie(t.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==E&&"float32"!==E||(ie(t.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),ie.oneOf(E,c,"invalid color type")),"colorFormat"in M&&(x=M.colorFormat,u.indexOf(x)>=0?_=!0:l.indexOf(x)>=0?_=!1:ie.optional((function(){_?ie.oneOf(M.colorFormat,u,"invalid color format for texture"):ie.oneOf(M.colorFormat,l,"invalid color format for renderbuffer")})))),("depthTexture"in M||"depthStencilTexture"in M)&&(A=!(!M.depthTexture&&!M.depthStencilTexture),ie(!A||t.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in M&&("boolean"===typeof M.depth?h=M.depth:(O=M.depth,g=!1)),"stencil"in M&&("boolean"===typeof M.stencil?g=M.stencil:(T=M.stencil,h=!1)),"depthStencil"in M&&("boolean"===typeof M.depthStencil?h=g=M.depthStencil:(C=M.depthStencil,h=!1,g=!1))}else o=p=1;var I=null,R=null,j=null,L=null;if(Array.isArray(b))I=b.map(v);else if(b)I=[v(b)];else for(I=new Array(k),i=0;i<k;++i)I[i]=m(o,p,_,x,E);ie(t.webgl_draw_buffers||I.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ie(I.length<=r.maxColorAttachments,"too many color attachments, not supported"),o=o||I[0].width,p=p||I[0].height,O?R=v(O):h&&!g&&(R=m(o,p,A,"depth","uint32")),T?j=v(T):g&&!h&&(j=m(o,p,!1,"stencil","uint8")),C?L=v(C):!O&&!T&&g&&h&&(L=m(o,p,A,"depth stencil","depth stencil")),ie(!!O+!!T+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var N=null;for(i=0;i<I.length;++i)if(d(I[i],o,p),ie(!I[i]||I[i].texture&&Zi.indexOf(I[i].texture._texture.format)>=0||I[i].renderbuffer&&oa.indexOf(I[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),I[i]&&I[i].texture){var D=Yi[I[i].texture._texture.format]*Xi[I[i].texture._texture.type];null===N?N=D:ie(N===D,"all color attachments much have the same number of bits per pixel.")}return d(R,o,p),ie(!R||R.texture&&R.texture._texture.format===Gi||R.renderbuffer&&R.renderbuffer._renderbuffer.format===$i,"invalid depth attachment for framebuffer object"),d(j,o,p),ie(!j||j.renderbuffer&&j.renderbuffer._renderbuffer.format===ea,"invalid stencil attachment for framebuffer object"),d(L,o,p),ie(!L||L.texture&&L.texture._texture.format===ta||L.renderbuffer&&L.renderbuffer._renderbuffer.format===ta,"invalid depth-stencil attachment for framebuffer object"),w(a),a.width=o,a.height=p,a.colorAttachments=I,a.depthAttachment=R,a.stencilAttachment=j,a.depthStencilAttachment=L,f.color=I.map(y),f.depth=y(R),f.stencil=y(j),f.depthStencil=y(L),f.width=a.width,f.height=a.height,S(a),f}function p(e,t){ie(s.next!==a,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===a.width&&r===a.height)return f;for(var i=a.colorAttachments,o=0;o<i.length;++o)g(i[o],n,r);return g(a.depthAttachment,n,r),g(a.stencilAttachment,n,r),g(a.depthStencilAttachment,n,r),a.width=f.width=n,a.height=f.height=r,S(a),f}return o.framebufferCount++,f(e,i),n(f,{resize:p,_reglType:"framebuffer",_framebuffer:a,destroy:function(){E(a),w(a)},use:function(e){s.setFBO({framebuffer:f},e)}})}function O(e){var a=Array(6);function o(e){var r;ie(a.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},p=0,d=null,h="rgba",v="uint8",m=1;if("number"===typeof e)p=0|e;else if(e){ie.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var g=y.shape;ie(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),ie(g[0]===g[1],"cube framebuffer must be square"),p=g[0]}else"radius"in y&&(p=0|y.radius),"width"in y?(p=0|y.width,"height"in y&&ie(y.height===p,"must be square")):"height"in y&&(p=0|y.height);("color"in y||"colors"in y)&&(d=y.color||y.colors,Array.isArray(d)&&ie(1===d.length||t.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in y&&(m=0|y.colorCount,ie(m>0,"invalid color buffer count")),"colorType"in y&&(ie.oneOf(y.colorType,c,"invalid color type"),v=y.colorType),"colorFormat"in y&&(h=y.colorFormat,ie.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else p=1;if(d)if(Array.isArray(d))for(l=[],r=0;r<d.length;++r)l[r]=d[r];else l=[d];else{l=Array(m);var b={radius:p,format:h,type:v};for(r=0;r<m;++r)l[r]=i.createCube(b)}for(f.color=Array(l.length),r=0;r<l.length;++r){var _=l[r];ie("function"===typeof _&&"textureCube"===_._reglType,"invalid cube map"),p=p||_.width,ie(_.width===p&&_.height===p,"invalid cube map shape"),f.color[r]={target:Pi,data:l[r]}}for(r=0;r<6;++r){for(var x=0;x<l.length;++x)f.color[x].target=Pi+r;r>0&&(f.depth=a[0].depth,f.stencil=a[0].stencil,f.depthStencil=a[0].depthStencil),a[r]?a[r](f):a[r]=k(f)}return n(o,{width:p,height:p,color:l})}function l(e){var t,n=0|e;if(ie(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return o.width=o.height=n,o}return o(e),n(o,{faces:a,resize:l,_reglType:"framebufferCube",destroy:function(){a.forEach((function(e){e.destroy()}))}})}function T(){s.cur=null,s.next=null,s.dirty=!0,Ot(_).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return n(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof x)return t}return null},create:k,createCube:O,clear:function(){Ot(_).forEach(E)},restore:T})}sa[Ni]="complete",sa[Di]="incomplete attachment",sa[zi]="incomplete dimensions",sa[Fi]="incomplete, missing attachment",sa[Bi]="unsupported";var la=5126,ca=34962,fa=34963,pa=["attributes","elements","offset","count","primitive","instances"];function da(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=la,this.offset=0,this.stride=0,this.divisor=0}function ha(e,n,r,i,a,o,s){for(var u=r.maxAttributes,l=new Array(u),c=0;c<u;++c)l[c]=new da;var f=0,p={},d={Record:da,scope:{},state:l,currentVAO:null,targetVAO:null,restore:v()?w:function(){},createVAO:E,getVAO:y,destroyBuffer:h,setVAO:v()?g:b,clear:v()?_:function(){}};function h(t){for(var n=0;n<l.length;++n){var r=l[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}}function v(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function y(e){return"function"===typeof e&&e._vao?e._vao:null}function g(e){if(e!==d.currentVAO){var t=v();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),d.currentVAO=e}}function b(t){if(t!==d.currentVAO){if(t)t.bindAttrs();else{for(var n=m(),r=0;r<l.length;++r){var i=l[r];i.buffer?(e.enableVertexAttribArray(r),i.buffer.bind(),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}s.elements?e.bindBuffer(fa,s.elements.buffer.buffer):e.bindBuffer(fa,null)}d.currentVAO=t}}function _(){Ot(p).forEach((function(e){e.destroy()}))}function x(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=v();this.vao=e?e.createVertexArrayOES():null,p[this.id]=this,this.buffers=[]}function w(){var e=v();e&&Ot(p).forEach((function(e){e.refresh()}))}function E(e){var r=new x;function s(e){var i;if(Array.isArray(e))i=e,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ie("object"===typeof e,"invalid arguments for create vao"),ie("attributes"in e,"must specify attributes for vao"),e.elements){var l=e.elements;r.ownsElements?"function"===typeof l&&"elements"===l._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(l),r.ownsElements=!1):o.getElements(e.elements)?(r.elements=e.elements,r.ownsElements=!1):(r.elements=o.create(e.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=e.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in e&&(r.offset=0|e.offset),"count"in e&&(r.count=0|e.count),"instances"in e&&(r.instances=0|e.instances),"primitive"in e&&(ie(e.primitive in fn,"bad primitive type: "+e.primitive),r.primitive=fn[e.primitive]),ie.optional((function(){for(var t=Object.keys(e),n=0;n<t.length;++n)ie(pa.indexOf(t[n])>=0,'invalid option for vao: "'+t[n]+'" valid options are '+pa)})),ie(Array.isArray(i),"attributes must be an array")}ie(i.length<u,"too many attributes"),ie(i.length>0,"must specify at least one attribute");var c={},f=r.attributes;f.length=i.length;for(var p=0;p<i.length;++p){var d,h=i[p],v=f[p]=new da,m=h.data||h;if(Array.isArray(m)||t(m)||kt(m))r.buffers[p]&&(d=r.buffers[p],t(m)&&d._buffer.byteLength>=m.byteLength?d.subdata(m):(d.destroy(),r.buffers[p]=null)),r.buffers[p]||(d=r.buffers[p]=a.create(h,ca,!1,!0)),v.buffer=a.getBuffer(d),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1,c[p]=1;else a.getBuffer(h)?(v.buffer=a.getBuffer(h),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1):a.getBuffer(h.buffer)?(v.buffer=a.getBuffer(h.buffer),v.size=0|(+h.size||v.buffer.dimension),v.normalized=!!h.normalized||!1,"type"in h?(ie.parameter(h.type,Ht,"invalid buffer type"),v.type=Ht[h.type]):v.type=v.buffer.dtype,v.offset=0|(h.offset||0),v.stride=0|(h.stride||0),v.divisor=0|(h.divisor||0),v.state=1,ie(v.size>=1&&v.size<=4,"size must be between 1 and 4"),ie(v.offset>=0,"invalid offset"),ie(v.stride>=0&&v.stride<=255,"stride must be between 0 and 255"),ie(v.divisor>=0,"divisor must be positive"),ie(!v.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in h?(ie(p>0,"first attribute must not be a constant"),v.x=+h.x||0,v.y=+h.y||0,v.z=+h.z||0,v.w=+h.w||0,v.state=2):ie(!1,"invalid attribute spec for location "+p)}for(var y=0;y<r.buffers.length;++y)!c[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),s}return i.vaoCount+=1,s.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},s._vao=r,s._reglType="vao",s(e)}return x.prototype.bindAttrs=function(){for(var t=m(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(ca,i.buffer.buffer),e.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(r,i.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var a=n.length;a<u;++a)e.disableVertexAttribArray(a);var s=o.getElements(this.elements);s?e.bindBuffer(fa,s.buffer.buffer):e.bindBuffer(fa,null)},x.prototype.refresh=function(){var e=v();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),d.currentVAO=null,e.bindVertexArrayOES(null))},x.prototype.destroy=function(){if(this.vao){var e=v();this===d.currentVAO&&(d.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),p[this.id]&&(delete p[this.id],i.vaoCount-=1)},d}var va=35632,ma=35633,ya=35718,ga=35721;function ba(e,t,r,i){var a={},o={};function s(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function u(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(n,r,i){var s=n===va?a:o,u=s[r];if(!u){var l=t.str(r);u=e.createShader(n),e.shaderSource(u,l),e.compileShader(u),ie.shaderError(e,u,l,n,i),s[r]=u}return u}var c={},f=[],p=0;function d(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(n,r,a){var o,c,f=l(va,n.fragId),p=l(ma,n.vertId),d=n.program=e.createProgram();if(e.attachShader(d,f),e.attachShader(d,p),a)for(o=0;o<a.length;++o){var h=a[o];e.bindAttribLocation(d,h[0],h[1])}e.linkProgram(d),ie.linkError(e,d,t.str(n.fragId),t.str(n.vertId),r);var v=e.getProgramParameter(d,ya);i.profile&&(n.stats.uniformsCount=v);var m=n.uniforms;for(o=0;o<v;++o)if(c=e.getActiveUniform(d,o),c)if(c.size>1)for(var y=0;y<c.size;++y){var g=c.name.replace("[0]","["+y+"]");u(m,new s(g,t.id(g),e.getUniformLocation(d,g),c))}else u(m,new s(c.name,t.id(c.name),e.getUniformLocation(d,c.name),c));var b=e.getProgramParameter(d,ga);i.profile&&(n.stats.attributesCount=b);var _=n.attributes;for(o=0;o<b;++o)c=e.getActiveAttrib(d,o),c&&u(_,new s(c.name,t.id(c.name),e.getAttribLocation(d,c.name),c))}function v(){a={},o={};for(var e=0;e<f.length;++e)h(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);Ot(a).forEach(t),a={},Ot(o).forEach(t),o={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(t,i,s,u){ie.command(t>=0,"missing vertex shader",s),ie.command(i>=0,"missing fragment shader",s);var l=c[i];l||(l=c[i]={});var p=l[t];if(p&&(p.refCount++,!u))return p;var v=new d(i,t);return r.shaderCount++,h(v,s,u),p||(l[t]=v),f.push(v),n(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}l[v.vertId].refCount<=0&&(e.deleteShader(o[v.vertId]),delete o[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(e.deleteShader(a[v.fragId]),delete a[v.fragId],delete c[v.fragId])}})},restore:v,shader:l,frag:-1,vert:-1}}var _a=6408,xa=5121,wa=3333,Ea=5126;function Sa(e,n,r,i,a,o,s){function u(u){var l;null===n.next?(ie(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=xa):(ie(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,ie.optional((function(){o.oes_texture_float?(ie(l===xa||l===Ea,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===Ea&&ie(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ie(l===xa,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,f=0,p=i.framebufferWidth,d=i.framebufferHeight,h=null;t(u)?h=u:u&&(ie.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,f=0|u.y,ie(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ie(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),p=0|(u.width||i.framebufferWidth-c),d=0|(u.height||i.framebufferHeight-f),h=u.data||null),h&&(l===xa?ie(h instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===Ea&&ie(h instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ie(p>0&&p+c<=i.framebufferWidth,"invalid width for read pixels"),ie(d>0&&d+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=p*d*4;return h||(l===xa?h=new Uint8Array(v):l===Ea&&(h=h||new Float32Array(v))),ie.isTypedArray(h,"data buffer for regl.read() must be a typedarray"),ie(h.byteLength>=v,"data buffer for regl.read() too small"),e.pixelStorei(wa,4),e.readPixels(c,f,p,d,_a,l,h),h}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):u(e)}return c}function ka(e){return Array.prototype.slice.call(e)}function Oa(e){return ka(e).join("")}function Ta(){var t=0,r=[],i=[];function a(e){for(var n=0;n<i.length;++n)if(i[n]===e)return r[n];var a="g"+t++;return r.push(a),i.push(e),a}function o(){var e=[];function r(){e.push.apply(e,ka(arguments))}var i=[];function a(){var n="v"+t++;return i.push(n),arguments.length>0&&(e.push(n,"="),e.push.apply(e,ka(arguments)),e.push(";")),n}return n(r,{def:a,toString:function(){return Oa([i.length>0?"var "+i.join(",")+";":"",Oa(e)])}})}function s(){var e=o(),t=o(),r=e.toString,i=t.toString;function a(n,r){t(n,r,"=",e.def(n,r),";")}return n((function(){e.apply(e,ka(arguments))}),{def:e.def,entry:e,exit:t,save:a,set:function(t,n,r){a(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function u(){var e=Oa(arguments),t=s(),r=s(),i=t.toString,a=r.toString;return n(t,{then:function(){return t.apply(t,ka(arguments)),this},else:function(){return r.apply(r,ka(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),Oa(["if(",e,"){",i(),"}",t])}})}var l=o(),c={};function f(e,t){var r=[];function i(){var e="a"+r.length;return r.push(e),e}t=t||0;for(var a=0;a<t;++a)i();var o=s(),u=o.toString,l=c[e]=n(o,{arg:i,toString:function(){return Oa(["function(",r.join(),"){",u(),"}"])}});return l}function p(){var t=['"use strict";',l,"return {"];Object.keys(c).forEach((function(e){t.push('"',e,'":',c[e].toString(),",")})),t.push("}");var n=Oa(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n"),a="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast,o=a?e.Function.apply(null,r.concat(n)):Function.apply(null,r.concat(n));return o.apply(null,i)}return{global:l,link:a,block:o,proc:f,scope:s,cond:u,compile:p}}var Ca="xyzw".split(""),Aa=5121,Ma=1,Pa=2,Ia=0,Ra=1,ja=2,La=3,Na=4,Da=5,Fa=6,za="dither",Ba="blend.enable",Ua="blend.color",Va="blend.equation",Ha="blend.func",Wa="depth.enable",qa="depth.func",Ga="depth.range",Za="depth.mask",Ya="colorMask",Xa="cull.enable",Ka="cull.face",Ja="frontFace",Qa="lineWidth",$a="polygonOffset.enable",eo="polygonOffset.offset",to="sample.alpha",no="sample.enable",ro="sample.coverage",io="stencil.enable",ao="stencil.mask",oo="stencil.func",so="stencil.opFront",uo="stencil.opBack",lo="scissor.enable",co="scissor.box",fo="viewport",po="profile",ho="framebuffer",vo="vert",mo="frag",yo="elements",go="primitive",bo="count",_o="offset",xo="instances",wo="vao",Eo="Width",So="Height",ko=ho+Eo,Oo=ho+So,To=fo+Eo,Co=fo+So,Ao="drawingBuffer",Mo=Ao+Eo,Po=Ao+So,Io=[Ha,Va,oo,so,uo,ro,fo,co,eo],Ro=34962,jo=34963,Lo=35632,No=35633,Do=3553,Fo=34067,zo=2884,Bo=3042,Uo=3024,Vo=2960,Ho=2929,Wo=3089,qo=32823,Go=32926,Zo=32928,Yo=5126,Xo=35664,Ko=35665,Jo=35666,Qo=5124,$o=35667,es=35668,ts=35669,ns=35670,rs=35671,is=35672,as=35673,os=35674,ss=35675,us=35676,ls=35678,cs=35680,fs=4,ps=1028,ds=1029,hs=2304,vs=2305,ms=32775,ys=32776,gs=519,bs=7680,_s=0,xs=1,ws=32774,Es=513,Ss=36160,ks=36064,Os={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ts=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Cs={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},As={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ms={frag:Lo,vert:No},Ps={cw:hs,ccw:vs};function Is(e){return Array.isArray(e)||t(e)||kt(e)}function Rs(e){return e.sort((function(e,t){return e===fo?-1:t===fo?1:e<t?-1:1}))}function js(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function Ls(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function Ns(e){return new js(!1,!1,!1,e)}function Ds(e,t){var n=e.type;if(n===Ia){var r=e.data.length;return new js(!0,r>=1,r>=2,t)}if(n===Na){var i=e.data;return new js(i.thisDep,i.contextDep,i.propDep,t)}if(n===Da)return new js(!1,!1,!1,t);if(n===Fa){for(var a=!1,o=!1,s=!1,u=0;u<e.data.length;++u){var l=e.data[u];if(l.type===Ra)s=!0;else if(l.type===ja)o=!0;else if(l.type===La)a=!0;else if(l.type===Ia){a=!0;var c=l.data;c>=1&&(o=!0),c>=2&&(s=!0)}else l.type===Na&&(a=a||l.data.thisDep,o=o||l.data.contextDep,s=s||l.data.propDep)}return new js(a,o,s,t)}return new js(n===La,n===ja,n===Ra,t)}var Fs=new js(!1,!1,!1,(function(){}));function zs(e,t,r,i,a,o,s,u,l,c,f,p,d,h,v){var m=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=ms,y.max=ys);var g=r.angle_instanced_arrays,b=r.webgl_draw_buffers,_=r.oes_vertex_array_object,x={dirty:!0,profile:v.profile},w={},E=[],S={},k={};function O(e){return e.replace(".","_")}function T(e,t,n){var r=O(e);E.push(e),w[r]=x[r]=!!n,S[r]=t}function C(e,t,n){var r=O(e);E.push(e),Array.isArray(n)?(x[r]=n.slice(),w[r]=n.slice()):x[r]=w[r]=n,k[r]=t}T(za,Uo),T(Ba,Bo),C(Ua,"blendColor",[0,0,0,0]),C(Va,"blendEquationSeparate",[ws,ws]),C(Ha,"blendFuncSeparate",[xs,_s,xs,_s]),T(Wa,Ho,!0),C(qa,"depthFunc",Es),C(Ga,"depthRange",[0,1]),C(Za,"depthMask",!0),C(Ya,Ya,[!0,!0,!0,!0]),T(Xa,zo),C(Ka,"cullFace",ds),C(Ja,Ja,vs),C(Qa,Qa,1),T($a,qo),C(eo,"polygonOffset",[0,0]),T(to,Go),T(no,Zo),C(ro,"sampleCoverage",[1,!1]),T(io,Vo),C(ao,"stencilMask",-1),C(oo,"stencilFunc",[gs,0,-1]),C(so,"stencilOpSeparate",[ps,bs,bs,bs]),C(uo,"stencilOpSeparate",[ds,bs,bs,bs]),T(lo,Wo),C(co,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(fo,fo,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var A={gl:e,context:d,strings:t,next:w,current:x,draw:p,elements:o,buffer:a,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:u,extensions:r,timer:h,isBufferArgs:Is},M={primTypes:fn,compareFuncs:Cs,blendFuncs:Os,blendEquations:y,stencilOps:As,glTypes:Ht,orientationType:Ps};ie.optional((function(){A.isArrayLike=An})),b&&(M.backBuffer=[ds],M.drawBuffer=Ce(i.maxDrawbuffers,(function(e){return 0===e?[0]:Ce(e,(function(e){return ks+e}))})));var P=0;function I(){var e=Ta(),n=e.link,r=e.global;e.id=P++,e.batchId="0";var i=n(A),a=e.shared={props:"a0"};Object.keys(A).forEach((function(e){a[e]=r.def(i,".",e)})),ie.optional((function(){e.CHECK=n(ie),e.commandStr=ie.guessCommand(),e.command=n(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",n(r),",",this.command,");")},M.invalidBlendCombinations=Ts}));var o=e.next={},s=e.current={};Object.keys(k).forEach((function(e){Array.isArray(x[e])&&(o[e]=r.def(a.next,".",e),s[e]=r.def(a.current,".",e))}));var u=e.constants={};Object.keys(M).forEach((function(e){u[e]=r.def(JSON.stringify(M[e]))})),e.invoke=function(t,r){switch(r.type){case Ia:var i=["this",a.context,a.props,e.batchId];return t.def(n(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case Ra:return t.def(a.props,r.data);case ja:return t.def(a.context,r.data);case La:return t.def("this",r.data);case Na:return r.data.append(e,t),r.data.ref;case Da:return r.data.toString();case Fa:return r.data.map((function(n){return e.invoke(t,n)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=t.id(e);if(r in l)return l[r];var i=c.scope[r];i||(i=c.scope[r]=new m);var a=l[r]=n(i);return a},e}function R(e){var t,n=e["static"],r=e.dynamic;if(po in n){var i=!!n[po];t=Ns((function(e,t){return i})),t.enable=i}else if(po in r){var a=r[po];t=Ds(a,(function(e,t){return e.invoke(t,a)}))}return t}function j(e,t){var n=e["static"],r=e.dynamic;if(ho in n){var i=n[ho];return i?(i=u.getFramebuffer(i),ie.command(i,"invalid framebuffer object"),Ns((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var a=r.context;return t.set(a,"."+ko,n+".width"),t.set(a,"."+Oo,n+".height"),n}))):Ns((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+ko,r+"."+Mo),t.set(r,"."+Oo,r+"."+Po),"null"}))}if(ho in r){var a=r[ho];return Ds(a,(function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,o=t.def(i,".getFramebuffer(",n,")");ie.optional((function(){e.assert(t,"!"+n+"||"+o,"invalid framebuffer object")})),t.set(i,".next",o);var s=r.context;return t.set(s,"."+ko,o+"?"+o+".width:"+s+"."+Mo),t.set(s,"."+Oo,o+"?"+o+".height:"+s+"."+Po),o}))}return null}function L(e,t,n){var r=e["static"],i=e.dynamic;function a(e){if(e in r){var a=r[e];ie.commandType(a,"object","invalid "+e,n.commandStr);var o,s,u=!0,l=0|a.x,c=0|a.y;return"width"in a?(o=0|a.width,ie.command(o>=0,"invalid "+e,n.commandStr)):u=!1,"height"in a?(s=0|a.height,ie.command(s>=0,"invalid "+e,n.commandStr)):u=!1,new js(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=o;"width"in a||(r=t.def(n,".",ko,"-",l));var i=s;return"height"in a||(i=t.def(n,".",Oo,"-",c)),[l,c,r,i]}))}if(e in i){var f=i[e],p=Ds(f,(function(t,n){var r=t.invoke(n,f);ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,a=n.def(r,".x|0"),o=n.def(r,".y|0"),s=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",ko,"-",a,")"),u=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",Oo,"-",o,")");return ie.optional((function(){t.assert(n,s+">=0&&"+u+">=0","invalid "+e)})),[a,o,s,u]}));return t&&(p.thisDep=p.thisDep||t.thisDep,p.contextDep=p.contextDep||t.contextDep,p.propDep=p.propDep||t.propDep),p}return t?new js(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",ko),t.def(n,".",Oo)]})):null}var o=a(fo);if(o){var s=o;o=new js(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=s.append(e,t),r=e.shared.context;return t.set(r,"."+To,n[2]),t.set(r,"."+Co,n[3]),n}))}return{viewport:o,scissor_box:a(co)}}function N(e,t){var n=e["static"],r="string"===typeof n[mo]&&"string"===typeof n[vo];if(r){if(Object.keys(t.dynamic).length>0)return null;var i=t["static"],a=Object.keys(i);if(a.length>0&&"number"===typeof i[a[0]]){for(var o=[],s=0;s<a.length;++s)ie("number"===typeof i[a[s]],"must specify all vertex attribute locations when using vaos"),o.push([0|i[a[s]],a[s]]);return o}}return null}function D(e,n,r){var i=e["static"],a=e.dynamic;function o(e){if(e in i){var n=t.id(i[e]);ie.optional((function(){f.shader(Ms[e],n,ie.guessCommand())}));var r=Ns((function(){return n}));return r.id=n,r}if(e in a){var o=a[e];return Ds(o,(function(t,n){var r=t.invoke(n,o),i=n.def(t.shared.strings,".id(",r,")");return ie.optional((function(){n(t.shared.shader,".shader(",Ms[e],",",i,",",t.command,");")})),i}))}return null}var s,u=o(mo),l=o(vo),c=null;return Ls(u)&&Ls(l)?(c=f.program(l.id,u.id,null,r),s=Ns((function(e,t){return e.link(c)}))):s=new js(u&&u.thisDep||l&&l.thisDep,u&&u.contextDep||l&&l.contextDep,u&&u.propDep||l&&l.propDep,(function(e,t){var n,r,i=e.shared.shader;n=u?u.append(e,t):t.def(i,".",mo),r=l?l.append(e,t):t.def(i,".",vo);var a=i+".program("+r+","+n;return ie.optional((function(){a+=","+e.command})),t.def(a+")")})),{frag:u,vert:l,progVar:s,program:c}}function F(e,t){var n=e["static"],r=e.dynamic,i={},a=!1;function s(){if(wo in n){var e=n[wo];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),a=!0,i.vao=e,Ns((function(t){var n=c.getVAO(e);return n?t.link(n):"null"}))}if(wo in r){a=!0;var t=r[wo];return Ds(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var u=s(),l=!1;function f(){if(yo in n){var e=n[yo];if(i.elements=e,Is(e)){var s=i.elements=o.create(e,!0);e=o.getElements(s),l=!0}else e&&(e=o.getElements(e),l=!0,ie.command(e,"invalid elements",t.commandStr));var c=Ns((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return c.value=e,c}if(yo in r){l=!0;var f=r[yo];return Ds(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,f),o=t.def("null"),s=t.def(r,"(",a,")"),u=e.cond(s).then(o,"=",i,".createStream(",a,");")["else"](o,"=",i,".getElements(",a,");");return ie.optional((function(){e.assert(u["else"],"!"+a+"||"+o,"invalid elements")})),t.entry(u),t.exit(e.cond(s).then(i,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return a?new js(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var p=f();function d(){if(go in n){var e=n[go];return i.primitive=e,ie.commandParameter(e,fn,"invalid primitve",t.commandStr),Ns((function(t,n){return fn[e]}))}if(go in r){var o=r[go];return Ds(o,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return ie.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(fn))})),t.def(n,"[",r,"]")}))}return l?Ls(p)?p.value?Ns((function(e,t){return t.def(e.ELEMENTS,".primType")})):Ns((function(){return fs})):new js(p.thisDep,p.contextDep,p.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",fs)})):a?new js(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+fs)})):null}function h(e,o){if(e in n){var s=0|n[e];return o?i.offset=s:i.instances=s,ie.command(!o||s>=0,"invalid "+e,t.commandStr),Ns((function(e,t){return o&&(e.OFFSET=s),s}))}if(e in r){var c=r[e];return Ds(c,(function(t,n){var r=t.invoke(n,c);return o&&(t.OFFSET=r,ie.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(o){if(l)return Ns((function(e,t){return e.OFFSET=0,0}));if(a)return new js(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(a)return new js(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var v=h(_o,!0);function m(){if(bo in n){var e=0|n[bo];return i.count=e,ie.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),Ns((function(){return e}))}if(bo in r){var o=r[bo];return Ds(o,(function(e,t){var n=e.invoke(t,o);return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(l){if(Ls(p)){if(p)return v?new js(v.thisDep,v.contextDep,v.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ie.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):Ns((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var s=Ns((function(){return-1}));return ie.optional((function(){s.MISSING=!0})),s}var c=new js(p.thisDep||v.thisDep,p.contextDep||v.contextDep,p.propDep||v.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ie.optional((function(){c.DYNAMIC=!0})),c}if(a){var f=new js(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}));return f}return null}var y=d(),g=m(),b=h(xo,!1);return{elements:p,primitive:y,count:g,instances:b,offset:v,vao:u,vaoActive:a,elementsActive:l,static:i}}function z(e,t){var n=e["static"],r=e.dynamic,a={};return E.forEach((function(e){var o=O(e);function s(t,i){if(e in n){var s=t(n[e]);a[o]=Ns((function(){return s}))}else if(e in r){var u=r[e];a[o]=Ds(u,(function(e,t){return i(e,t,e.invoke(t,u))}))}}switch(e){case Xa:case Ba:case za:case io:case Wa:case lo:case $a:case to:case no:case Za:return s((function(n){return ie.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ie.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case qa:return s((function(n){return ie.commandParameter(n,Cs,"invalid "+e,t.commandStr),Cs[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ie.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(Cs))})),n.def(i,"[",r,"]")}));case Ga:return s((function(e){return ie.command(An(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}));var r=t.def("+",n,"[0]"),i=t.def("+",n,"[1]");return[r,i]}));case Ha:return s((function(e){ie.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return ie.commandParameter(n,Os,o+".srcRGB",t.commandStr),ie.commandParameter(r,Os,o+".srcAlpha",t.commandStr),ie.commandParameter(i,Os,o+".dstRGB",t.commandStr),ie.commandParameter(a,Os,o+".dstAlpha",t.commandStr),ie.command(-1===Ts.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Os[n],Os[i],Os[r],Os[a]]}),(function(t,n,r){var i=t.constants.blendFuncs;function a(a,o){var s=n.def('"',a,o,'" in ',r,"?",r,".",a,o,":",r,".",a);return ie.optional((function(){t.assert(n,s+" in "+i,"invalid "+e+"."+a+o+", must be one of "+Object.keys(Os))})),s}ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var o=a("src","RGB"),s=a("dst","RGB");ie.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=n.def(i,"[",o,"]"),l=n.def(i,"[",a("src","Alpha"),"]"),c=n.def(i,"[",s,"]"),f=n.def(i,"[",a("dst","Alpha"),"]");return[u,c,l,f]}));case Va:return s((function(n){return"string"===typeof n?(ie.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"===typeof n?(ie.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ie.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ie.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,a=n.def(),o=n.def(),s=t.cond("typeof ",r,'==="string"');return ie.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(s.then,e,r),t.assert(s["else"],r+"&&typeof "+r+'==="object"',"invalid "+e),n(s["else"],e+".rgb",r+".rgb"),n(s["else"],e+".alpha",r+".alpha")})),s.then(a,"=",o,"=",i,"[",r,"];"),s["else"](a,"=",i,"[",r,".rgb];",o,"=",i,"[",r,".alpha];"),n(s),[a,o]}));case Ua:return s((function(e){return ie.command(An(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Ce(4,(function(t){return+e[t]}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Ce(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case ao:return s((function(e){return ie.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case oo:return s((function(n){ie.commandType(n,"object",o,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,a="mask"in n?n.mask:-1;return ie.commandParameter(r,Cs,e+".cmp",t.commandStr),ie.commandType(i,"number",e+".ref",t.commandStr),ie.commandType(a,"number",e+".mask",t.commandStr),[Cs[r],i,a]}),(function(e,t,n){var r=e.constants.compareFuncs;ie.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")}));var i=t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",bs),a=t.def(n,".ref|0"),o=t.def('"mask" in ',n,"?",n,".mask|0:-1");return[i,a,o]}));case so:case uo:return s((function(n){ie.commandType(n,"object",o,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",a=n.zpass||"keep";return ie.commandParameter(r,As,e+".fail",t.commandStr),ie.commandParameter(i,As,e+".zfail",t.commandStr),ie.commandParameter(a,As,e+".zpass",t.commandStr),[e===uo?ds:ps,As[r],As[i],As[a]]}),(function(t,n,r){var i=t.constants.stencilOps;function a(a){return ie.optional((function(){t.assert(n,'!("'+a+'" in '+r+")||("+r+"."+a+" in "+i+")","invalid "+e+"."+a+", must be one of "+Object.keys(As))})),n.def('"',a,'" in ',r,"?",i,"[",r,".",a,"]:",bs)}return ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===uo?ds:ps,a("fail"),a("zfail"),a("zpass")]}));case eo:return s((function(e){ie.commandType(e,"object",o,t.commandStr);var n=0|e.factor,r=0|e.units;return ie.commandType(n,"number",o+".factor",t.commandStr),ie.commandType(r,"number",o+".units",t.commandStr),[n,r]}),(function(t,n,r){ie.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=n.def(r,".factor|0"),a=n.def(r,".units|0");return[i,a]}));case Ka:return s((function(e){var n=0;return"front"===e?n=ps:"back"===e&&(n=ds),ie.command(!!n,o,t.commandStr),n}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',ps,":",ds)}));case Qa:return s((function(e){return ie.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ie.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Ja:return s((function(e){return ie.commandParameter(e,Ps,o,t.commandStr),Ps[e]}),(function(e,t,n){return ie.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+hs+":"+vs)}));case Ya:return s((function(e){return ie.command(An(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ie.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Ce(4,(function(e){return"!!"+n+"["+e+"]"}))}));case ro:return s((function(e){ie.command("object"===typeof e&&e,o,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ie.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){ie.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}));var r=t.def('"value" in ',n,"?+",n,".value:1"),i=t.def("!!",n,".invert");return[r,i]}))}})),a}function B(e,t){var n=e["static"],r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,a=n[e];if("number"===typeof a||"boolean"===typeof a)r=Ns((function(){return a}));else if("function"===typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?r=Ns((function(e){return e.link(a)})):"framebuffer"===o||"framebufferCube"===o?(ie.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=Ns((function(e){return e.link(a.color[0])}))):ie.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else An(a)?r=Ns((function(t){var n=t.global.def("[",Ce(a.length,(function(n){return ie.command("number"===typeof a[n]||"boolean"===typeof a[n],"invalid uniform "+e,t.commandStr),a[n]})),"]");return n})):ie.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=a,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=Ds(t,(function(e,n){return e.invoke(n,t)}))})),i}function U(e,n){var r=e["static"],i=e.dynamic,o={};return Object.keys(r).forEach((function(e){var i=r[e],s=t.id(e),u=new m;if(Is(i))u.state=Ma,u.buffer=a.getBuffer(a.create(i,Ro,!1,!0)),u.type=0;else{var l=a.getBuffer(i);if(l)u.state=Ma,u.buffer=l,u.type=0;else if(ie.command("object"===typeof i&&i,"invalid data for attribute "+e,n.commandStr),"constant"in i){var c=i.constant;u.buffer="null",u.state=Pa,"number"===typeof c?u.x=c:(ie.command(An(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,n.commandStr),Ca.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{l=Is(i.buffer)?a.getBuffer(a.create(i.buffer,Ro,!1,!0)):a.getBuffer(i.buffer),ie.command(!!l,'missing buffer for attribute "'+e+'"',n.commandStr);var f=0|i.offset;ie.command(f>=0,'invalid offset for attribute "'+e+'"',n.commandStr);var p=0|i.stride;ie.command(p>=0&&p<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',n.commandStr);var d=0|i.size;ie.command(!("size"in i)||d>0&&d<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',n.commandStr);var h=!!i.normalized,v=0;"type"in i&&(ie.commandParameter(i.type,Ht,"invalid type for attribute "+e,n.commandStr),v=Ht[i.type]);var y=0|i.divisor;ie.optional((function(){"divisor"in i&&(ie.command(0===y||g,'cannot specify divisor for attribute "'+e+'", instancing not supported',n.commandStr),ie.command(y>=0,'invalid divisor for attribute "'+e+'"',n.commandStr));var t=n.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(n){ie.command(r.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",t)}))})),u.buffer=l,u.state=Ma,u.size=d,u.normalized=h,u.type=v||l.dtype,u.offset=f,u.stride=p,u.divisor=y}}o[e]=Ns((function(e,t){var n=e.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(u).forEach((function(e){r[e]=u[e]})),u.buffer&&(r.buffer=e.link(u.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),a=n.shared,o=n.constants,s=a.isBufferArgs,u=a.buffer;ie.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+s+"("+i+")||"+u+".getBuffer("+i+")||"+u+".getBuffer("+i+".buffer)||"+s+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new m;c.state=Ma,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var f=l.buffer,p=l.type;function d(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",s,"(",i,")){",l.isStream,"=true;",f,"=",u,".createStream(",Ro,",",i,");",p,"=",f,".dtype;","}else{",f,"=",u,".getBuffer(",i,");","if(",f,"){",p,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",Pa,";","if(typeof "+i+'.constant === "number"){',l[Ca[0]],"=",i,".constant;",Ca.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",Ca.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",i,".buffer)){",f,"=",u,".createStream(",Ro,",",i,".buffer);","}else{",f,"=",u,".getBuffer(",i,".buffer);","}",p,'="type" in ',i,"?",o.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",l.isStream,"){",u,".destroyStream(",f,");","}"),l}o[e]=Ds(t,n)})),o}function V(e){var t=e["static"],n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=Ns((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=Ds(t,(function(e,n){return e.invoke(n,t)}))})),r}function H(e,t,n,i,a){var o=e["static"],s=e.dynamic;ie.optional((function(){var e=[ho,vo,mo,yo,go,_o,bo,xo,po,wo].concat(E);function t(t){Object.keys(t).forEach((function(t){ie.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',a.commandStr)}))}t(o),t(s)}));var u=N(e,t),l=j(e,a),f=L(e,l,a),p=F(e,a),d=z(e,a),h=D(e,a,u);function v(e){var t=f[e];t&&(d[e]=t)}v(fo),v(O(co));var m=Object.keys(d).length>0,y={framebuffer:l,draw:p,shader:h,state:d,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=R(e,a),y.uniforms=B(n,a),y.drawVAO=y.scopeVAO=p.vao,!y.drawVAO&&h.program&&!u&&r.angle_instanced_arrays&&p["static"].elements){var g=!0,b=h.program.attributes.map((function(e){var n=t["static"][e];return g=g&&!!n,n}));if(g&&b.length>0){var _=c.getVAO(c.createVAO({attributes:b,elements:p["static"].elements}));y.drawVAO=new js(null,null,null,(function(e,t){return e.link(_)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=U(t,a),y.context=V(i,a),y}function W(e,t,n){var r=e.shared,i=r.context,a=e.scope();Object.keys(n).forEach((function(r){t.save(i,"."+r);var o=n[r],s=o.append(e,t);Array.isArray(s)?a(i,".",r,"=[",s.join(),"];"):a(i,".",r,"=",s,";")})),t(a)}function q(e,t,n,r){var i,a=e.shared,o=a.gl,s=a.framebuffer;b&&(i=t.def(a.extensions,".webgl_draw_buffers"));var u,l=e.constants,c=l.drawBuffer,f=l.backBuffer;u=n?n.append(e,t):t.def(s,".next"),r||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Ss,",",u,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Ss,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",s,".cur=",u,";"),r||t("}")}function G(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,s=r.current,u=r.next,l=e.cond(s,".dirty");E.forEach((function(t){var r,c,f=O(t);if(!(f in n.state))if(f in o){r=o[f],c=a[f];var p=Ce(x[f].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(p.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",k[f],"(",p,");",p.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(u,".",f);var d=e.cond(r,"!==",s,".",f);l(d),f in S?d(e.cond(r).then(i,".enable(",S[f],");")["else"](i,".disable(",S[f],");"),s,".",f,"=",r,";"):d(i,".",k[f],"(",r,");",s,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(s,".dirty=false;"),t(l)}function Z(e,t,n,r){var i=e.shared,a=e.current,o=i.current,s=i.gl;Rs(Object.keys(n)).forEach((function(i){var u=n[i];if(!r||r(u)){var l=u.append(e,t);if(S[i]){var c=S[i];Ls(u)?t(s,l?".enable(":".disable(",c,");"):t(e.cond(l).then(s,".enable(",c,");")["else"](s,".disable(",c,");")),t(o,".",i,"=",l,";")}else if(An(l)){var f=a[i];t(s,".",k[i],"(",l,");",l.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(s,".",k[i],"(",l,");",o,".",i,"=",l,";")}}))}function Y(e,t){g&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,i){var a,o,s,u=e.shared,l=e.stats,c=u.current,f=u.timer,p=n.profile;function d(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){a=t.def(),e(a,"=",d(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),h&&(r?(o=t.def(),e(o,"=",f,".getNumPendingQueries();")):e(f,".beginQuery(",l,");"))}function m(e){e(l,".cpuTime+=",d(),"-",a,";"),h&&(r?e(f,".pushScopeStats(",o,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function y(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(p){if(Ls(p))return void(p.enable?(v(t),m(t.exit),y("true")):y("false"));s=p.append(e,t),y(s)}else s=t.def(c,".profile");var g=e.block();v(g),t("if(",s,"){",g,"}");var b=e.block();m(b),t.exit("if(",s,"){",b,"}")}function K(e,t,n,r,i){var a=e.shared;function o(e){switch(e){case Xo:case $o:case rs:return 2;case Ko:case es:case is:return 3;case Jo:case ts:case as:return 4;default:return 1}}function s(n,r,i){var o=a.gl,s=t.def(n,".location"),u=t.def(a.attributes,"[",s,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];function d(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",s,");}");var n,a=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",u,".type!==",a,"||",u,".size!==",n,"||",p.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",o,".bindBuffer(",Ro,",",c,".buffer);",o,".vertexAttribPointer(",[s,n,a,i.normalized,i.stride,i.offset],");",u,".type=",a,";",u,".size=",n,";",p.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),g){var l=i.divisor;t("if(",u,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,l],");",u,".divisor=",l,";}")}}function h(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",Ca.map((function(e,t){return u+"."+e+"!=="+f[t]})).join("||"),"){",o,".vertexAttrib4f(",s,",",f,");",Ca.map((function(e,t){return u+"."+e+"="+f[t]+";"})).join(""),"}")}l===Ma?d():l===Pa?h():(t("if(",l,"===",Ma,"){"),d(),t("}else{"),h(),t("}"))}r.forEach((function(r){var a,u=r.name,l=n.attributes[u];if(l){if(!i(l))return;a=l.append(e,t)}else{if(!i(Fs))return;var c=e.scopeAttrib(u);ie.optional((function(){e.assert(t,c+".state","missing attribute "+u)})),a={},Object.keys(new m).forEach((function(e){a[e]=t.def(c,".",e)}))}s(e.link(r),o(r.info.type),a)}))}function J(e,n,r,i,a,o){for(var s,u=e.shared,l=u.gl,c=0;c<i.length;++c){var f,p=i[c],d=p.name,h=p.info.type,v=r.uniforms[d],m=e.link(p),y=m+".location";if(v){if(!a(v))continue;if(Ls(v)){var g=v.value;if(ie.command(null!==g&&"undefined"!==typeof g,'missing uniform "'+d+'"',e.commandStr),h===ls||h===cs){ie.command("function"===typeof g&&(h===ls&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||h===cs&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+d,e.commandStr);var b=e.link(g._texture||g.color[0]._texture);n(l,".uniform1i(",y,",",b+".bind());"),n.exit(b,".unbind();")}else if(h===os||h===ss||h===us){ie.optional((function(){ie.command(An(g),"invalid matrix for uniform "+d,e.commandStr),ie.command(h===os&&4===g.length||h===ss&&9===g.length||h===us&&16===g.length,"invalid length for matrix uniform "+d,e.commandStr)}));var _=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),x=2;h===ss?x=3:h===us&&(x=4),n(l,".uniformMatrix",x,"fv(",y,",false,",_,");")}else{switch(h){case Yo:ie.commandType(g,"number","uniform "+d,e.commandStr),s="1f";break;case Xo:ie.command(An(g)&&2===g.length,"uniform "+d,e.commandStr),s="2f";break;case Ko:ie.command(An(g)&&3===g.length,"uniform "+d,e.commandStr),s="3f";break;case Jo:ie.command(An(g)&&4===g.length,"uniform "+d,e.commandStr),s="4f";break;case ns:ie.commandType(g,"boolean","uniform "+d,e.commandStr),s="1i";break;case Qo:ie.commandType(g,"number","uniform "+d,e.commandStr),s="1i";break;case rs:ie.command(An(g)&&2===g.length,"uniform "+d,e.commandStr),s="2i";break;case $o:ie.command(An(g)&&2===g.length,"uniform "+d,e.commandStr),s="2i";break;case is:ie.command(An(g)&&3===g.length,"uniform "+d,e.commandStr),s="3i";break;case es:ie.command(An(g)&&3===g.length,"uniform "+d,e.commandStr),s="3i";break;case as:ie.command(An(g)&&4===g.length,"uniform "+d,e.commandStr),s="4i";break;case ts:ie.command(An(g)&&4===g.length,"uniform "+d,e.commandStr),s="4i";break}n(l,".uniform",s,"(",y,",",An(g)?Array.prototype.slice.call(g):g,");")}continue}f=v.append(e,n)}else{if(!a(Fs))continue;f=n.def(u.uniforms,"[",t.id(d),"]")}h===ls?(ie(!Array.isArray(f),"must specify a scalar prop for textures"),n("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):h===cs&&(ie(!Array.isArray(f),"must specify a scalar prop for cube maps"),n("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),ie.optional((function(){function t(t,r){e.assert(n,t,'bad data or missing for uniform "'+d+'".  '+r)}function r(e){ie(!Array.isArray(f),"must not specify an array type for uniform"),t("typeof "+f+'==="'+e+'"',"invalid type, expected "+e)}function i(n,r){Array.isArray(f)?ie(f.length===n,"must have length "+n):t(u.isArrayLike+"("+f+")&&"+f+".length==="+n,"invalid vector, should have length "+n,e.commandStr)}function a(n){ie(!Array.isArray(f),"must not specify a value type"),t("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(n===Do?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(h){case Qo:r("number");break;case $o:i(2,"number");break;case es:i(3,"number");break;case ts:i(4,"number");break;case Yo:r("number");break;case Xo:i(2,"number");break;case Ko:i(3,"number");break;case Jo:i(4,"number");break;case ns:r("boolean");break;case rs:i(2,"boolean");break;case is:i(3,"boolean");break;case as:i(4,"boolean");break;case os:i(4,"number");break;case ss:i(9,"number");break;case us:i(16,"number");break;case ls:a(Do);break;case cs:a(Fo);break}}));var w=1;switch(h){case ls:case cs:var E=n.def(f,"._texture");n(l,".uniform1i(",y,",",E,".bind());"),n.exit(E,".unbind();");continue;case Qo:case ns:s="1i";break;case $o:case rs:s="2i",w=2;break;case es:case is:s="3i",w=3;break;case ts:case as:s="4i",w=4;break;case Yo:s="1f";break;case Xo:s="2f",w=2;break;case Ko:s="3f",w=3;break;case Jo:s="4f",w=4;break;case os:s="Matrix2fv";break;case ss:s="Matrix3fv";break;case us:s="Matrix4fv";break}if("M"===s.charAt(0)){n(l,".uniform",s,"(",y,",");var S=Math.pow(h-os+2,2),k=e.global.def("new Float32Array(",S,")");Array.isArray(f)?n("false,(",Ce(S,(function(e){return k+"["+e+"]="+f[e]})),",",k,")"):n("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",Ce(S,(function(e){return k+"["+e+"]="+f+"["+e+"]"})),",",k,")"),n(");")}else if(w>1){for(var O=[],T=[],C=0;C<w;++C)Array.isArray(f)?T.push(f[C]):T.push(n.def(f+"["+C+"]")),o&&O.push(n.def());o&&n("if(!",e.batchId,"||",O.map((function(e,t){return e+"!=="+T[t]})).join("||"),"){",O.map((function(e,t){return e+"="+T[t]+";"})).join("")),n(l,".uniform",s,"(",y,",",T.join(","),");"),o&&n("}")}else{if(ie(!Array.isArray(f),"uniform value must not be an array"),o){var A=n.def();n("if(!",e.batchId,"||",A,"!==",f,"){",A,"=",f,";")}n(l,".uniform",s,"(",y,",",f,");"),o&&n("}")}}}function Q(e,t,n,r){var i=e.shared,a=i.gl,o=i.draw,s=r.draw;function u(){var u,l=s.elements,c=t;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(c=n),u=l.append(e,c),s.elementsActive&&c("if("+u+")"+a+".bindBuffer("+jo+","+u+".buffer.buffer);")):(u=c.def(),c(u,"=",o,".",yo,";","if(",u,"){",a,".bindBuffer(",jo,",",u,".buffer.buffer);}","else if(",i.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",_?"":"if("+u+")"+a+".bindBuffer("+jo+","+u+".buffer.buffer);","}")),u}function l(){var i,a=s.count,u=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(u=n),i=a.append(e,u),ie.optional((function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(u,i+">=0","missing vertex count")}))):(i=u.def(o,".",bo),ie.optional((function(){e.assert(u,i+">=0","missing vertex count")}))),i}var c=u();function f(i){var a=s[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(o,".",i)}var p,d,h=f(go),v=f(_o),m=l();if("number"===typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");g&&(p=f(xo),d=e.instancing);var y=c+".type",b=s.elements&&Ls(s.elements)&&!s.vaoActive;function x(){function e(){n(d,".drawElementsInstancedANGLE(",[h,m,y,v+"<<(("+y+"-"+Aa+")>>1)",p],");")}function t(){n(d,".drawArraysInstancedANGLE(",[h,v,m,p],");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function w(){function e(){n(a+".drawElements("+[h,m,y,v+"<<(("+y+"-"+Aa+")>>1)"]+");")}function t(){n(a+".drawArrays("+[h,v,m]+");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}g&&("number"!==typeof p||p>=0)?"string"===typeof p?(n("if(",p,">0){"),x(),n("}else if(",p,"<0){"),w(),n("}")):x():w()}function $(e,t,n,r,i){var a=I(),o=a.proc("body",i);return ie.optional((function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)})),g&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,n,r),a.compile().body}function ee(e,t,n,r){Y(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,n,r.attributes,(function(){return!0}))),J(e,t,n,r.uniforms,(function(){return!0}),!1),Q(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);Y(e,n),W(e,n,t.context),q(e,n,t.framebuffer),G(e,n,t),Z(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=n.def(r,".id"),o=n.def(i,"[",a,"]");n(e.cond(o).then(o,".call(this,a0);")["else"](o,"=",i,"[",a,"]=",e.link((function(n){return $(ee,e,t,n,1)})),"(",r,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function ne(e,t,n,r){function i(){return!0}e.batchId="a1",Y(e,t),K(e,t,n,r.attributes,i),J(e,t,n,r.uniforms,i,!1),Q(e,t,t,n)}function re(e,t,n,r){Y(e,t);var i=n.contextDep,a=t.def(),o="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=a;var l=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function p(e){return!f(e)}if(t(l.entry,"for(",a,"=0;",a,"<",s,";++",a,"){",u,"=",o,"[",a,"];",c,"}",l.exit),n.needsContext&&W(e,c,n.context),n.needsFramebuffer&&q(e,c,n.framebuffer),Z(e,c,n.state,f),n.profile&&f(n.profile)&&X(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),K(e,l,n,r.attributes,p),K(e,c,n,r.attributes,f)),J(e,l,n,r.uniforms,p,!1),J(e,c,n,r.uniforms,f,!0),Q(e,l,c,n);else{var d=e.global.def("{}"),h=n.shader.progVar.append(e,c),v=c.def(h,".id"),m=c.def(d,"[",v,"]");c(e.shared.gl,".useProgram(",h,".program);","if(!",m,"){",m,"=",d,"[",v,"]=",e.link((function(t){return $(ne,e,n,t,2)})),"(",h,");}",m,".call(this,a0[",a,"],",a,");")}}function ae(e,t){var n=e.proc("batch",2);e.batchId="0",Y(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(W(e,n,t.context),i=!1);var a=t.framebuffer,o=!1;function s(e){return e.contextDep&&r||e.propDep}a?(a.propDep?r=o=!0:a.contextDep&&r&&(o=!0),o||q(e,n,a)):q(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),G(e,n,t),Z(e,n,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&r||u.propDep)re(e,n,t,null);else{var l=u.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)re(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(l,".id"),p=n.def(c,"[",f,"]");n(e.cond(p).then(p,".call(this,a0,a1);")["else"](p,"=",c,"[",f,"]=",e.link((function(n){return $(re,e,t,n,2)})),"(",l,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function oe(e,n){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(t){var a=n.shader[t];a&&r.set(i.shader,"."+t,a.append(e,r))}W(e,r,n.context),n.framebuffer&&n.framebuffer.append(e,r),Rs(Object.keys(n.state)).forEach((function(t){var a=n.state[t],o=a.append(e,r);An(o)?o.forEach((function(n,i){r.set(e.next[t],"["+i+"]",n)})):r.set(i.next,"."+t,o)})),X(e,r,n,!0,!0),[yo,_o,bo,xo,go].forEach((function(t){var a=n.draw[t];a&&r.set(i.draw,"."+t,""+a.append(e,r))})),Object.keys(n.uniforms).forEach((function(a){var o=n.uniforms[a].append(e,r);Array.isArray(o)&&(o="["+o.join()+"]"),r.set(i.uniforms,"["+t.id(a)+"]",o)})),Object.keys(n.attributes).forEach((function(t){var i=n.attributes[t].append(e,r),a=e.scopeAttrib(t);Object.keys(new m).forEach((function(e){r.set(a,"."+e,i[e])}))})),n.scopeVAO&&r.set(i.vao,".targetVAO",n.scopeVAO.append(e,r)),o(vo),o(mo),Object.keys(n.state).length>0&&(r(a,".dirty=true;"),r.exit(a,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!An(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(me.isDynamic(e[t[n]]))return!0;return!1}}function ue(e,t,n){var r=t["static"][n];if(r&&se(r)){var i=e.global,a=Object.keys(r),o=!1,s=!1,u=!1,l=e.global.def("{}");a.forEach((function(t){var n=r[t];if(me.isDynamic(n)){"function"===typeof n&&(n=r[t]=me.unbox(n));var a=Ds(n,null);o=o||a.thisDep,u=u||a.propDep,s=s||a.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n));break}i(";")}})),t.dynamic[n]=new me.DynamicVariable(Na,{thisDep:o,contextDep:s,propDep:u,ref:l,append:c}),delete t["static"][n]}function c(e,t){a.forEach((function(n){var i=r[n];if(me.isDynamic(i)){var a=e.invoke(t,i);t(l,".",n,"=",a,";")}}))}}function le(e,t,r,i,a){var o=I();o.stats=o.link(a),Object.keys(t["static"]).forEach((function(e){ue(o,t,e)})),Io.forEach((function(t){ue(o,e,t)}));var s=H(e,t,r,i,o);return te(o,s),oe(o,s),ae(o,s),n(o.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:w,current:x,procs:function(){var e=I(),t=e.proc("poll"),n=e.proc("refresh"),a=e.block();t(a),n(a);var o,s=e.shared,u=s.gl,l=s.next,c=s.current;a(c,".dirty=false;"),q(e,t),q(e,n,null,!0),g&&(o=e.link(g)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var p=n.def(s.attributes,"[",f,"]"),d=e.cond(p,".buffer");d.then(u,".enableVertexAttribArray(",f,");",u,".bindBuffer(",Ro,",",p,".buffer.buffer);",u,".vertexAttribPointer(",f,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);")["else"](u,".disableVertexAttribArray(",f,");",u,".vertexAttrib4f(",f,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),n(d),g&&n(o,".vertexAttribDivisorANGLE(",f,",",p,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],o=a.def(l,".",r),s=e.block();s("if(",o,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",r,"=",o,";"),n(s),t("if(",o,"!==",c,".",r,"){",s,"}")})),Object.keys(k).forEach((function(r){var i,o,s=k[r],f=x[r],p=e.block();if(p(u,".",s,"("),An(f)){var d=f.length;i=e.global.def(l,".",r),o=e.global.def(c,".",r),p(Ce(d,(function(e){return i+"["+e+"]"})),");",Ce(d,(function(e){return o+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Ce(d,(function(e){return i+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",p,"}")}else i=a.def(l,".",r),o=a.def(c,".",r),p(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",o,"){",p,"}");n(p)})),e.compile()}(),compile:le}}function Bs(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Us=34918,Vs=34919,Hs=35007,Ws=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var a=[];function o(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(Hs,n),a.push(n),d(a.length-1,a.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(Hs)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new u}function f(e){l.push(e)}var p=[];function d(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,p.push(r)}var h=[],v=[];function m(){var e,n,r=a.length;if(0!==r){v.length=Math.max(v.length,r+1),h.length=Math.max(h.length,r+1),h[0]=0,v[0]=0;var o=0;for(e=0,n=0;n<a.length;++n){var s=a[n];t.ext_disjoint_timer_query.getQueryObjectEXT(s,Vs)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,Us),i(s)):a[e++]=s,h[n+1]=o,v[n+1]=e}for(a.length=e,e=0,n=0;n<p.length;++n){var u=p[n],l=u.startQueryIndex,c=u.endQueryIndex;u.sum+=h[c]-h[l];var d=v[l],m=v[c];m===d?(u.stats.gpuTime+=u.sum/1e6,f(u)):(u.startQueryIndex=d,u.endQueryIndex=m,p[e++]=u)}p.length=e}}return{beginQuery:o,endQuery:s,pushScopeStats:d,update:m,getNumPendingQueries:function(){return a.length},clear:function(){n.push.apply(n,a);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);a.length=0,n.length=0},restore:function(){a.length=0,n.length=0}}},qs=16384,Gs=256,Zs=1024,Ys=34962,Xs="webglcontextlost",Ks="webglcontextrestored",Js=1,Qs=2,$s=3;function eu(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function tu(e){var t=Oe(e);if(!t)return null;var r=t.gl,i=r.getContextAttributes(),a=r.isContextLost(),o=Te(r,t);if(!o)return null;var s=be(),u=Bs(),l=o.extensions,c=Ws(r,l),f=ge(),p=r.drawingBufferWidth,d=r.drawingBufferHeight,h={tick:0,time:0,viewportWidth:p,viewportHeight:d,framebufferWidth:p,framebufferHeight:d,drawingBufferWidth:p,drawingBufferHeight:d,pixelRatio:t.pixelRatio},v={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=St(r,l),g=rn(r,u,t,x),b=Sn(r,l,g,u),_=ha(r,l,y,u,g,b,m);function x(e){return _.destroyBuffer(e)}var w=ba(r,s,u,t),E=di(r,l,y,(function(){O.procs.poll()}),h,u,t),S=Ti(r,l,y,u,t),k=ua(r,l,y,E,S,u),O=zs(r,s,l,y,g,b,E,k,v,_,w,m,h,c,t),T=Sa(r,k,O.procs.poll,h,i,l,y),C=O.next,A=r.canvas,M=[],P=[],I=[],R=[t.onDestroy],j=null;function L(){if(0===M.length)return c&&c.update(),void(j=null);j=ye.next(L),Y();for(var e=M.length-1;e>=0;--e){var t=M[e];t&&t(h,null,0)}r.flush(),c&&c.update()}function N(){!j&&M.length>0&&(j=ye.next(L))}function D(){j&&(ye.cancel(L),j=null)}function F(e){e.preventDefault(),a=!0,D(),P.forEach((function(e){e()}))}function z(e){r.getError(),a=!1,o.restore(),w.restore(),g.restore(),E.restore(),S.restore(),k.restore(),_.restore(),c&&c.restore(),O.procs.refresh(),N(),I.forEach((function(e){e()}))}var B="undefined"!==typeof my&&!!my&&"function"===typeof my.showToast;function U(){M.length=0,D(),!B&&A&&(A.removeEventListener(Xs,F),A.removeEventListener(Ks,z)),w.clear(),k.clear(),S.clear(),_.clear(),E.clear(),b.clear(),g.clear(),c&&c.clear(),R.forEach((function(e){e()}))}function V(e){function t(e){var t=n({},e);function r(e){if(e in t){var n=t[e];delete t[e],Object.keys(n).forEach((function(r){t[e+"."+r]=n[r]}))}}return delete t.uniforms,delete t.attributes,delete t.context,delete t.vao,"stencil"in t&&t.stencil.op&&(t.stencil.opBack=t.stencil.opFront=t.stencil.op,delete t.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(t.vao=e.vao),t}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var a=e[i];if(me.isDynamic(a))r[i]=me.unbox(a,i);else{if(t&&Array.isArray(a))for(var o=0;o<a.length;++o)if(me.isDynamic(a[o]))return void(r[i]=me.unbox(a,i));n[i]=a}})),{dynamic:r,static:n}}ie(!!e,"invalid args to regl({...})"),ie.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),o=r(e.uniforms||{},!0),s=r(e.attributes||{},!1),u=r(t(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=O.compile(u,s,o,i,l),f=c.draw,p=c.batch,d=c.scope,h=[];function v(e){while(h.length<e)h.push(null);return h}function m(e,t){var n;if(a&&ie.raise("context lost"),"function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)d.call(this,null,t,n);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(n=0;n<e.length;++n)d.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return p.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return p.call(this,e,e.length)}}return n(m,{stats:l,destroy:function(){c.destroy()}})}!B&&A&&(A.addEventListener(Xs,F,!1),A.addEventListener(Ks,z,!1));var H=k.setFBO=V({framebuffer:me.define.call(null,Js,"framebuffer")});function W(e,t){var n=0;O.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=qs),"depth"in t&&(r.clearDepth(+t.depth),n|=Gs),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=Zs),ie(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function q(e){if(ie("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var t=0;t<6;++t)H(n({framebuffer:e.framebuffer.faces[t]},e),W);else H(e,W);else W(null,e)}function G(e){function t(){var t=eu(M,e);function n(){var e=eu(M,n);M[e]=M[M.length-1],M.length-=1,M.length<=0&&D()}ie(t>=0,"cannot cancel a frame twice"),M[t]=n}return ie.type(e,"function","regl.frame() callback must be a function"),M.push(e),N(),{cancel:t}}function Z(){var e=C.viewport,t=C.scissor_box;e[0]=e[1]=t[0]=t[1]=0,h.viewportWidth=h.framebufferWidth=h.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,h.viewportHeight=h.framebufferHeight=h.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function Y(){h.tick+=1,h.time=K(),Z(),O.procs.poll()}function X(){E.refresh(),Z(),O.procs.refresh(),c&&c.update()}function K(){return(ge()-f)/1e3}function J(e,t){var n;switch(ie.type(t,"function","listener callback must be a function"),e){case"frame":return G(t);case"lost":n=P;break;case"restore":n=I;break;case"destroy":n=R;break;default:ie.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}X();var Q=n(V,{clear:q,prop:me.define.bind(null,Js),context:me.define.bind(null,Qs),this:me.define.bind(null,$s),draw:V({}),buffer:function(e){return g.create(e,Ys,!1,!1)},elements:function(e){return b.create(e,!1)},texture:E.create2D,cube:E.createCube,renderbuffer:S.create,framebuffer:k.create,framebufferCube:k.createCube,vao:_.createVAO,attributes:i,frame:G,on:J,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:T,destroy:U,_gl:r,_refresh:X,poll:function(){Y(),c&&c.update()},now:K,stats:u});return t.onDone(null,Q),Q}return tu}))},SYor:function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").trim,a=n("yNLB");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},SevV:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createSceneContainer=V,t.createLayerContainer=H,t["default"]=t.lazyMultiInject=t.lazyInject=void 0,n("mNvP");var i=n("uhBA"),a=n("4cb6"),o=r(n("APxj")),s=n("0t2r"),u=r(n("eOQ5")),l=r(n("KQag")),c=r(n("+iGO")),f=r(n("/Zof")),p=r(n("YHcp")),d=r(n("ZfNH")),h=r(n("VDXP")),v=r(n("5NZz")),m=r(n("B7qF")),y=r(n("mKAs")),g=r(n("8ZTH")),b=r(n("LY09")),_=r(n("qD9g")),x=r(n("JehX")),w=r(n("ERVX")),E=r(n("u1ET")),S=r(n("tc7Y")),k=r(n("I1ys")),O=r(n("NN2X")),T=r(n("2k90")),C=r(n("ltgG")),A=r(n("lj4h")),M=r(n("tdE1")),P=r(n("hW1t")),I=r(n("wdbq")),R=r(n("Iddi")),j=r(n("hwIl")),L=r(n("g0t4")),N=new a.Container;N.bind(s.TYPES.IGlobalConfigService).to(h["default"]).inSingletonScope(),N.bind(s.TYPES.IShaderModuleService).to(x["default"]).inSingletonScope(),(0,a.decorate)((0,a.injectable)(),i.EventEmitter),N.bind(s.TYPES.IEventEmitter).to(i.EventEmitter);var D=(0,o["default"])(N,!1),F=function(e){var t=D.lazyInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}};t.lazyInject=F;var z=function(e){var t=D.lazyMultiInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}};t.lazyMultiInject=z;var B=N;t["default"]=B;var U=0;function V(){var e=new a.Container;return e.parent=N,e.bind(s.TYPES.SceneID).toConstantValue("".concat(U++)),e.bind(s.TYPES.ILayerService).to(g["default"]).inSingletonScope(),e.bind(s.TYPES.ISceneService).to(_["default"]).inSingletonScope(),e.bind(s.TYPES.ICameraService).to(c["default"]).inSingletonScope(),e.bind(s.TYPES.ICoordinateSystemService).to(v["default"]).inSingletonScope(),e.bind(s.TYPES.IInteractionService).to(m["default"]).inSingletonScope(),e.bind(s.TYPES.IPickingService).to(y["default"]).inSingletonScope(),e.bind(s.TYPES.IControlService).to(f["default"]).inSingletonScope(),e.bind(s.TYPES.IMarkerService).to(p["default"]).inSingletonScope(),e.bind(s.TYPES.IIconService).to(l["default"]).inSingletonScope(),e.bind(s.TYPES.IFontService).to(u["default"]).inSingletonScope(),e.bind(s.TYPES.IPopupService).to(d["default"]).inSingletonScope(),e.bind(s.TYPES.INormalPass).to(w["default"]).whenTargetNamed("clear"),e.bind(s.TYPES.INormalPass).to(S["default"]).whenTargetNamed("pixelPicking"),e.bind(s.TYPES.INormalPass).to(j["default"]).whenTargetNamed("render"),e.bind(s.TYPES.INormalPass).to(L["default"]).whenTargetNamed("taa"),e.bind(s.TYPES.IFactoryNormalPass).toFactory((function(e){return function(t){return e.container.getNamed(s.TYPES.INormalPass,t)}})),e.bind(s.TYPES.IPostProcessingPass).to(C["default"]).whenTargetNamed("copy"),e.bind(s.TYPES.IPostProcessingPass).to(k["default"]).whenTargetNamed("blurH"),e.bind(s.TYPES.IPostProcessingPass).to(O["default"]).whenTargetNamed("blurV"),e.bind(s.TYPES.IPostProcessingPass).to(P["default"]).whenTargetNamed("noise"),e.bind(s.TYPES.IPostProcessingPass).to(I["default"]).whenTargetNamed("sepia"),e.bind(s.TYPES.IPostProcessingPass).to(T["default"]).whenTargetNamed("colorHalftone"),e.bind(s.TYPES.IPostProcessingPass).to(A["default"]).whenTargetNamed("hexagonalPixelate"),e.bind(s.TYPES.IPostProcessingPass).to(M["default"]).whenTargetNamed("ink"),e.bind(s.TYPES.IFactoryPostProcessingPass).toFactory((function(e){return function(t){var n=e.container.getNamed(s.TYPES.IPostProcessingPass,t);return n.setName(t),n}})),e}function H(e){var t=new a.Container;return t.parent=e,t.bind(s.TYPES.IStyleAttributeService).to(b["default"]).inSingletonScope(),t.bind(s.TYPES.IMultiPassRenderer).to(E["default"]).inSingletonScope(),t.bind(s.TYPES.IPostProcessor).to(R["default"]).inSingletonScope(),t}},SfRM:function(e,t,n){var r=n("YESw");function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},Si40:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("SEBh"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n["delete"]),i=s(n.add);return l(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},Sk89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n("MON2"),i=n("xfSm"),a=n("GXnB");function o(){return function(e,t,n){var o=new a.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,o,e.constructor)}}t.postConstruct=o},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},SpvK:function(e,t,n){var r=n("dOgj");r("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},Sssf:function(e,t,n){var r=n("xDBR"),i=n("mh/w");e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},SuFq:function(e,t,n){var r=n("I+eb"),i=n("0GbY"),a=n("HAuM"),o=n("glrk"),s=n("hh1v"),u=n("fHMY"),l=n("BTho"),c=n("0Dky"),f=i("Reflect","construct"),p=c((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),d=!c((function(){f((function(){}))})),h=p||d;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!p)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var i=n.prototype,c=u(s(i)?i:Object.prototype),h=Function.apply.call(e,c,t);return s(h)?h:c}})},Sx5r:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.MAX_DIST=t.MAX_TOUCH_TIME=t.MAX_TAP_INTERVAL=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("f1zB")),u=n("S4IS");function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function c(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t,n=new s["default"](0,0),r=l(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n._add(i)}}catch(a){r.e(a)}finally{r.f()}return n.div(e.length)}var d=500;t.MAX_TAP_INTERVAL=d;var h=500;t.MAX_TOUCH_TIME=h;var v=30;t.MAX_DIST=v;var m=function(){function e(t){(0,i["default"])(this,e),(0,o["default"])(this,"numTouches",void 0),(0,o["default"])(this,"centroid",void 0),(0,o["default"])(this,"startTime",void 0),(0,o["default"])(this,"aborted",void 0),(0,o["default"])(this,"touches",void 0),this.reset(),this.numTouches=t.numTouches}return(0,a["default"])(e,[{key:"reset",value:function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}},{key:"touchstart",value:function(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=p(t),this.touches=(0,u.indexTouches)(n,t)))}},{key:"touchmove",value:function(e,t,n){if(!this.aborted&&this.centroid){var r=(0,u.indexTouches)(n,t);for(var i in this.touches)if(this.touches[i]){var a=this.touches[i],o=r[i];(!o||o.dist(a)>v)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>h)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}}}]),e}();t["default"]=m},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),a=n("yP5f"),o=n("Q1l4"),s=n("+iFO"),u=n("03A+"),l=n("Z0cm"),c=n("3L66"),f=n("DSRE"),p=n("lSCD"),d=n("GoyQ"),h=n("YO3V"),v=n("c6wG"),m=n("itsj"),y=n("jeLo");function g(e,t,n,g,b,_,x){var w=m(e,n),E=m(t,n),S=x.get(E);if(S)r(e,n,S);else{var k=_?_(w,E,n+"",e,t,x):void 0,O=void 0===k;if(O){var T=l(E),C=!T&&f(E),A=!T&&!C&&v(E);k=E,T||C||A?l(w)?k=w:c(w)?k=o(w):C?(O=!1,k=i(E,!0)):A?(O=!1,k=a(E,!0)):k=[]:h(E)||u(E)?(k=w,u(w)?k=y(w):d(w)&&!p(w)||(k=s(E))):O=!1}O&&(x.set(E,k),b(k,E,g,_,x),x["delete"](E)),r(e,n,k)}}e.exports=g},T5bk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("DSFK"),i=n("25BE"),a=n("BsWD"),o=n("PYwp");function s(e){return Object(r["a"])(e)||Object(i["a"])(e)||Object(a["a"])(e)||Object(o["a"])()}},T63A:function(e,t,n){var r=n("I+eb"),i=n("b1O7").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},THLb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r,i){var a=i.clientWidth,o=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(i.getBoundingClientRect().left+window.pageXOffset),c=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var f=void 0;if(f=c<0?0:c>o?1:Math.round(100*c/o)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}else{var p=void 0;if(p=l<0?0:l>a?1:Math.round(100*l/a)/100,r!==p)return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}},TJ79:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"WeakMap",stat:!0},{of:i})},TJtU:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return zn}));var r=n("9og8"),i=(n("cIOH"),n("bKJz"),n("pwpV"),n("rePB")),a=n("wx14"),o=n("q1tI"),s=n("bT9E"),u=n("TSYQ"),l=n.n(u),c=n("1OyB"),f=n("vuIU"),p=n("Ji7U"),d=n("LK+K"),h=n("Ff2n"),v=n("ODXe"),m=n("4IlW"),y=n("VTBJ"),g="accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap",b="onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError",_="".concat(g," ").concat(b).split(/[\s\n]+/),x="aria-",w="data-";function E(e,t){return 0===e.indexOf(t)}function S(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Object(y["a"])({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||E(n,x))||t.data&&E(n,w)||t.attr&&_.includes(n))&&(r[n]=e[n])})),r}var k=n("YrtM"),O=n("t23M");function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=o["forwardRef"]((function(e,t){var n=e.height,r=e.offset,i=e.children,a=e.prefixCls,s=e.onInnerResize,u={},c={display:"flex",flexDirection:"column"};return void 0!==r&&(u={height:n,position:"relative",overflow:"hidden"},c=C(C({},c),{},{transform:"translateY(".concat(r,"px)"),position:"absolute",left:0,right:0,top:0})),o["createElement"]("div",{style:u},o["createElement"](O["a"],{onResize:function(e){var t=e.offsetHeight;t&&s&&s()}},o["createElement"]("div",{style:c,className:l()(A({},"".concat(a,"-holder-inner"),a)),ref:t},i)))}));M.displayName="Filler";var P=M,I=n("wgJM");function R(e){return R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function F(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function B(e){var t=H();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==R(t)&&"function"!==typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}var q=20;function G(e){return"touches"in e?e.touches[0].pageY:e.pageY}var Z=function(e){F(n,e);var t=B(n);function n(){var e;L(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),e.moveRaf=null,e.scrollbarRef=o["createRef"](),e.thumbRef=o["createRef"](),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),e.scrollbarRef.current.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp),I["a"].cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:G(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,a=n.startTop,o=e.props.onScroll;if(I["a"].cancel(e.moveRaf),r){var s=G(t)-i,u=a+s,l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),f=c?u/c:0,p=Math.ceil(f*l);e.moveRaf=Object(I["a"])((function(){o(p)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=t.count,i=n/r*10;return i=Math.max(i,q),i=Math.min(i,n/2),Math.floor(i)},e.getEnableScrollRange=function(){var t=e.props,n=t.scrollHeight,r=t.height;return n-r||0},e.getEnableHeightRange=function(){var t=e.props.height,n=e.getSpinHeight();return t-n||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();if(0===t||0===n)return 0;var i=t/n;return i*r},e.showScroll=function(){var t=e.props,n=t.height,r=t.scrollHeight;return r>n},e}return D(n,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,r=this.props.prefixCls,i=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),u=s&&n;return o["createElement"]("div",{ref:this.scrollbarRef,className:l()("".concat(r,"-scrollbar"),j({},"".concat(r,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},o["createElement"]("div",{ref:this.thumbRef,className:l()("".concat(r,"-scrollbar-thumb"),j({},"".concat(r,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),n}(o["Component"]);function Y(e){var t=e.children,n=e.setRef,r=o["useCallback"]((function(e){n(e)}),[]);return o["cloneElement"](t,{ref:r})}function X(e,t,n,r,i,a){var s=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=t+n,u=i(e,a,{}),l=s(e);return o["createElement"](Y,{key:l,setRef:function(t){return r(e,t)}},u)}))}var K=n("m+aA");function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),e}var ee=function(){function e(){J(this,e),this.maps=void 0,this.maps={},this.maps.prototype=null}return $(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}(),te=ee;function ne(e,t){return se(e)||oe(e,t)||ie(e,t)||re()}function re(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ie(e,t){if(e){if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function se(e){if(Array.isArray(e))return e}function ue(e,t,n){var r=o["useState"](0),i=ne(r,2),a=i[0],s=i[1],u=Object(o["useRef"])(new Map),l=Object(o["useRef"])(new te),c=Object(o["useRef"])(0);function f(){c.current+=1;var e=c.current;Promise.resolve().then((function(){e===c.current&&(u.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Object(K["a"])(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),s((function(e){return e+1})))}))}function p(r,i){var a=e(r),o=u.current.get(a);i?(u.current.set(a,i),f()):u.current["delete"](a),!o!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))}return[p,f,l.current,a]}function le(e){return le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(e,t,n,r,i,a,s,u){var l=o["useRef"]();return function(o){if(null!==o&&void 0!==o){if(I["a"].cancel(l.current),"number"===typeof o)s(o);else if(o&&"object"===le(o)){var c,f=o.align;c="index"in o?o.index:t.findIndex((function(e){return i(e)===o.key}));var p=o.offset,d=void 0===p?0:p,h=function o(u,p){if(!(u<0)&&e.current){var h=e.current.clientHeight,v=!1,m=p;if(h){for(var y=p||f,g=0,b=0,_=0,x=Math.min(t.length,c),w=0;w<=x;w+=1){var E=i(t[w]);b=g;var S=n.get(E);_=b+(void 0===S?r:S),g=_,w===c&&void 0===S&&(v=!0)}var k=null;switch(y){case"top":k=b-d;break;case"bottom":k=_-h+d;break;default:var O=e.current.scrollTop,T=O+h;b<O?m="top":_>T&&(m="bottom")}null!==k&&k!==e.current.scrollTop&&s(k)}l.current=Object(I["a"])((function(){v&&a(),o(u-1,m)}))}};h(3)}}else u()}}function fe(e,t,n){var r,i,a=e.length,o=t.length;if(0===a&&0===o)return null;a<o?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var l=null,c=1!==Math.abs(a-o),f=0;f<i.length;f+=1){var p=u(r[f]),d=u(i[f]);if(p!==d){l=f,c=c||p!==u(i[f+1]);break}}return null===l?null:{index:l,multiple:c}}function pe(e,t){return ye(e)||me(e,t)||he(e,t)||de()}function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function he(e,t){if(e){if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function ye(e){if(Array.isArray(e))return e}function ge(e,t,n){var r=o["useState"](e),i=pe(r,2),a=i[0],s=i[1],u=o["useState"](null),l=pe(u,2),c=l[0],f=l[1];return o["useEffect"]((function(){var r=fe(a||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),f(e[r.index])),s(e)}),[e]),[c]}function be(e){return be="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}var _e="object"===("undefined"===typeof navigator?"undefined":be(navigator))&&/Firefox/i.test(navigator.userAgent),xe=_e,we=function(e,t){var n=Object(o["useRef"])(!1),r=Object(o["useRef"])(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout((function(){n.current=!1}),50)}var a=Object(o["useRef"])({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e<0&&a.current.top||e>0&&a.current.bottom;return t&&o?(clearTimeout(r.current),n.current=!1):o&&!n.current||i(),!n.current&&o}};function Ee(e,t,n,r){var i=Object(o["useRef"])(0),a=Object(o["useRef"])(null),s=Object(o["useRef"])(null),u=Object(o["useRef"])(!1),l=we(t,n);function c(t){if(e){I["a"].cancel(a.current);var n=t.deltaY;i.current+=n,s.current=n,l(n)||(xe||t.preventDefault(),a.current=Object(I["a"])((function(){var e=u.current?10:1;r(i.current*e),i.current=0})))}}function f(t){e&&(u.current=t.detail===s.current)}return[c,f]}var Se=14/15;function ke(e,t,n){var r,i=Object(o["useRef"])(!1),a=Object(o["useRef"])(0),s=Object(o["useRef"])(null),u=Object(o["useRef"])(null),l=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=a.current-t;a.current=t,n(r)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){r*=Se,(!n(r,!0)||Math.abs(r)<=.1)&&clearInterval(u.current)}),16)}},c=function(){i.current=!1,r()},f=function(e){r(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",l),s.current.addEventListener("touchend",c))};r=function(){s.current&&(s.current.removeEventListener("touchmove",l),s.current.removeEventListener("touchend",c))},o["useLayoutEffect"]((function(){return e&&t.current.addEventListener("touchstart",f),function(){t.current.removeEventListener("touchstart",f),r(),clearInterval(u.current)}}),[e])}var Oe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll"];function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return Ne(e)||Le(e,t)||Re(e,t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){if(e){if("string"===typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function Ne(e){if(Array.isArray(e))return e}function De(e,t){if(null==e)return{};var n,r,i=Fe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ze=[],Be={overflowY:"auto",overflowAnchor:"none"};function Ue(e,t){var n=e.prefixCls,r=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,s=e.itemHeight,u=e.fullHeight,c=void 0===u||u,f=e.style,p=e.data,d=e.children,h=e.itemKey,v=e.virtual,m=e.component,y=void 0===m?"div":m,g=e.onScroll,b=De(e,Oe),_=!(!1===v||!a||!s),x=_&&p&&s*p.length>a,w=Object(o["useState"])(0),E=Pe(w,2),S=E[0],k=E[1],O=Object(o["useState"])(!1),T=Pe(O,2),C=T[0],A=T[1],M=l()(r,i),I=p||ze,R=Object(o["useRef"])(),j=Object(o["useRef"])(),L=Object(o["useRef"])(),N=o["useCallback"]((function(e){return"function"===typeof h?h(e):null===e||void 0===e?void 0:e[h]}),[h]),D={getKey:N};function F(e){k((function(t){var n;n="function"===typeof e?e(t):e;var r=ae(n);return R.current.scrollTop=r,r}))}var z=Object(o["useRef"])({start:0,end:I.length}),B=Object(o["useRef"])(),U=ge(I,N),V=Pe(U,1),H=V[0];B.current=H;var W=ue(N,null,null),q=Pe(W,4),G=q[0],Y=q[1],K=q[2],J=q[3],Q=o["useMemo"]((function(){if(!_)return{scrollHeight:void 0,start:0,end:I.length-1,offset:void 0};var e;if(!x)return{scrollHeight:(null===(e=j.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:I.length-1,offset:void 0};for(var t,n,r,i=0,o=I.length,u=0;u<o;u+=1){var l=I[u],c=N(l),f=K.get(c),p=i+(void 0===f?s:f);p>=S&&void 0===t&&(t=u,n=i),p>S+a&&void 0===r&&(r=u),i=p}return void 0===t&&(t=0,n=0),void 0===r&&(r=I.length-1),r=Math.min(r+1,I.length),{scrollHeight:i,start:t,end:r,offset:n}}),[x,_,S,I,J,a]),$=Q.scrollHeight,ee=Q.start,te=Q.end,ne=Q.offset;z.current.start=ee,z.current.end=te;var re=$-a,ie=Object(o["useRef"])(re);function ae(e){var t=e;return Number.isNaN(ie.current)||(t=Math.min(t,ie.current)),t=Math.max(t,0),t}ie.current=re;var oe=S<=0,se=S>=re,le=we(oe,se);function fe(e){var t=e;F(t)}function pe(e){var t=e.currentTarget.scrollTop;t!==S&&F(t),null===g||void 0===g||g(e)}var de=Ee(_,oe,se,(function(e){F((function(t){var n=t+e;return n}))})),he=Pe(de,2),ve=he[0],me=he[1];ke(_,R,(function(e,t){return!le(e,t)&&(ve({preventDefault:function(){},deltaY:e}),!0)})),o["useLayoutEffect"]((function(){function e(e){_&&e.preventDefault()}return R.current.addEventListener("wheel",ve),R.current.addEventListener("DOMMouseScroll",me),R.current.addEventListener("MozMousePixelScroll",e),function(){R.current.removeEventListener("wheel",ve),R.current.removeEventListener("DOMMouseScroll",me),R.current.removeEventListener("MozMousePixelScroll",e)}}),[_]);var ye=ce(R,I,K,s,N,Y,F,(function(){var e;null===(e=L.current)||void 0===e||e.delayHidden()}));o["useImperativeHandle"](t,(function(){return{scrollTo:ye}}));var be=X(I,ee,te,G,d,D),_e=null;return a&&(_e=Ae(Me({},c?"height":"maxHeight",a),Be),_&&(_e.overflowY="hidden",C&&(_e.pointerEvents="none"))),o["createElement"]("div",Te({style:Ae(Ae({},f),{},{position:"relative"}),className:M},b),o["createElement"](y,{className:"".concat(r,"-holder"),style:_e,ref:R,onScroll:pe},o["createElement"](P,{prefixCls:r,height:$,offset:ne,onInnerResize:Y,ref:j},be)),_&&o["createElement"](Z,{ref:L,prefixCls:r,scrollTop:S,height:a,scrollHeight:$,count:I.length,onScroll:fe,onStartMove:function(){A(!0)},onStopMove:function(){A(!1)}}))}var Ve=o["forwardRef"](Ue);Ve.displayName="List";var He=Ve,We=He,qe=function(e){var t,n=e.className,r=e.customizeIcon,i=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,u=e.children;return t="function"===typeof r?r(i):r,o["createElement"]("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==t?t:o["createElement"]("span",{className:l()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},Ge=qe,Ze=function(e,t){var n=e.prefixCls,r=e.id,s=e.flattenOptions,u=e.childrenAsData,c=e.values,f=e.searchValue,p=e.multiple,d=e.defaultActiveFirstOption,y=e.height,g=e.itemHeight,b=e.notFoundContent,_=e.open,x=e.menuItemSelectedIcon,w=e.virtual,E=e.onSelect,O=e.onToggleOpen,T=e.onActiveValue,C=e.onScroll,A=e.onMouseEnter,M="".concat(n,"-item"),P=Object(k["a"])((function(){return s}),[_,s],(function(e,t){return t[0]&&e[1]!==t[1]})),I=o["useRef"](null),R=function(e){e.preventDefault()},j=function(e){I.current&&I.current.scrollTo({index:e})},L=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=P.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,a=P[i],o=a.group,s=a.data;if(!o&&!s.disabled)return i}return-1},N=o["useState"]((function(){return L(0)})),D=Object(v["a"])(N,2),F=D[0],z=D[1],B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z(e);var n={source:t?"keyboard":"mouse"},r=P[e];r?T(r.data.value,e,n):T(null,-1,n)};o["useEffect"]((function(){B(!1!==d?L(0):-1)}),[P.length,f]),o["useEffect"]((function(){var e,t=setTimeout((function(){if(!p&&_&&1===c.size){var e=Array.from(c)[0],t=P.findIndex((function(t){var n=t.data;return n.value===e}));B(t),j(t)}}));_&&(null===(e=I.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[_]);var U=function(e){void 0!==e&&E(e,{selected:!c.has(e)}),p||O(!1)};if(o["useImperativeHandle"](t,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case m["a"].UP:case m["a"].DOWN:var n=0;if(t===m["a"].UP?n=-1:t===m["a"].DOWN&&(n=1),0!==n){var r=L(F+n,n);j(r),B(r,!0)}break;case m["a"].ENTER:var i=P[F];i&&!i.data.disabled?U(i.data.value):U(void 0),_&&e.preventDefault();break;case m["a"].ESC:O(!1),_&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){j(e)}}})),0===P.length)return o["createElement"]("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(M,"-empty"),onMouseDown:R},b);function V(e){var t=P[e];if(!t)return null;var n=t.data||{},i=n.value,s=n.label,l=n.children,f=S(n,!0),p=u?l:s;return t?o["createElement"]("div",Object(a["a"])({"aria-label":"string"===typeof p?p:null},f,{key:e,role:"option",id:"".concat(r,"_list_").concat(e),"aria-selected":c.has(i)}),i):null}return o["createElement"](o["Fragment"],null,o["createElement"]("div",{role:"listbox",id:"".concat(r,"_list"),style:{height:0,width:0,overflow:"hidden"}},V(F-1),V(F),V(F+1)),o["createElement"](We,{itemKey:"key",ref:I,data:P,height:y,itemHeight:g,fullHeight:!1,onMouseDown:R,onScroll:C,virtual:w,onMouseEnter:A},(function(e,t){var n,r=e.group,s=e.groupOption,f=e.data,p=f.label,d=f.key;if(r)return o["createElement"]("div",{className:l()(M,"".concat(M,"-group"))},void 0!==p?p:d);var v=f.disabled,m=f.value,y=f.title,g=f.children,b=f.style,_=f.className,w=Object(h["a"])(f,["disabled","value","title","children","style","className"]),E=c.has(m),S="".concat(M,"-option"),k=l()(M,S,_,(n={},Object(i["a"])(n,"".concat(S,"-grouped"),s),Object(i["a"])(n,"".concat(S,"-active"),F===t&&!v),Object(i["a"])(n,"".concat(S,"-disabled"),v),Object(i["a"])(n,"".concat(S,"-selected"),E),n)),O=u?g:p,T=!x||"function"===typeof x||E,C=O||m,A="string"===typeof C||"number"===typeof C?C.toString():void 0;return void 0!==y&&(A=y),o["createElement"]("div",Object(a["a"])({},w,{"aria-selected":E,className:k,title:A,onMouseMove:function(){F===t||v||B(t)},onClick:function(){v||U(m)},style:b}),o["createElement"]("div",{className:"".concat(S,"-content")},C),o["isValidElement"](x)||E,T&&o["createElement"](Ge,{className:"".concat(M,"-option-state"),customizeIcon:x,customizeIconProps:{isSelected:E}},E?"\u2713":null))})))},Ye=o["forwardRef"](Ze);Ye.displayName="OptionList";var Xe=Ye,Ke=function(){return null};Ke.isSelectOption=!0;var Je=Ke,Qe=function(){return null};Qe.isSelectOptGroup=!0;var $e=Qe,et=n("Zm9Q");function tt(e){var t=e.key,n=e.props,r=n.children,i=n.value,a=Object(h["a"])(n,["children","value"]);return Object(y["a"])({key:t,value:void 0!==i?i:t,children:r},a)}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(et["a"])(e).map((function(e,n){if(!o["isValidElement"](e)||!e.type)return null;var r=e.type.isSelectOptGroup,i=e.key,a=e.props,s=a.children,u=Object(h["a"])(a,["children"]);return t||!r?tt(e):Object(y["a"])(Object(y["a"])({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},u),{},{options:nt(s)})})).filter((function(e){return e}))}var rt=n("T5bk"),it=n("KQm4"),at=n("U8pU"),ot=n("Kwbf");function st(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function ut(e,t){var n=t.labelInValue,r=t.combobox,i=new Map;if(void 0===e||""===e&&r)return[[],i];var a=Array.isArray(e)?e:[e],o=a;return n&&(o=a.filter((function(e){return null!==e})).map((function(e){var t=e.key,n=e.value,r=void 0!==n?n:t;return i.set(r,e),r}))),[o,i]}function lt(e,t){var n=t.optionLabelProp,r=t.labelInValue,i=t.prevValueMap,a=t.options,o=t.getLabeledValue,s=e;return r&&(s=s.map((function(e){return o(e,{options:a,prevValueMap:i,labelInValue:r,optionLabelProp:n})}))),s}function ct(e,t){var n,r=Object(it["a"])(t);for(n=e.length-1;n>=0;n-=1)if(!e[n].disabled)break;var i=null;return-1!==n&&(i=r[n],r.splice(n,1)),{values:r,removedValue:i}}var ft="undefined"!==typeof window&&window.document&&window.document.documentElement,pt=ft,dt=0;function ht(){var e;return pt?(e=dt,dt+=1):e="TEST_OR_SSR",e}function vt(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function mt(e){var t=[];function n(e,r){e.forEach((function(e){r||!("options"in e)?t.push({key:vt(e,t.length),groupOption:r,data:e}):(t.push({key:vt(e,t.length),group:!0,data:e}),n(e.options,!0))}))}return n(e,!1),t}function yt(e){var t=Object(y["a"])({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return Object(ot["a"])(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prevValueOptions,i=void 0===r?[]:r,a=new Map;return t.forEach((function(e){if(!e.group){var t=e.data;a.set(t.value,t)}})),e.map((function(e){var t=a.get(e);return t||(t=Object(y["a"])({},i.find((function(t){return t._INTERNAL_OPTION_VALUE_===e})))),yt(t)}))}var bt=function(e,t){var n=t.options,r=t.prevValueMap,i=t.labelInValue,a=t.optionLabelProp,o=gt([e],n)[0],s={value:e},u=i?r.get(e):void 0;return u&&"object"===Object(at["a"])(u)&&"label"in u?(s.label=u.label,o&&"string"===typeof u.label&&"string"===typeof o[a]&&u.label.trim()!==o[a].trim()&&Object(ot["a"])(!1,"`label` of `value` is not same as `label` in Select options.")):o&&a in o?s.label=o[a]:(s.label=e,s.isCacheable=!0),s.key=s.value,s};function _t(e){return st(e).join("")}function xt(e){return function(t,n){var r=t.toLowerCase();if("options"in n)return _t(n.label).toLowerCase().includes(r);var i=n[e],a=_t(i).toLowerCase();return a.includes(r)}}function wt(e,t,n){var r,i=n.optionFilterProp,a=n.filterOption,o=[];return!1===a?Object(it["a"])(t):(r="function"===typeof a?a:xt(i),t.forEach((function(t){if("options"in t){var n=r(e,t);if(n)o.push(t);else{var i=t.options.filter((function(t){return r(e,t)}));i.length&&o.push(Object(y["a"])(Object(y["a"])({},t),{},{options:i}))}}else r(e,yt(t))&&o.push(t)})),o)}function Et(e,t){if(!t||!t.length)return null;var n=!1;function r(e,t){var i=Object(rt["a"])(t),a=i[0],o=i.slice(1);if(!a)return[e];var s=e.split(a);return n=n||s.length>1,s.reduce((function(e,t){return[].concat(Object(it["a"])(e),Object(it["a"])(r(t,o)))}),[]).filter((function(e){return e}))}var i=r(e,t);return n?i:null}function St(e,t){var n=gt([e],t)[0];return n.disabled}function kt(e,t,n,r){var a=st(t).slice().sort(),o=Object(it["a"])(e),s=new Set;return e.forEach((function(e){e.options?e.options.forEach((function(e){s.add(e.value)})):s.add(e.value)})),a.forEach((function(e){var t,a=r?e.value:e;s.has(a)||o.push(r?(t={},Object(i["a"])(t,n,e.label),Object(i["a"])(t,"value",a),t):{value:a})})),o}var Ot=n("5Z9U"),Tt=n("c+Xe"),Ct=n("6cGi"),At=n("8z13"),Mt=function(e,t){var n,r,i=e.prefixCls,a=e.id,s=e.inputElement,u=e.disabled,c=e.tabIndex,f=e.autoFocus,p=e.autoComplete,d=e.editable,h=e.accessibilityIndex,v=e.value,m=e.maxLength,g=e.onKeyDown,b=e.onMouseDown,_=e.onChange,x=e.onPaste,w=e.onCompositionStart,E=e.onCompositionEnd,S=e.open,k=e.attrs,O=s||o["createElement"]("input",null),T=O,C=T.ref,A=T.props,M=A.onKeyDown,P=A.onChange,I=A.onMouseDown,R=A.onCompositionStart,j=A.onCompositionEnd,L=A.style;return O=o["cloneElement"](O,Object(y["a"])(Object(y["a"])({id:a,ref:Object(Tt["a"])(t,C),disabled:u,tabIndex:c,autoComplete:p||"off",type:"search",autoFocus:f,className:l()("".concat(i,"-selection-search-input"),null===(n=O)||void 0===n||null===(r=n.props)||void 0===r?void 0:r.className),style:Object(y["a"])(Object(y["a"])({},L),{},{opacity:d?null:0}),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":"".concat(a,"_list_").concat(h)},k),{},{value:d?v:"",maxLength:m,readOnly:!d,unselectable:d?null:"on",onKeyDown:function(e){g(e),M&&M(e)},onMouseDown:function(e){b(e),I&&I(e)},onChange:function(e){_(e),P&&P(e)},onCompositionStart:function(e){w(e),R&&R(e)},onCompositionEnd:function(e){E(e),j&&j(e)},onPaste:x})),O},Pt=o["forwardRef"](Mt);Pt.displayName="Input";var It=Pt;function Rt(e,t){pt?o["useLayoutEffect"](e,t):o["useEffect"](e,t)}var jt=function(e){e.preventDefault(),e.stopPropagation()},Lt=function(e){var t=e.id,n=e.prefixCls,r=e.values,a=e.open,s=e.searchValue,u=e.inputRef,c=e.placeholder,f=e.disabled,p=e.mode,d=e.showSearch,h=e.autoFocus,m=e.autoComplete,y=e.accessibilityIndex,g=e.tabIndex,b=e.removeIcon,_=e.maxTagCount,x=e.maxTagTextLength,w=e.maxTagPlaceholder,E=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,k=e.tagRender,O=e.onToggleOpen,T=e.onSelect,C=e.onInputChange,A=e.onInputPaste,M=e.onInputKeyDown,P=e.onInputMouseDown,I=e.onInputCompositionStart,R=e.onInputCompositionEnd,j=o["useRef"](null),L=Object(o["useState"])(0),N=Object(v["a"])(L,2),D=N[0],F=N[1],z=Object(o["useState"])(!1),B=Object(v["a"])(z,2),U=B[0],V=B[1],H="".concat(n,"-selection"),W=a||"tags"===p?s:"",q="tags"===p||d&&(a||U);function G(e,t,n,r){return o["createElement"]("span",{className:l()("".concat(H,"-item"),Object(i["a"])({},"".concat(H,"-item-disabled"),t))},o["createElement"]("span",{className:"".concat(H,"-item-content")},e),n&&o["createElement"](Ge,{className:"".concat(H,"-item-remove"),onMouseDown:jt,onClick:r,customizeIcon:b},"\xd7"))}function Z(e,t,n,r,i){var s=function(e){jt(e),O(!a)};return o["createElement"]("span",{onMouseDown:s},k({label:t,value:e,disabled:n,closable:r,onClose:i}))}function Y(e){var t=e.disabled,n=e.label,r=e.value,i=!f&&!t,a=n;if("number"===typeof x&&("string"===typeof n||"number"===typeof n)){var o=String(a);o.length>x&&(a="".concat(o.slice(0,x),"..."))}var s=function(e){e&&e.stopPropagation(),T(r,{selected:!1})};return"function"===typeof k?Z(r,a,t,i,s):G(a,t,i,s)}function X(e){var t="function"===typeof E?E(e):E;return G(t,!1)}Rt((function(){F(j.current.scrollWidth)}),[W]);var K=o["createElement"]("div",{className:"".concat(H,"-search"),style:{width:D},onFocus:function(){V(!0)},onBlur:function(){V(!1)}},o["createElement"](It,{ref:u,open:a,prefixCls:n,id:t,inputElement:null,disabled:f,autoFocus:h,autoComplete:m,editable:q,accessibilityIndex:y,value:W,onKeyDown:M,onMouseDown:P,onChange:C,onPaste:A,onCompositionStart:I,onCompositionEnd:R,tabIndex:g,attrs:S(e,!0)}),o["createElement"]("span",{ref:j,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},W,"\xa0")),J=o["createElement"](At["a"],{prefixCls:"".concat(H,"-overflow"),data:r,renderItem:Y,renderRest:X,suffix:K,itemKey:"key",maxCount:_});return o["createElement"](o["Fragment"],null,J,!r.length&&!W&&o["createElement"]("span",{className:"".concat(H,"-placeholder")},c))},Nt=Lt,Dt=function(e){var t=e.inputElement,n=e.prefixCls,r=e.id,i=e.inputRef,a=e.disabled,s=e.autoFocus,u=e.autoComplete,l=e.accessibilityIndex,c=e.mode,f=e.open,p=e.values,d=e.placeholder,h=e.tabIndex,m=e.showSearch,y=e.searchValue,g=e.activeValue,b=e.maxLength,_=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,E=e.onInputPaste,k=e.onInputCompositionStart,O=e.onInputCompositionEnd,T=o["useState"](!1),C=Object(v["a"])(T,2),A=C[0],M=C[1],P="combobox"===c,I=P||m,R=p[0],j=y||"";P&&g&&!A&&(j=g),o["useEffect"]((function(){P&&M(!1)}),[P,g]);var L=!("combobox"!==c&&!f)&&!!j,N=!R||"string"!==typeof R.label&&"number"!==typeof R.label?void 0:R.label.toString();return o["createElement"](o["Fragment"],null,o["createElement"]("span",{className:"".concat(n,"-selection-search")},o["createElement"](It,{ref:i,prefixCls:n,id:r,open:f,inputElement:t,disabled:a,autoFocus:s,autoComplete:u,editable:I,accessibilityIndex:l,value:j,onKeyDown:_,onMouseDown:x,onChange:function(e){M(!0),w(e)},onPaste:E,onCompositionStart:k,onCompositionEnd:O,tabIndex:h,attrs:S(e,!0),maxLength:P?b:void 0})),!P&&R&&!L&&o["createElement"]("span",{className:"".concat(n,"-selection-item"),title:N},R.label),!R&&!L&&o["createElement"]("span",{className:"".concat(n,"-selection-placeholder")},d))},Ft=Dt;function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=o["useRef"](null),n=o["useRef"](null);function r(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return o["useEffect"]((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},r]}var Bt=function(e,t){var n=Object(o["useRef"])(null),r=Object(o["useRef"])(!1),i=e.prefixCls,s=e.multiple,u=e.open,l=e.mode,c=e.showSearch,f=e.tokenWithEnter,p=e.onSearch,d=e.onSearchSubmit,h=e.onToggleOpen,y=e.onInputKeyDown,g=e.domRef;o["useImperativeHandle"](t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var b=zt(0),_=Object(v["a"])(b,2),x=_[0],w=_[1],E=function(e){var t=e.which;t!==m["a"].UP&&t!==m["a"].DOWN||e.preventDefault(),y&&y(e),t!==m["a"].ENTER||"tags"!==l||r.current||u||d(e.target.value),[m["a"].SHIFT,m["a"].TAB,m["a"].BACKSPACE,m["a"].ESC].includes(t)||h(!0)},S=function(){w(!0)},k=Object(o["useRef"])(null),O=function(e){!1!==p(e,!0,r.current)&&h(!0)},T=function(){r.current=!0},C=function(e){r.current=!1,"combobox"!==l&&O(e.target.value)},A=function(e){var t=e.target.value;if(f&&k.current&&/[\r\n]/.test(k.current)){var n=k.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,k.current)}k.current=null,O(t)},M=function(e){var t=e.clipboardData,n=t.getData("text");k.current=n},P=function(e){var t=e.target;if(t!==n.current){var r=void 0!==document.body.style.msTouchAction;r?setTimeout((function(){n.current.focus()})):n.current.focus()}},I=function(e){var t=x();e.target===n.current||t||e.preventDefault(),("combobox"===l||c&&t)&&u||(u&&p("",!0,!1),h())},R={inputRef:n,onInputKeyDown:E,onInputMouseDown:S,onInputChange:A,onInputPaste:M,onInputCompositionStart:T,onInputCompositionEnd:C},j=s?o["createElement"](Nt,Object(a["a"])({},e,R)):o["createElement"](Ft,Object(a["a"])({},e,R));return o["createElement"]("div",{ref:g,className:"".concat(i,"-selector"),onClick:P,onMouseDown:I},j)},Ut=o["forwardRef"](Bt);Ut.displayName="Selector";var Vt=Ut,Ht=n("uciX"),Wt=function(e){var t="number"!==typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}},qt=function(e,t){var n=e.prefixCls,r=(e.disabled,e.visible),s=e.children,u=e.popupElement,c=e.containerWidth,f=e.animation,p=e.transitionName,d=e.dropdownStyle,v=e.dropdownClassName,m=e.direction,g=void 0===m?"ltr":m,b=e.dropdownMatchSelectWidth,_=void 0===b||b,x=e.dropdownRender,w=e.dropdownAlign,E=e.getPopupContainer,S=e.empty,k=e.getTriggerDOMNode,O=e.onPopupVisibleChange,T=Object(h["a"])(e,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange"]),C="".concat(n,"-dropdown"),A=u;x&&(A=x(u));var M=o["useMemo"]((function(){return Wt(_)}),[_]),P=f?"".concat(C,"-").concat(f):p,I=o["useRef"](null);o["useImperativeHandle"](t,(function(){return{getPopupElement:function(){return I.current}}}));var R=Object(y["a"])({minWidth:c},d);return"number"===typeof _?R.width=_:_&&(R.width=c),o["createElement"](Ht["a"],Object(a["a"])({},T,{showAction:O?["click"]:[],hideAction:O?["click"]:[],popupPlacement:"rtl"===g?"bottomRight":"bottomLeft",builtinPlacements:M,prefixCls:C,popupTransitionName:P,popup:o["createElement"]("div",{ref:I},A),popupAlign:w,popupVisible:r,getPopupContainer:E,popupClassName:l()(v,Object(i["a"])({},"".concat(C,"-empty"),S)),popupStyle:R,getTriggerDOMNode:k,onPopupVisibleChange:O}),s)},Gt=o["forwardRef"](qt);Gt.displayName="SelectTrigger";var Zt=Gt,Yt="RC_SELECT_INTERNAL_PROPS_MARK";function Xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=o["useState"](!1),n=Object(v["a"])(t,2),r=n[0],i=n[1],a=o["useRef"](null),s=function(){window.clearTimeout(a.current)};o["useEffect"]((function(){return s}),[]);var u=function(t,n){s(),a.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,u,s]}function Kt(e,t,n){var r=o["useRef"](null);r.current={open:t,triggerOpen:n},o["useEffect"]((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),r.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&r.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}function Jt(e){var t=o["useRef"](e),n=o["useMemo"]((function(){var n=new Map;t.current.forEach((function(e){var t=e.value,r=e.label;t!==r&&n.set(t,r)}));var r=e.map((function(e){var t=n.get(e.value);return e.isCacheable&&t?Object(y["a"])(Object(y["a"])({},e),{},{label:t}):e}));return t.current=r,r}),[e]);return n}function Qt(e){var t=o["useRef"](null),n=o["useMemo"]((function(){var t=new Map;return e.forEach((function(e){var n=e.data.value;t.set(n,e)})),t}),[e]);t.current=n;var r=function(e){return e.map((function(e){return t.current.get(e)})).filter(Boolean)};return r}var $t=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];function en(e){var t=e.prefixCls,n=e.components.optionList,r=e.convertChildrenToData,s=e.flattenOptions,u=e.getLabeledValue,c=e.filterOptions,f=e.isValueDisabled,p=e.findValueOption,d=(e.warningProps,e.fillOptionsWithMissingValue),g=e.omitDOMProps;function b(e,b){var _,x=e.prefixCls,w=void 0===x?t:x,E=e.className,S=e.id,k=e.open,O=e.defaultOpen,T=e.options,C=e.children,A=e.mode,M=e.value,P=e.defaultValue,I=e.labelInValue,R=e.showSearch,j=e.inputValue,L=e.searchValue,N=e.filterOption,D=e.filterSort,F=e.optionFilterProp,z=void 0===F?"value":F,B=e.autoClearSearchValue,U=void 0===B||B,V=e.onSearch,H=e.allowClear,W=e.clearIcon,q=e.showArrow,G=e.inputIcon,Z=e.menuItemSelectedIcon,Y=e.disabled,X=e.loading,K=e.defaultActiveFirstOption,J=e.notFoundContent,Q=void 0===J?"Not Found":J,$=e.optionLabelProp,ee=e.backfill,te=(e.tabIndex,e.getInputElement),ne=e.getRawInputElement,re=e.getPopupContainer,ie=e.listHeight,ae=void 0===ie?200:ie,oe=e.listItemHeight,se=void 0===oe?20:oe,ue=e.animation,le=e.transitionName,ce=e.virtual,fe=e.dropdownStyle,pe=e.dropdownClassName,de=e.dropdownMatchSelectWidth,he=e.dropdownRender,ve=e.dropdownAlign,me=e.showAction,ye=void 0===me?[]:me,ge=e.direction,be=e.tokenSeparators,_e=e.tagRender,xe=e.onPopupScroll,we=e.onDropdownVisibleChange,Ee=e.onFocus,Se=e.onBlur,ke=e.onKeyUp,Oe=e.onKeyDown,Te=e.onMouseDown,Ce=e.onChange,Ae=e.onSelect,Me=e.onDeselect,Pe=e.onClear,Ie=e.internalProps,Re=void 0===Ie?{}:Ie,je=Object(h["a"])(e,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getRawInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"]),Le=Re.mark===Yt,Ne=g?g(je):je;$t.forEach((function(e){delete Ne[e]}));var De=Object(o["useRef"])(null),Fe=Object(o["useRef"])(null),ze=Object(o["useRef"])(null),Be=Object(o["useRef"])(null),Ue=Object(o["useMemo"])((function(){return(be||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[be]),Ve=Xt(),He=Object(v["a"])(Ve,3),We=He[0],qe=He[1],Ze=He[2],Ye=Object(o["useState"])(),Xe=Object(v["a"])(Ye,2),Ke=Xe[0],Je=Xe[1];Object(o["useEffect"])((function(){Je("rc_select_".concat(ht()))}),[]);var Qe=S||Ke,$e=$;void 0===$e&&($e=T?"label":"children");var et="combobox"!==A&&I,tt="tags"===A||"multiple"===A,nt=void 0!==R?R:tt||"combobox"===A,rt=Object(o["useState"])(!1),at=Object(v["a"])(rt,2),ot=at[0],st=at[1];Object(o["useEffect"])((function(){st(Object(Ot["a"])())}),[]);var ft=Object(o["useRef"])(null);o["useImperativeHandle"](b,(function(){var e,t,n;return{focus:null===(e=ze.current)||void 0===e?void 0:e.focus,blur:null===(t=ze.current)||void 0===t?void 0:t.blur,scrollTo:null===(n=Be.current)||void 0===n?void 0:n.scrollTo}}));var pt=Object(Ct["a"])(P,{value:M}),dt=Object(v["a"])(pt,2),vt=dt[0],mt=dt[1],yt=Object(o["useMemo"])((function(){return ut(vt,{labelInValue:et,combobox:"combobox"===A})}),[vt,et]),gt=Object(v["a"])(yt,2),bt=gt[0],_t=gt[1],xt=Object(o["useMemo"])((function(){return new Set(bt)}),[bt]),wt=Object(o["useState"])(null),St=Object(v["a"])(wt,2),kt=St[0],At=St[1],Mt=Object(o["useState"])(""),Pt=Object(v["a"])(Mt,2),It=Pt[0],jt=Pt[1],Lt=It;"combobox"===A&&void 0!==vt?Lt=vt:void 0!==L?Lt=L:j&&(Lt=j);var Nt=Object(o["useMemo"])((function(){var e=T;return void 0===e&&(e=r(C)),"tags"===A&&d&&(e=d(e,vt,$e,I)),e||[]}),[T,C,A,vt]),Dt=Object(o["useMemo"])((function(){return s(Nt,e)}),[Nt]),Ft=Qt(Dt),Bt=Object(o["useMemo"])((function(){if(!Lt||!nt)return Object(it["a"])(Nt);var e=c(Lt,Nt,{optionFilterProp:z,filterOption:"combobox"===A&&void 0===N?function(){return!0}:N});return"tags"===A&&e.every((function(e){return e[z]!==Lt}))&&e.unshift({value:Lt,label:Lt,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),D&&Array.isArray(e)?Object(it["a"])(e).sort(D):e}),[Nt,Lt,A,nt,D]),Ut=Object(o["useMemo"])((function(){return s(Bt,e)}),[Bt]);Object(o["useEffect"])((function(){Be.current&&Be.current.scrollTo&&Be.current.scrollTo(0)}),[Lt]);var Ht=Object(o["useMemo"])((function(){var e=bt.map((function(e){var t=Ft([e]),n=u(e,{options:t,prevValueMap:_t,labelInValue:et,optionLabelProp:$e});return Object(y["a"])(Object(y["a"])({},n),{},{disabled:f(e,t)})}));return A||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]}),[vt,Nt,A]);Ht=Jt(Ht);var Wt=function(e,t,n){var r=Ft([e]),i=p([e],r)[0];if(!Re.skipTriggerSelect){var a=et?u(e,{options:r,prevValueMap:_t,labelInValue:et,optionLabelProp:$e}):e;t&&Ae?Ae(a,i):!t&&Me&&Me(a,i)}Le&&(t&&Re.onRawSelect?Re.onRawSelect(e,i,n):!t&&Re.onRawDeselect&&Re.onRawDeselect(e,i,n))},qt=Object(o["useState"])([]),Gt=Object(v["a"])(qt,2),en=Gt[0],tn=Gt[1],nn=function(e){if(!Le||!Re.skipTriggerChange){var t=Ft(e),n=lt(Array.from(e),{labelInValue:et,options:t,getLabeledValue:u,prevValueMap:_t,optionLabelProp:$e}),r=tt?n:n[0];if(Ce&&(0!==bt.length||0!==n.length)){var i=p(e,t,{prevValueOptions:en});tn(i.map((function(t,n){var r=Object(y["a"])({},t);return Object.defineProperty(r,"_INTERNAL_OPTION_VALUE_",{get:function(){return e[n]}}),r}))),Ce(r,tt?i:i[0])}mt(r)}},rn=function(e,t){var n,r=t.selected,i=t.source;Y||(tt?(n=new Set(bt),r?n.add(e):n["delete"](e)):(n=new Set,n.add(e)),(tt||!tt&&Array.from(bt)[0]!==e)&&nn(Array.from(n)),Wt(e,!tt||r,i),"combobox"===A?(jt(String(e)),At("")):tt&&!U||(jt(""),At("")))},an=function(e,t){rn(e,Object(y["a"])(Object(y["a"])({},t),{},{source:"option"}))},on=function(e,t){rn(e,Object(y["a"])(Object(y["a"])({},t),{},{source:"selection"}))},sn="combobox"===A&&"function"===typeof te&&te()||null,un="function"===typeof ne&&ne(),ln=Object(Ct["a"])(void 0,{defaultValue:O,value:k}),cn=Object(v["a"])(ln,2),fn=cn[0],pn=cn[1],dn=fn,hn=!Q&&!Bt.length;(Y||hn&&dn&&"combobox"===A)&&(dn=!1);var vn,mn=!hn&&dn,yn=function(e){var t=void 0!==e?e:!dn;fn===t||Y||(pn(t),we&&we(t))};un&&(vn=function(e){yn(e)}),Kt((function(){var e;return[De.current,null===(e=Fe.current)||void 0===e?void 0:e.getPopupElement()]}),mn,yn);var gn=function(e,t,n){var r=!0,i=e;At(null);var a=n?null:Et(e,be),o=a;if("combobox"===A)t&&nn([i]);else if(a){i="","tags"!==A&&(o=a.map((function(e){var t=Dt.find((function(t){var n=t.data;return n[$e]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var s=Array.from(new Set([].concat(Object(it["a"])(bt),Object(it["a"])(o))));nn(s),s.forEach((function(e){Wt(e,!0,"input")})),yn(!1),r=!1}return jt(i),V&&Lt!==i&&V(i),r},bn=function(e){if(e&&e.trim()){var t=Array.from(new Set([].concat(Object(it["a"])(bt),[e])));nn(t),t.forEach((function(e){Wt(e,!0,"input")})),jt("")}};Object(o["useEffect"])((function(){fn&&Y&&pn(!1)}),[Y]),Object(o["useEffect"])((function(){dn||tt||"combobox"===A||gn("",!1,!1)}),[dn]);var _n=zt(),xn=Object(v["a"])(_n,2),wn=xn[0],En=xn[1],Sn=function(e){var t,n=wn(),r=e.which;if(r===m["a"].ENTER&&("combobox"!==A&&e.preventDefault(),dn||yn(!0)),En(!!Lt),r===m["a"].BACKSPACE&&!n&&tt&&!Lt&&bt.length){var i=ct(Ht,bt);null!==i.removedValue&&(nn(i.values),Wt(i.removedValue,!1,"input"))}for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];dn&&Be.current&&(t=Be.current).onKeyDown.apply(t,[e].concat(o));Oe&&Oe.apply(void 0,[e].concat(o))},kn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;dn&&Be.current&&(i=Be.current).onKeyUp.apply(i,[e].concat(n));ke&&ke.apply(void 0,[e].concat(n))},On=Object(o["useRef"])(!1),Tn=function(){qe(!0),Y||(Ee&&!On.current&&Ee.apply(void 0,arguments),ye.includes("focus")&&yn(!0)),On.current=!0},Cn=function(){qe(!1,(function(){On.current=!1,yn(!1)})),Y||(Lt&&("tags"===A?(gn("",!1,!1),nn(Array.from(new Set([].concat(Object(it["a"])(bt),[Lt]))))):"multiple"===A&&jt("")),Se&&Se.apply(void 0,arguments))},An=[];Object(o["useEffect"])((function(){return function(){An.forEach((function(e){return clearTimeout(e)})),An.splice(0,An.length)}}),[]);var Mn=function(e){var t,n=e.target,r=null===(t=Fe.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=An.indexOf(i);(-1!==t&&An.splice(t,1),Ze(),ot||r.contains(document.activeElement))||(null===(e=ze.current)||void 0===e||e.focus())}));An.push(i)}if(Te){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];Te.apply(void 0,[e].concat(o))}},Pn=Object(o["useState"])(0),In=Object(v["a"])(Pn,2),Rn=In[0],jn=In[1],Ln=void 0!==K?K:"combobox"!==A,Nn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,i=void 0===r?"keyboard":r;jn(t),ee&&"combobox"===A&&null!==e&&"keyboard"===i&&At(String(e))},Dn=Object(o["useState"])(null),Fn=Object(v["a"])(Dn,2),zn=Fn[0],Bn=Fn[1],Un=Object(o["useState"])({}),Vn=Object(v["a"])(Un,2),Hn=Vn[1];function Wn(){Hn({})}Rt((function(){if(mn){var e,t=Math.ceil(null===(e=De.current)||void 0===e?void 0:e.offsetWidth);zn===t||Number.isNaN(t)||Bn(t)}}),[mn]);var qn,Gn=o["createElement"](n,{ref:Be,prefixCls:w,id:Qe,open:dn,childrenAsData:!T,options:Bt,flattenOptions:Ut,multiple:tt,values:xt,height:ae,itemHeight:se,onSelect:an,onToggleOpen:yn,onActiveValue:Nn,defaultActiveFirstOption:Ln,notFoundContent:Q,onScroll:xe,searchValue:Lt,menuItemSelectedIcon:Z,virtual:!1!==ce&&!1!==de,onMouseEnter:Wn}),Zn=function(){Le&&Re.onClear&&Re.onClear(),Pe&&Pe(),nn([]),gn("",!1,!1)};!Y&&H&&(bt.length||Lt)&&(qn=o["createElement"](Ge,{className:"".concat(w,"-clear"),onMouseDown:Zn,customizeIcon:W},"\xd7"));var Yn,Xn=void 0!==q?q:X||!tt&&"combobox"!==A;Xn&&(Yn=o["createElement"](Ge,{className:l()("".concat(w,"-arrow"),Object(i["a"])({},"".concat(w,"-arrow-loading"),X)),customizeIcon:G,customizeIconProps:{loading:X,searchValue:Lt,open:dn,focused:We,showSearch:nt}}));var Kn=l()(w,E,(_={},Object(i["a"])(_,"".concat(w,"-focused"),We),Object(i["a"])(_,"".concat(w,"-multiple"),tt),Object(i["a"])(_,"".concat(w,"-single"),!tt),Object(i["a"])(_,"".concat(w,"-allow-clear"),H),Object(i["a"])(_,"".concat(w,"-show-arrow"),Xn),Object(i["a"])(_,"".concat(w,"-disabled"),Y),Object(i["a"])(_,"".concat(w,"-loading"),X),Object(i["a"])(_,"".concat(w,"-open"),dn),Object(i["a"])(_,"".concat(w,"-customize-input"),sn),Object(i["a"])(_,"".concat(w,"-show-search"),nt),_)),Jn=o["createElement"](Zt,{ref:Fe,disabled:Y,prefixCls:w,visible:mn,popupElement:Gn,containerWidth:zn,animation:ue,transitionName:le,dropdownStyle:fe,dropdownClassName:pe,direction:ge,dropdownMatchSelectWidth:de,dropdownRender:he,dropdownAlign:ve,getPopupContainer:re,empty:!Nt.length,getTriggerDOMNode:function(){return ft.current},onPopupVisibleChange:vn},un?o["cloneElement"](un,{ref:Object(Tt["a"])(ft,un.props.ref)}):o["createElement"](Vt,Object(a["a"])({},e,{domRef:ft,prefixCls:w,inputElement:sn,ref:ze,id:Qe,showSearch:nt,mode:A,accessibilityIndex:Rn,multiple:tt,tagRender:_e,values:Ht,open:dn,onToggleOpen:yn,searchValue:Lt,activeValue:kt,onSearch:gn,onSearchSubmit:bn,onSelect:on,tokenWithEnter:Ue})));return un?Jn:o["createElement"]("div",Object(a["a"])({className:Kn},Ne,{ref:De,onMouseDown:Mn,onKeyDown:Sn,onKeyUp:kn,onFocus:Tn,onBlur:Cn}),We&&!dn&&o["createElement"]("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(bt.join(", "))),Jn,Yn,qn)}var _=o["forwardRef"](b);return _}function tn(e){var t=e.mode,n=e.options,r=e.children,i=e.backfill,a=e.allowClear,s=e.placeholder,u=e.getInputElement,l=e.showSearch,c=e.onSearch,f=e.defaultOpen,p=e.autoFocus,d=e.labelInValue,h=e.value,v=e.inputValue,m=e.optionLabelProp,y="multiple"===t||"tags"===t,g=void 0!==l?l:y||"combobox"===t,b=n||nt(r);if(Object(ot["a"])("tags"!==t||b.every((function(e){return!e.disabled})),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),"tags"===t||"combobox"===t){var _=b.some((function(e){return e.options?e.options.some((function(e){return"number"===typeof("value"in e?e.value:e.key)})):"number"===typeof("value"in e?e.value:e.key)}));Object(ot["a"])(!_,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(Object(ot["a"])("combobox"!==t||!m,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Object(ot["a"])("combobox"===t||!i,"`backfill` only works with `combobox` mode."),Object(ot["a"])("combobox"===t||!u,"`getInputElement` only work with `combobox` mode."),Object(ot["b"])("combobox"!==t||!u||!a||!s,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),c&&!g&&"combobox"!==t&&"tags"!==t&&Object(ot["a"])(!1,"`onSearch` should work with `showSearch` instead of use alone."),Object(ot["b"])(!f||p,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),void 0!==h&&null!==h){var x=st(h);Object(ot["a"])(!d||x.every((function(e){return"object"===Object(at["a"])(e)&&("key"in e||"value"in e)})),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),Object(ot["a"])(!y||Array.isArray(h),"`value` should be array when `mode` is `multiple` or `tags`")}if(r){var w=null;Object(et["a"])(r).some((function(e){if(!o["isValidElement"](e)||!e.type)return!1;var t=e.type;if(t.isSelectOption)return!1;if(t.isSelectOptGroup){var n=Object(et["a"])(e.props.children).every((function(t){return!(o["isValidElement"](t)&&e.type&&!t.type.isSelectOption)||(w=t.type,!1)}));return!n}return w=t,!0})),w&&Object(ot["a"])(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(w.displayName||w.name||w,"`.")),Object(ot["a"])(void 0===v,"`inputValue` is deprecated, please use `searchValue` instead.")}}var nn=tn,rn=en({prefixCls:"rc-select",components:{optionList:Xe},convertChildrenToData:nt,flattenOptions:mt,getLabeledValue:bt,filterOptions:wt,isValueDisabled:St,findValueOption:gt,warningProps:nn,fillOptionsWithMissingValue:kt}),an=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.selectRef=o["createRef"](),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return Object(f["a"])(n,[{key:"render",value:function(){return o["createElement"](rn,Object(a["a"])({ref:this.selectRef},this.props))}}]),n}(o["Component"]);an.Option=Je,an.OptGroup=$e;var on=an,sn=on,un=n("H84U"),ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},cn=ln,fn=n("6VBw"),pn=function(e,t){return o["createElement"](fn["a"],Object(y["a"])(Object(y["a"])({},e),{},{ref:t,icon:cn}))};pn.displayName="DownOutlined";var dn=o["forwardRef"](pn),hn=n("ye1Q"),vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},mn=vn,yn=function(e,t){return o["createElement"](fn["a"],Object(y["a"])(Object(y["a"])({},e),{},{ref:t,icon:mn}))};yn.displayName="CheckOutlined";var gn=o["forwardRef"](yn),bn=n("4i/N"),_n=n("jN4g"),xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},wn=xn,En=function(e,t){return o["createElement"](fn["a"],Object(y["a"])(Object(y["a"])({},e),{},{ref:t,icon:wn}))};En.displayName="SearchOutlined";var Sn=o["forwardRef"](En);function kn(e){var t=e.suffixIcon,n=e.clearIcon,r=e.menuItemSelectedIcon,i=e.removeIcon,a=e.loading,s=e.multiple,u=e.prefixCls,l=n;n||(l=o["createElement"](_n["a"],null));var c=null;if(void 0!==t)c=t;else if(a)c=o["createElement"](hn["a"],{spin:!0});else{var f="".concat(u,"-suffix");c=function(e){var t=e.open,n=e.showSearch;return t&&n?o["createElement"](Sn,{className:f}):o["createElement"](dn,{className:f})}}var p=null;p=void 0!==r?r:s?o["createElement"](gn,null):null;var d=null;return d=void 0!==i?i:o["createElement"](bn["a"],null),{clearIcon:l,suffixIcon:c,itemIcon:p,removeIcon:d}}var On=n("3Nzz"),Tn=n("EXcs"),Cn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},An="SECRET_COMBOBOX_MODE_DO_NOT_USE",Mn=function(e,t){var n,r,u=e.prefixCls,c=e.bordered,f=void 0===c||c,p=e.className,d=e.getPopupContainer,h=e.dropdownClassName,v=e.listHeight,m=void 0===v?256:v,y=e.listItemHeight,g=void 0===y?24:y,b=e.size,_=e.notFoundContent,x=Cn(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),w=o["useContext"](un["b"]),E=w.getPopupContainer,S=w.getPrefixCls,k=w.renderEmpty,O=w.direction,T=w.virtual,C=w.dropdownMatchSelectWidth,A=o["useContext"](On["b"]),M=S("select",u),P=S(),I=o["useMemo"]((function(){var e=x.mode;if("combobox"!==e)return e===An?"combobox":e}),[x.mode]),R="multiple"===I||"tags"===I;r=void 0!==_?_:"combobox"===I?null:k("Select");var j=kn(Object(a["a"])(Object(a["a"])({},x),{multiple:R,prefixCls:M})),L=j.suffixIcon,N=j.itemIcon,D=j.removeIcon,F=j.clearIcon,z=Object(s["a"])(x,["suffixIcon","itemIcon"]),B=l()(h,Object(i["a"])({},"".concat(M,"-dropdown-").concat(O),"rtl"===O)),U=b||A,V=l()((n={},Object(i["a"])(n,"".concat(M,"-lg"),"large"===U),Object(i["a"])(n,"".concat(M,"-sm"),"small"===U),Object(i["a"])(n,"".concat(M,"-rtl"),"rtl"===O),Object(i["a"])(n,"".concat(M,"-borderless"),!f),n),p);return o["createElement"](sn,Object(a["a"])({ref:t,virtual:T,dropdownMatchSelectWidth:C},z,{transitionName:Object(Tn["a"])(P,"slide-up",x.transitionName),listHeight:m,listItemHeight:g,mode:I,prefixCls:M,direction:O,inputIcon:L,menuItemSelectedIcon:N,removeIcon:D,clearIcon:F,notFoundContent:r,className:V,getPopupContainer:d||E,dropdownClassName:B}))},Pn=o["forwardRef"](Mn),In=Pn;In.SECRET_COMBOBOX_MODE_DO_NOT_USE=An,In.Option=Je,In.OptGroup=$e;var Rn=In,jn=n("WmNS"),Ln=n.n(jn),Nn=n("rWO2"),Dn=n("/7QA"),Fn=n("mDLg");Rn.Option;class zn extends o["Component"]{constructor(){super(...arguments),this.state={province:Dn["RegionList"]["101"].child},this.scene=void 0,this.provinceLayer=void 0,this.handleProvinceChange=e=>{this.setState({province:e}),this.provinceLayer.updateDistrict(Dn["RegionList"][e].child)}}componentWillUnmount(){this.scene.destroy()}componentDidMount(){var e=this;return Object(r["a"])(Ln.a.mark((function t(){var n,r,i;return Ln.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://gw.alipayobjects.com/os/bmw-prod/149b599d-21ef-4c24-812c-20deaee90e20.json");case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,Object.keys(r).map((e=>({code:e,name:r[e][0],pop:r[e][3]}))),i=new Nn["Scene"]({id:"map",map:new Fn["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:3,maxZoom:10})}),i.on("loaded",(()=>{var t=e.state.province;e.provinceLayer=new Dn["RegionLayer"](i,{adcode:t,depth:1,label:{field:"NAME_CHN",textAllowOverlap:!1},fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}})})),e.scene=i;case 10:case"end":return t.stop()}}),t)})))()}render(){return o["createElement"](o["Fragment"],null,o["createElement"]("div",{id:"map",style:{height:"400px",position:"relative"}}))}}},TKrE:function(e,t,n){var r=n("qRkn"),i=n("dt0z"),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",l=o+s+u,c="["+l+"]",f=RegExp(c,"g");function p(e){return e=i(e),e&&e.replace(a,r).replace(f,"")}e.exports=p},TM95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("yOY4");Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return f(r)["default"]}});var i=n("Nq3d");Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return f(i)["default"]}});var a=n("AnK5");Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return f(a)["default"]}});var o=n("HlQe");Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return f(o)["default"]}});var s=n("Ojt5");Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return f(s)["default"]}});var u=n("ccyi");Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return f(u)["default"]}});var l=n("UGzO");Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return f(l)["default"]}});var c=n("Ba7A");function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return f(c)["default"]}})},TO8r:function(e,t){var n=/\s/;function r(e){var t=e.length;while(t--&&n.test(e.charAt(t)));return t}e.exports=r},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TSYQ:function(e,t,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(a["default"]=a,e.exports=a):(r=[],i=function(){return a}.apply(t,r),void 0===i||(e.exports=i))})()},TWNs:function(e,t,n){var r=n("g6v/"),i=n("2oRo"),a=n("lMq5"),o=n("cVYH"),s=n("m/L8").f,u=n("JBy8").f,l=n("ROdP"),c=n("rW0t"),f=n("n3/R"),p=n("busE"),d=n("0Dky"),h=n("afO8").set,v=n("JiZb"),m=n("tiKp"),y=m("match"),g=i.RegExp,b=g.prototype,_=/a/g,x=/a/g,w=new g(_)!==_,E=f.UNSUPPORTED_Y,S=r&&a("RegExp",!w||E||d((function(){return x[y]=!1,g(_)!=_||g(x)==x||"/a/i"!=g(_,"i")})));if(S){var k=function(e,t){var n,r=this instanceof k,i=l(e),a=void 0===t;if(!r&&i&&e.constructor===k&&a)return e;w?i&&!a&&(e=e.source):e instanceof k&&(a&&(t=c.call(e)),e=e.source),E&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var s=o(w?new g(e,t):g(e,t),r?this:b,k);return E&&n&&h(s,{sticky:n}),s},O=function(e){e in k||s(k,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},T=u(g),C=0;while(T.length>C)O(T[C++]);b.constructor=k,k.prototype=b,p(i,"RegExp",k)}v("RegExp")},TWQb:function(e,t,n){var r=n("/GqU"),i=n("UMSQ"),a=n("I8vh"),o=function(e){return function(t,n,o){var s,u=r(t),l=i(u.length),c=a(o,l);if(e&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},TZCg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("DMt2").start,a=n("mgyK");r({target:"String",proto:!0,forced:a},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},Taze:function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function i(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function a(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,i=1;i<e.length;i++)t=n+1*e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+1*r}function o(e){if(0===e.length)throw new Error("mean requires at least one data point");return a(e)/e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.sum=a,t.max=r,t.min=i,t.mean=o,t.statMap=void 0;var s={min:i,max:r,mean:o,sum:a};t.statMap=s},TeQF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("tycR").filter,a=n("Hd5f"),o=n("rkAj"),s=a("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},TeRw:function(e,t,n){"use strict";n.r(t),n.d(t,"getInstance",(function(){return Q}));var r=n("wx14"),i=n("rePB"),a=n("o0o1"),o=n.n(a),s=n("q1tI"),u=n("8tx+"),l=n("4i/N"),c=n("TSYQ"),f=n.n(c),p=n("VTBJ"),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},h=d,v=n("6VBw"),m=function(e,t){return s["createElement"](v["a"],Object(p["a"])(Object(p["a"])({},e),{},{ref:t,icon:h}))};m.displayName="CheckCircleOutlined";var y=s["forwardRef"](m),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},b=g,_=function(e,t){return s["createElement"](v["a"],Object(p["a"])(Object(p["a"])({},e),{},{ref:t,icon:b}))};_.displayName="CloseCircleOutlined";var x=s["forwardRef"](_),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},E=w,S=function(e,t){return s["createElement"](v["a"],Object(p["a"])(Object(p["a"])({},e),{},{ref:t,icon:E}))};S.displayName="ExclamationCircleOutlined";var k=s["forwardRef"](S),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},T=O,C=function(e,t){return s["createElement"](v["a"],Object(p["a"])(Object(p["a"])({},e),{},{ref:t,icon:T}))};C.displayName="InfoCircleOutlined";var A=s["forwardRef"](C),M=n("ODXe"),P=n("8HVG"),I=n("H84U");function R(e,t){var n=function(){var n,i=null,a={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},o=Object(P["a"])(a),u=Object(M["a"])(o,2),l=u[0],c=u[1];function f(a){var o=a.prefixCls,s=n("notification",o);e(Object(r["a"])(Object(r["a"])({},a),{prefixCls:s}),(function(e){var n=e.prefixCls,r=e.instance;i=r,l(t(a,n))}))}var p=s["useRef"]({});return p.current.open=f,["success","info","warning","error"].forEach((function(e){p.current[e]=function(t){return p.current.open(Object(r["a"])(Object(r["a"])({},t),{type:e}))}})),[p.current,s["createElement"](I["a"],{key:"holder"},(function(e){return n=e.getPrefixCls,c}))]};return n}var j,L,N=n("wEI+"),D=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))},F={},z=4.5,B=24,U=24,V="",H="topRight",W=!1;function q(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,s=e.prefixCls;void 0!==s&&(V=s),void 0!==t&&(z=t),void 0!==n?H=n:e.rtl&&(H="topLeft"),void 0!==r&&(U=r),void 0!==i&&(B=i),void 0!==a&&(j=a),void 0!==o&&(L=o),void 0!==e.rtl&&(W=e.rtl)}function G(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r};break}return t}function Z(e,t){var n=e.placement,r=void 0===n?H:n,a=e.top,o=e.bottom,c=e.getContainer,p=void 0===c?j:c,d=e.closeIcon,h=void 0===d?L:d,v=e.prefixCls,m=Object(N["a"])(),y=m.getPrefixCls,g=y("notification",v||V),b="".concat(g,"-").concat(r),_=F[b];if(_)Promise.resolve(_).then((function(e){t({prefixCls:"".concat(g,"-notice"),instance:e})}));else{var x=s["createElement"]("span",{className:"".concat(g,"-close-x")},h||s["createElement"](l["a"],{className:"".concat(g,"-close-icon")})),w=f()("".concat(g,"-").concat(r),Object(i["a"])({},"".concat(g,"-rtl"),!0===W));F[b]=new Promise((function(e){u["a"].newInstance({prefixCls:g,className:w,style:G(r,a,o),getContainer:p,closeIcon:x},(function(n){e(n),t({prefixCls:"".concat(g,"-notice"),instance:n})}))}))}}var Y={success:y,info:A,error:x,warning:k};function X(e,t){var n=e.duration,r=e.icon,a=e.type,o=e.description,u=e.message,l=e.btn,c=e.onClose,p=e.onClick,d=e.key,h=e.style,v=e.className,m=void 0===n?z:n,y=null;r?y=s["createElement"]("span",{className:"".concat(t,"-icon")},e.icon):a&&(y=s["createElement"](Y[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var g=!o&&y?s["createElement"]("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:s["createElement"]("div",{className:y?"".concat(t,"-with-icon"):"",role:"alert"},y,s["createElement"]("div",{className:"".concat(t,"-message")},g,u),s["createElement"]("div",{className:"".concat(t,"-description")},o),l?s["createElement"]("span",{className:"".concat(t,"-btn")},l):null),duration:m,closable:!0,onClose:c,onClick:p,key:d,style:h||{},className:f()(v,Object(i["a"])({},"".concat(t,"-").concat(a),!!a))}}function K(e){Z(e,(function(t){var n=t.prefixCls,r=t.instance;r.notice(X(e,n))}))}var J={open:K,close:function(e){Object.keys(F).forEach((function(t){return Promise.resolve(F[t]).then((function(t){t.removeNotice(e)}))}))},config:q,destroy:function(){Object.keys(F).forEach((function(e){Promise.resolve(F[e]).then((function(e){e.destroy()})),delete F[e]}))}};["success","info","warning","error"].forEach((function(e){J[e]=function(t){return J.open(Object(r["a"])(Object(r["a"])({},t),{type:e}))}})),J.warn=J.warning,J.useNotification=R(Z,X);var Q=function(e){return D(void 0,void 0,void 0,o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})))};t["default"]=J},TfTi:function(e,t,n){"use strict";var r=n("A2ZE"),i=n("ewvW"),a=n("m92n"),o=n("6VoE"),s=n("UMSQ"),u=n("hBjN"),l=n("NaFW");e.exports=function(e){var t,n,c,f,p,d,h=i(e),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,b=l(h),_=0;if(g&&(y=r(y,m>2?arguments[2]:void 0,2)),void 0==b||v==Array&&o(b))for(t=s(h.length),n=new v(t);t>_;_++)d=g?y(h[_],_):h[_],u(n,_,d);else for(f=b.call(h),p=f.next,n=new v;!(c=p.call(f)).done;_++)d=g?a(f,y,[c.value,_],!0):c.value,u(n,_,d);return n.length=_,n}},Thag:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("Sssf"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop()}),void 0,!0,!0).stopped}})},ToJy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),a=n("ewvW"),o=n("0Dky"),s=n("pkCn"),u=[],l=u.sort,c=o((function(){u.sort(void 0)})),f=o((function(){u.sort(null)})),p=s("sort"),d=c||!f||!p;r({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?l.call(a(this)):l.call(a(this),i(e))}})},TpkO:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.buildMapping=f,t.buildIconMaping=p,t.nextPowOfTwo=h;var i=r(n("lSNA"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=30;function f(e){var t=e.characterSet,n=e.getFontWidth,r=e.fontHeight,i=e.buffer,a=e.maxCanvasWidth,o=e.mapping,s=void 0===o?{}:o,u=e.xOffset,l=void 0===u?0:u,f=e.yOffset,p=void 0===f?0:f,d=0,v=l;Array.from(t).forEach((function(e,t){if(!s[e]){var r=n(e,t);v+c>a&&(v=0,d++),s[e]={x:v,y:p+d*c,width:c,height:c,advance:r},v+=c}}));var m=r+2*i;return{mapping:s,xOffset:v,yOffset:p+d*m,canvasHeight:h(p+(d+1)*m)}}function p(e,t,n){var r,i=0,a=0,o=0,u=[],l={},c=s(e);try{for(c.s();!(r=c.n()).done;){var f=r.value;if(!l[f.id]){var p=f.size;i+p+t>n&&(d(l,u,a),i=0,a=o+a+t,o=0,u=[]),u.push({icon:f,xOffset:i}),i=i+p+t,o=Math.max(o,p)}}}catch(m){c.e(m)}finally{c.f()}u.length>0&&d(l,u,a);var v=h(o+a+t);return{mapping:l,canvasHeight:v}}function d(e,t,n){var r,i=s(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,u=a.icon,l=a.xOffset;e[u.id]=o(o({},u),{},{x:l,y:n,image:u.image,width:u.width,height:u.height})}}catch(c){i.e(c)}finally{i.f()}}function h(e){return Math.pow(2,Math.ceil(Math.log2(e)))}},TqRt:function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},Tskq:function(e,t,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},Ty5D:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return U})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return q})),n.d(t,"k",(function(){return G})),n.d(t,"l",(function(){return Z})),n.d(t,"m",(function(){return Y})),n.d(t,"n",(function(){return H}));var r=n("dI71"),i=n("q1tI"),a=n.n(i),o=(n("17x9"),n("YS25")),s=n("tEiQ"),u=n("9R94"),l=n("wx14"),c=n("vRGJ"),f=n.n(c),p=(n("TOwV"),n("zLVn")),d=n("2mql"),h=n.n(d),v=function(e){var t=Object(s["a"])();return t.displayName=e,t},m=v("Router-History"),y=function(e){var t=Object(s["a"])();return t.displayName=e,t},g=y("Router"),b=function(e){function t(t){var n;return n=e.call(this,t)||this,n.state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r["a"])(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(g.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.history=Object(o["d"])(t.props),t}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){return a.a.createElement(b,{history:this.history,children:this.props.children})},t}(a.a.Component);var x=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.a.Component);function w(e){var t=e.message,n=e.when,r=void 0===n||n;return a.a.createElement(g.Consumer,null,(function(e){if(e||Object(u["a"])(!1),!r||e.staticContext)return null;var n=e.history.block;return a.a.createElement(x,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var E={},S=1e4,k=0;function O(e){if(E[e])return E[e];var t=f.a.compile(e);return k<S&&(E[e]=t,k++),t}function T(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:O(e)(t,{pretty:!0})}function C(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.a.createElement(g.Consumer,null,(function(e){e||Object(u["a"])(!1);var r=e.history,s=e.staticContext,c=i?r.push:r.replace,f=Object(o["c"])(t?"string"===typeof n?T(n,t.params):Object(l["a"])({},n,{pathname:T(n.pathname,t.params)}):n);return s?(c(f),null):a.a.createElement(x,{onMount:function(){c(f)},onUpdate:function(e,t){var n=Object(o["c"])(t.to);Object(o["f"])(n,Object(l["a"])({},f,{key:n.key}))||c(f)},to:n})}))}var A={},M=1e4,P=0;function I(e,t){var n=""+t.end+t.strict+t.sensitive,r=A[n]||(A[n]={});if(r[e])return r[e];var i=[],a=f()(e,i,t),o={regexp:a,keys:i};return P<M&&(r[e]=o,P++),o}function R(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u,c=[].concat(r);return c.reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=I(n,{end:a,strict:s,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],f=u.slice(1),p=e===c;return a&&!p?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:p,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var j=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return a.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?R(n.pathname,e.props):t.match,i=Object(l["a"])({},t,{location:n,match:r}),o=e.props,s=o.children,c=o.component,f=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(g.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?a.a.createElement(c,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function N(e,t){return e?Object(l["a"])({},t,{pathname:L(e)+t.pathname}):t}function D(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:Object(l["a"])({},t,{pathname:t.pathname.substr(n.length)})}function F(e){return"string"===typeof e?e:Object(o["e"])(e)}function z(e){return function(){Object(u["a"])(!1)}}function B(){}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,t.handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return B},t.handleBlock=function(){return B},t}Object(r["a"])(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,a=n.context,s=void 0===a?{}:a;s.action=t,s.location=N(i,Object(o["c"])(e)),s.url=F(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,u=void 0===s?"/":s,c=Object(p["a"])(e,["basename","context","location"]),f={createHref:function(e){return L(n+F(e))},action:"POP",location:D(n,Object(o["c"])(u)),push:this.handlePush,replace:this.handleReplace,go:z("go"),goBack:z("goBack"),goForward:z("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(b,Object(l["a"])({},c,{history:f,staticContext:i}))},t}(a.a.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}Object(r["a"])(t,e);var n=t.prototype;return n.render=function(){var e=this;return a.a.createElement(g.Consumer,null,(function(t){t||Object(u["a"])(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?R(i.pathname,Object(l["a"])({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);function H(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p["a"])(t,["wrappedComponentRef"]);return a.a.createElement(g.Consumer,null,(function(t){return t||Object(u["a"])(!1),a.a.createElement(e,Object(l["a"])({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var W=a.a.useContext;function q(){return W(m)}function G(){return W(g).location}function Z(){var e=W(g).match;return e?e.params:{}}function Y(e){var t=G(),n=W(g).match;return e?R(t.pathname,e):n}},"U+yc":function(e,t){function n(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"U/TZ":function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return l(e)||u(e,t)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function l(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var c=function(e,t){var n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r={};return Object.keys(t[1]).forEach((function(e){var n=(e.match(/^(.+)\.([^_]+)$/)||[]).slice(1),a=i(n,2),o=a[0],s=a[1];s&&s!==t[0]||(r[o||e]=t[1][e])})),r},a=(0,r().useState)(n(e,t)),o=i(a,2),s=o[0],u=o[1];return(0,r().useEffect)((function(){u(n(e,t))}),[e,t]),s};t["default"]=c},U3f4:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),a=n("rW0t"),o=n("n3/R").UNSUPPORTED_Y;r&&("g"!=/./g.flags||o)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:a})},U3zj:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f;var a=i(n("lSNA")),o=i(n("LvWW")),s=n("9Rul"),u=r(n("tBDK"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n=[],r={};if(e.features=e.features.filter((function(e){var t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0})),(0,o["default"])(e,!0),0===e.features.length)return{dataArray:[],featureKeys:r};return u.flattenEach(e,(function(e,t){var r=(0,s.getCoords)(e),i=t,a=c(c({},e.properties),{},{coordinates:r,_id:i});n.push(a)})),{dataArray:n,featureKeys:r}}},U5ws:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"clickZoom",void 0),(0,o["default"])(this,"tapZoom",void 0),this.clickZoom=t,this.tapZoom=n}return(0,a["default"])(e,[{key:"enable",value:function(){this.clickZoom.enable(),this.tapZoom.enable()}},{key:"disable",value:function(){this.clickZoom.disable(),this.tapZoom.disable()}},{key:"isEnabled",value:function(){return this.clickZoom.isEnabled()&&this.tapZoom.isEnabled()}},{key:"isActive",value:function(){return this.clickZoom.isActive()||this.tapZoom.isActive()}}]),e}();t["default"]=s},U8pU:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,"a",(function(){return r}))},UB2w:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("QkVN")),p=n("z0pJ"),d=r(n("qmMY")),h=r(n("Yr5f")),v=r(n("XGpW")),m=r(n("f1zB")),y=r(n("kAT6")),g=r(n("S+vj")),b=n("VVEm"),_=n("uzM9"),x=r(n("q9si"));function w(e){var t=E();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e,t){if(t||(t=document),t){var n=t.head||t.getElementsByTagName("head")[0];if(!n){n=t.createElement("head");var r=t.body||t.getElementsByTagName("body")[0];r?r.parentNode.insertBefore(n,r):t.documentElement.appendChild(n)}var i=t.createElement("style");return i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),n.appendChild(i),i}}S(".l7-map {\n  font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  overflow: hidden;\n  position: relative;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.l7-canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n.l7-map:-webkit-full-screen {\n  width: 100%;\n  height: 100%;\n}\n\n.l7-canary {\n  background-color: salmon;\n}\n\n.l7-canvas-container.l7-interactive,\n.l7-ctrl-group button.l7-ctrl-compass {\n  cursor: -webkit-grab;\n  cursor: grab;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.l7-canvas-container.l7-interactive.l7-track-pointer {\n  cursor: pointer;\n}\n\n.l7-canvas-container.l7-interactive:active,\n.l7-ctrl-group button.l7-ctrl-compass:active {\n  cursor: -webkit-grabbing;\n  cursor: grabbing;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate,\n.l7-canvas-container.l7-touch-zoom-rotate .l7-canvas {\n  -ms-touch-action: pan-x pan-y;\n      touch-action: pan-x pan-y;\n}\n\n.l7-canvas-container.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: pinch-zoom;\n      touch-action: pinch-zoom;\n}\n\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan,\n.l7-canvas-container.l7-touch-zoom-rotate.l7-touch-drag-pan .l7-canvas {\n  -ms-touch-action: none;\n      touch-action: none;\n}\n\n.l7-ctrl-top-left,\n.l7-ctrl-top-right,\n.l7-ctrl-bottom-left,\n.l7-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.l7-ctrl-top-left     { top: 0; left: 0; }\n.l7-ctrl-top-right    { top: 0; right: 0; }\n.l7-ctrl-bottom-left  { bottom: 0; left: 0; }\n.l7-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.l7-ctrl {\n  clear: both;\n  pointer-events: auto;\n\n  /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */\n  -webkit-transform: translate(0, 0);\n          transform: translate(0, 0);\n}\n.l7-ctrl-top-left .l7-ctrl     { margin: 10px 0 0 10px; float: left; }\n.l7-ctrl-top-right .l7-ctrl    { margin: 10px 10px 0 0; float: right; }\n.l7-ctrl-bottom-left .l7-ctrl  { margin: 0 0 10px 10px; float: left; }\n.l7-ctrl-bottom-right .l7-ctrl { margin: 0 10px 10px 0; float: right; }\n\n\n.l7-crosshair,\n.l7-crosshair .l7-interactive,\n.l7-crosshair .l7-interactive:active {\n    cursor: crosshair;\n}\n\n.l7-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n    z-index: 10;\n}\n");var k=-2,O=22,T=0,C=60,A={hash:!1,zoom:-1,center:[112,32],pitch:0,bearing:0,interactive:!0,minZoom:k,maxZoom:O,minPitch:T,maxPitch:C,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,trackResize:!0,renderWorldCopies:!0},M=function(e){(0,s["default"])(n,e);var t=w(n);function n(e){var r;(0,i["default"])(this,n),r=t.call(this,(0,f["default"])({},A,e)),(0,c["default"])((0,o["default"])(r),"doubleClickZoom",void 0),(0,c["default"])((0,o["default"])(r),"dragRotate",void 0),(0,c["default"])((0,o["default"])(r),"dragPan",void 0),(0,c["default"])((0,o["default"])(r),"touchZoomRotate",void 0),(0,c["default"])((0,o["default"])(r),"scrollZoom",void 0),(0,c["default"])((0,o["default"])(r),"keyboard",void 0),(0,c["default"])((0,o["default"])(r),"touchPitch",void 0),(0,c["default"])((0,o["default"])(r),"boxZoom",void 0),(0,c["default"])((0,o["default"])(r),"handlers",void 0),(0,c["default"])((0,o["default"])(r),"container",void 0),(0,c["default"])((0,o["default"])(r),"canvas",void 0),(0,c["default"])((0,o["default"])(r),"canvasContainer",void 0),(0,c["default"])((0,o["default"])(r),"renderTaskQueue",new x["default"]),(0,c["default"])((0,o["default"])(r),"frame",void 0),(0,c["default"])((0,o["default"])(r),"trackResize",!0),(0,c["default"])((0,o["default"])(r),"hash",void 0),(0,c["default"])((0,o["default"])(r),"onWindowOnline",(function(){r.update()})),(0,c["default"])((0,o["default"])(r),"onWindowResize",(function(e){r.trackResize&&r.resize({originalEvent:e}).update()})),r.initContainer(),r.resize(),r.handlers=new y["default"]((0,o["default"])(r),r.options),"undefined"!==typeof window&&(window.addEventListener("online",r.onWindowOnline,!1),window.addEventListener("resize",r.onWindowResize,!1),window.addEventListener("orientationchange",r.onWindowResize,!1));var a="string"===typeof e.hash&&e.hash||void 0;return e.hash&&(r.hash=new g["default"](a).addTo((0,o["default"])(r))),r.hash&&r.hash.onHashChange()||(r.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(r.resize(),r.fitBounds(e.bounds,(0,f["default"])({},e.fitBoundsOptions,{duration:0})))),r}return(0,a["default"])(n,[{key:"resize",value:function(e){var t=this.containerDimensions(),n=t[0],r=t[1];this.transform.resize(n,r);var i=!this.moving;return i&&(this.stop(),this.emit("movestart",new Event("movestart",e)),this.emit("move",new Event("move",e))),this.emit("resize",new Event("resize",e)),i&&this.emit("moveend",new Event("moveend",e)),this}},{key:"getContainer",value:function(){return this.container}},{key:"getCanvas",value:function(){return this.canvas}},{key:"getCanvasContainer",value:function(){return this.canvasContainer}},{key:"project",value:function(e){return this.transform.locationPoint(h["default"].convert(e))}},{key:"unproject",value:function(e){return this.transform.pointLocation(m["default"].convert(e))}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()}},{key:"setMaxBounds",value:function(e){this.transform.setMaxBounds(v["default"].convert(e))}},{key:"setStyle",value:function(e){}},{key:"setMinZoom",value:function(e){if(e=null===e||void 0===e?k:e,e>=k&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between ".concat(k," and the current maxZoom, inclusive"))}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(e){if(e=null===e||void 0===e?O:e,e>=this.transform.minZoom)return this.transform.maxZoom=e,this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(e){if(e=null===e||void 0===e?T:e,e<T)throw new Error("minPitch must be greater than or equal to ".concat(T));if(e>=T&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between ".concat(T," and the current maxPitch, inclusive"))}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(e){if(e=null===e||void 0===e?C:e,e>C)throw new Error("maxPitch must be less than or equal to ".concat(C));if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){this.transform.renderWorldCopies=!!e}},{key:"remove",value:function(){this.frame&&(this.frame.cancel(),this.frame=null),this.renderTaskQueue.clear()}},{key:"requestRenderFrame",value:function(e){return this.update(),this.renderTaskQueue.add(e)}},{key:"cancelRenderFrame",value:function(e){return this.renderTaskQueue.remove(e)}},{key:"triggerRepaint",value:function(){var e=this;this.frame||(this.frame=(0,b.renderframe)((function(t){_.PerformanceUtils.frame(t),e.frame=null,e.update(t)})))}},{key:"update",value:function(e){var t=this;this.frame||(this.frame=(0,b.renderframe)((function(n){_.PerformanceUtils.frame(n),t.frame=null,t.renderTaskQueue.run(e)})))}},{key:"initContainer",value:function(){if("string"===typeof this.options.container){if(this.container=window.document.getElementById(this.options.container),!this.container)throw new Error("Container '".concat(this.options.container,"' not found."))}else{if(!(this.options.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this.container=this.options.container}var e=this.container;e.classList.add("l7-map");var t=this.canvasContainer=p.DOM.create("div","l7-canvas-container",e);this.options.interactive&&t.classList.add("l7-interactive")}},{key:"containerDimensions",value:function(){var e=0,t=0;return this.container&&(e=this.container.clientWidth||400,t=this.container.clientHeight||300),[e,t]}},{key:"resizeCanvas",value:function(e,t){var n=p.DOM.DPR||1;this.canvas.width=n*e,this.canvas.height=n*t,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(t,"px")}}]),n}(d["default"]);t.Map=M},UB5X:function(e,t,n){var r=n("NykK"),i=n("ExA7"),a="[object Number]";function o(e){return"number"==typeof e||i(e)&&r(e)==a}e.exports=o},UGzO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),o=p(a),s=n("sEfC"),u=p(s),l=n("p8yl"),c=f(l);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.ColorWrap=function(e){var t=function(t){function n(e){d(this,n);var t=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){var r=c.simpleCheckForValidColor(e);if(r){var i=c.toState(e,e.h||t.state.oldHue);t.setState(i),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,i,n),t.props.onChange&&t.props.onChange(i,n)}},t.handleSwatchHover=function(e,n){var r=c.simpleCheckForValidColor(e);if(r){var i=c.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(i,n)}},t.state=r({},c.toState(e.color,0)),t.debounce=(0,u["default"])((function(e,t,n){e(t,n)}),100),t}return v(n,t),i(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),o["default"].createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},c.toState(e.color,t.oldHue))}}]),n}(a.PureComponent||a.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t["default"]=m},UMSQ:function(e,t,n){var r=n("ppGB"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"UNi/":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},UTVS:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},UVaH:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n("FpZJ");e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},Ucsi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Symbol["for"]("INJECTION");function i(e,t,n,i){function a(){return i&&!Reflect.hasMetadata(r,this,t)&&Reflect.defineMetadata(r,n(),this,t),Reflect.hasMetadata(r,this,t)?Reflect.getMetadata(r,this,t):n()}function o(e){Reflect.defineMetadata(r,e,this,t)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:a,set:o})}function a(e,t){return function(n){return function(r,a){var o=function(){return e.get(n)};i(r,a,o,t)}}}function o(e,t){return function(n,r){return function(a,o){var s=function(){return e.getNamed(n,r)};i(a,o,s,t)}}}function s(e,t){return function(n,r,a){return function(o,s){var u=function(){return e.getTagged(n,r,a)};i(o,s,u,t)}}}function u(e,t){return function(n){return function(r,a){var o=function(){return e.getAll(n)};i(r,a,o,t)}}}t.makePropertyInjectDecorator=a,t.makePropertyInjectNamedDecorator=o,t.makePropertyInjectTaggedDecorator=s,t.makePropertyMultiInjectDecorator=u},Ud0n:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PositionType=void 0,t.PositionType=r,function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft"}(r||(t.PositionType=r={}))},UesL:function(e,t,n){"use strict";var r=n("glrk"),i=n("wE6v");e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},UkeQ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("UB5X")),p=n("gHHc"),d=r(n("YenN")),h=n("kIOg");function v(e){var t=m();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor=texture2D(u_texture,pos);\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n      // gl_FragColor.a =gl_FragColor.a * u_opacity;\n      gl_FragColor.a =gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',g='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\nvarying float v_size;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',b=function(e){(0,s["default"])(n,e);var t=v(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.renderLayers();e.texture=t({data:e.iconService.getCanvas(),mag:p.gl.NEAREST,min:p.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.offsets,r=void 0===n?[0,0]:n;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t,offsets:r})){this.judgeStyleAttributes({opacity:t,offsets:r});var i=this.layer.getEncodedData(),a=this.calDataFrame(this.cellLength,i,this.cellProperties),o=a.data,s=a.width,u=a.height;this.rowCount=u,this.dataTexture=this.cellLength>0&&o.length>0?this.createTexture2D({flipY:!0,data:o,format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:s,height:u}):this.createTexture2D({flipY:!0,data:[1],format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:(0,f["default"])(t)?t:1,u_offsets:this.isOffsetStatic(r)?r:[0,0]}}},{key:"initModels",value:function(){return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:g,fragmentShader:y,triangulation:h.PointImageTriangulation,primitive:p.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?5:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:p.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.iconService.getIconMap(),o=t.shape,s=a[o]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}}]),n}(d["default"]);t["default"]=b},UxlC:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),a=n("ewvW"),o=n("UMSQ"),s=n("ppGB"),u=n("HYAF"),l=n("iqWW"),c=n("FMNM"),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var y=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(n,r){var i=u(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!y&&g||"string"===typeof r&&-1===r.indexOf(b)){var a=n(t,e,this,r);if(a.done)return a.value}var u=i(e),d=String(this),h="function"===typeof r;h||(r=String(r));var v=u.global;if(v){var x=u.unicode;u.lastIndex=0}var w=[];while(1){var E=c(u,d);if(null===E)break;if(w.push(E),!v)break;var S=String(E[0]);""===S&&(u.lastIndex=l(d,o(u.lastIndex),x))}for(var k="",O=0,T=0;T<w.length;T++){E=w[T];for(var C=String(E[0]),A=f(p(s(E.index),d.length),0),M=[],P=1;P<E.length;P++)M.push(m(E[P]));var I=E.groups;if(h){var R=[C].concat(M,A,d);void 0!==I&&R.push(I);var j=String(r.apply(void 0,R))}else j=_(C,d,A,M,I,r);A>=O&&(k+=d.slice(O,A)+j,O=A+C.length)}return k+d.slice(O)}];function _(e,n,r,i,o,s){var u=r+e.length,l=i.length,c=v;return void 0!==o&&(o=a(o),c=h),t.call(s,c,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var c=+a;if(0===c)return t;if(c>l){var f=d(c/10);return 0===f?t:f<=l?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}s=i[c-1]}return void 0===s?"":s}))}}))},Uydy:function(e,t,n){var r=n("I+eb"),i=n("HsHA"),a=Math.acosh,o=Math.log,s=Math.sqrt,u=Math.LN2,l=!a||710!=Math.floor(a(Number.MAX_VALUE))||a(1/0)!=1/0;r({target:"Math",stat:!0,forced:l},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?o(e)+u:i(e-1+s(e-1)*s(e+1))}})},UzNg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),a=n("HYAF"),o=n("afO8"),s=n("ZUd8"),u=s.codeAt,l=s.charAt,c="String Iterator",f=o.set,p=o.getterFor(c),d=i((function(e){f(this,{type:c,string:e,index:0})}),"String",(function(){var e,t=p(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=l(n,r),t.index+=e.length,{value:{codePoint:u(e,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new d(String(a(this)))}})},V4Ht:function(e,t,n){},V6Ve:function(e,t,n){var r=n("kekF"),i=r(Object.keys,Object);e.exports=i},V93i:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},VADA:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("H1Ra");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u94bb\u53d6\u662f\u6539\u53d8\u5c55\u73b0\u6570\u636e\u7ef4\u5ea6\u7684\u5c42\u6b21\uff0c\u53d8\u6362\u5206\u6790\u7684\u7c92\u5ea6\u3002\u5b83\u5305\u62ec\u5411\u4e0a\u94bb\u53d6\uff08drillup\uff09\u548c\u5411\u4e0b\u94bb\u53d6\uff08drilldown\uff09\u3002"),i.a.createElement("p",null,"\u94bb\u53d6\u5730\u56fe\u652f\u6301\u4e24\u79cd\u53ef\u89c6\u5316\u7c7b\u578b"),i.a.createElement("ul",null,i.a.createElement("li",null,"\u586b\u5145\u56fe\uff1a\u5728\u5730\u56fe\u4e0a\u663e\u793a\u6bcf\u4e2a\u533a\u57df\uff0c\u6839\u636e\u533a\u57df\u503c\u8bbe\u7f6e\u533a\u5757\u586b\u5145\u989c\u8272"),i.a.createElement("li",null,"\u6c14\u6ce1\u56fe\uff1a\u6bcf\u4e2a\u533a\u57df\u7528\u6c14\u6ce1\u663e\u793a\uff0c\u6839\u636e\u533a\u57df\u503c\u8bbe\u7f6e\u6c14\u6ce1\u7684\u989c\u8272\u548c\u5927\u5c0f")),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),i.a.createElement(o["a"],{code:"import { DrillDownLayer } from '@antv/l7-district';",lang:"javascript"}),i.a.createElement("p",null,"DrillDownLayer \u63d0\u4f9b\u9ed8\u8ba4\u63d0\u4f9b\u901a\u8fc7 Layer \u7684\u4ea4\u4e92\u4e8b\u4ef6\uff0c\u5b9e\u73b0\u4e0a\u94bb\u4e0b\u94bb\u7684\u4ea4\u4e92\uff0c\u9ed8\u8ba4\u70b9\u51fb\u5f53\u524d\u56fe\u5c42(click)\u5411\u4e0b\u94bb\u53d6\uff0c\u53cc\u51fb\u975e\u5730\u56fe\u533a\u57df(undblclick)\u5411\u4e0a\u94bb\u53d6\u3002\u4f60\u53ef\u4ee5\u66f4\u6539\u9ed8\u8ba4\u4ea4\u4e92\u7684\u7684\u89e6\u53d1\u4e8b\u4ef6\u3002\u901a\u8fc7\u4e5f\u53ef\u4ee5\u66f4\u6539\u9ed8\u8ba4\u7684\u4ea4\u4e92\u884c\u4e3a\u3002"),i.a.createElement("h3",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("ul",null,i.a.createElement("li",null,"scene L7 scene \u5bf9\u8c61"),i.a.createElement("li",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879",i.a.createElement("ul",null,i.a.createElement("li",null,"drillDepth ",i.a.createElement("code",null,"number")," \u4e0b\u94bb\u6df1\u5ea6 ",i.a.createElement("code",null,"0 | 1 | 2")," 1 \u5e02\u7ea7 2\uff0c\u53bf\u7ea7"),i.a.createElement("li",null,"customTrigger \u662f\u5426\u81ea\u5b9a\u4e49\u4e0b\u94bb\u4ea4\u4e92\uff0c\u9ed8\u8ba4 ",i.a.createElement("code",null,"false")),i.a.createElement("li",null,"drillDownTriggerEvent \u5411\u4e0b\u94bb\u53d6\u7684\u89e6\u53d1\u4e8b\u4ef6 \u26d4customTrigger \u4e3a true \u65f6\u4e0d\u751f\u6548"),i.a.createElement("li",null,"drillUpTriggleEvent \u5411\u4e0a\u94bb\u53d6\u7684\u89e6\u53d1\u4e8b\u4ef6 \u26d4customTrigger \u4e3a true \u65f6\u4e0d\u751f\u6548"),i.a.createElement("li",null,"provinceData \u7701\u7ea7\u6570\u636e"),i.a.createElement("li",null,"cityData \u5e02\u7ea7\u6570\u636e \u53ef\u4ee5\u662f\u5168\u91cf\u7684\u6570\u636e\uff0c\u4e0b\u94bb\u65f6\u53ef\u4ee5\u4e0d\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6570\u636e"),i.a.createElement("li",null,"countyData \u53bf\u7ea7\u6570\u636e \u53ef\u4ee5\u662f\u5168\u91cf\u7684\u6570\u636e\uff0c\u4e0b\u94bb\u65f6\u53ef\u4ee5\u4e0d\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6570\u636e"),i.a.createElement("li",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d"),i.a.createElement("li",null,"label \u6587\u672c\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"labelOption")),i.a.createElement("li",null,"bubble \u6c14\u6ce1\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"bubbleOption")),i.a.createElement("li",null,"fill \u586b\u5145\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"fillOption")),i.a.createElement("li",null,"province ",i.a.createElement("code",null,"layerOption")," \u7701\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"city ",i.a.createElement("code",null,"layerOption")," \u5e02\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"county ",i.a.createElement("code",null,"layerOption")," \u53bf\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e")))),i.a.createElement("h4",{id:"layeroption"},i.a.createElement(a["AnchorLink"],{to:"#layeroption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"layerOption"),i.a.createElement("p",null,"\u4e0b\u94bb\u5404\u4e2a\u5c42\u7ea7\u7684\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u72ec\u7acb\u914d\u7f6e\uff0c\u6bcf\u4e00\u5c42\u7ea7\u7684\u6837\u5f0f\uff0c\u4e0d\u8bbe\u7f6e\u548c\u4e0a\u4e00\u5c42\u5c31\u4fdd\u6301\u4e00\u81f4"),i.a.createElement("ul",null,i.a.createElement("li",null,"joinBy: [string, string];"),i.a.createElement("li",null,"label: ",i.a.createElement("code",null,"Partial<ILabelOption>"),";"),i.a.createElement("li",null,"bubble: ",i.a.createElement("code",null,"Partial<IBubbleOption>"),";"),i.a.createElement("li",null,"fill: ",i.a.createElement("code",null,"Partial<IFillOptions>"),";")),i.a.createElement("p",null,"\u26d4 \u4e2d\u56fd\u5730\u56fe\u89c6\u89d2\u8bbe\u7f6e\uff0c\u7701\u754c\uff0c\u6d77\u5cb8\u7ebf\uff0c\u5bbd\u5ea6\u901a\u8fc7\u4ee5\u4e0b\u5c5e\u6027"),i.a.createElement("ul",null,i.a.createElement("li",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272"),i.a.createElement("li",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6"),i.a.createElement("li",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272"),i.a.createElement("li",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6"),i.a.createElement("li",null,"nationalWidth \u56fd\u754c\u7ebf"),i.a.createElement("li",null,"nationalStroke \u56fd\u754c\u7ebf"),i.a.createElement("li",null,"provinceStroke \u7701\u754c\u989c\u8272"),i.a.createElement("li",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6")),i.a.createElement("h4",{id:"labeloption"},i.a.createElement(a["AnchorLink"],{to:"#labeloption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"labelOption"),i.a.createElement("p",null,"\u6587\u672c\u6807\u6ce8\u914d\u7f6e\u9879\uff0c\u76ee\u524d\u53ea\u652f\u6301\u5e38\u91cf\u914d\u7f6e\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u5f00\u542f\u6807\u6ce8 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"color ",i.a.createElement("code",null,"string")," \u6807\u6ce8\u989c\u8272"),i.a.createElement("li",null,"field ",i.a.createElement("code",null,"string")," \u6807\u6ce8\u5b57\u6bb5\u540d \u9ed8\u8ba4 ",i.a.createElement("code",null,"NAME_CHN")),i.a.createElement("li",null,"size ",i.a.createElement("code",null,"number")," \u6587\u672c\u5927\u5c0f \u9ed8\u8ba4 ",i.a.createElement("code",null,"8")),i.a.createElement("li",null,"stroke ",i.a.createElement("code",null,"string")," \u63cf\u8fb9\u989c\u8272 ",i.a.createElement("code",null,"#fff")),i.a.createElement("li",null,"strokeWidth ",i.a.createElement("code",null,"number")," \u63cf\u8fb9\u5bbd\u5ea6 ",i.a.createElement("code",null,"2")),i.a.createElement("li",null,"textAllowOverlap: ",i.a.createElement("code",null,"boolean")," \u6587\u5b57\u662f\u5426\u5141\u8bb8\u538b\u76d6 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"opacity ",i.a.createElement("code",null,"number")," \u900f\u660e\u5ea6 ",i.a.createElement("code",null,"1")),i.a.createElement("li",null,"spacing: ",i.a.createElement("code",null,"number")," \u6587\u672c\u5305\u56f4\u76d2 padding [\u6c34\u5e73\uff0c\u5782\u76f4]\uff0c\u5f71\u54cd\u78b0\u649e\u68c0\u6d4b\u7ed3\u679c\uff0c\u907f\u514d\u76f8\u90bb\u6587\u672c\u9760\u7684\u592a\u8fd1"),i.a.createElement("li",null,"padding: ",i.a.createElement("code",null,"[number, number]")," \u6587\u672c\u76f8\u5bf9\u951a\u70b9\u7684\u504f\u79fb\u91cf [x, y] \u5176\u4ed6\u5305\u62ec text ",i.a.createElement(a["AnchorLink"],{to:"../layer/point_layer/text#style"},"style \u7684\u914d\u7f6e"))),i.a.createElement("h4",{id:"bubbleoption"},i.a.createElement(a["AnchorLink"],{to:"#bubbleoption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"bubbleOption"),i.a.createElement("p",null,"\u6c14\u6ce1\u56fe\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"shape: AttributeType; \u6c14\u6ce1\u5f62\u72b6\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size: AttributeType; \u6c14\u6ce1\u5927\u5c0f\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"color: AttributeType; \u6c14\u6ce1\u989c\u8272\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"scale: ","{"," // \u6570\u5b57\u5ea6\u91cf field: string; \u5ea6\u91cf\u5b57\u6bb5 type: ScaleTypeName; \u5ea6\u91cf\u5b57\u6bb5","}",";"),i.a.createElement("li",null,"style: ","{","opacity: number; \u900f\u660e\u5ea6 stroke: string; \u586b\u5145\u8272 strokeWidth: number; \u586b\u5145\u5bbd\u5ea6","}",";")),i.a.createElement("h4",{id:"fill"},i.a.createElement(a["AnchorLink"],{to:"#fill","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fill"),i.a.createElement("p",null,"\u586b\u5145\u56fe\u6837\u5f0f"),i.a.createElement("ul",null,i.a.createElement("li",null,"scale: ScaleTypeName | null; \u586b\u5145\u989c\u8272\u5ea6\u91cf\u7c7b\u578b"),i.a.createElement("li",null,"color: AttributeType; \u586b\u5145\u989c\u8272\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"style: any; \u586b\u5145\u56fe\u6837\u5f0f"),i.a.createElement("li",null,"activeColor: string; \u586b\u5145\u56fe\u9ad8\u4eae\u989c\u8272")),i.a.createElement("h2",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u4e3a\u4e86\u5b9e\u73b0\u7075\u6d3b\u76f8\u5173\u56fe\u5c42\u7684\u53ef\u89c6\u5316\u6837\u5f0f\uff0c\u5c06\u5185\u90e8\u56fe\u5c42\u901a\u8fc7\u5c5e\u6027\u5bf9\u5916\u900f\u51fa"),i.a.createElement("h3",{id:"provincelayer"},i.a.createElement(a["AnchorLink"],{to:"#provincelayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"provinceLayer"),i.a.createElement("p",null,"\u5168\u56fd\u5730\u56fe CountyLayer"),i.a.createElement("h3",{id:"citylayer"},i.a.createElement(a["AnchorLink"],{to:"#citylayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"cityLayer"),i.a.createElement("p",null,"\u7701\u7ea7\u5730\u56fe ProvinceLayer"),i.a.createElement("h3",{id:"countylayer"},i.a.createElement(a["AnchorLink"],{to:"#countylayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"countyLayer"),i.a.createElement("p",null,"\u5e02\u7ea7\u5730\u56fe CityLayer"),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h3",{id:"drilldown"},i.a.createElement(a["AnchorLink"],{to:"#drilldown","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"drillDown"),i.a.createElement("p",null,"\u5411\u4e0b\u94bb\u53d6 \u81ea\u5b9a\u4e49\u94bb\u53d6\u4ea4\u4e92\u884c\u4e3a\u65f6\u4f7f\u7528"),i.a.createElement("p",null,"** \u53c2\u6570 **"),i.a.createElement("ul",null,i.a.createElement("li",null,"adcode \u4e0b\u94bb\u5c42\u7ea7\u7684\u884c\u653f\u533a\u5212\u4ee3\u7801, \u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff0c\u591a\u4e2a\u4f7f\u7528"),i.a.createElement("li",null,"data \u4e0b\u94bb\u5c42\u7ea7\u7684\u6570\u636e\uff0c\u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u53d6\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"joinBy \u4e0b\u94bb\u5173\u8054\u5b57\u6bb5 ",i.a.createElement("code",null,"Array")," \u53ef\u9009 \u5982\u679c\u4e0d\u8bbe\u7f6e\u53d6\u5168\u5c40\u914d\u7f6e")),i.a.createElement(o["a"],{code:"drillLayer.drillDown(['110100'])",lang:"javascirpt"}),i.a.createElement("h3",{id:"drillup"},i.a.createElement(a["AnchorLink"],{to:"#drillup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"drillUp"),i.a.createElement("p",null,"\u5411\u4e0a\u94bb\u53d6"),i.a.createElement(o["a"],{code:"drillLayer.drillUp(['110100'])",lang:"javascirpt"}),i.a.createElement("h3",{id:"updatedata"},i.a.createElement(a["AnchorLink"],{to:"#updatedata","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData"),i.a.createElement("p",null,"\u53c2\u6570"),i.a.createElement("ul",null,i.a.createElement("li",null,"layer \u66f4\u65b0\u56fe\u5c42\u540d\u79f0 ",i.a.createElement("code",null,"province|city|county")),i.a.createElement("li",null,"data \u6570\u636e"),i.a.createElement("li",null,"joinBy \u53ef\u9009")),i.a.createElement("h3",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5f62"),i.a.createElement("h3",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u9690\u85cf\u56fe\u5c42"),i.a.createElement("h3",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"))))},VAJa:function(e,t,n){"use strict";var r=n("AM7I"),i=n("VF6F"),a=n("JxQ3"),o=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),h=i("Map.prototype.has",!0),v=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},m=function(e,t){var n=v(e,t);return n&&n.value},y=function(e,t,n){var r=v(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},g=function(e,t){return!!v(e,t)};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new o("Side channel does not contain "+a(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return l(e,r)}else if(u){if(t)return p(t,r)}else if(n)return m(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return f(e,r)}else if(u){if(t)return h(t,r)}else if(n)return g(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),c(e,r,i)):u?(t||(t=new u),d(t,r,i)):(n||(n={key:{},next:null}),y(n,r,i))}};return r}},VDXP:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("QkVN")),u=n("4cb6");n("mNvP");var l,c,f=r(n("5swV"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},v={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},m=(l=(0,u.injectable)(),l(c=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"sceneConfigCache",{}),(0,o["default"])(this,"layerConfigCache",{})}return(0,a["default"])(e,[{key:"getSceneConfig",value:function(e){return this.sceneConfigCache[e]}},{key:"getSceneWarninfo",value:function(e){return f["default"][e]}},{key:"setSceneConfig",value:function(e,t){this.sceneConfigCache[e]=d(d({},h),t)}},{key:"getLayerConfig",value:function(e){return this.layerConfigCache[e]}},{key:"setLayerConfig",value:function(e,t,n){this.layerConfigCache[t]=d({},(0,s["default"])({},this.sceneConfigCache[e],v,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}())||c);t["default"]=m},VF6F:function(e,t,n){"use strict";var r=n("AM7I"),i=n("PrET"),a=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&a(e,".prototype.")>-1?i(n):n}},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");function a(e,t){return r(e,i(e),t)}e.exports=a},VOz1:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM"),s=n("Sssf"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=a(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(o(e),u(n,(function(n,a){r?(r=!1,i=a):i=e(i,a,n,t)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},VTBJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("rePB");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},VVEm:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.wrap=l,t.clamp=c,t.interpolate=f,t.bezier=p,t.prefersReducedMotion=h,t.pick=v,t.renderframe=b,t.cancel=t.raf=t.now=t.ease=void 0;var i,a=r(n("zvhG"));function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function c(e,t,n){return Math.min(n,Math.max(t,e))}function f(e,t,n){return e*(1-n)+t*n}function p(e,t,n,r){var i=new a["default"](e,t,n,r);return function(e){return i.solve(e)}}var d=p(.25,.1,.25,1);function h(){return!!window.matchMedia&&(null==i&&(i=window.matchMedia("(prefers-reduced-motion: reduce)")),i.matches)}function v(e,t){var n,r={},i=o(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(s){i.e(s)}finally{i.f()}return r}t.ease=d;var m=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now.bind(Date);t.now=m;var y=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;t.raf=y;var g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;function b(e){var t=y(e);return{cancel:function(){return g(t)}}}t.cancel=g},VVms:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,a=r.height,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=o-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i&&(u=i),l<0?l=0:l>a&&(l=a);var c=u/i,f=1-l/a;return{h:t.h,s:c,v:f,a:t.a,source:"hsv"}}},VWci:function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=S(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",h={};function v(){}function m(){}function y(){}var g={};g[a]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==n&&r.call(_,a)&&(g=_);var x=y.prototype=v.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;function a(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}function S(e,t,n){var r=c;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw a;return M()}n.method=i,n.arg=a;while(1){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){while(++i<e.length)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:M}}function M(){return{value:t,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(x),x[s]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},VYtm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function i(){var n,o,l,c;s(this,i);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return l=u(this,(n=i.__proto__||Object.getPrototypeOf(i)).call.apply(n,[this].concat(p))),o=l,l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a["default"].createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a["default"].createElement(e,r({},l.props,l.state)))},c=o,u(l,c)}return l(i,n),i}(a["default"].Component)};t["default"]=c},VaNO:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},Vf98:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return U})),n.d(t,"WebMercatorViewport",(function(){return U})),n.d(t,"fitBounds",(function(){return B})),n.d(t,"normalizeViewportProps",(function(){return W})),n.d(t,"flyToViewport",(function(){return Y})),n.d(t,"getFlyToDuration",(function(){return X})),n.d(t,"lngLatToWorld",(function(){return C})),n.d(t,"worldToLngLat",(function(){return A})),n.d(t,"worldToPixels",(function(){return N})),n.d(t,"pixelsToWorld",(function(){return D})),n.d(t,"getMeterZoom",(function(){return M})),n.d(t,"getDistanceScales",(function(){return P})),n.d(t,"addMetersToLngLat",(function(){return I})),n.d(t,"getViewMatrix",(function(){return R})),n.d(t,"getProjectionMatrix",(function(){return L})),n.d(t,"getProjectionParameters",(function(){return j})),n.d(t,"PerspectiveMercatorViewport",(function(){return U})),n.d(t,"getUncenteredViewMatrix",(function(){return R})),n.d(t,"projectFlat",(function(){return C})),n.d(t,"unprojectFlat",(function(){return A}));var r=n("1OyB"),i=n("vuIU"),a=n("md7G"),o=n("foSv"),s=n("Ji7U"),u=n("JX7q"),l=n("ODXe"),c=n("bl9R");function f(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function p(e,t){var n=c["transformMat4"]([],t,e);return c["scale"](n,n,1/n[3]),n}function d(e,t){var n=e%t;return n<0?t+n:n}function h(e,t,n){return n*t+(1-n)*e}var v=n("ZaHm"),m=n("ZxFD"),y=n("n+fv");function g(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var b=Math.PI,_=b/4,x=b/180,w=180/b,E=512,S=4003e4,k=1.5;function O(e){return Math.pow(2,e)}function T(e){return Math.log2(e)}function C(e,t){var n=Object(l["a"])(e,2),r=n[0],i=n[1];g(Number.isFinite(r)&&Number.isFinite(t)),g(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude"),t*=E;var a=r*x,o=i*x,s=t*(a+b)/(2*b),u=t*(b-Math.log(Math.tan(_+.5*o)))/(2*b);return[s,u]}function A(e,t){var n=Object(l["a"])(e,2),r=n[0],i=n[1];t*=E;var a=r/t*(2*b)-b,o=2*(Math.atan(Math.exp(b-i/t*(2*b)))-_);return[a*w,o*w]}function M(e){var t=e.latitude;g(Number.isFinite(t));var n=Math.cos(t*x);return T(S*n)-9}function P(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,a=e.highPrecision,o=void 0!==a&&a;i=void 0!==i?i:O(r),g(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},u=E*i,l=Math.cos(t*x),c=u/360,f=c/l,p=u/S/l;if(s.pixelsPerMeter=[p,-p,p],s.metersPerPixel=[1/p,-1/p,1/p],s.pixelsPerDegree=[c,-f,p],s.degreesPerPixel=[1/c,-1/f,1/p],o){var d=x*Math.tan(t*x)/l,h=c*d/2,v=u/S*d,m=v/f*p;s.pixelsPerDegree2=[0,-h,v],s.pixelsPerMeter2=[m,0,m]}return s}function I(e,t){var n=Object(l["a"])(e,3),r=n[0],i=n[1],a=n[2],o=Object(l["a"])(t,3),s=o[0],u=o[1],c=o[2],f=1,p=P({longitude:r,latitude:i,scale:f,highPrecision:!0}),d=p.pixelsPerMeter,h=p.pixelsPerMeter2,v=C(e,f);v[0]+=s*(d[0]+h[0]*u),v[1]+=u*(d[1]+h[1]*u);var m=A(v,f),y=(a||0)+(c||0);return Number.isFinite(a)||Number.isFinite(c)?[m[0],m[1],y]:m}function R(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,a=e.center,o=void 0===a?null:a,s=e.flipY,u=void 0!==s&&s,l=f();return v["translate"](l,l,[0,0,-i]),v["scale"](l,l,[1,1,1/t]),v["rotateX"](l,l,-n*x),v["rotateZ"](l,l,r*x),u&&v["scale"](l,l,[1,-1,1]),o&&v["translate"](l,l,y["negate"]([],o)),l}function j(e){var t=e.width,n=e.height,r=e.altitude,i=void 0===r?k:r,a=e.pitch,o=void 0===a?0:a,s=e.nearZMultiplier,u=void 0===s?1:s,l=e.farZMultiplier,c=void 0===l?1:l,f=o*x,p=Math.atan(.5/i),d=Math.sin(p)*i/Math.sin(Math.PI/2-f-p),h=Math.cos(Math.PI/2-f)*d+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:u,far:h*c}}function L(e){var t=e.width,n=e.height,r=e.pitch,i=e.altitude,a=e.nearZMultiplier,o=e.farZMultiplier,s=j({width:t,height:n,altitude:i,pitch:r,nearZMultiplier:a,farZMultiplier:o}),u=s.fov,l=s.aspect,c=s.near,f=s.far,p=v["perspective"]([],u,l,c,f);return p}function N(e,t){var n=Object(l["a"])(e,3),r=n[0],i=n[1],a=n[2],o=void 0===a?0:a;return g(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(o)),p(t,[r,i,o,1])}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(l["a"])(e,3),i=r[0],a=r[1],o=r[2];if(g(Number.isFinite(i)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(o)){var s=p(t,[i,a,o,1]);return s}var u=p(t,[i,a,0,1]),c=p(t,[i,a,1,1]),f=u[2],d=c[2],h=f===d?0:((n||0)-f)/(d-f);return m["lerp"]([],u,c,h)}var F=f(),z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height,a=t.viewMatrix,o=void 0===a?F:a,s=t.projectionMatrix,u=void 0===s?F:s;Object(r["a"])(this,e),this.width=n||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=u;var l=f();v["multiply"](l,l,this.projectionMatrix),v["multiply"](l,l,this.viewMatrix),this.viewProjectionMatrix=l;var c=f();v["scale"](c,c,[this.width/2,-this.height/2,1]),v["translate"](c,c,[1,-1,0]),v["multiply"](c,c,this.viewProjectionMatrix);var p=v["invert"](f(),c);if(!p)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=p,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(i["a"])(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&v["equals"](t.projectionMatrix,this.projectionMatrix)&&v["equals"](t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=this.projectPosition(e),a=N(i,this.pixelProjectionMatrix),o=Object(l["a"])(a,2),s=o[0],u=o[1],c=r?u:this.height-u;return 2===e.length?[s,c]:[s,c,a[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,a=Object(l["a"])(e,3),o=a[0],s=a[1],u=a[2],c=r?s:this.height-s,f=i&&i*this.pixelsPerMeter,p=D([o,c,u],this.pixelUnprojectionMatrix,f),d=this.unprojectPosition(p),h=Object(l["a"])(d,3),v=h[0],m=h[1],y=h[2];return Number.isFinite(u)?[v,m,y]:Number.isFinite(i)?[v,m,i]:[v,m]}},{key:"projectPosition",value:function(e){var t=this.projectFlat(e),n=Object(l["a"])(t,2),r=n[0],i=n[1],a=(e[2]||0)*this.pixelsPerMeter;return[r,i,a]}},{key:"unprojectPosition",value:function(e){var t=this.unprojectFlat(e),n=Object(l["a"])(t,2),r=n[0],i=n[1],a=(e[2]||0)/this.pixelsPerMeter;return[r,i,a]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}();function B(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,a=void 0===i?0:i,o=e.maxZoom,s=void 0===o?24:o,u=e.padding,c=void 0===u?0:u,f=e.offset,p=void 0===f?[0,0]:f,d=Object(l["a"])(r,2),h=Object(l["a"])(d[0],2),v=h[0],m=h[1],y=Object(l["a"])(d[1],2),b=y[0],_=y[1];if(Number.isFinite(c)){var x=c;c={top:x,bottom:x,left:x,right:x}}else g(Number.isFinite(c.top)&&Number.isFinite(c.bottom)&&Number.isFinite(c.left)&&Number.isFinite(c.right));var w=new U({width:t,height:n,longitude:0,latitude:0,zoom:0}),E=w.project([v,_]),S=w.project([b,m]),k=[Math.max(Math.abs(S[0]-E[0]),a),Math.max(Math.abs(S[1]-E[1]),a)],O=[t-c.left-c.right-2*Math.abs(p[0]),n-c.top-c.bottom-2*Math.abs(p[1])];g(O[0]>0&&O[1]>0);var T=O[0]/k[0],C=O[1]/k[1],A=(c.right-c.left)/2/T,M=(c.bottom-c.top)/2/C,P=[(S[0]+E[0])/2+A,(S[1]+E[1])/2+M],I=w.unproject(P),R=w.zoom+Math.log2(Math.abs(Math.min(T,C)));return{longitude:I[0],latitude:I[1],zoom:Math.min(R,s)}}var U=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,s=n.height,l=n.latitude,c=void 0===l?0:l,f=n.longitude,p=void 0===f?0:f,d=n.zoom,h=void 0===d?0:d,v=n.pitch,m=void 0===v?0:v,y=n.bearing,g=void 0===y?0:y,b=n.altitude,_=void 0===b?1.5:b,x=n.nearZMultiplier,w=n.farZMultiplier;Object(r["a"])(this,t),i=i||1,s=s||1;var E=O(h);_=Math.max(.75,_);var S=C([p,c],E);S[2]=0;var k=L({width:i,height:s,pitch:m,bearing:g,altitude:_,nearZMultiplier:x||1/s,farZMultiplier:w||1.01}),T=R({height:s,center:S,pitch:m,bearing:g,altitude:_,flipY:!0});return e=Object(a["a"])(this,Object(o["a"])(t).call(this,{width:i,height:s,viewMatrix:T,projectionMatrix:k})),e.latitude=c,e.longitude=p,e.zoom=h,e.pitch=m,e.bearing=g,e.altitude=_,e.scale=E,e.center=S,e.pixelsPerMeter=P(Object(u["a"])(Object(u["a"])(e))).pixelsPerMeter[2],Object.freeze(Object(u["a"])(Object(u["a"])(e))),e}return Object(s["a"])(t,e),Object(i["a"])(t,[{key:"projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return C(e,t)}},{key:"unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return A(e,t)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=e.pos,r=D(n,this.pixelUnprojectionMatrix),i=C(t,this.scale),a=m["add"]([],i,m["negate"]([],r)),o=m["add"]([],this.center,a);return A(o,this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,a=B(Object.assign({width:r,height:i,bounds:e},n)),o=a.longitude,s=a.latitude,u=a.zoom;return new t({width:r,height:i,longitude:o,latitude:s,zoom:u})}}]),t}(z),V=85.05113,H=-85.05113;function W(e){var t=e.width,n=e.height,r=e.longitude,i=e.latitude,a=e.zoom,o=e.pitch,s=void 0===o?0:o,u=e.bearing,l=void 0===u?0:u;(r<-180||r>180)&&(r=d(r+180,360)-180),(l<-180||l>180)&&(l=d(l+180,360)-180);var c=new U({width:t,height:n,longitude:r,latitude:i,zoom:a}),f=c.project([r,V])[1],p=c.project([r,H])[1],h=0;return p-f<n&&(a+=Math.log2(n/(p-f)),c=new U({width:t,height:n,longitude:r,latitude:i,zoom:a}),f=c.project([r,V])[1],p=c.project([r,H])[1]),f>0?h=f:p<n&&(h=p-n),h&&(i=c.unproject([t/2,n/2+h])[1]),{width:t,height:n,longitude:r,latitude:i,zoom:a,pitch:s,bearing:l}}var q=.01,G=["longitude","latitude","zoom"],Z={curve:1.414,speed:1.2};function Y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},a=K(e,t,r),o=a.startZoom,s=a.startCenterXY,u=a.uDelta,l=a.w0,c=a.u1,f=a.S,p=a.rho,d=a.rho2,v=a.r0;if(c<q){for(var y=0;y<G.length;y++){var g=G[y],b=e[g],_=t[g];i[g]=h(b,_,n)}return i}var x=n*f,w=Math.cosh(v)/Math.cosh(v+p*x),E=l*((Math.cosh(v)*Math.tanh(v+p*x)-Math.sinh(v))/d)/c,S=1/w,k=o+T(S),C=m["scale"]([],u,E);m["add"](C,C,s),m["scale"](C,C,S);var M=A(C,O(k));return i.longitude=M[0],i.latitude=M[1],i.zoom=k,i}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({},Z,n);var r,i=n,a=i.screenSpeed,o=i.speed,s=i.maxDuration,u=K(e,t,n),l=u.S,c=u.rho,f=1e3*l;return r=Number.isFinite(a)?f/(a/c):f/o,Number.isFinite(s)&&r>s?0:r}function K(e,t,n){n=Object.assign({},Z,n);var r=n.curve,i=e.zoom,a=[e.longitude,e.latitude],o=O(i),s=t.zoom,u=[t.longitude,t.latitude],l=O(s-i),c=C(a,o),f=C(u,o),p=m["sub"]([],f,c),d=Math.max(e.width,e.height),h=d/l,v=m["length"](p),y=Math.max(v,q),g=r*r,b=(h*h-d*d+g*g*y*y)/(2*d*g*y),_=(h*h-d*d-g*g*y*y)/(2*h*g*y),x=Math.log(Math.sqrt(b*b+1)-b),w=Math.log(Math.sqrt(_*_+1)-_),E=(w-x)/r;return{startZoom:i,startCenterXY:c,uDelta:p,w0:d,u1:v,S:E,rho:r,rho2:g,r0:x,r1:w}}},VmRL:function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,a,s,u,l,c,p,d=t&&t.length,h=d?t[0]*n:e.length,v=i(e,0,h,n,!0),m=[];if(!v||v.next===v.prev)return m;if(d&&(v=f(e,t,v,n)),e.length>80*n){r=s=e[0],a=u=e[1];for(var y=n;y<h;y+=n)l=e[y],c=e[y+1],l<r&&(r=l),c<a&&(a=c),l>s&&(s=l),c>u&&(u=c);p=Math.max(s-r,u-a),p=0!==p?1/p:0}return o(v,m,n,r,a,p),m}function i(e,t,n,r,i){var a,o;if(i===j(e,t,n,r)>0)for(a=t;a<n;a+=r)o=P(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=P(a,e[a],e[a+1],o);return o&&E(o,o.next)&&(I(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!E(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(I(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function o(e,t,n,r,i,f,p){if(e){!p&&f&&m(e,r,i,f);var d,h,v=e;while(e.prev!==e.next)if(d=e.prev,h=e.next,f?u(e,r,i,f):s(e))t.push(d.i/n),t.push(e.i/n),t.push(h.i/n),I(e),e=h.next,v=h.next;else if(e=h,e===v){p?1===p?(e=l(a(e),t,n),o(e,t,n,r,i,f,2)):2===p&&c(e,t,n,r,i,f):o(a(e),t,n,r,i,f,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(_(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&w(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,a=e,o=e.next;if(w(i,a,o)>=0)return!1;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=g(s,u,t,n,r),p=g(l,c,t,n,r),d=e.prevZ,h=e.nextZ;while(d&&d.z>=f&&h&&h.z<=p){if(d!==e.prev&&d!==e.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==e.prev&&h!==e.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}while(d&&d.z>=f){if(d!==e.prev&&d!==e.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.prevZ}while(h&&h.z<=p){if(h!==e.prev&&h!==e.next&&_(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!E(i,o)&&S(i,r,r.next,o)&&C(i,o)&&C(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),I(r),I(r.next),r=e=o),r=r.next}while(r!==e);return a(r)}function c(e,t,n,r,i,s){var u=e;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&x(u,l)){var c=M(u,l);return u=a(u,u.next),c=a(c,c.next),o(u,t,n,r,i,s),void o(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function f(e,t,n,r){var o,s,u,l,c,f=[];for(o=0,s=t.length;o<s;o++)u=t[o]*r,l=o<s-1?t[o+1]*r:e.length,c=i(e,u,l,r,!1),c===c.next&&(c.steiner=!0),f.push(b(c));for(f.sort(p),o=0;o<f.length;o++)n=d(f[o],n),n=a(n,n.next);return n}function p(e,t){return e.x-t.x}function d(e,t){var n=h(e,t);if(!n)return t;var r=M(n,e),i=a(n,n.next);return a(r,r.next),t===n?i:t}function h(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&_(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),C(r,e)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&v(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}function v(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function m(e,t,n,r){var i=e;do{null===i.z&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(e){var t,n,r,i,a,o,s,u,l=1;do{n=e,e=null,a=null,o=0;while(n){for(o++,r=n,s=0,t=0;t<l;t++)if(s++,r=r.nextZ,!r)break;u=l;while(s>0||u>0&&r)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function g(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function b(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function _(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function x(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!T(e,t)&&(C(e,t)&&C(t,e)&&A(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||E(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function E(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,n,r){var i=O(w(e,t,n)),a=O(w(e,t,r)),o=O(w(n,r,e)),s=O(w(n,r,t));return i!==a&&o!==s||(!(0!==i||!k(e,n,t))||(!(0!==a||!k(e,r,t))||(!(0!==o||!k(n,e,r))||!(0!==s||!k(n,t,r)))))}function k(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function O(e){return e>0?1:e<0?-1:0}function T(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&S(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function C(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function A(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function M(e,t){var n=new R(e.i,e.x,e.y),r=new R(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function P(e,t,n,r){var i=new R(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function I(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function j(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}e.exports=r,e.exports["default"]=r,r.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(j(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(j(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((e[p]-e[h])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[h+1]-e[p+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},Vnov:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("Sssf"),s=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(o(a(this)),(function(t,n){if(n===e)return s.stop(t)}),void 0,!0,!0).result}})},VpIT:function(e,t,n){var r=n("xDBR"),i=n("xs3f");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},Vu81:function(e,t,n){var r=n("0GbY"),i=n("JBy8"),a=n("dBg+"),o=n("glrk");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},VvCl:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0});var i={getTransform:!0,registerTransform:!0,getParser:!0,registerParser:!0};Object.defineProperty(t,"getTransform",{enumerable:!0,get:function(){return a.getTransform}}),Object.defineProperty(t,"registerTransform",{enumerable:!0,get:function(){return a.registerTransform}}),Object.defineProperty(t,"getParser",{enumerable:!0,get:function(){return a.getParser}}),Object.defineProperty(t,"registerParser",{enumerable:!0,get:function(){return a.registerParser}}),t["default"]=void 0;var a=n("LnO/"),o=r(n("1aS1")),s=r(n("U3zj")),u=r(n("r2rG")),l=r(n("33aj")),c=r(n("ipKF")),f=r(n("AdU9")),p=n("XKfH"),d=n("r6sH"),h=n("3DQS"),v=n("bPN3"),m=n("AuVy"),y=n("u/CC"),g=n("k69C");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var b=f["default"];t["default"]=b,(0,a.registerParser)("geojson",s["default"]),(0,a.registerParser)("image",u["default"]),(0,a.registerParser)("csv",o["default"]),(0,a.registerParser)("json",l["default"]),(0,a.registerParser)("raster",c["default"]),(0,a.registerTransform)("cluster",p.cluster),(0,a.registerTransform)("filter",d.filter),(0,a.registerTransform)("join",m.join),(0,a.registerTransform)("map",y.map),(0,a.registerTransform)("grid",h.aggregatorToGrid),(0,a.registerTransform)("hexagon",v.pointToHexbin)},VxBb:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("fYdt")),a=r(n("xqP6")),o=r(n("WZf2")),s=r(n("iu3m")),u={arc:i["default"],arc3d:a["default"],greatcircle:o["default"],line:s["default"]},l=u;t["default"]=l},"VzS/":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"province",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:1,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{var t=new o["ProvinceLayer"](e,{enablePropagation:!1,adcode:["330000"],depth:2,fill:{color:{values:"red"}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});t.on("click",(e=>{console.log("1",e)}));var n=new o["ProvinceLayer"](e,{enablePropagation:!0,adcode:["330000"],depth:2,fill:{color:{values:"blue"}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});n.on("click",(e=>{console.log("2",e)}))}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"province"}))},"W/eh":function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("6x0u"),o=n("ewvW"),s=n("wE6v"),u=n("4WOD"),l=n("Bs8V").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=l(n,r))return t.set}while(n=u(n))}})},W3HW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=n("4qC0"),i=f(r),a=n("Ag8Z"),o=f(a),s=n("YO3V"),u=f(s),l=n("3WF5"),c=f(l);function f(e){return e&&e.__esModule?e:{default:e}}var p=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,c["default"])(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,u["default"])(t)?(0,o["default"])(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,i["default"])(t)&&n.push(t)})),n};t["default"]=p},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("IyRk"))},WGBp:function(e,t,n){var r=n("xDBR"),i=n("mh/w");e.exports=r?i:function(e){return Set.prototype.values.call(e)}},WJkJ:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},WKiH:function(e,t,n){var r=n("HYAF"),i=n("WJkJ"),a="["+i+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},WKif:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=[{name:"\u4e91\u5357\u7701",code:53e4,value:17881.12},{name:"\u9ed1\u9f99\u6c5f\u7701",code:23e4,value:16361.62},{name:"\u8d35\u5dde\u7701",code:52e4,value:14806.45},{name:"\u5317\u4eac\u5e02",code:11e4,value:30319.98},{name:"\u6cb3\u5317\u7701",code:13e4,value:36010.27},{name:"\u5c71\u897f\u7701",code:14e4,value:16818.11},{name:"\u5409\u6797\u7701",code:22e4,value:15074},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",code:64e4,value:3705.18},{name:"\u8fbd\u5b81\u7701",code:21e4,value:25315.35},{name:"\u6d77\u5357\u7701",code:46e4,value:4832.05},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",code:15e4,value:17289.22},{name:"\u5929\u6d25\u5e02",code:12e4,value:18809.64},{name:"\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a",code:65e4,value:12199.08},{name:"\u4e0a\u6d77\u5e02",code:31e4,value:32679.87},{name:"\u9655\u897f\u7701",code:61e4,value:24438.32},{name:"\u7518\u8083\u7701",code:62e4,value:8246.07},{name:"\u5b89\u5fbd\u7701",code:34e4,value:30006.82},{name:"\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a",code:81e4,value:0},{name:"\u5e7f\u4e1c\u7701",code:44e4,value:97277.77},{name:"\u6cb3\u5357\u7701",code:41e4,value:48055.86},{name:"\u6e56\u5357\u7701",code:43e4,value:36425.78},{name:"\u6c5f\u897f\u7701",code:36e4,value:21984.78},{name:"\u56db\u5ddd\u7701",code:51e4,value:40678.13},{name:"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a",code:45e4,value:20353.51},{name:"\u6c5f\u82cf\u7701",code:32e4,value:92595.4},{name:"\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a",code:82e4,value:null},{name:"\u6d59\u6c5f\u7701",code:33e4,value:56197.15},{name:"\u5c71\u4e1c\u7701",code:37e4,value:76469.67},{name:"\u9752\u6d77\u7701",code:63e4,value:2865.23},{name:"\u91cd\u5e86\u5e02",code:5e5,value:20363.19},{name:"\u798f\u5efa\u7701",code:35e4,value:35804.04},{name:"\u6e56\u5317\u7701",code:42e4,value:39366.55},{name:"\u897f\u85cf\u81ea\u6cbb\u533a",code:54e4,value:1477.63},{name:"\u53f0\u6e7e\u7701",code:71e4,value:null}],t=new a["Scene"]({id:"china3",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:1,minZoom:0,maxZoom:10})});t.on("loaded",(()=>{var n=new o["CountryLayer"](t,{data:e,joinBy:["NAME_CHN","name"],visible:!0,fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"name"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});setTimeout((()=>{n.disablePopup()}),1e4)}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"china3"}))},WPzJ:function(e,t,n){var r=n("I+eb"),i=n("voyM");r({target:"Math",stat:!0},{scale:i})},WWur:function(e,t,n){"use strict";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),a=document.activeElement;i.value=e,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var o=document.getSelection(),s=!1;o.rangeCount>0&&(s=o.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=e.length;var u=!1;try{u=document.execCommand("copy")}catch(l){}return i.remove(),s&&(o.removeAllRanges(),o.addRange(s)),a&&a.focus(),u};e.exports=r,e.exports["default"]=r},WZf2:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("UB5X")),p=n("gHHc"),d=n("z0pJ"),h=r(n("YenN")),v=n("kIOg");function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nuniform float segmentNumber;\nvarying float v_segmentIndex;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying vec2 v_offset;\nvarying float v_a;\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n#pragma include "project"\n#pragma include "projection"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0;\n  // gl_FragColor = v_color;\n  \n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- smoothstep(0.0, 1.0, v_distance_ratio), u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f\n    float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / (segmentNumber - 1.0)));\n    // float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = floor(v_arcDistrance/v_pixelLen);\n    float u = fract(arcRadio * count - animateSpeed * count);\n    // float u = fract(arcRadio * count - animateSpeed);\n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n\n    float v = length(v_offset)/(v_a); // \u6a2a\u5411\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n    \n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}',b='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying vec2 v_offset;\nvarying float v_a;\n\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n    vec2 x = mix(source, target, ratio);\n    vec2 center = mix(source, target, 0.5);\n    float dSourceCenter = distance(source, center);\n    float dXCenter = distance(x, center);\n    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n     float vertex_height = paraboloid(source, target, segmentRatio);\n\n    return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n    );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) *\n    sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\n\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  return mid;\n}\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\n\nvec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    vec2 mid = midPoint(source, target);\n    vec3 x = vec3(source.x, mid.x, target.x);\n    vec3 y = vec3(source.y, mid.y, target.y);\n    return vec2(bezier3(x ,t), bezier3(y,t));\n  }else {\n    if(abs(angularDist - PI) < 0.001) {\n      return (1.0 - t) * source + t * target;\n    }\n    float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n    float b = sin(t * angularDist) / sin(angularDist);\n    vec2 sin_source = sin(source);\n    vec2 cos_source = cos(source);\n    vec2 sin_target = sin(target);\n    vec2 cos_target = cos(target);\n    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n    float z = a * sin_source.y + b * sin_target.y;\n    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n  }\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    total_Distance = total_Distance*8.0;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n    // v_arcDistrance = length(source - target);\n    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;\n    v_arcDistrance = length(source - target);\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      v_arcDistrance = v_arcDistrance * 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n    //   v_arcDistrance *= 10.0;\n      v_arcDistrance = project_pixel_allmap(v_arcDistrance);\n    }\n    v_pixelLen = project_pixel(u_icon_step)/8.0;\n\n    v_a = project_pixel(a_Size);\n    v_offset = offset + offset * sign(a_Position.y);\n    v_iconMapUV = a_iconMapUV;\n  }\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n\n',_={solid:0,dash:1},x=function(e){(0,s["default"])(n,e);var t=m(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:p.gl.NEAREST,min:p.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,a=void 0===i?"normal":i,o=e.lineType,s=void 0===o?"solid":o,u=e.dashArray,l=void 0===u?[10,5]:u,c=e.lineTexture,h=void 0!==c&&c,v=e.iconStep,m=void 0===v?100:v;2===l.length&&l.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var y=0,g=[0,0,0,0],b=[0,0,0,0];if(n&&r&&(g=(0,d.rgb2arr)(n),b=(0,d.rgb2arr)(r),y=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),E=w.data,S=w.width,k=w.height;this.rowCount=k,this.dataTexture=this.cellLength>0&&E.length>0?this.createTexture2D({flipY:!0,data:E,format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:S,height:k}):this.createTexture2D({flipY:!0,data:[1],format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,f["default"])(t)?t:1,u_textureBlend:"normal"===a?0:1,segmentNumber:30,u_line_type:_[s]||0,u_dash_array:l,u_texture:this.texture,u_line_texture:h?1:0,u_icon_step:m,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:y,u_sourceColor:g,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:b,fragmentShader:g,triangulation:v.LineArcTriangulation,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:p.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:p.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.iconService.getIconMap(),o=t.texture,s=a[o]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}}]),n}(h["default"]);t["default"]=x},WaiV:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("qXrd")),u=n("dJQ9"),l=function(){function e(t){(0,i["default"])(this,e),(0,o["default"])(this,"enabled",void 0),(0,o["default"])(this,"active",void 0),(0,o["default"])(this,"lastPoint",void 0),(0,o["default"])(this,"eventButton",void 0),(0,o["default"])(this,"moved",void 0),(0,o["default"])(this,"clickTolerance",void 0),this.reset(),this.clickTolerance=t.clickTolerance||1}return(0,a["default"])(e,[{key:"reset",value:function(){this.active=!1,this.moved=!1,delete this.lastPoint,delete this.eventButton}},{key:"mousedown",value:function(e,t){if(!this.lastPoint){var n=s["default"].mouseButton(e);this.correctButton(e,n)&&(this.lastPoint=t,this.eventButton=n)}}},{key:"mousemoveWindow",value:function(e,t){var n=this.lastPoint;if(n)if(e.preventDefault(),(0,u.buttonStillPressed)(e,this.eventButton))this.reset();else if(this.moved||!(t.dist(n)<this.clickTolerance))return this.moved=!0,this.lastPoint=t,this.move(n,t)}},{key:"mouseupWindow",value:function(e){if(this.lastPoint){var t=s["default"].mouseButton(e);t===this.eventButton&&(this.moved&&s["default"].suppressClick(),this.reset())}}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"isActive",value:function(){return this.active}},{key:"correctButton",value:function(e,t){return!1}},{key:"move",value:function(e,t){}}]),e}();t["default"]=l},WbBG:function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},WjRb:function(e,t,n){var r=n("ROdP");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},WjqV:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CoordinateUniform=t.CoordinateSystem=void 0,t.CoordinateSystem=r,function(e){e[e["LNGLAT"]=1]="LNGLAT",e[e["LNGLAT_OFFSET"]=2]="LNGLAT_OFFSET",e[e["VECTOR_TILE"]=3]="VECTOR_TILE",e[e["IDENTITY"]=4]="IDENTITY",e[e["P20"]=5]="P20",e[e["P20_OFFSET"]=6]="P20_OFFSET",e[e["METER_OFFSET"]=7]="METER_OFFSET",e[e["P20_2"]=8]="P20_2"}(r||(t.CoordinateSystem=r={}));var i={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"};t.CoordinateUniform=i},WkPL:function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},WmNS:function(e,t,n){e.exports=n("VWci")},WqfA:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.toPaddingOptions=s;var i=r(n("lSNA"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={top:0,right:0,bottom:0,left:0};if("number"===typeof e)return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(4===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return o(o({},t),e)}},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");function a(e,t){return e&&r(t,i(t),e)}e.exports=a},X7LM:function(e,t,n){"use strict";var r=2147483647,i=36,a=1,o=26,s=38,u=700,l=72,c=128,f="-",p=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",v=i-a,m=Math.floor,y=String.fromCharCode,g=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?m(e/u):e>>1,e+=m(e/t);e>v*o>>1;r+=i)e=m(e/v);return m(r+(v+1)*e/(e+s))},x=function(e){var t=[];e=g(e);var n,s,u=e.length,p=c,d=0,v=l;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(y(s));var x=t.length,w=x;x&&t.push(f);while(w<u){var E=r;for(n=0;n<e.length;n++)s=e[n],s>=p&&s<E&&(E=s);var S=w+1;if(E-p>m((r-d)/S))throw RangeError(h);for(d+=(E-p)*S,p=E,n=0;n<e.length;n++){if(s=e[n],s<p&&++d>r)throw RangeError(h);if(s==p){for(var k=d,O=i;;O+=i){var T=O<=v?a:O>=v+o?o:O-v;if(k<T)break;var C=k-T,A=i-T;t.push(y(b(T+C%A))),k=m(C/A)}t.push(y(b(k))),v=_(d,S,w==x),d=0,++w}}++d,++p}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(d,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(p.test(n)?"xn--"+x(n):n);return r.join(".")}},XBcw:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-regionlayer"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"}),i.a.createElement(o["default"],s["default"]["docs-regionlayer"].previewerProps,i.a.createElement(u,null)))))},XGpW:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("Yr5f")),u=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"ne",void 0),(0,o["default"])(this,"sw",void 0),t&&(n?this.setSouthWest(t).setNorthEast(n):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return(0,a["default"])(e,[{key:"setNorthEast",value:function(e){return this.ne=e instanceof s["default"]?new s["default"](e.lng,e.lat):s["default"].convert(e),this}},{key:"setSouthWest",value:function(e){return this.sw=e instanceof s["default"]?new s["default"](e.lng,e.lat):s["default"].convert(e),this}},{key:"extend",value:function(t){var n,r,i=this.sw,a=this.ne;if(t instanceof s["default"])n=t,r=t;else{if(!(t instanceof e)){if(Array.isArray(t)){if(4===t.length||t.every(Array.isArray)){var o=t;return this.extend(e.convert(o))}var u=t;return this.extend(s["default"].convert(u))}return this}if(n=t.sw,r=t.ne,!n||!r)return this}return i||a?(i.lng=Math.min(n.lng,i.lng),i.lat=Math.min(n.lat,i.lat),a.lng=Math.max(r.lng,a.lng),a.lat=Math.max(r.lat,a.lat)):(this.sw=new s["default"](n.lng,n.lat),this.ne=new s["default"](r.lng,r.lat)),this}},{key:"getCenter",value:function(){return new s["default"]((this.sw.lng+this.ne.lng)/2,(this.sw.lat+this.ne.lat)/2)}},{key:"getSouthWest",value:function(){return this.sw}},{key:"getNorthEast",value:function(){return this.ne}},{key:"getNorthWest",value:function(){return new s["default"](this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new s["default"](this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this.sw.lng}},{key:"getSouth",value:function(){return this.sw.lat}},{key:"getEast",value:function(){return this.ne.lng}},{key:"getNorth",value:function(){return this.ne.lat}},{key:"toArray",value:function(){return[this.sw.toArray(),this.ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this.sw.toString(),", ").concat(this.ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this.sw&&this.ne)}},{key:"contains",value:function(e){var t=s["default"].convert(e),n=t.lng,r=t.lat,i=this.sw.lat<=r&&r<=this.ne.lat,a=this.sw.lng<=n&&n<=this.ne.lng;return this.sw.lng>this.ne.lng&&(a=this.sw.lng>=n&&n>=this.ne.lng),i&&a}}],[{key:"convert",value:function(t){return t instanceof e?t:new e(t)}}]),e}();t["default"]=u},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XJJf:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("LTtI")),c=r(n("3nxo"));function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getServiceConstructor",value:function(){return c["default"]}}]),n}(l["default"]);t["default"]=d},XKfH:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.cluster=u,t.formatData=l;var i=r(n("lSNA")),a=r(n("mpbz"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){var n=t.radius,r=void 0===n?40:n,i=t.maxZoom,o=void 0===i?18:i,u=t.minZoom,c=void 0===u?0:u,f=t.zoom,p=void 0===f?2:f;if(e.pointIndex){var d=e.pointIndex.getClusters(e.extent,Math.floor(p));return e.dataArray=l(d),e}var h=new a["default"]({radius:r,minZoom:c,maxZoom:o}),v={type:"FeatureCollection",features:[]};return v.features=e.dataArray.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:s({},e)}})),h.load(v.features),h}function l(e){return e.map((function(e,t){return s({coordinates:e.geometry.coordinates,_id:t+1},e.properties)}))}},XMUI:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("RIqP")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("J2iB")),l=function(){function e(t){var n=this;(0,a["default"])(this,e),(0,s["default"])(this,"name",void 0),(0,s["default"])(this,"type",void 0),(0,s["default"])(this,"scale",void 0),(0,s["default"])(this,"descriptor",void 0),(0,s["default"])(this,"featureBufferLayout",[]),(0,s["default"])(this,"needRescale",!1),(0,s["default"])(this,"needRemapping",!1),(0,s["default"])(this,"needRegenerateVertices",!1),(0,s["default"])(this,"featureRange",{startIndex:0,endIndex:1/0}),(0,s["default"])(this,"vertexAttribute",void 0),(0,s["default"])(this,"defaultCallback",(function(e){var t;return 0===e.length?(null===(t=n.scale)||void 0===t?void 0:t.defaultValues)||[]:e.map((function(e,t){var r,i=null===(r=n.scale)||void 0===r?void 0:r.scalers[t].func,a=i(e);return a}))})),this.setProps(t)}return(0,o["default"])(e,[{key:"setProps",value:function(e){Object.assign(this,e)}},{key:"mapping",value:function(e){var t;if(null!==(t=this.scale)&&void 0!==t&&t.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,(0,i["default"])(e));if(!(0,u["default"])(r))return[r]}return this.defaultCallback(e)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}();t["default"]=l},XMab:function(e,t,n){var r=n("dOgj");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},XQvf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("q1tI"),a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function i(){var n,o,l,c;s(this,i);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return l=u(this,(n=i.__proto__||Object.getPrototypeOf(i)).call.apply(n,[this].concat(p))),o=l,l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a["default"].createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a["default"].createElement(e,r({},l.props,l.state)))},c=o,u(l,c)}return l(i,n),i}(a["default"].Component)};t["default"]=c},XSWW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraUniform=void 0;var r={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};t.CameraUniform=r},XWE6:function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},XYm9:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},XbcX:function(e,t,n){"use strict";var r=n("I+eb"),i=n("or9q"),a=n("ewvW"),o=n("UMSQ"),s=n("HAuM"),u=n("ZfDv");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=a(this),r=o(n.length);return s(e),t=u(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),a=n("tMB7"),o=n("+6XX"),s=n("Z8oC");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},"Xt/L":function(e,t){function n(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}e.exports=n},"Y+p1":function(e,t,n){var r=n("wF/u");function i(e,t){return r(e,t)}e.exports=i},Y4C7:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.toKey,s=i.getMap,u=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=s(a(t),n,!1);if(void 0===r||!r["delete"](e))return!1;if(r.size)return!0;var i=u.get(t);return i["delete"](n),!!i.size||u["delete"](t)}})},Y62N:function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,"b",(function(){return r})),t["a"]=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},YESw:function(e,t,n){var r=n("Cwc5"),i=r(Object,"create");e.exports=i},YGK4:function(e,t,n){"use strict";var r=n("bWFh"),i=n("ZWaQ");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},YHcp:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("4cb6");n("mNvP");var u,l,c=n("0t2r"),f=(u=(0,s.injectable)(),u(l=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"container",void 0),(0,o["default"])(this,"scene",void 0),(0,o["default"])(this,"mapsService",void 0),(0,o["default"])(this,"markers",[]),(0,o["default"])(this,"markerLayers",[]),(0,o["default"])(this,"unAddMarkers",[]),(0,o["default"])(this,"unAddMarkerLayers",[])}return(0,a["default"])(e,[{key:"addMarkerLayer",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}},{key:"removeMarkerLayer",value:function(e){e.destroy(),this.markerLayers.indexOf(e);var t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}},{key:"addMarker",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}},{key:"addMarkers",value:function(){var e=this;this.unAddMarkers.forEach((function(t){t.addTo(e.scene),e.markers.push(t)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var e=this;this.unAddMarkerLayers.forEach((function(t){e.markerLayers.push(t),t.addTo(e.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(e){e.remove(),this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(c.TYPES.IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(e){e.remove()})),this.markers=[],this.markerLayers.forEach((function(e){e.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(e){e.destroy()}}]),e}())||l);t["default"]=f},YIFL:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("BsiK"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","PointLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return t[e]}},{key:"getModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),a=e.find((function(e){return e.hasOwnProperty("shape")}));if(a){var o=a.shape;return"dot"===o?"normal":-1!==(null===n||void 0===n?void 0:n.indexOf(o))?"fill":-1!==(null===r||void 0===r?void 0:r.indexOf(o))?"extrude":i.hasOwnProperty(o)?"image":""!==this.fontService.getGlyph(o)?"icon":"text"}return"normal"}}]),n}(f["default"]);t["default"]=v},YJ9l:function(e,t,n){"use strict";var r=n("5wUe"),i=n("bfL6"),a=n("R5yR"),o=n("V93i"),s=n("8jRI"),u=n("8yz6"),l=n("c0go"),c=function(e){return null===e||void 0===e};function f(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[h(t,e),"[",i,"]"].join("")]:[[h(t,e),"[",h(i,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[h(t,e),"=",h(r,e)].join("")]:[[n,h(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}function p(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"===typeof n&&n.includes(e.arrayFormatSeparator),a="string"===typeof n&&!i&&v(n,e).includes(e.arrayFormatSeparator);n=a?v(n,e):n;var o=i||a?n.split(e.arrayFormatSeparator).map((function(t){return v(t,e)})):null===n?n:v(n,e);r[t]=o};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function v(e,t){return t.decode?s(e):e}function m(e){return Array.isArray(e)?e.sort():"object"===typeof e?m(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function y(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function g(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function b(e){e=y(e);var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function _(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function x(e,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),d(t.arrayFormatSeparator);var n=p(t),a=Object.create(null);if("string"!==typeof e)return a;if(e=e.trim().replace(/^[?#&]/,""),!e)return a;var o,s=i(e.split("&"));try{for(s.s();!(o=s.n()).done;){var l=o.value;if(""!==l){var c=u(t.decode?l.replace(/\+/g," "):l,"="),f=r(c,2),h=f[0],y=f[1];y=void 0===y?null:["comma","separator"].includes(t.arrayFormat)?y:v(y,t),n(v(h,t),y,a)}}}catch(O){s.e(O)}finally{s.f()}for(var g=0,b=Object.keys(a);g<b.length;g++){var x=b[g],w=a[x];if("object"===typeof w&&null!==w)for(var E=0,S=Object.keys(w);E<S.length;E++){var k=S[E];w[k]=_(w[k],t)}else a[x]=_(w,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=m(n):e[t]=n,e}),Object.create(null))}t.extract=b,t.parse=x,t.stringify=function(e,t){if(!e)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),d(t.arrayFormatSeparator);for(var n=function(n){return t.skipNull&&c(e[n])||t.skipEmptyString&&""===e[n]},r=f(t),i={},a=0,o=Object.keys(e);a<o.length;a++){var s=o[a];n(s)||(i[s]=e[s])}var u=Object.keys(i);return!1!==t.sort&&u.sort(t.sort),u.map((function(n){var i=e[n];return void 0===i?"":null===i?h(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):h(n,t)+"="+h(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var n=u(e,"#"),i=r(n,2),a=i[0],o=i[1];return Object.assign({url:a.split("?")[0]||"",query:x(b(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:v(o,t)}:{})},t.stringifyUrl=function(e,n){n=Object.assign({encode:!0,strict:!0},n);var r=y(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query),s=t.stringify(o,n);s&&(s="?".concat(s));var u=g(e.url);return e.fragmentIdentifier&&(u="#".concat(h(e.fragmentIdentifier,n))),"".concat(r).concat(s).concat(u)},t.pick=function(e,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=t.parseUrl(e,r),a=i.url,o=i.query,s=i.fragmentIdentifier;return t.stringifyUrl({url:a,query:l(o,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},YMnH:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),i=n("1OyB"),a=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),u=n("q1tI"),l=n("ZvpZ"),c=l["a"],f=n("YlG9"),p=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale,i=n||c[null!==t&&void 0!==t?t:"global"],a=this.context,o=t&&a?a[t]:{};return Object(r["a"])(Object(r["a"])({},i instanceof Function?i():i),o||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?c.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(u["Component"]);p.defaultProps={componentName:"global"},p.contextType=f["a"]},YNrV:function(e,t,n){"use strict";var r=n("g6v/"),i=n("0Dky"),a=n("33Wh"),o=n("dBg+"),s=n("0eef"),u=n("ewvW"),l=n("RK3t"),c=Object.assign,f=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||a(c({},t)).join("")!=i}))?function(e,t){var n=u(e),i=arguments.length,c=1,f=o.f,p=s.f;while(i>c){var d,h=l(arguments[c++]),v=f?a(h).concat(f(h)):a(h),m=v.length,y=0;while(m>y)d=v[y++],r&&!p.call(h,d)||(n[d]=h[d])}return n}:c},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),a=n("ExA7"),o="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,f=l.call(Object);function p(e){if(!a(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}e.exports=p},YOfZ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("Vf98")),u=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"viewport",void 0)}return(0,a["default"])(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,i=e.bearing,a=e.viewportHeight,o=e.viewportWidth;this.viewport=new s["default"]({width:o,height:a,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:i})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}();t["default"]=u},YS25:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return B})),n.d(t,"d",(function(){return V})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return _}));var r=n("wx14");function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function o(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,p=o.length;p>=0;p--){var d=o[p];"."===d?a(o,p):".."===d?(a(o,p),f++):f&&(a(o,p),f--)}if(!l)for(;f--;f)o.unshift("..");!l||""===o[0]||o[0]&&i(o[0])||o.unshift("");var h=o.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}var s=o;function u(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function l(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return l(e,t[n])}));if("object"===typeof e||"object"===typeof t){var n=u(e),r=u(t);return n!==e||r!==t?l(n,r):Object.keys(Object.assign({},e,t)).every((function(n){return l(e[n],t[n])}))}return!1}var c=l,f=n("YJ9l"),p=n.n(f),d=n("9R94");function h(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function y(e,t){return m(e,t)?e.substr(t.length):e}function g(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function _(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function x(e,t,n,i){var a;"string"===typeof e?(a=b(e),a.query=a.search?p.a.parse(a.search):{},a.state=t):(a=Object(r["a"])({},e),void 0===a.pathname&&(a.pathname=""),a.search?("?"!==a.search.charAt(0)&&(a.search="?"+a.search),a.query=p.a.parse(a.search)):(a.search=a.query?p.a.stringify(a.query):"",a.query=a.query||{}),a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=s(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function w(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function E(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter((function(e){return e!==n}))}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach((function(e){return e.apply(void 0,t)}))}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:a}}var S=!("undefined"===typeof window||!window.document||!window.document.createElement);function k(e,t){t(window.confirm(e))}function O(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function T(){return-1===window.navigator.userAgent.indexOf("Trident")}function C(){return-1===window.navigator.userAgent.indexOf("Firefox")}function A(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var M="popstate",P="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function R(e){void 0===e&&(e={}),S||Object(d["a"])(!1);var t=window.history,n=O(),i=!T(),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,l=void 0===u?k:u,c=a.keyLength,f=void 0===c?6:c,p=e.basename?g(h(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname,o=i.search,s=i.hash,u=a+o+s;return p&&(u=y(u,p)),x(u,r,n)}function m(){return Math.random().toString(36).substr(2,f)}var b=E();function w(e){Object(r["a"])(K,e),K.length=t.length,b.notifyListeners(K.location,K.action)}function C(e){A(e)||L(v(e.state))}function R(){L(v(I()))}var j=!1;function L(e){if(j)j=!1,w();else{var t="POP";b.confirmTransitionTo(e,t,l,(function(n){n?w({action:t,location:e}):N(e)}))}}function N(e){var t=K.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(j=!0,V(i))}var D=v(I()),F=[D.key];function z(e){return p+_(e)}function B(e,r){var i="PUSH",a=x(e,r,m(),K.location);b.confirmTransitionTo(a,i,l,(function(e){if(e){var r=z(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var l=F.indexOf(K.location.key),c=F.slice(0,l+1);c.push(a.key),F=c,w({action:i,location:a})}else window.location.href=r}}))}function U(e,r){var i="REPLACE",a=x(e,r,m(),K.location);b.confirmTransitionTo(a,i,l,(function(e){if(e){var r=z(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var l=F.indexOf(K.location.key);-1!==l&&(F[l]=a.key),w({action:i,location:a})}else window.location.replace(r)}}))}function V(e){t.go(e)}function H(){V(-1)}function W(){V(1)}var q=0;function G(e){q+=e,1===q&&1===e?(window.addEventListener(M,C),i&&window.addEventListener(P,R)):0===q&&(window.removeEventListener(M,C),i&&window.removeEventListener(P,R))}var Z=!1;function Y(e){void 0===e&&(e=!1);var t=b.setPrompt(e);return Z||(G(1),Z=!0),function(){return Z&&(Z=!1,G(-1)),t()}}function X(e){var t=b.appendListener(e);return G(1),function(){G(-1),t()}}var K={length:t.length,action:"POP",location:D,createHref:z,push:B,replace:U,go:V,goBack:H,goForward:W,block:Y,listen:X};return K}var j="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:h},slash:{encodePath:h,decodePath:h}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function D(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function F(e){window.location.hash=e}function z(e){window.location.replace(N(window.location.href)+"#"+e)}function B(e){void 0===e&&(e={}),S||Object(d["a"])(!1);var t=window.history,n=(C(),e),i=n.getUserConfirmation,a=void 0===i?k:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?g(h(e.basename)):"",l=L[s],c=l.encodePath,f=l.decodePath;function p(){var e=f(D());return u&&(e=y(e,u)),x(e)}var v=E();function m(e){Object(r["a"])(Q,e),Q.length=t.length,v.notifyListeners(Q.location,Q.action)}var b=!1,w=null;function O(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function T(){var e=D(),t=c(e);if(e!==t)z(t);else{var n=p(),r=Q.location;if(!b&&O(r,n))return;if(w===_(n))return;w=null,A(n)}}function A(e){if(b)b=!1,m();else{var t="POP";v.confirmTransitionTo(e,t,a,(function(n){n?m({action:t,location:e}):M(e)}))}}function M(e){var t=Q.location,n=B.lastIndexOf(_(t));-1===n&&(n=0);var r=B.lastIndexOf(_(e));-1===r&&(r=0);var i=n-r;i&&(b=!0,W(i))}var P=D(),I=c(P);P!==I&&z(I);var R=p(),B=[_(R)];function U(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=N(window.location.href)),n+"#"+c(u+_(e))}function V(e,t){var n="PUSH",r=x(e,void 0,void 0,Q.location);v.confirmTransitionTo(r,n,a,(function(e){if(e){var t=_(r),i=c(u+t),a=D()!==i;if(a){w=t,F(i);var o=B.lastIndexOf(_(Q.location)),s=B.slice(0,o+1);s.push(t),B=s,m({action:n,location:r})}else m()}}))}function H(e,t){var n="REPLACE",r=x(e,void 0,void 0,Q.location);v.confirmTransitionTo(r,n,a,(function(e){if(e){var t=_(r),i=c(u+t),a=D()!==i;a&&(w=t,z(i));var o=B.indexOf(_(Q.location));-1!==o&&(B[o]=t),m({action:n,location:r})}}))}function W(e){t.go(e)}function q(){W(-1)}function G(){W(1)}var Z=0;function Y(e){Z+=e,1===Z&&1===e?window.addEventListener(j,T):0===Z&&window.removeEventListener(j,T)}var X=!1;function K(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return X||(Y(1),X=!0),function(){return X&&(X=!1,Y(-1)),t()}}function J(e){var t=v.appendListener(e);return Y(1),function(){Y(-1),t()}}var Q={length:t.length,action:"POP",location:R,createHref:U,push:V,replace:H,go:W,goBack:q,goForward:G,block:K,listen:J};return Q}function U(e,t,n){return Math.min(Math.max(e,t),n)}function V(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,l=void 0===u?6:u,c=E();function f(e){Object(r["a"])(T,e),T.length=T.entries.length,c.notifyListeners(T.location,T.action)}function p(){return Math.random().toString(36).substr(2,l)}var d=U(s,0,a.length-1),h=a.map((function(e){return x(e,void 0,"string"===typeof e?p():e.key||p())})),v=_;function m(e,t){var r="PUSH",i=x(e,t,p(),T.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=T.index,n=t+1,a=T.entries.slice(0);a.length>n?a.splice(n,a.length-n,i):a.push(i),f({action:r,location:i,index:n,entries:a})}}))}function y(e,t){var r="REPLACE",i=x(e,t,p(),T.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(T.entries[T.index]=i,f({action:r,location:i}))}))}function g(e){var t=U(T.index+e,0,T.entries.length-1),r="POP",i=T.entries[t];c.confirmTransitionTo(i,r,n,(function(e){e?f({action:r,location:i,index:t}):f()}))}function b(){g(-1)}function w(){g(1)}function S(e){var t=T.index+e;return t>=0&&t<T.entries.length}function k(e){return void 0===e&&(e=!1),c.setPrompt(e)}function O(e){return c.appendListener(e)}var T={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:v,push:m,replace:y,go:g,goBack:b,goForward:w,canGo:S,block:k,listen:O};return T}},YWGM:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n,r){(0,i["default"])(this,e),(0,o["default"])(this,"mouseRotate",void 0),(0,o["default"])(this,"mousePitch",void 0),(0,o["default"])(this,"pitchWithRotate",void 0),this.pitchWithRotate=t.pitchWithRotate,this.mouseRotate=n,this.mousePitch=r}return(0,a["default"])(e,[{key:"enable",value:function(){this.mouseRotate.enable(),this.pitchWithRotate&&this.mousePitch.enable()}},{key:"disable",value:function(){this.mouseRotate.disable(),this.mousePitch.disable()}},{key:"isEnabled",value:function(){return this.mouseRotate.isEnabled()&&(!this.pitchWithRotate||this.mousePitch.isEnabled())}},{key:"isActive",value:function(){return this.mouseRotate.isActive()||this.mousePitch.isActive()}}]),e}();t["default"]=s},YenN:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s,u,l=r(n("RIqP")),c=r(n("yG8O")),f=r(n("lwsE")),p=r(n("W8MJ")),d=r(n("lSNA")),h=r(n("U+yc")),v=(r(n("1ABj")),r(n("4qC0"))),m=r(n("UB5X")),y=r(n("Y+p1")),g=r(n("Z0cm")),b=n("gHHc"),_=n("z0pJ"),x=n("SC+/"),w=n("fcGW");function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function S(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=(i=(0,b.lazyInject)(b.TYPES.IGlobalConfigService),a=(0,b.lazyInject)(b.TYPES.IShaderModuleService),o=function(){function e(t){(0,f["default"])(this,e),(0,d["default"])(this,"triangulation",void 0),(0,d["default"])(this,"createTexture2D",void 0),(0,d["default"])(this,"layer",void 0),(0,d["default"])(this,"dataTexture",void 0),(0,d["default"])(this,"DATA_TEXTURE_WIDTH",void 0),(0,d["default"])(this,"rowCount",void 0),(0,d["default"])(this,"cacheStyleProperties",void 0),(0,d["default"])(this,"cellLength",void 0),(0,d["default"])(this,"cellProperties",void 0),(0,d["default"])(this,"cellTypeLayout",void 0),(0,d["default"])(this,"stylePropertyesExist",void 0),(0,d["default"])(this,"dataTextureTest",void 0),(0,c["default"])(this,"configService",s,this),(0,c["default"])(this,"shaderModuleService",u,this),(0,d["default"])(this,"rendererService",void 0),(0,d["default"])(this,"iconService",void 0),(0,d["default"])(this,"fontService",void 0),(0,d["default"])(this,"styleAttributeService",void 0),(0,d["default"])(this,"mapService",void 0),(0,d["default"])(this,"cameraService",void 0),(0,d["default"])(this,"layerService",void 0),this.layer=t,this.rendererService=t.getContainer().get(b.TYPES.IRendererService),this.styleAttributeService=t.getContainer().get(b.TYPES.IStyleAttributeService),this.mapService=t.getContainer().get(b.TYPES.IMapService),this.iconService=t.getContainer().get(b.TYPES.IIconService),this.fontService=t.getContainer().get(b.TYPES.IFontService),this.cameraService=t.getContainer().get(b.TYPES.ICameraService),this.layerService=t.getContainer().get(b.TYPES.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var n=this.rendererService.createTexture2D;this.createTexture2D=n,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new ImageData(1,1).data,mag:b.gl.NEAREST,min:b.gl.NEAREST,width:1,height:1}))}return(0,p["default"])(e,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertyesExist={hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertyesExist.hasOpacity,this.stylePropertyesExist.hasStrokeOpacity,this.stylePropertyesExist.hasStrokeWidth,this.stylePropertyesExist.hasStroke,this.stylePropertyesExist.hasOffsets,0,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(e){var t=!1;return(0,y["default"])(e.opacity,this.cacheStyleProperties.opacity)||(t=!0,this.cacheStyleProperties.opacity=e.opacity),(0,y["default"])(e.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(t=!0,this.cacheStyleProperties.strokeOpacity=e.strokeOpacity),(0,y["default"])(e.strokeWidth,this.cacheStyleProperties.strokeWidth)||(t=!0,this.cacheStyleProperties.strokeWidth=e.strokeWidth),(0,y["default"])(e.stroke,this.cacheStyleProperties.stroke)||(t=!0,this.cacheStyleProperties.stroke=e.stroke),(0,y["default"])(e.offsets,this.cacheStyleProperties.offsets)||(t=!0,this.cacheStyleProperties.offsets=e.offsets),void 0===this.dataTexture&&(t=!0),t}},{key:"judgeStyleAttributes",value:function(e){this.clearLastCalRes(),void 0===e.opacity||(0,m["default"])(e.opacity)||(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertyesExist.hasOpacity=1,this.cellLength+=1),void 0===e.strokeOpacity||(0,m["default"])(e.strokeOpacity)||(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertyesExist.hasStrokeOpacity=1,this.cellLength+=1),void 0===e.strokeWidth||(0,m["default"])(e.strokeWidth)||(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertyesExist.hasStrokeWidth=1,this.cellLength+=1),void 0===e.stroke||this.isStaticColor(e.stroke)||(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertyesExist.hasStroke=1,this.cellLength+=4),void 0===e.offsets||this.isOffsetStatic(e.offsets)||(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertyesExist.hasOffsets=1,this.cellLength+=2)}},{key:"isStaticColor",value:function(e){return!!(0,v["default"])(e)&&!!(0,x.color)(e)}},{key:"getStrokeColor",value:function(e){if(this.isStaticColor(e)){var t=(0,_.rgb2arr)(e);return t[0]=t[0]?t[0]:0,t[1]=t[1]?t[1]:0,t[2]=t[2]?t[2]:0,t[3]=t[3]?t[3]:0,t}return[0,0,0,0]}},{key:"isOffsetStatic",value:function(e){return!!((0,g["default"])(e)&&2===e.length&&(0,m["default"])(e[0])&&(0,m["default"])(e[1]))}},{key:"patchMod",value:function(e,t){for(var n=0;n<t;n++)e.push(-1)}},{key:"patchData",value:function(e,t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.attr,s=a.count,u=t[o];u?"stroke"===o?e.push.apply(e,(0,l["default"])((0,_.rgb2arr)(u))):"offsets"===o?this.isOffsetStatic(u)?e.push(-u[0],u[1]):e.push(0,0):e.push((0,m["default"])(u)?u:1):this.patchMod(e,s)}}catch(c){i.e(c)}finally{i.f()}}},{key:"calDataFrame",value:function(e,t,n){for(var r=t.length,i=Math.ceil(r*e/this.DATA_TEXTURE_WIDTH),a=i*this.DATA_TEXTURE_WIDTH,o=[],s=0;s<r;s++){var u=t[s];this.patchData(o,u,n)}for(var l=o.length;l<a;l++)o.push(-1);return{data:o,width:this.DATA_TEXTURE_WIDTH,height:i}}},{key:"getBlend",value:function(){var e=this.layer.getLayerConfig(),t=e.blend,n=void 0===t?"normal":t;return w.BlendTypes[b.BlendType[n]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"initModels",value:function(){throw new Error("Method not implemented.")}},{key:"clearModels",value:function(){}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}},{key:"startModelAnimate",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;t.enable&&this.layer.setAnimateStartTime()}}]),e}(),s=(0,h["default"])(o.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,h["default"])(o.prototype,"shaderModuleService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);t["default"]=O},Yhre:function(e,t,n){"use strict";var r=n("2oRo"),i=n("g6v/"),a=n("qYE9"),o=n("kRJp"),s=n("4syw"),u=n("0Dky"),l=n("GarU"),c=n("ppGB"),f=n("UMSQ"),p=n("CyXQ"),d=n("d6cI"),h=n("4WOD"),v=n("0rvr"),m=n("JBy8").f,y=n("m/L8").f,g=n("gdVl"),b=n("1E5z"),_=n("afO8"),x=_.get,w=_.set,E="ArrayBuffer",S="DataView",k="prototype",O="Wrong length",T="Wrong index",C=r[E],A=C,M=r[S],P=M&&M[k],I=Object.prototype,R=r.RangeError,j=d.pack,L=d.unpack,N=function(e){return[255&e]},D=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},z=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return j(e,23,4)},U=function(e){return j(e,52,8)},V=function(e,t){y(e[k],t,{get:function(){return x(this)[t]}})},H=function(e,t,n,r){var i=p(n),a=x(e);if(i+t>a.byteLength)throw R(T);var o=x(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+t);return r?u:u.reverse()},W=function(e,t,n,r,i,a){var o=p(n),s=x(e);if(o+t>s.byteLength)throw R(T);for(var u=x(s.buffer).bytes,l=o+s.byteOffset,c=r(+i),f=0;f<t;f++)u[l+f]=c[a?f:t-f-1]};if(a){if(!u((function(){C(1)}))||!u((function(){new C(-1)}))||u((function(){return new C,new C(1.5),new C(NaN),C.name!=E}))){A=function(e){return l(this,A),new C(p(e))};for(var q,G=A[k]=C[k],Z=m(C),Y=0;Z.length>Y;)(q=Z[Y++])in A||o(A,q,C[q]);G.constructor=A}v&&h(P)!==I&&v(P,I);var X=new M(new A(2)),K=P.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||s(P,{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},{unsafe:!0})}else A=function(e){l(this,A,E);var t=p(e);w(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},M=function(e,t,n){l(this,M,S),l(e,A,S);var r=x(e).byteLength,a=c(t);if(a<0||a>r)throw R("Wrong offset");if(n=void 0===n?r-a:f(n),a+n>r)throw R(O);w(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(V(A,"byteLength"),V(M,"buffer"),V(M,"byteLength"),V(M,"byteOffset")),s(M[k],{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return z(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return z(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return L(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return L(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){W(this,1,e,N,t)},setUint8:function(e,t){W(this,1,e,N,t)},setInt16:function(e,t){W(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){W(this,2,e,D,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){W(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){W(this,4,e,F,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){W(this,4,e,B,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){W(this,8,e,U,t,arguments.length>2?arguments[2]:void 0)}});b(A,E),b(M,S),e.exports={ArrayBuffer:A,DataView:M}},Yk9n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n("MON2"),i=n("xfSm"),a=n("GXnB"),o=n("Ztfv"),s=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();function u(e){return function(t,n,s){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var u=new a.Metadata(i.INJECT_TAG,e);"number"===typeof s?o.tagParameter(t,n,s,u):o.tagProperty(t,n,u)}}t.LazyServiceIdentifer=s,t.inject=u},YlG9:function(e,t,n){"use strict";var r=n("q1tI"),i=Object(r["createContext"])(void 0);t["a"]=i},Yr5f:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.earthRadius=void 0;var i=r(n("cDf5")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=n("VVEm"),l=6371008.8;t.earthRadius=l;var c=function(){function e(t,n){if((0,a["default"])(this,e),(0,s["default"])(this,"lng",void 0),(0,s["default"])(this,"lat",void 0),isNaN(t)||isNaN(n))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(n,")"));if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return(0,o["default"])(e,[{key:"wrap",value:function(){return new e((0,u.wrap)(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t),a=l*Math.acos(Math.min(i,1));return a}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"===(0,i["default"])(t)&&null!==t){var n="lng"in t?t.lng:t.lon;return new e(Number(n),Number(t.lat))}throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}();t["default"]=c},YrtM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("q1tI");function i(e,t,n){var i=r["useRef"]({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}},YrvM:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"world",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:1,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{var t=new o["WorldLayer"](e,{data:[],fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});console.log(t.getLayer("fill")),t.on("click",(e=>{alert(e)}))}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"world"}))},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z4nd:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("fXLg");r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},Z8oC:function(e,t,n){var r=n("y1pI");function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},Z9SM:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.applyAnchorClass=a,t.anchorTranslate=t.anchorType=void 0,t.anchorType=r,function(e){e["CENTER"]="center",e["TOP"]="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e["BOTTOM"]="bottom",e["BOTTOM-LEFT"]="bottom-left",e["LEFT"]="left",e["RIGHT"]="right"}(r||(t.anchorType=r={}));var i={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function a(e,t,n){var r=e.classList;for(var a in i)i.hasOwnProperty(a)&&r.remove("l7-".concat(n,"-anchor-").concat(a));r.add("l7-".concat(n,"-anchor-").concat(t))}t.anchorTranslate=i},ZCpW:function(e,t,n){var r=n("lm/5"),i=n("O7RO"),a=n("IOzZ");function o(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=o},ZK94:function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},ZUd8:function(e,t,n){var r=n("ppGB"),i=n("HYAF"),a=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},ZWQd:function(e,t){var n=function(e,t){this.p1=e,this.p2=t};n.prototype.rise=function(){return this.p2[1]-this.p1[1]},n.prototype.run=function(){return this.p2[0]-this.p1[0]},n.prototype.slope=function(){return this.rise()/this.run()},n.prototype.yIntercept=function(){return this.p1[1]-this.p1[0]*this.slope(this.p1,this.p2)},n.prototype.isVertical=function(){return!isFinite(this.slope())},n.prototype.isHorizontal=function(){return this.p1[1]==this.p2[1]},n.prototype._perpendicularDistanceHorizontal=function(e){return Math.abs(this.p1[1]-e[1])},n.prototype._perpendicularDistanceVertical=function(e){return Math.abs(this.p1[0]-e[0])},n.prototype._perpendicularDistanceHasSlope=function(e){var t=this.slope(),n=this.yIntercept();return Math.abs(t*e[0]-e[1]+n)/Math.sqrt(Math.pow(t,2)+1)},n.prototype.perpendicularDistance=function(e){return this.isVertical()?this._perpendicularDistanceVertical(e):this.isHorizontal()?this._perpendicularDistanceHorizontal(e):this._perpendicularDistanceHasSlope(e)},e.exports=n},ZWaQ:function(e,t,n){"use strict";var r=n("m/L8").f,i=n("fHMY"),a=n("4syw"),o=n("A2ZE"),s=n("GarU"),u=n("ImZN"),l=n("fdAy"),c=n("JiZb"),f=n("g6v/"),p=n("8YOa").fastKey,d=n("afO8"),h=d.set,v=d.getterFor;e.exports={getConstructor:function(e,t,n,l){var c=e((function(e,r){s(e,c,t),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[l],e,n)})),d=v(t),m=function(e,t,n){var r,i,a=d(e),o=y(e,t);return o?o.value=n:(a.last=o={index:i=p(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),f?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},y=function(e,t){var n,r=d(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(c.prototype,{clear:function(){var e=this,t=d(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=d(t),r=y(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=d(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!y(this,e)}}),a(c.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),a=v(r);l(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=a(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},ZWtO:function(e,t,n){var r=n("4uTw"),i=n("9Nap");function a(e,t){t=r(t,e);var n=0,a=t.length;while(null!=e&&n<a)e=e[i(t[n++])];return n&&n==a?e:void 0}e.exports=a},ZY7T:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("SEBh"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=o(this),n=new(u(t,a("Set"))),r=s(t.has),i=s(n.add);return l(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},ZaHm:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return a})),n.d(t,"copy",(function(){return o})),n.d(t,"fromValues",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"identity",(function(){return l})),n.d(t,"transpose",(function(){return c})),n.d(t,"invert",(function(){return f})),n.d(t,"adjoint",(function(){return p})),n.d(t,"determinant",(function(){return d})),n.d(t,"multiply",(function(){return h})),n.d(t,"translate",(function(){return v})),n.d(t,"scale",(function(){return m})),n.d(t,"rotate",(function(){return y})),n.d(t,"rotateX",(function(){return g})),n.d(t,"rotateY",(function(){return b})),n.d(t,"rotateZ",(function(){return _})),n.d(t,"fromTranslation",(function(){return x})),n.d(t,"fromScaling",(function(){return w})),n.d(t,"fromRotation",(function(){return E})),n.d(t,"fromXRotation",(function(){return S})),n.d(t,"fromYRotation",(function(){return k})),n.d(t,"fromZRotation",(function(){return O})),n.d(t,"fromRotationTranslation",(function(){return T})),n.d(t,"fromQuat2",(function(){return C})),n.d(t,"getTranslation",(function(){return A})),n.d(t,"getScaling",(function(){return M})),n.d(t,"getRotation",(function(){return P})),n.d(t,"fromRotationTranslationScale",(function(){return I})),n.d(t,"fromRotationTranslationScaleOrigin",(function(){return R})),n.d(t,"fromQuat",(function(){return j})),n.d(t,"frustum",(function(){return L})),n.d(t,"perspective",(function(){return N})),n.d(t,"perspectiveFromFieldOfView",(function(){return D})),n.d(t,"ortho",(function(){return F})),n.d(t,"lookAt",(function(){return z})),n.d(t,"targetTo",(function(){return B})),n.d(t,"str",(function(){return U})),n.d(t,"frob",(function(){return V})),n.d(t,"add",(function(){return H})),n.d(t,"subtract",(function(){return W})),n.d(t,"multiplyScalar",(function(){return q})),n.d(t,"multiplyScalarAndAdd",(function(){return G})),n.d(t,"exactEquals",(function(){return Z})),n.d(t,"equals",(function(){return Y})),n.d(t,"mul",(function(){return X})),n.d(t,"sub",(function(){return K}));var r=n("yU0y");function i(){var e=new r["ARRAY_TYPE"](16);return r["ARRAY_TYPE"]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new r["ARRAY_TYPE"](16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function s(e,t,n,i,a,o,s,u,l,c,f,p,d,h,v,m){var y=new r["ARRAY_TYPE"](16);return y[0]=e,y[1]=t,y[2]=n,y[3]=i,y[4]=a,y[5]=o,y[6]=s,y[7]=u,y[8]=l,y[9]=c,y[10]=f,y[11]=p,y[12]=d,y[13]=h,y[14]=v,y[15]=m,y}function u(e,t,n,r,i,a,o,s,u,l,c,f,p,d,h,v,m){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=f,e[11]=p,e[12]=d,e[13]=h,e[14]=v,e[15]=m,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function f(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],y=t[15],g=n*s-r*o,b=n*u-i*o,_=n*l-a*o,x=r*u-i*s,w=r*l-a*s,E=i*l-a*u,S=c*v-f*h,k=c*m-p*h,O=c*y-d*h,T=f*m-p*v,C=f*y-d*v,A=p*y-d*m,M=g*A-b*C+_*T+x*O-w*k+E*S;return M?(M=1/M,e[0]=(s*A-u*C+l*T)*M,e[1]=(i*C-r*A-a*T)*M,e[2]=(v*E-m*w+y*x)*M,e[3]=(p*w-f*E-d*x)*M,e[4]=(u*O-o*A-l*k)*M,e[5]=(n*A-i*O+a*k)*M,e[6]=(m*_-h*E-y*b)*M,e[7]=(c*E-p*_+d*b)*M,e[8]=(o*C-s*O+l*S)*M,e[9]=(r*O-n*C-a*S)*M,e[10]=(h*w-v*_+y*g)*M,e[11]=(f*_-c*w-d*g)*M,e[12]=(s*k-o*T-u*S)*M,e[13]=(n*T-r*k+i*S)*M,e[14]=(v*b-h*x-m*g)*M,e[15]=(c*x-f*b+p*g)*M,e):null}function p(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],m=t[14],y=t[15];return e[0]=s*(p*y-d*m)-f*(u*y-l*m)+v*(u*d-l*p),e[1]=-(r*(p*y-d*m)-f*(i*y-a*m)+v*(i*d-a*p)),e[2]=r*(u*y-l*m)-s*(i*y-a*m)+v*(i*l-a*u),e[3]=-(r*(u*d-l*p)-s*(i*d-a*p)+f*(i*l-a*u)),e[4]=-(o*(p*y-d*m)-c*(u*y-l*m)+h*(u*d-l*p)),e[5]=n*(p*y-d*m)-c*(i*y-a*m)+h*(i*d-a*p),e[6]=-(n*(u*y-l*m)-o*(i*y-a*m)+h*(i*l-a*u)),e[7]=n*(u*d-l*p)-o*(i*d-a*p)+c*(i*l-a*u),e[8]=o*(f*y-d*v)-c*(s*y-l*v)+h*(s*d-l*f),e[9]=-(n*(f*y-d*v)-c*(r*y-a*v)+h*(r*d-a*f)),e[10]=n*(s*y-l*v)-o*(r*y-a*v)+h*(r*l-a*s),e[11]=-(n*(s*d-l*f)-o*(r*d-a*f)+c*(r*l-a*s)),e[12]=-(o*(f*m-p*v)-c*(s*m-u*v)+h*(s*p-u*f)),e[13]=n*(f*m-p*v)-c*(r*m-i*v)+h*(r*p-i*f),e[14]=-(n*(s*m-u*v)-o*(r*m-i*v)+h*(r*u-i*s)),e[15]=n*(s*p-u*f)-o*(r*p-i*f)+c*(r*u-i*s),e}function d(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],p=e[11],d=e[12],h=e[13],v=e[14],m=e[15],y=t*o-n*a,g=t*s-r*a,b=t*u-i*a,_=n*s-r*o,x=n*u-i*o,w=r*u-i*s,E=l*h-c*d,S=l*v-f*d,k=l*m-p*d,O=c*v-f*h,T=c*m-p*h,C=f*m-p*v;return y*C-g*T+b*O+_*k-x*S+w*E}function h(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=n[0],_=n[1],x=n[2],w=n[3];return e[0]=b*r+_*s+x*f+w*v,e[1]=b*i+_*u+x*p+w*m,e[2]=b*a+_*l+x*d+w*y,e[3]=b*o+_*c+x*h+w*g,b=n[4],_=n[5],x=n[6],w=n[7],e[4]=b*r+_*s+x*f+w*v,e[5]=b*i+_*u+x*p+w*m,e[6]=b*a+_*l+x*d+w*y,e[7]=b*o+_*c+x*h+w*g,b=n[8],_=n[9],x=n[10],w=n[11],e[8]=b*r+_*s+x*f+w*v,e[9]=b*i+_*u+x*p+w*m,e[10]=b*a+_*l+x*d+w*y,e[11]=b*o+_*c+x*h+w*g,b=n[12],_=n[13],x=n[14],w=n[15],e[12]=b*r+_*s+x*f+w*v,e[13]=b*i+_*u+x*p+w*m,e[14]=b*a+_*l+x*d+w*y,e[15]=b*o+_*c+x*h+w*g,e}function v(e,t,n){var r,i,a,o,s,u,l,c,f,p,d,h,v=n[0],m=n[1],y=n[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],p=t[9],d=t[10],h=t[11],e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=f,e[9]=p,e[10]=d,e[11]=h,e[12]=r*v+s*m+f*y+t[12],e[13]=i*v+u*m+p*y+t[13],e[14]=a*v+l*m+d*y+t[14],e[15]=o*v+c*m+h*y+t[15]),e}function m(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y(e,t,n,i){var a,o,s,u,l,c,f,p,d,h,v,m,y,g,b,_,x,w,E,S,k,O,T,C,A=i[0],M=i[1],P=i[2],I=Math.hypot(A,M,P);return I<r["EPSILON"]?null:(I=1/I,A*=I,M*=I,P*=I,a=Math.sin(n),o=Math.cos(n),s=1-o,u=t[0],l=t[1],c=t[2],f=t[3],p=t[4],d=t[5],h=t[6],v=t[7],m=t[8],y=t[9],g=t[10],b=t[11],_=A*A*s+o,x=M*A*s+P*a,w=P*A*s-M*a,E=A*M*s-P*a,S=M*M*s+o,k=P*M*s+A*a,O=A*P*s+M*a,T=M*P*s-A*a,C=P*P*s+o,e[0]=u*_+p*x+m*w,e[1]=l*_+d*x+y*w,e[2]=c*_+h*x+g*w,e[3]=f*_+v*x+b*w,e[4]=u*E+p*S+m*k,e[5]=l*E+d*S+y*k,e[6]=c*E+h*S+g*k,e[7]=f*E+v*S+b*k,e[8]=u*O+p*T+m*C,e[9]=l*O+d*T+y*C,e[10]=c*O+h*T+g*C,e[11]=f*O+v*T+b*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function g(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=u*i+p*r,e[8]=l*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=p*i-u*r,e}function b(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],f=t[10],p=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=u*i-p*r,e[8]=a*r+l*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=u*r+p*i,e}function _(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],f=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=u*i+p*r,e[4]=l*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=p*i-u*r,e}function x(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function w(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,t,n){var i,a,o,s=n[0],u=n[1],l=n[2],c=Math.hypot(s,u,l);return c<r["EPSILON"]?null:(c=1/c,s*=c,u*=c,l*=c,i=Math.sin(t),a=Math.cos(t),o=1-a,e[0]=s*s*o+a,e[1]=u*s*o+l*i,e[2]=l*s*o-u*i,e[3]=0,e[4]=s*u*o-l*i,e[5]=u*u*o+a,e[6]=l*u*o+s*i,e[7]=0,e[8]=s*l*o+u*i,e[9]=u*l*o-s*i,e[10]=l*l*o+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function S(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function k(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,u=i+i,l=a+a,c=r*s,f=r*u,p=r*l,d=i*u,h=i*l,v=a*l,m=o*s,y=o*u,g=o*l;return e[0]=1-(d+v),e[1]=f+g,e[2]=p-y,e[3]=0,e[4]=f-g,e[5]=1-(c+v),e[6]=h+m,e[7]=0,e[8]=p+y,e[9]=h-m,e[10]=1-(c+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function C(e,t){var n=new r["ARRAY_TYPE"](3),i=-t[0],a=-t[1],o=-t[2],s=t[3],u=t[4],l=t[5],c=t[6],f=t[7],p=i*i+a*a+o*o+s*s;return p>0?(n[0]=2*(u*s+f*i+l*o-c*a)/p,n[1]=2*(l*s+f*a+c*i-u*o)/p,n[2]=2*(c*s+f*o+u*a-l*i)/p):(n[0]=2*(u*s+f*i+l*o-c*a),n[1]=2*(l*s+f*a+c*i-u*o),n[2]=2*(c*s+f*o+u*a-l*i)),T(e,t,n),e}function A(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function M(e,t){var n=t[0],r=t[1],i=t[2],a=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.hypot(n,r,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(u,l,c),e}function P(e,t){var n=new r["ARRAY_TYPE"](3);M(n,t);var i=1/n[0],a=1/n[1],o=1/n[2],s=t[0]*i,u=t[1]*a,l=t[2]*o,c=t[4]*i,f=t[5]*a,p=t[6]*o,d=t[8]*i,h=t[9]*a,v=t[10]*o,m=s+f+v,y=0;return m>0?(y=2*Math.sqrt(m+1),e[3]=.25*y,e[0]=(p-h)/y,e[1]=(d-l)/y,e[2]=(u-c)/y):s>f&&s>v?(y=2*Math.sqrt(1+s-f-v),e[3]=(p-h)/y,e[0]=.25*y,e[1]=(u+c)/y,e[2]=(d+l)/y):f>v?(y=2*Math.sqrt(1+f-s-v),e[3]=(d-l)/y,e[0]=(u+c)/y,e[1]=.25*y,e[2]=(p+h)/y):(y=2*Math.sqrt(1+v-s-f),e[3]=(u-c)/y,e[0]=(d+l)/y,e[1]=(p+h)/y,e[2]=.25*y),e}function I(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],u=i+i,l=a+a,c=o+o,f=i*u,p=i*l,d=i*c,h=a*l,v=a*c,m=o*c,y=s*u,g=s*l,b=s*c,_=r[0],x=r[1],w=r[2];return e[0]=(1-(h+m))*_,e[1]=(p+b)*_,e[2]=(d-g)*_,e[3]=0,e[4]=(p-b)*x,e[5]=(1-(f+m))*x,e[6]=(v+y)*x,e[7]=0,e[8]=(d+g)*w,e[9]=(v-y)*w,e[10]=(1-(f+h))*w,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function R(e,t,n,r,i){var a=t[0],o=t[1],s=t[2],u=t[3],l=a+a,c=o+o,f=s+s,p=a*l,d=a*c,h=a*f,v=o*c,m=o*f,y=s*f,g=u*l,b=u*c,_=u*f,x=r[0],w=r[1],E=r[2],S=i[0],k=i[1],O=i[2],T=(1-(v+y))*x,C=(d+_)*x,A=(h-b)*x,M=(d-_)*w,P=(1-(p+y))*w,I=(m+g)*w,R=(h+b)*E,j=(m-g)*E,L=(1-(p+v))*E;return e[0]=T,e[1]=C,e[2]=A,e[3]=0,e[4]=M,e[5]=P,e[6]=I,e[7]=0,e[8]=R,e[9]=j,e[10]=L,e[11]=0,e[12]=n[0]+S-(T*S+M*k+R*O),e[13]=n[1]+k-(C*S+P*k+j*O),e[14]=n[2]+O-(A*S+I*k+L*O),e[15]=1,e}function j(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,l=n*o,c=r*o,f=r*s,p=i*o,d=i*s,h=i*u,v=a*o,m=a*s,y=a*u;return e[0]=1-f-h,e[1]=c+y,e[2]=p-m,e[3]=0,e[4]=c-y,e[5]=1-l-h,e[6]=d+v,e[7]=0,e[8]=p+m,e[9]=d-v,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function L(e,t,n,r,i,a,o){var s=1/(n-t),u=1/(i-r),l=1/(a-o);return e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function N(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(a=1/(r-i),e[10]=(i+r)*a,e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e}function D(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function F(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*l,e[15]=1,e}function z(e,t,n,i){var a,o,s,u,c,f,p,d,h,v,m=t[0],y=t[1],g=t[2],b=i[0],_=i[1],x=i[2],w=n[0],E=n[1],S=n[2];return Math.abs(m-w)<r["EPSILON"]&&Math.abs(y-E)<r["EPSILON"]&&Math.abs(g-S)<r["EPSILON"]?l(e):(p=m-w,d=y-E,h=g-S,v=1/Math.hypot(p,d,h),p*=v,d*=v,h*=v,a=_*h-x*d,o=x*p-b*h,s=b*d-_*p,v=Math.hypot(a,o,s),v?(v=1/v,a*=v,o*=v,s*=v):(a=0,o=0,s=0),u=d*s-h*o,c=h*a-p*s,f=p*o-d*a,v=Math.hypot(u,c,f),v?(v=1/v,u*=v,c*=v,f*=v):(u=0,c=0,f=0),e[0]=a,e[1]=u,e[2]=p,e[3]=0,e[4]=o,e[5]=c,e[6]=d,e[7]=0,e[8]=s,e[9]=f,e[10]=h,e[11]=0,e[12]=-(a*m+o*y+s*g),e[13]=-(u*m+c*y+f*g),e[14]=-(p*m+d*y+h*g),e[15]=1,e)}function B(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=r[0],u=r[1],l=r[2],c=i-n[0],f=a-n[1],p=o-n[2],d=c*c+f*f+p*p;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,p*=d);var h=u*p-l*f,v=l*c-s*p,m=s*f-u*c;return d=h*h+v*v+m*m,d>0&&(d=1/Math.sqrt(d),h*=d,v*=d,m*=d),e[0]=h,e[1]=v,e[2]=m,e[3]=0,e[4]=f*m-p*v,e[5]=p*h-c*m,e[6]=c*v-f*h,e[7]=0,e[8]=c,e[9]=f,e[10]=p,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function U(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function V(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function H(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function W(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function q(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function G(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Z(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Y(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],p=e[9],d=e[10],h=e[11],v=e[12],m=e[13],y=e[14],g=e[15],b=t[0],_=t[1],x=t[2],w=t[3],E=t[4],S=t[5],k=t[6],O=t[7],T=t[8],C=t[9],A=t[10],M=t[11],P=t[12],I=t[13],R=t[14],j=t[15];return Math.abs(n-b)<=r["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(i-_)<=r["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(a-x)<=r["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-w)<=r["EPSILON"]*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-E)<=r["EPSILON"]*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-S)<=r["EPSILON"]*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(l-k)<=r["EPSILON"]*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(c-O)<=r["EPSILON"]*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-T)<=r["EPSILON"]*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(p-C)<=r["EPSILON"]*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(d-A)<=r["EPSILON"]*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(h-M)<=r["EPSILON"]*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(v-P)<=r["EPSILON"]*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(m-I)<=r["EPSILON"]*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(y-R)<=r["EPSILON"]*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-j)<=r["EPSILON"]*Math.max(1,Math.abs(g),Math.abs(j))}var X=h,K=W},ZfDv:function(e,t,n){var r=n("hh1v"),i=n("6LWA"),a=n("tiKp"),o=a("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},ZfNH:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("4cb6");n("mNvP");var u,l,c=n("0t2r"),f=(u=(0,s.injectable)(),u(l=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"scene",void 0),(0,o["default"])(this,"popup",void 0),(0,o["default"])(this,"mapsService",void 0),(0,o["default"])(this,"unAddPopup",void 0)}return(0,a["default"])(e,[{key:"removePopup",value:function(e){e.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(e){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(e.addTo(this.scene),this.popup=e):this.unAddPopup=e}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(c.TYPES.IMapService)}}]),e}())||l);t["default"]=f},ZhPi:function(e,t,n){var r=n("WkPL");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},Zkgb:function(e,t,n){},Zm9Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q1tI"),i=n.n(r),a=n("TOwV");function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return i.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(o(e)):Object(a["isFragment"])(e)&&e.props?n=n.concat(o(e.props.children,t)):n.push(e))})),n}},ZqBY:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oe}));var r=n("Qyje");n("LpSC");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e,t,n){return v=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),a=new i;return n&&d(a,n.prototype),a},v.apply(null,arguments)}function m(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function y(e){var t="function"===typeof Map?new Map:void 0;return y=function(e){if(null===e||!m(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},y(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?g(e):t}function _(e){var t=h();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function x(e){return w(e)||E(e)||S(e)||O()}function w(e){if(Array.isArray(e))return k(e)}function E(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e){if(!Array.isArray(e))throw new TypeError("Middlewares must be an array!");for(var t=e.length,n=0;n<t;n++)if("function"!==typeof e[n])throw new TypeError("Middleware must be componsed of function");return function(t,n){var r=-1;function i(a){if(a<=r)return Promise.reject(new Error("next() should not be called multiple times in one middleware!"));r=a;var o=e[a]||n;if(!o)return Promise.resolve();try{return Promise.resolve(o(t,(function(){return i(a+1)})))}catch(s){return Promise.reject(s)}}return i(0)}}var C=function(){function t(e){if(s(this,t),!Array.isArray(e))throw new TypeError("Default middlewares must be an array!");this.defaultMiddlewares=x(e),this.middlewares=[]}return l(t,[{key:"use",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1,defaultInstance:!1},i=!1,a=!1,s=!1;"number"===typeof r?(e&&Object({NODE_ENV:"production"}),i=!0,a=!1):"object"===o(r)&&r&&(a=r.global||!1,i=r.core||!1,s=r.defaultInstance||!1),a?t.globalMiddlewares.splice(t.globalMiddlewares.length-t.defaultGlobalMiddlewaresLength,0,n):i?t.coreMiddlewares.splice(t.coreMiddlewares.length-t.defaultCoreMiddlewaresLength,0,n):s?this.defaultMiddlewares.push(n):this.middlewares.push(n)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=T([].concat(x(this.middlewares),x(this.defaultMiddlewares),x(t.globalMiddlewares),x(t.coreMiddlewares)));return n(e)}}]),t}();C.globalMiddlewares=[],C.defaultGlobalMiddlewaresLength=0,C.coreMiddlewares=[],C.defaultCoreMiddlewaresLength=0;var A=function(){function e(t){s(this,e),this.cache=new Map,this.timer={},this.extendOptions(t)}return l(e,[{key:"extendOptions",value:function(e){this.maxCache=e.maxCache||0}},{key:"get",value:function(e){return this.cache.get(JSON.stringify(e))}},{key:"set",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;if(this.maxCache>0&&this.cache.size>=this.maxCache){var i=x(this.cache.keys())[0];this.cache["delete"](i),this.timer[i]&&clearTimeout(this.timer[i])}var a=JSON.stringify(e);this.cache.set(a,t),r>0&&(this.timer[a]=setTimeout((function(){n.cache["delete"](a),delete n.timer[a]}),r))}},{key:"delete",value:function(e){var t=JSON.stringify(e);return delete this.timer[t],this.cache["delete"](t)}},{key:"clear",value:function(){return this.timer={},this.cache.clear()}}]),e}(),M=function(e){f(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RequestError";return s(this,n),i=t.call(this,e),i.name="RequestError",i.request=r,i.type=a,i}return n}(y(Error)),P=function(e){f(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ResponseError";return s(this,n),o=t.call(this,r||e.statusText),o.name="ResponseError",o.data=i,o.response=e,o.request=a,o.type=u,o}return n}(y(Error));function I(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e,"GBK")}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{return JSON.parse(e)}catch(i){if(t)throw new P(n,"JSON.parse fail",e,r,"ParseError")}return e}function j(e,t){return new Promise((function(n,r){setTimeout((function(){r(new M("timeout of ".concat(e,"ms exceeded"),t,"Timeout"))}),e)}))}function L(e){return new Promise((function(t,n){e.cancelToken&&e.cancelToken.promise.then((function(e){n(e)}))}))}var N=Object.prototype.toString;function D(){var t;return"undefined"!==typeof e&&"[object process]"===N.call(e)&&(t="NODE"),"undefined"!==typeof XMLHttpRequest&&(t="BROWSER"),t}function F(e){return"object"===o(e)&&"[object Array]"===Object.prototype.toString.call(e)}function z(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function B(e){return"object"===o(e)&&"[object Date]"===Object.prototype.toString.call(e)}function U(e){return null!==e&&"object"===o(e)}function V(e,t){if(e)if("object"!==o(e)&&(e=[e]),F(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function H(e){return z(e)?Object(r["parse"])(e.toString(),{strictNullHandling:!0}):"string"===typeof e?[e]:e}function W(e){return Object(r["stringify"])(e,{arrayFormat:"repeat",strictNullHandling:!0})}function q(e,t){return a(a(a({},e),t),{},{headers:a(a({},e.headers),t.headers),params:a(a({},H(e.params)),H(t.params)),method:(t.method||e.method||"get").toLowerCase()})}var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=t.suffix;return n&&(e="".concat(n).concat(e)),r&&(e="".concat(e).concat(r)),{url:e,options:t}};function Z(e,t){var n=t.method,r=void 0===n?"get":n;return"get"===r.toLowerCase()}function Y(t,n){if(!t)return n();var r=t.req;r=void 0===r?{}:r;var i=r.options,a=void 0===i?{}:i,o=r.url,s=void 0===o?"":o,u=t.cache,l=t.responseInterceptors,c=a.timeout,f=void 0===c?0:c,p=a.__umiRequestCoreType__,d=void 0===p?"normal":p,h=a.useCache,v=void 0!==h&&h,m=a.method,y=void 0===m?"get":m,g=a.params,b=a.ttl,_=a.validateCache,x=void 0===_?Z:_;if("normal"!==d)return e&&Object({NODE_ENV:"production"}),n();var w=fetch;if(!w)throw new Error("Global fetch not exist!");var E,S="BROWSER"===D(),k=x(s,a)&&v&&S;if(k){var O=u.get({url:s,params:g,method:y});if(O)return O=O.clone(),O.useCache=!0,t.res=O,n()}return E=f>0?Promise.race([L(a),w(s,a),j(f,t.req)]):Promise.race([L(a),w(s,a)]),l.forEach((function(e){E=E.then((function(t){var n="function"===typeof t.clone?t.clone():t;return e(n,a)}))})),E.then((function(e){if(k&&200===e.status){var r=e.clone();r.useCache=!0,u.set({url:s,params:g,method:y},r,b)}return t.res=e,n()}))}function X(e,t){var n;return t().then((function(){if(e){var t=e.res,r=void 0===t?{}:t,i=e.req,a=void 0===i?{}:i,o=a||{},s=o.options;s=void 0===s?{}:s;var u=s.responseType,l=void 0===u?"json":u,c=s.charset,f=void 0===c?"utf8":c,p=(s.getResponse,s.throwErrIfParseFail),d=void 0!==p&&p,h=s.parseResponse,v=void 0===h||h;if(v&&r&&r.clone){if(n="BROWSER"===D()?r.clone():r,n.useCache=r.useCache||!1,"gbk"===f)try{return r.blob().then(I).then((function(e){return R(e,!1,n,a)}))}catch(m){throw new P(n,m.message,null,a,"ParseError")}else if("json"===l)return r.text().then((function(e){return R(e,d,n,a)}));try{return r[l]()}catch(m){throw new P(n,"responseType not support",null,a,"ParseError")}}}})).then((function(t){if(e){e.res;var r=e.req,i=void 0===r?{}:r,a=i||{},o=a.options;o=void 0===o?{}:o;var s=o.getResponse,u=void 0!==s&&s;if(n){if(n.status>=200&&n.status<300)return u?void(e.res={data:t,response:n}):void(e.res=t);throw new P(n,"http error",t,i,"HttpError")}}}))["catch"]((function(t){if(t instanceof M||t instanceof P)throw t;var n=e.req,r=e.res;throw t.request=t.request||n,t.response=t.response||r,t.type=t.type||t.name,t.data=t.data||void 0,t}))}function K(e,t){if(!e)return t();var n=e.req;n=void 0===n?{}:n;var r=n.options,i=void 0===r?{}:r,o=i.method,s=void 0===o?"get":o;if(-1===["post","put","patch","delete"].indexOf(s.toLowerCase()))return t();var u=i.requestType,l=void 0===u?"json":u,c=i.data;if(c){var f=Object.prototype.toString.call(c);"[object Object]"===f||"[object Array]"===f?"json"===l?(i.headers=a({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},i.headers),i.body=JSON.stringify(c)):"form"===l&&(i.headers=a({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},i.headers),i.body=W(c)):(i.headers=a({Accept:"application/json"},i.headers),i.body=c)}return e.req.options=i,t()}function J(e,t){var n,r;if(e)if(t)n=t(e);else if(z(e))n=e.toString();else if(F(e))r=[],V(e,(function(e){null===e||"undefined"===typeof e?r.push(e):r.push(U(e)?JSON.stringify(e):e)})),n=W(r);else{r={},V(e,(function(e,t){var n=e;null===e||"undefined"===typeof e?r[t]=e:B(e)?n=e.toISOString():F(e)?n=e:U(e)&&(n=JSON.stringify(e)),r[t]=n}));var i=W(r);n=i}return n}function Q(e,t){if(!e)return t();var n=e.req;n=void 0===n?{}:n;var r=n.options,i=void 0===r?{}:r,a=i.paramsSerializer,o=i.params,s=e.req;s=void 0===s?{}:s;var u=s.url,l=void 0===u?"":u;i.method=i.method?i.method.toUpperCase():"GET",i.credentials=i.credentials||"same-origin";var c=J(o,a);if(e.req.originUrl=l,c){var f=-1!==l.indexOf("?")?"&":"?";e.req.url="".concat(l).concat(f).concat(c)}return e.req.options=i,t()}var $=[K,Q,X],ee=[Y];C.globalMiddlewares=$,C.defaultGlobalMiddlewaresLength=$.length,C.coreMiddlewares=ee,C.defaultCoreMiddlewaresLength=ee.length;var te=function(){function e(t){s(this,e),this.onion=new C([]),this.fetchIndex=0,this.mapCache=new A(t),this.initOptions=t,this.instanceRequestInterceptors=[],this.instanceResponseInterceptors=[]}return l(e,[{key:"use",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1,core:!1};return this.onion.use(e,t),this}},{key:"extendOptions",value:function(e){this.initOptions=q(this.initOptions,e),this.mapCache.extendOptions(e)}},{key:"dealRequestInterceptors",value:function(t){var n=function(e,n){return e.then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,n(t.req.url,t.req.options)}))},r=[].concat(x(e.requestInterceptors),x(this.instanceRequestInterceptors));return r.reduce(n,Promise.resolve()).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.req.url=e.url||t.req.url,t.req.options=e.options||t.req.options,Promise.resolve()}))}},{key:"request",value:function(t,n){var r=this,i=this.onion,o={req:{url:t,options:a(a({},n),{},{url:t})},res:null,cache:this.mapCache,responseInterceptors:[].concat(x(e.responseInterceptors),x(this.instanceResponseInterceptors))};if("string"!==typeof t)throw new Error("url MUST be a string");return new Promise((function(e,t){r.dealRequestInterceptors(o).then((function(){return i.execute(o)})).then((function(){e(o.res)}))["catch"]((function(n){var r=o.req.options.errorHandler;if(r)try{var i=r(n);e(i)}catch(a){t(a)}else t(n)}))}))}}],[{key:"requestUse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");n.global?e.requestInterceptors.push(t):this.instanceRequestInterceptors.push(t)}},{key:"responseUse",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!0};if("function"!==typeof t)throw new TypeError("Interceptor must be function!");n.global?e.responseInterceptors.push(t):this.instanceResponseInterceptors.push(t)}}]),e}();function ne(e){this.message=e}function re(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ne(e),t(n.reason))}))}function ie(e){return!(!e||!e.__CANCEL__)}te.requestInterceptors=[G],te.responseInterceptors=[],ne.prototype.toString=function(){return this.message?"Cancel: ".concat(this.message):"Cancel"},ne.prototype.__CANCEL__=!0,re.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},re.source=function(){var e,t=new re((function(t){e=t}));return{token:t,cancel:e}};var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new te(e),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=q(t.initOptions,n);return t.request(e,r)};n.use=t.use.bind(t),n.fetchIndex=t.fetchIndex,n.interceptors={request:{use:te.requestUse.bind(t)},response:{use:te.responseUse.bind(t)}};var r=["get","post","delete","put","patch","head","options","rpc"];return r.forEach((function(e){n[e]=function(t,r){return n(t,a(a({},r),{},{method:e}))}})),n.Cancel=ne,n.CancelToken=re,n.isCancel=ie,n.extendOptions=t.extendOptions.bind(t),n.middlewares={instance:t.onion.middlewares,defaultInstance:t.onion.defaultMiddlewares,global:C.globalMiddlewares,core:C.coreMiddlewares},n},oe=function(e){return ae(e)};ae({parseResponse:!1}),ae({})}).call(this,n("Q2Ig"))},ZsH6:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=n("4WOD"),s=i.has,u=i.get,l=i.toKey,c=function(e,t,n){var r=s(e,t,n);if(r)return u(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:l(arguments[2]);return c(e,a(t),n)}})},Zss7:function(e,t,n){var r;(function(i){var a=/^\s+/,o=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function p(e,t){if(e=e||"",t=t||{},e instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=d(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=K(e)),"object"==typeof e&&(X(e.r)&&X(e.g)&&X(e.b)?(t=h(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):X(e.h)&&X(e.s)&&X(e.v)?(r=q(e.s),i=q(e.v),t=g(e.h,r,i),o=!0,s="hsv"):X(e.h)&&X(e.s)&&X(e.l)&&(r=q(e.s),a=q(e.l),t=m(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=F(n),{ok:o,format:e.format||s,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}function h(e,t,n){return{r:255*z(e,255),g:255*z(t,255),b:255*z(n,255)}}function v(e,t,n){e=z(e,255),t=z(t,255),n=z(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4;break}r/=6}return{h:r,s:i,l:s}}function m(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=z(e,360),t=z(t,100),n=z(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}function y(e,t,n){e=z(e,255),t=z(t,255),n=z(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4;break}r/=6}return{h:r,s:i,v:s}}function g(e,t,n){e=6*z(e,360),t=z(t,100),n=z(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),l=r%6,c=[n,s,o,o,u,n][l],f=[u,n,n,s,o,o][l],p=[o,o,u,n,n,s][l];return{r:255*c,g:255*f,b:255*p}}function b(e,t,n,r){var i=[W(u(e).toString(16)),W(u(t).toString(16)),W(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _(e,t,n,r,i){var a=[W(u(e).toString(16)),W(u(t).toString(16)),W(u(n).toString(16)),W(G(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function x(e,t,n,r){var i=[W(G(r)),W(u(e).toString(16)),W(u(t).toString(16)),W(u(n).toString(16))];return i.join("")}function w(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=B(n.s),p(n)}function E(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=B(n.s),p(n)}function S(e){return p(e).desaturate(100)}function k(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=B(n.l),p(n)}function O(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),p(n)}function T(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=B(n.l),p(n)}function C(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function A(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function M(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function P(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function I(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function R(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),i=360/n,a=[p(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(p(r));return a}function j(e,t){t=t||6;var n=p(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;while(t--)o.push(p({h:r,s:i,v:a})),a=(a+s)%1;return o}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,a,o,s=this.toRgb();return e=s.r/255,t=s.g/255,n=s.b/255,r=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*a+.0722*o},setAlpha:function(e){return this._a=F(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=y(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=y(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=v(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=v(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*z(this._r,255))+"%",g:u(100*z(this._g,255))+"%",b:u(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*z(this._r,255))+"%, "+u(100*z(this._g,255))+"%, "+u(100*z(this._b,255))+"%)":"rgba("+u(100*z(this._r,255))+"%, "+u(100*z(this._g,255))+"%, "+u(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(N[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+x(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=p(e);n="#"+x(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(R,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:q(e[r]));e=n}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:f(),g:f(),b:f()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),i=p(t).toRgb(),a=n/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return p(o)},p.readability=function(e,t){var n=p(e),r=p(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r,i,a=p.readability(e,t);switch(i=!1,r=J(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7;break}return i},p.mostReadable=function(e,t,n){var r,i,a,o,s=null,u=0;n=n||{},i=n.includeFallbackColors,a=n.level,o=n.size;for(var l=0;l<t.length;l++)r=p.readability(e,t[l]),r>u&&(u=r,s=p(t[l]));return p.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var L=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=p.hexNames=D(L);function D(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function F(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function z(e,t){V(e)&&(e="100%");var n=H(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function B(e){return l(1,c(0,e))}function U(e){return parseInt(e,16)}function V(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function H(e){return"string"===typeof e&&-1!=e.indexOf("%")}function W(e){return 1==e.length?"0"+e:""+e}function q(e){return e<=1&&(e=100*e+"%"),e}function G(e){return i.round(255*parseFloat(e)).toString(16)}function Z(e){return U(e)/255}var Y=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function X(e){return!!Y.CSS_UNIT.exec(e)}function K(e){e=e.replace(a,"").replace(o,"").toLowerCase();var t,n=!1;if(L[e])e=L[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Y.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Y.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Y.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Y.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Y.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Y.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Y.hex8.exec(e))?{r:U(t[1]),g:U(t[2]),b:U(t[3]),a:Z(t[4]),format:n?"name":"hex8"}:(t=Y.hex6.exec(e))?{r:U(t[1]),g:U(t[2]),b:U(t[3]),format:n?"name":"hex"}:(t=Y.hex4.exec(e))?{r:U(t[1]+""+t[1]),g:U(t[2]+""+t[2]),b:U(t[3]+""+t[3]),a:Z(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Y.hex3.exec(e))&&{r:U(t[1]+""+t[1]),g:U(t[2]+""+t[2]),b:U(t[3]+""+t[3]),format:n?"name":"hex"}}function J(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}e.exports?e.exports=p:(r=function(){return p}.call(t,n,t,e),void 0===r||(e.exports=r))})(Math)},Ztfv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n("MON2"),i=n("xfSm");function a(e,t,n,r){var a=i.TAGGED;s(a,e,t,r,n)}function o(e,t,n){var r=i.TAGGED_PROP;s(r,e.constructor,t,n)}function s(e,t,n,i,a){var o={},s="number"===typeof a,u=void 0!==a&&s?a.toString():n;if(s&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var l=o[u];if(Array.isArray(l))for(var c=0,f=l;c<f.length;c++){var p=f[c];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else l=[];l.push(i),o[u]=l,Reflect.defineMetadata(e,o,t)}function u(e,t){Reflect.decorate(e,t)}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n){"number"===typeof n?u([l(n,e)],t):"string"===typeof n?Reflect.decorate([e],t,n):u([e],t)}t.tagParameter=a,t.tagProperty=o,t.decorate=c},"Zu+z":function(e,t,n){},ZvpZ:function(e,t,n){"use strict";var r={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},i=n("wx14"),a={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},o=a,s={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},u=s,l={lang:Object(i["a"])({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},o),timePickerLocale:Object(i["a"])({},u)},c=l,f=c,p="${label} is not a valid ${type}",d={locale:"en",Pagination:r,DatePicker:c,TimePicker:u,Calendar:f,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:p,method:p,array:p,object:p,number:p,date:p,boolean:p,integer:p,float:p,regexp:p,email:p,url:p,hex:p},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};t["a"]=d},ZxFD:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return a})),n.d(t,"fromValues",(function(){return o})),n.d(t,"copy",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"add",(function(){return l})),n.d(t,"subtract",(function(){return c})),n.d(t,"multiply",(function(){return f})),n.d(t,"divide",(function(){return p})),n.d(t,"ceil",(function(){return d})),n.d(t,"floor",(function(){return h})),n.d(t,"min",(function(){return v})),n.d(t,"max",(function(){return m})),n.d(t,"round",(function(){return y})),n.d(t,"scale",(function(){return g})),n.d(t,"scaleAndAdd",(function(){return b})),n.d(t,"distance",(function(){return _})),n.d(t,"squaredDistance",(function(){return x})),n.d(t,"length",(function(){return w})),n.d(t,"squaredLength",(function(){return E})),n.d(t,"negate",(function(){return S})),n.d(t,"inverse",(function(){return k})),n.d(t,"normalize",(function(){return O})),n.d(t,"dot",(function(){return T})),n.d(t,"cross",(function(){return C})),n.d(t,"lerp",(function(){return A})),n.d(t,"random",(function(){return M})),n.d(t,"transformMat2",(function(){return P})),n.d(t,"transformMat2d",(function(){return I})),n.d(t,"transformMat3",(function(){return R})),n.d(t,"transformMat4",(function(){return j})),n.d(t,"rotate",(function(){return L})),n.d(t,"angle",(function(){return N})),n.d(t,"zero",(function(){return D})),n.d(t,"str",(function(){return F})),n.d(t,"exactEquals",(function(){return z})),n.d(t,"equals",(function(){return B})),n.d(t,"len",(function(){return U})),n.d(t,"sub",(function(){return V})),n.d(t,"mul",(function(){return H})),n.d(t,"div",(function(){return W})),n.d(t,"dist",(function(){return q})),n.d(t,"sqrDist",(function(){return G})),n.d(t,"sqrLen",(function(){return Z})),n.d(t,"forEach",(function(){return Y}));var r=n("yU0y");function i(){var e=new r["ARRAY_TYPE"](2);return r["ARRAY_TYPE"]!=Float32Array&&(e[0]=0,e[1]=0),e}function a(e){var t=new r["ARRAY_TYPE"](2);return t[0]=e[0],t[1]=e[1],t}function o(e,t){var n=new r["ARRAY_TYPE"](2);return n[0]=e,n[1]=t,n}function s(e,t){return e[0]=t[0],e[1]=t[1],e}function u(e,t,n){return e[0]=t,e[1]=n,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function p(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function d(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function h(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function v(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function m(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function y(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.hypot(n,r)}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function w(e){var t=e[0],n=e[1];return Math.hypot(t,n)}function E(e){var t=e[0],n=e[1];return t*t+n*n}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e}function k(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function O(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function T(e,t){return e[0]*t[0]+e[1]*t[1]}function C(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function A(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}function M(e,t){t=t||1;var n=2*r["RANDOM"]()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function P(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function I(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function R(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function j(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function L(e,t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=i*s-a*o+n[0],e[1]=i*o+a*s+n[1],e}function N(e,t){var n=e[0],r=e[1],i=t[0],a=t[1],o=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+a*a),s=o&&(n*i+r*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function D(e){return e[0]=0,e[1]=0,e}function F(e){return"vec2("+e[0]+", "+e[1]+")"}function z(e,t){return e[0]===t[0]&&e[1]===t[1]}function B(e,t){var n=e[0],i=e[1],a=t[0],o=t[1];return Math.abs(n-a)<=r["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(o))}var U=w,V=c,H=f,W=p,q=_,G=x,Z=E,Y=function(){var e=i();return function(t,n,r,i,a,o){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},Zxc8:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("wx14"),o=n("rePB"),s=n("ODXe"),u=n("U8pU"),l=n("Ff2n"),c=n("VTBJ"),f=n("TSYQ"),p=n.n(f),d=n("Zm9Q"),h=n("5Z9U"),v=n("6cGi"),m=n("KQm4"),y=n("wgJM"),g=n("t23M");function b(e){var t=Object(r["useRef"])(),n=Object(r["useRef"])(!1);function i(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.current||(y["a"].cancel(t.current),t.current=Object(y["a"])((function(){e.apply(void 0,i)})))}return Object(r["useEffect"])((function(){return function(){n.current=!0,y["a"].cancel(t.current)}}),[]),i}function _(e){var t=Object(r["useRef"])([]),n=Object(r["useState"])({}),i=Object(s["a"])(n,2),a=i[1],o=Object(r["useRef"])("function"===typeof e?e():e),u=b((function(){var e=o.current;t.current.forEach((function(t){e=t(e)})),t.current=[],o.current=e,a({})}));function l(e){t.current.push(e),u()}return[o.current,l]}var x=n("4IlW");function w(e,t){var n,i=e.prefixCls,a=e.id,s=e.active,u=e.tab,l=u.key,c=u.tab,f=u.disabled,d=u.closeIcon,h=e.closable,v=e.renderWrapper,m=e.removeAriaLabel,y=e.editable,g=e.onClick,b=e.onRemove,_=e.onFocus,w=e.style,E="".concat(i,"-tab");r["useEffect"]((function(){return b}),[]);var S=y&&!1!==h&&!f;function k(e){f||g(e)}function O(e){e.preventDefault(),e.stopPropagation(),y.onEdit("remove",{key:l,event:e})}var T=r["createElement"]("div",{key:l,ref:t,className:p()(E,(n={},Object(o["a"])(n,"".concat(E,"-with-remove"),S),Object(o["a"])(n,"".concat(E,"-active"),s),Object(o["a"])(n,"".concat(E,"-disabled"),f),n)),style:w,onClick:k},r["createElement"]("div",{role:"tab","aria-selected":s,id:a&&"".concat(a,"-tab-").concat(l),className:"".concat(E,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(l),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),k(e)},onKeyDown:function(e){[x["a"].SPACE,x["a"].ENTER].includes(e.which)&&(e.preventDefault(),k(e))},onFocus:_},c),S&&r["createElement"]("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(E,"-remove"),onClick:function(e){e.stopPropagation(),O(e)}},d||y.removeIcon||"\xd7"));return v?v(T):T}var E=r["forwardRef"](w),S={width:0,height:0,left:0,top:0};function k(e,t,n){return Object(r["useMemo"])((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||S,a=i.left+i.width,o=0;o<e.length;o+=1){var s,u=e[o].key,l=t.get(u);if(!l)l=t.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||S;var f=r.get(u)||Object(c["a"])({},l);f.right=a-f.left-f.width,r.set(u,f)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}var O={width:0,height:0,left:0,top:0,right:0};function T(e,t,n,i,a){var o,s,u,l=a.tabs,c=a.tabPosition,f=a.rtl;["top","bottom"].includes(c)?(o="width",s=f?"right":"left",u=Math.abs(t.left)):(o="height",s="top",u=-t.top);var p=t[o],d=n[o],h=i[o],v=p;return d+h>p&&(v=p-h),Object(r["useMemo"])((function(){if(!l.length)return[0,0];for(var t=l.length,n=t,r=0;r<t;r+=1){var i=e.get(l[r].key)||O;if(i[s]+i[o]>u+v){n=r-1;break}}for(var a=0,c=t-1;c>=0;c-=1){var f=e.get(l[c].key)||O;if(f[s]<u){a=c+1;break}}return[a,n]}),[e,u,v,c,l.map((function(e){return e.key})).join("_"),f])}var C=n("Gytx"),A=n.n(C),M=n("Kwbf"),P=n("8z13"),I=n("1OyB"),R=n("vuIU"),j=n("Ji7U"),L=n("LK+K"),N=n("bT9E"),D=n("YrtM"),F=r["createContext"](null);function z(e,t){var n=Object(c["a"])({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}function B(e){var t=e.children,n=e.locked,i=Object(l["a"])(e,["children","locked"]),a=r["useContext"](F),o=Object(D["a"])((function(){return z(a,i)}),[a,i],(function(e,t){return!n&&(e[0]!==t[0]||!A()(e[1],t[1]))}));return r["createElement"](F.Provider,{value:o},t)}function U(e,t,n,i){var a=r["useContext"](F),o=a.activeKey,s=a.onActive,u=a.onInactive,l={active:o===e};return t||(l.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),s(e)},l.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),u(e)}),l}function V(e){var t=e.item,n=Object(l["a"])(e,["item"]);return Object.defineProperty(n,"item",{get:function(){return Object(M["a"])(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function H(e){var t,n=e.icon,i=e.props,a=e.children;return t="function"===typeof n?r["createElement"](n,Object(c["a"])({},i)):n,t||a||null}function W(e){var t=r["useContext"](F),n=t.mode,i=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;var o=e;return i?{paddingRight:o*a}:{paddingLeft:o*a}}var q=[],G=r["createContext"](null);function Z(){return r["useContext"](G)}var Y=r["createContext"](q);function X(e){var t=r["useContext"](Y);return r["useMemo"]((function(){return void 0!==e?[].concat(Object(m["a"])(t),[e]):t}),[t,e])}var K=r["createContext"](null),J=r["createContext"](null);function Q(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function $(e){var t=r["useContext"](J);return Q(t,e)}var ee=function(e){Object(j["a"])(n,e);var t=Object(L["a"])(n);function n(){return Object(I["a"])(this,n),t.apply(this,arguments)}return Object(R["a"])(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,i=e.elementRef,o=Object(l["a"])(e,["title","attribute","elementRef"]),s=Object(N["a"])(o,["eventKey"]);return Object(M["a"])(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r["createElement"](P["a"].Item,Object(a["a"])({},n,{title:"string"===typeof t?t:void 0},s,{ref:i}))}}]),n}(r["Component"]),te=function(e){var t,n=e.style,i=e.className,s=e.eventKey,u=(e.warnKey,e.disabled),f=e.itemIcon,d=e.children,h=e.role,v=e.onMouseEnter,y=e.onMouseLeave,g=e.onClick,b=e.onKeyDown,_=e.onFocus,w=Object(l["a"])(e,["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"]),E=$(s),S=r["useContext"](F),k=S.prefixCls,O=S.onItemClick,T=S.disabled,C=S.overflowDisabled,A=S.itemIcon,M=S.selectedKeys,P=S.onActive,I="".concat(k,"-item"),R=r["useRef"](),j=r["useRef"](),L=T||u,N=X(s);var D=function(e){return{key:s,keyPath:Object(m["a"])(N).reverse(),item:R.current,domEvent:e}},z=f||A,B=U(s,L,v,y),q=B.active,G=Object(l["a"])(B,["active"]),Z=M.includes(s),Y=W(N.length),K=function(e){if(!L){var t=D(e);null===g||void 0===g||g(V(t)),O(t)}},J=function(e){if(null===b||void 0===b||b(e),e.which===x["a"].ENTER){var t=D(e);null===g||void 0===g||g(V(t)),O(t)}},Q=function(e){P(s),null===_||void 0===_||_(e)},te={};return"option"===e.role&&(te["aria-selected"]=Z),r["createElement"](ee,Object(a["a"])({ref:R,elementRef:j,role:null===h?"none":h||"menuitem",tabIndex:u?null:-1,"data-menu-id":C&&E?null:E},w,G,te,{component:"li","aria-disabled":u,style:Object(c["a"])(Object(c["a"])({},Y),n),className:p()(I,(t={},Object(o["a"])(t,"".concat(I,"-active"),q),Object(o["a"])(t,"".concat(I,"-selected"),Z),Object(o["a"])(t,"".concat(I,"-disabled"),L),t),i),onClick:K,onKeyDown:J,onFocus:Q}),d,r["createElement"](H,{props:Object(c["a"])(Object(c["a"])({},e),{},{isSelected:Z}),icon:z}))};function ne(e){var t=e.eventKey,n=Z(),i=X(t);return r["useEffect"]((function(){if(n)return n.registerPath(t,i),function(){n.unregisterPath(t,i)}}),[i]),n?null:r["createElement"](te,e)}var re=ne;function ie(e,t){return Object(d["a"])(e).map((function(e,n){if(r["isValidElement"](e)){var i,a,o=e.key,s=null!==(i=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==i?i:o,u=null===s||void 0===s;u&&(s="tmp_key-".concat([].concat(Object(m["a"])(t),[n]).join("-")));var l={key:s,eventKey:s};return r["cloneElement"](e,l)}return e}))}function ae(e){var t=r["useRef"](e);t.current=e;var n=r["useCallback"]((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var oe=function(e,t){var n=e.className,i=e.children,o=Object(l["a"])(e,["className","children"]),s=r["useContext"](F),u=s.prefixCls,c=s.mode;return r["createElement"]("ul",Object(a["a"])({className:p()(u,"".concat(u,"-sub"),"".concat(u,"-").concat("inline"===c?"inline":"vertical"),n)},o,{"data-menu-list":!0,ref:t}),i)},se=r["forwardRef"](oe);se.displayName="SubMenuList";var ue=se,le=n("uciX"),ce={adjustX:1,adjustY:1},fe={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}},pe={topLeft:{points:["bl","tl"],overflow:ce,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ce,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ce,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ce,offset:[4,0]}};function de(e,t,n){return t||(n?n[e]||n.other:void 0)}var he={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ve(e){var t=e.prefixCls,n=e.visible,i=e.children,a=e.popup,u=e.popupClassName,l=e.popupOffset,f=e.disabled,d=e.mode,h=e.onVisibleChange,v=r["useContext"](F),m=v.getPopupContainer,g=v.rtl,b=v.subMenuOpenDelay,_=v.subMenuCloseDelay,x=v.builtinPlacements,w=v.triggerSubMenuAction,E=v.forceSubMenuRender,S=v.motion,k=v.defaultMotions,O=r["useState"](!1),T=Object(s["a"])(O,2),C=T[0],A=T[1],M=g?Object(c["a"])(Object(c["a"])({},pe),x):Object(c["a"])(Object(c["a"])({},fe),x),P=he[d],I=de(d,S,k),R=Object(c["a"])(Object(c["a"])({},I),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),j=r["useRef"]();return r["useEffect"]((function(){return j.current=Object(y["a"])((function(){A(n)})),function(){y["a"].cancel(j.current)}}),[n]),r["createElement"](le["a"],{prefixCls:t,popupClassName:p()("".concat(t,"-popup"),Object(o["a"])({},"".concat(t,"-rtl"),g),u),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:m,builtinPlacements:M,popupPlacement:P,popupVisible:C,popup:a,popupAlign:l&&{offset:l},action:f?[]:[w],mouseEnterDelay:b,mouseLeaveDelay:_,onPopupVisibleChange:h,forceRender:E,popupMotion:R},i)}var me=n("8XRh");function ye(e){var t=e.id,n=e.open,i=e.keyPath,o=e.children,u="inline",l=r["useContext"](F),f=l.prefixCls,p=l.forceSubMenuRender,d=l.motion,h=l.defaultMotions,v=l.mode,m=r["useRef"](!1);m.current=v===u;var y=r["useState"](!m.current),g=Object(s["a"])(y,2),b=g[0],_=g[1],x=!!m.current&&n;r["useEffect"]((function(){m.current&&_(!1)}),[v]);var w=Object(c["a"])({},de(u,d,h));i.length>1&&(w.motionAppear=!1);var E=w.onVisibleChanged;return w.onVisibleChanged=function(e){return m.current||e||_(!0),null===E||void 0===E?void 0:E(e)},b?null:r["createElement"](B,{mode:u,locked:!m.current},r["createElement"](me["b"],Object(a["a"])({visible:x},w,{forceRender:p,removeOnLeave:!1,leavedClassName:"".concat(f,"-hidden")}),(function(e){var n=e.className,i=e.style;return r["createElement"](ue,{id:t,className:n,style:i},o)})))}var ge=function(e){var t,n=e.style,i=e.className,u=e.title,f=e.eventKey,d=(e.warnKey,e.disabled),h=e.internalPopupClose,v=e.children,m=e.itemIcon,y=e.expandIcon,g=e.popupClassName,b=e.popupOffset,_=e.onClick,x=e.onMouseEnter,w=e.onMouseLeave,E=e.onTitleClick,S=e.onTitleMouseEnter,k=e.onTitleMouseLeave,O=Object(l["a"])(e,["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"]),T=$(f),C=r["useContext"](F),A=C.prefixCls,M=C.mode,I=C.openKeys,R=C.disabled,j=C.overflowDisabled,L=C.activeKey,N=C.selectedKeys,D=C.itemIcon,z=C.expandIcon,q=C.onItemClick,G=C.onOpenChange,Z=C.onActive,Y=r["useContext"](K),J=Y.isSubPathKey,Q=X(),ee="".concat(A,"-submenu"),te=R||d,ne=r["useRef"](),re=r["useRef"]();var ie=m||D,oe=y||z,se=I.includes(f),le=!j&&se,ce=J(N,f),fe=U(f,te,S,k),pe=fe.active,de=Object(l["a"])(fe,["active"]),he=r["useState"](!1),me=Object(s["a"])(he,2),ge=me[0],be=me[1],_e=function(e){te||be(e)},xe=function(e){_e(!0),null===x||void 0===x||x({key:f,domEvent:e})},we=function(e){_e(!1),null===w||void 0===w||w({key:f,domEvent:e})},Ee=r["useMemo"]((function(){return pe||"inline"!==M&&(ge||J([L],f))}),[M,pe,L,ge,f,J]),Se=W(Q.length),ke=function(e){te||(null===E||void 0===E||E({key:f,domEvent:e}),"inline"===M&&G(f,!se))},Oe=ae((function(e){null===_||void 0===_||_(V(e)),q(e)})),Te=function(e){"inline"!==M&&G(f,e)},Ce=function(){Z(f)},Ae=T&&"".concat(T,"-popup"),Me=r["createElement"]("div",Object(a["a"])({role:"menuitem",style:Se,className:"".concat(ee,"-title"),tabIndex:te?null:-1,ref:ne,title:"string"===typeof u?u:null,"data-menu-id":j&&T?null:T,"aria-expanded":le,"aria-haspopup":!0,"aria-controls":Ae,"aria-disabled":te,onClick:ke,onFocus:Ce},de),u,r["createElement"](H,{icon:"horizontal"!==M?oe:null,props:Object(c["a"])(Object(c["a"])({},e),{},{isOpen:le,isSubMenu:!0})},r["createElement"]("i",{className:"".concat(ee,"-arrow")}))),Pe=r["useRef"](M);if("inline"!==M&&(Pe.current=Q.length>1?"vertical":M),!j){var Ie=Pe.current;Me=r["createElement"](ve,{mode:Ie,prefixCls:ee,visible:!h&&le&&"inline"!==M,popupClassName:g,popupOffset:b,popup:r["createElement"](B,{mode:"horizontal"===Ie?"vertical":Ie},r["createElement"](ue,{id:Ae,ref:re},v)),disabled:te,onVisibleChange:Te},Me)}return r["createElement"](B,{onItemClick:Oe,mode:"horizontal"===M?"vertical":M,itemIcon:ie,expandIcon:oe},r["createElement"](P["a"].Item,Object(a["a"])({role:"none"},O,{component:"li",style:n,className:p()(ee,"".concat(ee,"-").concat(M),i,(t={},Object(o["a"])(t,"".concat(ee,"-open"),le),Object(o["a"])(t,"".concat(ee,"-active"),Ee),Object(o["a"])(t,"".concat(ee,"-selected"),ce),Object(o["a"])(t,"".concat(ee,"-disabled"),te),t)),onMouseEnter:xe,onMouseLeave:we}),Me,!j&&r["createElement"](ye,{id:Ae,open:le,keyPath:Q},v)))};function be(e){var t,n=e.eventKey,i=e.children,a=X(n),o=ie(i,a),s=Z();return r["useEffect"]((function(){if(s)return s.registerPath(n,a),function(){s.unregisterPath(n,a)}}),[a]),t=s?o:r["createElement"](ge,e,o),r["createElement"](Y.Provider,{value:a},t)}var _e=n("x/xZ");function xe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(_e["a"])(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(m["a"])(e.querySelectorAll("*")).filter((function(e){return xe(e,t)}));return xe(e,t)&&n.unshift(e),n}var Ee=x["a"].LEFT,Se=x["a"].RIGHT,ke=x["a"].UP,Oe=x["a"].DOWN,Te=x["a"].ENTER,Ce=x["a"].ESC,Ae=[ke,Oe,Ee,Se];function Me(e,t,n,r){var i,a,s,u,l="prev",c="next",f="children",p="parent";if("inline"===e&&r===Te)return{inlineTrigger:!0};var d=(i={},Object(o["a"])(i,ke,l),Object(o["a"])(i,Oe,c),i),h=(a={},Object(o["a"])(a,Ee,n?c:l),Object(o["a"])(a,Se,n?l:c),Object(o["a"])(a,Oe,f),Object(o["a"])(a,Te,f),a),v=(s={},Object(o["a"])(s,ke,l),Object(o["a"])(s,Oe,c),Object(o["a"])(s,Te,f),Object(o["a"])(s,Ce,p),Object(o["a"])(s,Ee,n?f:p),Object(o["a"])(s,Se,n?p:f),s),m={inline:d,horizontal:h,vertical:v,inlineSub:d,horizontalSub:v,verticalSub:v},y=null===(u=m["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r];switch(y){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}function Pe(e){var t=e;while(t){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Ie(e,t){var n=e||document.activeElement;while(n){if(t.has(n))return n;n=n.parentElement}return null}function Re(e,t){var n=we(e,!0);return n.filter((function(e){return t.has(e)}))}function je(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Re(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),o=(o+a)%a,i[o]}function Le(e,t,n,i,a,o,s,u,l,c){var f=r["useRef"](),p=r["useRef"]();p.current=t;var d=function(){y["a"].cancel(f.current)};return r["useEffect"]((function(){return function(){d()}}),[]),function(r){var h=r.which;if([].concat(Ae,[Te,Ce]).includes(h)){var v,m,g,b=function(){v=new Set,m=new Map,g=new Map;var e=o();return e.forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(Q(i,e),"']"));t&&(v.add(t),g.set(t,e),m.set(e,t))})),v};b();var _=m.get(t),x=Ie(_,v),w=g.get(x),E=Me(e,1===s(w,!0).length,n,h);if(!E)return;Ae.includes(h)&&r.preventDefault();var S=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=g.get(e);u(r),d(),f.current=Object(y["a"])((function(){p.current===r&&t.focus()}))}};if(E.sibling||!x){var k;k=x&&"inline"!==e?Pe(x):a.current;var O=je(k,v,x,E.offset);S(O)}else if(E.inlineTrigger)l(w);else if(E.offset>0)l(w,!0),d(),f.current=Object(y["a"])((function(){b();var e=x.getAttribute("aria-controls"),t=document.getElementById(e),n=je(t,v);S(n)}),5);else if(E.offset<0){var T=s(w,!0),C=T[T.length-2],A=m.get(C);l(C,!1),S(A)}}null===c||void 0===c||c(r)}}var Ne=Math.random().toFixed(5).toString().slice(2),De=0;function Fe(e){var t=Object(v["a"])(e,{value:e}),n=Object(s["a"])(t,2),i=n[0],a=n[1];return r["useEffect"]((function(){De+=1;var e="".concat(Ne,"-").concat(De);a("rc-menu-uuid-".concat(e))}),[]),i}function ze(e){Promise.resolve().then(e)}var Be="__RC_UTIL_PATH_SPLIT__",Ue=function(e){return e.join(Be)},Ve=function(e){return e.split(Be)},He="rc-menu-more";function We(){var e=r["useState"]({}),t=Object(s["a"])(e,2),n=t[1],i=Object(r["useRef"])(new Map),a=Object(r["useRef"])(new Map),o=r["useState"]([]),u=Object(s["a"])(o,2),l=u[0],c=u[1],f=Object(r["useRef"])(0),p=Object(r["useRef"])(!1),d=function(){p.current||n({})},h=Object(r["useCallback"])((function(e,t){var n=Ue(t);a.current.set(n,e),i.current.set(e,n),f.current+=1;var r=f.current;ze((function(){r===f.current&&d()}))}),[]),v=Object(r["useCallback"])((function(e,t){var n=Ue(t);a.current["delete"](n),i.current["delete"](e)}),[]),y=Object(r["useCallback"])((function(e){c(e)}),[]),g=Object(r["useCallback"])((function(e,t){var n=i.current.get(e)||"",r=Ve(n);return t&&l.includes(r[0])&&r.unshift(He),r}),[l]),b=Object(r["useCallback"])((function(e,t){return e.some((function(e){var n=g(e,!0);return n.includes(t)}))}),[g]),_=function(){var e=Object(m["a"])(i.current.keys());return l.length&&e.push(He),e},x=Object(r["useCallback"])((function(e){var t="".concat(i.current.get(e)).concat(Be),n=new Set;return Object(m["a"])(a.current.keys()).forEach((function(e){e.startsWith(t)&&n.add(a.current.get(e))})),n}),[]);return r["useEffect"]((function(){return function(){p.current=!0}}),[]),{registerPath:h,unregisterPath:v,refreshOverflowKeys:y,isSubPathKey:b,getKeyPath:g,getKeys:_,getSubPathKeys:x}}var qe=[],Ge=function(e){var t,n,i=e.prefixCls,u=void 0===i?"rc-menu":i,f=e.style,d=e.className,h=e.tabIndex,y=void 0===h?0:h,g=e.children,b=e.direction,_=e.id,x=e.mode,w=void 0===x?"vertical":x,E=e.inlineCollapsed,S=e.disabled,k=e.disabledOverflow,O=e.subMenuOpenDelay,T=void 0===O?.1:O,C=e.subMenuCloseDelay,M=void 0===C?.1:C,I=e.forceSubMenuRender,R=e.defaultOpenKeys,j=e.openKeys,L=e.activeKey,N=e.defaultActiveFirst,D=e.selectable,F=void 0===D||D,z=e.multiple,U=void 0!==z&&z,H=e.defaultSelectedKeys,W=e.selectedKeys,q=e.onSelect,Z=e.onDeselect,Y=e.inlineIndent,X=void 0===Y?24:Y,Q=e.motion,$=e.defaultMotions,ee=e.triggerSubMenuAction,te=void 0===ee?"hover":ee,ne=e.builtinPlacements,oe=e.itemIcon,se=e.expandIcon,ue=e.overflowedIndicator,le=void 0===ue?"...":ue,ce=e.overflowedIndicatorPopupClassName,fe=e.getPopupContainer,pe=e.onClick,de=e.onOpenChange,he=e.onKeyDown,ve=(e.openAnimation,e.openTransitionName,Object(l["a"])(e,["prefixCls","style","className","tabIndex","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName"])),me=ie(g,qe),ye=r["useState"](!1),ge=Object(s["a"])(ye,2),_e=ge[0],xe=ge[1],we=r["useRef"](),Ee=Fe(_),Se="rtl"===b;var ke=r["useMemo"]((function(){return"inline"!==w&&"vertical"!==w||!E?[w,!1]:["vertical",E]}),[w,E]),Oe=Object(s["a"])(ke,2),Te=Oe[0],Ce=Oe[1],Ae=r["useState"](0),Me=Object(s["a"])(Ae,2),Pe=Me[0],Ie=Me[1],Re=Pe>=me.length-1||"horizontal"!==Te||k,je=Object(v["a"])(R,{value:j,postState:function(e){return e||qe}}),Ne=Object(s["a"])(je,2),De=Ne[0],ze=Ne[1],Be=function(e){ze(e),null===de||void 0===de||de(e)},Ue=r["useState"](De),Ve=Object(s["a"])(Ue,2),Ge=Ve[0],Ze=Ve[1],Ye="inline"===Te,Xe=r["useRef"](!1);r["useEffect"]((function(){Ye&&Ze(De)}),[De]),r["useEffect"]((function(){Xe.current?Ye?ze(Ge):Be(qe):Xe.current=!0}),[Ye]);var Ke=We(),Je=Ke.registerPath,Qe=Ke.unregisterPath,$e=Ke.refreshOverflowKeys,et=Ke.isSubPathKey,tt=Ke.getKeyPath,nt=Ke.getKeys,rt=Ke.getSubPathKeys,it=r["useMemo"]((function(){return{registerPath:Je,unregisterPath:Qe}}),[Je,Qe]),at=r["useMemo"]((function(){return{isSubPathKey:et}}),[et]);r["useEffect"]((function(){$e(Re?qe:me.slice(Pe+1).map((function(e){return e.key})))}),[Pe,Re]);var ot=Object(v["a"])(L||N&&(null===(t=me[0])||void 0===t?void 0:t.key),{value:L}),st=Object(s["a"])(ot,2),ut=st[0],lt=st[1],ct=ae((function(e){lt(e)})),ft=ae((function(){lt(void 0)})),pt=Object(v["a"])(H||[],{value:W,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?qe:[e]}}),dt=Object(s["a"])(pt,2),ht=dt[0],vt=dt[1],mt=function(e){if(F){var t,n=e.key,r=ht.includes(n);t=U?r?ht.filter((function(e){return e!==n})):[].concat(Object(m["a"])(ht),[n]):[n],vt(t);var i=Object(c["a"])(Object(c["a"])({},e),{},{selectedKeys:t});r?null===Z||void 0===Z||Z(i):null===q||void 0===q||q(i)}!U&&De.length&&"inline"!==Te&&Be(qe)},yt=ae((function(e){null===pe||void 0===pe||pe(V(e)),mt(e)})),gt=ae((function(e,t){var n=De.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Te){var r=rt(e);n=n.filter((function(e){return!r.has(e)}))}A()(De,n)||Be(n)})),bt=ae(fe),_t=function(e,t){var n=null!==t&&void 0!==t?t:!De.includes(e);gt(e,n)},xt=Le(Te,ut,Se,Ee,we,nt,tt,lt,_t,he);r["useEffect"]((function(){xe(!0)}),[]);var wt="horizontal"!==Te||k?me:me.map((function(e,t){return r["createElement"](B,{key:e.key,overflowDisabled:t>Pe},e)})),Et=r["createElement"](P["a"],Object(a["a"])({id:_,ref:we,prefixCls:"".concat(u,"-overflow"),component:"ul",itemComponent:re,className:p()(u,"".concat(u,"-root"),"".concat(u,"-").concat(Te),d,(n={},Object(o["a"])(n,"".concat(u,"-inline-collapsed"),Ce),Object(o["a"])(n,"".concat(u,"-rtl"),Se),n)),dir:b,style:f,role:"menu",tabIndex:y,data:wt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?me.slice(-t):null;return r["createElement"](be,{eventKey:He,title:le,disabled:Re,internalPopupClose:0===t,popupClassName:ce},n)},maxCount:"horizontal"!==Te||k?P["a"].INVALIDATE:P["a"].RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ie(e)},onKeyDown:xt},ve));return r["createElement"](J.Provider,{value:Ee},r["createElement"](B,{prefixCls:u,mode:Te,openKeys:De,rtl:Se,disabled:S,motion:_e?Q:null,defaultMotions:_e?$:null,activeKey:ut,onActive:ct,onInactive:ft,selectedKeys:ht,inlineIndent:X,subMenuOpenDelay:T,subMenuCloseDelay:M,forceSubMenuRender:I,builtinPlacements:ne,triggerSubMenuAction:te,getPopupContainer:bt,itemIcon:oe,expandIcon:se,onItemClick:yt,onOpenChange:gt},r["createElement"](K.Provider,{value:at},Et),r["createElement"]("div",{style:{display:"none"},"aria-hidden":!0},r["createElement"](G.Provider,{value:it},me))))},Ze=Ge,Ye=function(e){var t=e.className,n=e.title,i=(e.eventKey,e.children),o=Object(l["a"])(e,["className","title","eventKey","children"]),s=r["useContext"](F),u=s.prefixCls,c="".concat(u,"-item-group");return r["createElement"]("li",Object(a["a"])({},o,{onClick:function(e){return e.stopPropagation()},className:p()(c,t)}),r["createElement"]("div",{className:"".concat(c,"-title"),title:"string"===typeof n?n:void 0},n),r["createElement"]("ul",{className:"".concat(c,"-list")},i))};function Xe(e){var t=e.children,n=Object(l["a"])(e,["children"]),i=X(n.eventKey),a=ie(t,i),o=Z();return o?a:r["createElement"](Ye,Object(N["a"])(n,["warnKey"]),a)}function Ke(e){var t=e.className,n=e.style,i=r["useContext"](F),a=i.prefixCls,o=Z();return o?null:r["createElement"]("li",{className:p()("".concat(a,"-item-divider"),t),style:n})}var Je=Ze;Je.Item=re,Je.SubMenu=be,Je.ItemGroup=Xe,Je.Divider=Ke;var Qe=Je,$e={adjustX:1,adjustY:1},et=[0,0],tt={topLeft:{points:["bl","tl"],overflow:$e,offset:[0,-4],targetOffset:et},topCenter:{points:["bc","tc"],overflow:$e,offset:[0,-4],targetOffset:et},topRight:{points:["br","tr"],overflow:$e,offset:[0,-4],targetOffset:et},bottomLeft:{points:["tl","bl"],overflow:$e,offset:[0,4],targetOffset:et},bottomCenter:{points:["tc","bc"],overflow:$e,offset:[0,4],targetOffset:et},bottomRight:{points:["tr","br"],overflow:$e,offset:[0,4],targetOffset:et}},nt=tt;function rt(e,t){var n=e.arrow,i=void 0!==n&&n,a=e.prefixCls,u=void 0===a?"rc-dropdown":a,c=e.transitionName,f=e.animation,d=e.align,h=e.placement,v=void 0===h?"bottomLeft":h,m=e.placements,y=void 0===m?nt:m,g=e.getPopupContainer,b=e.showAction,_=e.hideAction,x=e.overlayClassName,w=e.overlayStyle,E=e.visible,S=e.trigger,k=void 0===S?["hover"]:S,O=Object(l["a"])(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),T=r["useState"](),C=Object(s["a"])(T,2),A=C[0],M=C[1],P="visible"in e?E:A,I=r["useRef"](null);r["useImperativeHandle"](t,(function(){return I.current}));var R=function(){var t,n=e.overlay;return t="function"===typeof n?n():n,t},j=function(t){var n=e.onOverlayClick,r=R().props;M(!1),n&&n(t),r.onClick&&r.onClick(t)},L=function(t){var n=e.onVisibleChange;M(t),"function"===typeof n&&n(t)},N=function(){var e=R(),t={prefixCls:"".concat(u,"-menu"),onClick:j};return"string"===typeof e.type&&delete t.prefixCls,r["createElement"](r["Fragment"],null,i&&r["createElement"]("div",{className:"".concat(u,"-arrow")}),r["cloneElement"](e,t))},D=function(){var t=e.overlay;return"function"===typeof t?N:N()},F=function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n},z=function(){var t=e.openClassName;return void 0!==t?t:"".concat(u,"-open")},B=function(){var t=e.children,n=t.props?t.props:{},i=p()(n.className,z());return A&&t?r["cloneElement"](t,{className:i}):t},U=_;return U||-1===k.indexOf("contextMenu")||(U=["click"]),r["createElement"](le["a"],Object.assign({},O,{prefixCls:u,ref:I,popupClassName:p()(x,Object(o["a"])({},"".concat(u,"-show-arrow"),i)),popupStyle:w,builtinPlacements:y,action:k,showAction:b,hideAction:U||[],popupPlacement:v,popupAlign:d,popupTransitionName:c,popupAnimation:f,popupVisible:P,stretch:F()?"minWidth":"",popup:D(),onPopupVisibleChange:L,getPopupContainer:g}),B())}var it=r["forwardRef"](rt),at=it;function ot(e,t){var n=e.prefixCls,i=e.editable,a=e.locale,o=e.style;return i&&!1!==i.showAdd?r["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:o,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var st=r["forwardRef"](ot);function ut(e,t){var n=e.prefixCls,i=e.id,a=e.tabs,u=e.locale,l=e.mobile,c=e.moreIcon,f=void 0===c?"More":c,d=e.moreTransitionName,h=e.style,v=e.className,m=e.editable,y=e.tabBarGutter,g=e.rtl,b=e.onTabClick,_=Object(r["useState"])(!1),w=Object(s["a"])(_,2),E=w[0],S=w[1],k=Object(r["useState"])(null),O=Object(s["a"])(k,2),T=O[0],C=O[1],A="".concat(i,"-more-popup"),M="".concat(n,"-dropdown"),P=null!==T?"".concat(A,"-").concat(T):null,I=null===u||void 0===u?void 0:u.dropdownAriaLabel,R=r["createElement"](Qe,{onClick:function(e){var t=e.key,n=e.domEvent;b(t,n),S(!1)},id:A,tabIndex:-1,role:"listbox","aria-activedescendant":P,selectedKeys:[T],"aria-label":void 0!==I?I:"expanded dropdown"},a.map((function(e){return r["createElement"](re,{key:e.key,id:"".concat(A,"-").concat(e.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(e.key),disabled:e.disabled},e.tab)})));function j(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===T}))||0,r=t.length,i=0;i<r;i+=1){n=(n+e+r)%r;var o=t[n];if(!o.disabled)return void C(o.key)}}function L(e){var t=e.which;if(E)switch(t){case x["a"].UP:j(-1),e.preventDefault();break;case x["a"].DOWN:j(1),e.preventDefault();break;case x["a"].ESC:S(!1);break;case x["a"].SPACE:case x["a"].ENTER:null!==T&&b(T,e);break}else[x["a"].DOWN,x["a"].SPACE,x["a"].ENTER].includes(t)&&(S(!0),e.preventDefault())}Object(r["useEffect"])((function(){var e=document.getElementById(P);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[T]),Object(r["useEffect"])((function(){E||C(null)}),[E]);var N=Object(o["a"])({},g?"marginRight":"marginLeft",y);a.length||(N.visibility="hidden",N.order=1);var D=p()(Object(o["a"])({},"".concat(M,"-rtl"),g)),F=l?null:r["createElement"](at,{prefixCls:M,overlay:R,trigger:["hover"],visible:E,transitionName:d,onVisibleChange:S,overlayClassName:D,mouseEnterDelay:.1,mouseLeaveDelay:.1},r["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:N,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":A,id:"".concat(i,"-more"),"aria-expanded":E,onKeyDown:L},f));return r["createElement"]("div",{className:p()("".concat(n,"-nav-operations"),v),style:h,ref:t},F,r["createElement"](st,{prefixCls:n,locale:u,editable:m}))}var lt=r["forwardRef"](ut),ct=Object(r["createContext"])(null),ft=.1,pt=.01,dt=20,ht=Math.pow(.995,dt);function vt(e,t){var n=Object(r["useState"])(),i=Object(s["a"])(n,2),a=i[0],o=i[1],u=Object(r["useState"])(0),l=Object(s["a"])(u,2),c=l[0],f=l[1],p=Object(r["useState"])(0),d=Object(s["a"])(p,2),h=d[0],v=d[1],m=Object(r["useState"])(),y=Object(s["a"])(m,2),g=y[0],b=y[1],_=Object(r["useRef"])();function x(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(_.current)}function w(e){if(a){e.preventDefault();var n=e.touches[0],r=n.screenX,i=n.screenY;o({x:r,y:i});var s=r-a.x,u=i-a.y;t(s,u);var l=Date.now();f(l),v(l-c),b({x:s,y:u})}}function E(){if(a&&(o(null),b(null),g)){var e=g.x/h,n=g.y/h,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<ft)return;var s=e,u=n;_.current=window.setInterval((function(){Math.abs(s)<pt&&Math.abs(u)<pt?window.clearInterval(_.current):(s*=ht,u*=ht,t(s*dt,u*dt))}),dt)}}var S=Object(r["useRef"])();function k(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===S.current?n:r:a>o?(i=n,S.current="x"):(i=r,S.current="y"),t(-i,-i)&&e.preventDefault()}var O=Object(r["useRef"])(null);O.current={onTouchStart:x,onTouchMove:w,onTouchEnd:E,onWheel:k},r["useEffect"]((function(){function t(e){O.current.onTouchStart(e)}function n(e){O.current.onTouchMove(e)}function r(e){O.current.onTouchEnd(e)}function i(e){O.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function mt(){var e=Object(r["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,r["createRef"]()),e.current.get(t)}function n(t){e.current["delete"](t)}return[t,n]}function yt(e,t){var n=r["useRef"](e),i=r["useState"]({}),a=Object(s["a"])(i,2),o=a[1];function u(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,o({})}return[n.current,u]}var gt=function(e){var t,n=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var o={};return a&&"object"===Object(u["a"])(a)&&!r["isValidElement"](a)?o=a:o.right=a,"right"===n&&(t=o.right),"left"===n&&(t=o.left),t?r["createElement"]("div",{className:"".concat(i,"-extra-content")},t):null};function bt(e,t){var n,i=r["useContext"](ct),u=i.prefixCls,l=i.tabs,f=e.className,d=e.style,h=e.id,v=e.animated,x=e.activeKey,w=e.rtl,S=e.extra,O=e.editable,C=e.locale,A=e.tabPosition,M=e.tabBarGutter,P=e.children,I=e.onTabClick,R=e.onTabScroll,j=Object(r["useRef"])(),L=Object(r["useRef"])(),N=Object(r["useRef"])(),D=Object(r["useRef"])(),F=mt(),z=Object(s["a"])(F,2),B=z[0],U=z[1],V="top"===A||"bottom"===A,H=yt(0,(function(e,t){V&&R&&R({direction:e>t?"left":"right"})})),W=Object(s["a"])(H,2),q=W[0],G=W[1],Z=yt(0,(function(e,t){!V&&R&&R({direction:e>t?"top":"bottom"})})),Y=Object(s["a"])(Z,2),X=Y[0],K=Y[1],J=Object(r["useState"])(0),Q=Object(s["a"])(J,2),$=Q[0],ee=Q[1],te=Object(r["useState"])(0),ne=Object(s["a"])(te,2),re=ne[0],ie=ne[1],ae=Object(r["useState"])(0),oe=Object(s["a"])(ae,2),se=oe[0],ue=oe[1],le=Object(r["useState"])(0),ce=Object(s["a"])(le,2),fe=ce[0],pe=ce[1],de=Object(r["useState"])(null),he=Object(s["a"])(de,2),ve=he[0],me=he[1],ye=Object(r["useState"])(null),ge=Object(s["a"])(ye,2),be=ge[0],_e=ge[1],xe=Object(r["useState"])(0),we=Object(s["a"])(xe,2),Ee=we[0],Se=we[1],ke=Object(r["useState"])(0),Oe=Object(s["a"])(ke,2),Te=Oe[0],Ce=Oe[1],Ae=_(new Map),Me=Object(s["a"])(Ae,2),Pe=Me[0],Ie=Me[1],Re=k(l,Pe,$),je="".concat(u,"-nav-operations-hidden"),Le=0,Ne=0;function De(e){return e<Le?Le:e>Ne?Ne:e}V?w?(Le=0,Ne=Math.max(0,$-ve)):(Le=Math.min(0,ve-$),Ne=0):(Le=Math.min(0,be-re),Ne=0);var Fe=Object(r["useRef"])(),ze=Object(r["useState"])(),Be=Object(s["a"])(ze,2),Ue=Be[0],Ve=Be[1];function He(){Ve(Date.now())}function We(){window.clearTimeout(Fe.current)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=Re.get(e)||{width:0,height:0,left:0,right:0,top:0};if(V){var n=q;w?t.right<q?n=t.right:t.right+t.width>q+ve&&(n=t.right+t.width-ve):t.left<-q?n=-t.left:t.left+t.width>-q+ve&&(n=-(t.left+t.width-ve)),K(0),G(De(n))}else{var r=X;t.top<-X?r=-t.top:t.top+t.height>-X+be&&(r=-(t.top+t.height-be)),G(0),K(De(r))}}vt(j,(function(e,t){function n(e,t){e((function(e){var n=De(e+t);return n}))}if(V){if(ve>=$)return!1;n(G,e)}else{if(be>=re)return!1;n(K,t)}return We(),He(),!0})),Object(r["useEffect"])((function(){return We(),Ue&&(Fe.current=window.setTimeout((function(){Ve(0)}),100)),We}),[Ue]);var Ge=T(Re,{width:ve,height:be,left:q,top:X},{width:se,height:fe},{width:Ee,height:Te},Object(c["a"])(Object(c["a"])({},e),{},{tabs:l})),Ze=Object(s["a"])(Ge,2),Ye=Ze[0],Xe=Ze[1],Ke={};"top"===A||"bottom"===A?Ke[w?"marginRight":"marginLeft"]=M:Ke.marginTop=M;var Je=l.map((function(e,t){var n=e.key;return r["createElement"](E,{id:h,prefixCls:u,key:n,tab:e,style:0===t?void 0:Ke,closable:e.closable,editable:O,active:n===x,renderWrapper:P,removeAriaLabel:null===C||void 0===C?void 0:C.removeAriaLabel,ref:B(n),onClick:function(e){I(n,e)},onRemove:function(){U(n)},onFocus:function(){qe(n),He(),j.current&&(w||(j.current.scrollLeft=0),j.current.scrollTop=0)}})})),Qe=b((function(){var e,t,n,r,i,a,o,s,u,c=(null===(e=j.current)||void 0===e?void 0:e.offsetWidth)||0,f=(null===(t=j.current)||void 0===t?void 0:t.offsetHeight)||0,p=(null===(n=D.current)||void 0===n?void 0:n.offsetWidth)||0,d=(null===(r=D.current)||void 0===r?void 0:r.offsetHeight)||0,h=(null===(i=N.current)||void 0===i?void 0:i.offsetWidth)||0,v=(null===(a=N.current)||void 0===a?void 0:a.offsetHeight)||0;me(c),_e(f),Se(p),Ce(d);var m=((null===(o=L.current)||void 0===o?void 0:o.offsetWidth)||0)-p,y=((null===(s=L.current)||void 0===s?void 0:s.offsetHeight)||0)-d;ee(m),ie(y);var g=null===(u=N.current)||void 0===u?void 0:u.className.includes(je);ue(m-(g?0:h)),pe(y-(g?0:v)),Ie((function(){var e=new Map;return l.forEach((function(t){var n=t.key,r=B(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),$e=l.slice(0,Ye),et=l.slice(Xe+1),tt=[].concat(Object(m["a"])($e),Object(m["a"])(et)),nt=Object(r["useState"])(),rt=Object(s["a"])(nt,2),it=rt[0],at=rt[1],ot=Re.get(x),ut=Object(r["useRef"])();function ft(){y["a"].cancel(ut.current)}Object(r["useEffect"])((function(){var e={};return ot&&(V?(w?e.right=ot.right:e.left=ot.left,e.width=ot.width):(e.top=ot.top,e.height=ot.height)),ft(),ut.current=Object(y["a"])((function(){at(e)})),ft}),[ot,V,w]),Object(r["useEffect"])((function(){qe()}),[x,ot,Re,V]),Object(r["useEffect"])((function(){Qe()}),[w,M,x,l.map((function(e){return e.key})).join("_")]);var pt,dt,ht,bt,_t=!!tt.length,xt="".concat(u,"-nav-wrap");return V?w?(dt=q>0,pt=q+ve<$):(pt=q<0,dt=-q+ve<$):(ht=X<0,bt=-X+be<re),r["createElement"]("div",{ref:t,role:"tablist",className:p()("".concat(u,"-nav"),f),style:d,onKeyDown:function(){He()}},r["createElement"](gt,{position:"left",extra:S,prefixCls:u}),r["createElement"](g["a"],{onResize:Qe},r["createElement"]("div",{className:p()(xt,(n={},Object(o["a"])(n,"".concat(xt,"-ping-left"),pt),Object(o["a"])(n,"".concat(xt,"-ping-right"),dt),Object(o["a"])(n,"".concat(xt,"-ping-top"),ht),Object(o["a"])(n,"".concat(xt,"-ping-bottom"),bt),n)),ref:j},r["createElement"](g["a"],{onResize:Qe},r["createElement"]("div",{ref:L,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(q,"px, ").concat(X,"px)"),transition:Ue?"none":void 0}},Je,r["createElement"](st,{ref:D,prefixCls:u,locale:C,editable:O,style:Object(c["a"])(Object(c["a"])({},0===Je.length?void 0:Ke),{},{visibility:_t?"hidden":null})}),r["createElement"]("div",{className:p()("".concat(u,"-ink-bar"),Object(o["a"])({},"".concat(u,"-ink-bar-animated"),v.inkBar)),style:it}))))),r["createElement"](lt,Object(a["a"])({},e,{ref:N,prefixCls:u,tabs:tt,className:!_t&&je})),r["createElement"](gt,{position:"right",extra:S,prefixCls:u}))}var _t=r["forwardRef"](bt);function xt(e){var t=e.id,n=e.activeKey,i=e.animated,a=e.tabPosition,s=e.rtl,u=e.destroyInactiveTabPane,l=r["useContext"](ct),c=l.prefixCls,f=l.tabs,d=i.tabPane,h=f.findIndex((function(e){return e.key===n}));return r["createElement"]("div",{className:p()("".concat(c,"-content-holder"))},r["createElement"]("div",{className:p()("".concat(c,"-content"),"".concat(c,"-content-").concat(a),Object(o["a"])({},"".concat(c,"-content-animated"),d)),style:h&&d?Object(o["a"])({},s?"marginRight":"marginLeft","-".concat(h,"00%")):null},f.map((function(e){return r["cloneElement"](e.node,{key:e.key,prefixCls:c,tabKey:e.key,id:t,animated:d,active:e.key===n,destroyInactiveTabPane:u})}))))}function wt(e){var t=e.prefixCls,n=e.forceRender,i=e.className,a=e.style,o=e.id,u=e.active,l=e.animated,f=e.destroyInactiveTabPane,d=e.tabKey,h=e.children,v=r["useState"](n),m=Object(s["a"])(v,2),y=m[0],g=m[1];r["useEffect"]((function(){u?g(!0):f&&g(!1)}),[u,f]);var b={};return u||(l?(b.visibility="hidden",b.height=0,b.overflowY="hidden"):b.display="none"),r["createElement"]("div",{id:o&&"".concat(o,"-panel-").concat(d),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":o&&"".concat(o,"-tab-").concat(d),"aria-hidden":!u,style:Object(c["a"])(Object(c["a"])({},b),a),className:p()("".concat(t,"-tabpane"),u&&"".concat(t,"-tabpane-active"),i)},(u||y||n)&&h)}var Et=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],St=0;function kt(e){return Object(d["a"])(e).map((function(e){if(r["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(c["a"])(Object(c["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function Ot(e,t){var n,i,f=e.id,d=e.prefixCls,m=void 0===d?"rc-tabs":d,y=e.className,g=e.children,b=e.direction,_=e.activeKey,x=e.defaultActiveKey,w=e.editable,E=e.animated,S=void 0===E?{inkBar:!0,tabPane:!1}:E,k=e.tabPosition,O=void 0===k?"top":k,T=e.tabBarGutter,C=e.tabBarStyle,A=e.tabBarExtraContent,M=e.locale,P=e.moreIcon,I=e.moreTransitionName,R=e.destroyInactiveTabPane,j=e.renderTabBar,L=e.onChange,N=e.onTabClick,D=e.onTabScroll,F=Object(l["a"])(e,Et),z=kt(g),B="rtl"===b;i=!1===S?{inkBar:!1,tabPane:!1}:!0===S?{inkBar:!0,tabPane:!0}:Object(c["a"])({inkBar:!0,tabPane:!1},"object"===Object(u["a"])(S)?S:{});var U=Object(r["useState"])(!1),V=Object(s["a"])(U,2),H=V[0],W=V[1];Object(r["useEffect"])((function(){W(Object(h["a"])())}),[]);var q=Object(v["a"])((function(){var e;return null===(e=z[0])||void 0===e?void 0:e.key}),{value:_,defaultValue:x}),G=Object(s["a"])(q,2),Z=G[0],Y=G[1],X=Object(r["useState"])((function(){return z.findIndex((function(e){return e.key===Z}))})),K=Object(s["a"])(X,2),J=K[0],Q=K[1];Object(r["useEffect"])((function(){var e,t=z.findIndex((function(e){return e.key===Z}));-1===t&&(t=Math.max(0,Math.min(J,z.length-1)),Y(null===(e=z[t])||void 0===e?void 0:e.key));Q(t)}),[z.map((function(e){return e.key})).join("_"),Z,J]);var $=Object(v["a"])(null,{value:f}),ee=Object(s["a"])($,2),te=ee[0],ne=ee[1],re=O;function ie(e,t){null===N||void 0===N||N(e,t),Y(e),null===L||void 0===L||L(e)}H&&!["left","right"].includes(O)&&(re="top"),Object(r["useEffect"])((function(){f||(ne("rc-tabs-".concat(St)),St+=1)}),[]);var ae,oe={id:te,activeKey:Z,animated:i,tabPosition:re,rtl:B,mobile:H},se=Object(c["a"])(Object(c["a"])({},oe),{},{editable:w,locale:M,moreIcon:P,moreTransitionName:I,tabBarGutter:T,onTabClick:ie,onTabScroll:D,extra:A,style:C,panes:g});return ae=j?j(se,_t):r["createElement"](_t,se),r["createElement"](ct.Provider,{value:{tabs:z,prefixCls:m}},r["createElement"]("div",Object(a["a"])({ref:t,id:f,className:p()(m,"".concat(m,"-").concat(re),(n={},Object(o["a"])(n,"".concat(m,"-mobile"),H),Object(o["a"])(n,"".concat(m,"-editable"),w),Object(o["a"])(n,"".concat(m,"-rtl"),B),n),y)},F),ae,r["createElement"](xt,Object(a["a"])({destroyInactiveTabPane:R},oe,{animated:i}))))}var Tt=r["forwardRef"](Ot);Tt.TabPane=wt;var Ct=Tt,At=Ct,Mt=n("9kvl"),Pt=n("dEAq"),It=n("H1Ra");n("RZMt");function Rt(e,t){return Ft(e)||Dt(e,t)||Lt(e,t)||jt()}function jt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(e,t){if(e){if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function Ft(e){if(Array.isArray(e))return e}function zt(e,t){var n,r=null===(n=e.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return r||(r=t.tsx?"tsx":"jsx"),r}var Bt=function(e){var t,n,a,o=Object(r["useRef"])(),s=Object(r["useContext"])(Pt["context"]),u=s.locale,l=Object(Pt["useLocaleProps"])(u,e),c=Object(Pt["useDemoUrl"])(l.identifier),f=l.demoUrl||c,p=(null===Mt["a"]||void 0===Mt["a"]?void 0:Mt["a"].location.hash)==="#".concat(l.identifier),d=1===Object.keys(l.sources).length,h=Object(Pt["useCodeSandbox"])((null===(t=l.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:l),v=Object(Pt["useRiddle"])((null===(n=l.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:l),m=Object(Pt["useMotions"])(l.motions||[],o.current),y=Rt(m,2),g=y[0],b=y[1],_=Object(Pt["useCopy"])(),x=Rt(_,2),w=x[0],E=x[1],S=Object(r["useState"])("_"),k=Rt(S,2),O=k[0],T=k[1],C=Object(r["useState"])(zt(O,l.sources[O])),A=Rt(C,2),M=A[0],P=A[1],I=Object(r["useState"])(Boolean(l.defaultShowCode)),R=Rt(I,2),j=R[0],L=R[1],N=Object(r["useState"])(Math.random()),D=Rt(N,2),F=D[0],z=D[1],B=l.sources[O][M]||l.sources[O].content,U=Object(Pt["useTSPlaygroundUrl"])(u,B),V=Object(r["useRef"])(),H=Object(Pt["usePrefersColor"])(),W=Rt(H,1),q=W[0];function G(e){T(e),P(zt(e,l.sources[e]))}return Object(r["useEffect"])((function(){z(Math.random())}),[q]),i.a.createElement("div",{style:l.style,className:[l.className,"__dumi-default-previewer",p?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:l.identifier,"data-debug":l.debug||void 0,"data-iframe":l.iframe||void 0},l.iframe&&i.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),i.a.createElement("div",{ref:o,className:"__dumi-default-previewer-demo",style:{transform:l.transform?"translate(0, 0)":void 0,padding:l.compact||l.iframe&&!1!==l.compact?"0":void 0,background:l.background}},l.iframe?i.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(l.iframe).replace(/(\d)$/,"$1px")},key:F,src:f,ref:V}):l.children),i.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":l.title},l.title&&i.a.createElement(Pt["AnchorLink"],{to:"#".concat(l.identifier)},l.title),l.description&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.description}})),i.a.createElement("div",{className:"__dumi-default-previewer-actions"},h&&i.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:h}),v&&i.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:v}),l.motions&&i.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:b,onClick:function(){return g()}}),l.iframe&&i.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return z(Math.random())}}),!(null===(a=l.hideActions)||void 0===a?void 0:a.includes("EXTERNAL"))&&i.a.createElement(Pt["Link"],{target:"_blank",to:f},i.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),i.a.createElement("span",null),i.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":E,onClick:function(){return w(B)}}),"tsx"===M&&j&&i.a.createElement(Pt["Link"],{target:"_blank",to:U},i.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),i.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(j?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return L(!j)}})),j&&i.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!d&&i.a.createElement(At,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:O,onChange:G},Object.keys(l.sources).map((function(e){return i.a.createElement(wt,{tab:"_"===e?"index.".concat(zt(e,l.sources[e])):e,key:e})}))),i.a.createElement("div",{className:"__dumi-default-previewer-source"},i.a.createElement(It["a"],{code:B,lang:M,showCopy:!1}))))};t["default"]=Bt},ZzCi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n("xfSm"),i=n("GXnB"),a=n("Ztfv");function o(e){return function(t,n,o){var s=new i.Metadata(r.NAMED_TAG,e);"number"===typeof o?a.tagParameter(t,n,o,s):a.tagProperty(t,n,s)}}t.named=o},a1gu:function(e,t,n){var r=n("cDf5")["default"],i=n("PJYZ");function a(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},a3WO:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},"a5/B":function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{umulh:function(e,t){var n=65535,r=+e,i=+t,a=r&n,o=i&n,s=r>>>16,u=i>>>16,l=(s*o>>>0)+(a*o>>>16);return s*u+(l>>>16)+((a*u>>>0)+(l&n)>>>16)}})},a57n:function(e,t,n){var r=n("dG/n");r("search")},aD6j:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-world"].component),l=i.a.memo(s["default"]["docs-china"].component),c=i.a.memo(s["default"]["docs-province"].component),f=i.a.memo(s["default"]["docs-city"].component),p=i.a.memo(s["default"]["docs-county"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u6807\u51c6\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u6807\u51c6\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6807\u51c6\u5730\u56fe"),i.a.createElement("h2",{id:"worldlayer-\u4e16\u754c\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#worldlayer-\u4e16\u754c\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"WorldLayer \u4e16\u754c\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-world"].previewerProps,i.a.createElement(u,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"},i.a.createElement(a["AnchorLink"],{to:"#countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd")),i.a.createElement(o["default"],s["default"]["docs-china"].previewerProps,i.a.createElement(l,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"provincelayer-\u7701\u7ea7\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#provincelayer-\u7701\u7ea7\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"ProvinceLayer \u7701\u7ea7\u5730\u56fe"),i.a.createElement("p",null,"\u26d4 adcode ",i.a.createElement("code",null,"Array")," \u8bbe\u7f6e\u5bf9\u5e94\u7701\u7ea7\u884c\u653f\u7f16\u7801(\u53ea\u53ef\u5c55\u793a\u4e00\u4e2a\u7701\u4efd)",i.a.createElement("br",null),"\u26d4 \u5bf9\u4e8e\u76f4\u8f96\u5e02\u5982\u679c\u9700\u8981\u663e\u793a\u533a\u53bf\u884c\u653f\u8fb9\u754c\uff0c\u9700\u8981 ",i.a.createElement("code",null,"depth:3"))),i.a.createElement(o["default"],s["default"]["docs-province"].previewerProps,i.a.createElement(c,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"citylayer-\u5e02\u7ea7\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#citylayer-\u5e02\u7ea7\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"CityLayer \u5e02\u7ea7\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-city"].previewerProps,i.a.createElement(f,null)),i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"countylayer-\u53bf\u7ea7\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#countylayer-\u53bf\u7ea7\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"CountyLayer \u53bf\u7ea7\u5730\u56fe"),i.a.createElement("p",null,"\u26d4 adcode ",i.a.createElement("code",null,"Array")," \u533a\u53bf\u884c\u653f\u7f16\u7801\uff0c\u53ef\u4ee5\u52a0\u591a\u4e2a\u533a\u53bf\u884c\u653f\u7f16\u7801\uff0c\u5c55\u793a\u591a\u4e2a\u533a\u53bf")),i.a.createElement(o["default"],s["default"]["docs-county"].previewerProps,i.a.createElement(p,null)))))},"aI2/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=r(n("YenN")),d=n("kIOg");function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\n      float opacity = styleMappingMat[0][0];\n      vec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\n      vec4 textureColor=texture2D(u_texture,pos);\n      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){\n            gl_FragColor= textureColor;\n      }else {\n            gl_FragColor= step(0.01, textureColor.z) * v_color;\n      }\n      // gl_FragColor.a =gl_FragColor.a * u_opacity;\n      gl_FragColor.a =gl_FragColor.a * opacity;\n      gl_FragColor = filterColor(gl_FragColor);\n}\n',y='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_stroke_width : 1;\nuniform vec2 u_offsets;\nvarying float v_size;\n\nuniform float u_opacity : 1;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n  vec2 textrueOffsets = vec2(0.0, 0.0);\n  if(hasOffsets()) {\n    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n\n    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x\n    textureOffset += 1.0;\n  } else {\n    textrueOffsets = u_offsets;\n  }\n\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n  //  vec2 offset = project_pixel(u_offsets);\n  vec2 offset = project_pixel(textrueOffsets);\n\n  //  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0);\n    } else {\n      gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy + offset),project_pos.z, 1.0));\n    }\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',g=function(e){(0,s["default"])(n,e);var t=h(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"initModels",value:function(){var e=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){e.updateTexture(),e.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:y,fragmentShader:m,triangulation:d.PointImageTriangulation,primitive:f.gl.POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy()}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:f.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.fontService.mapping,o=t.shape,s=e.fontService.getGlyph(o),u=a[s],l=u.x,c=u.y;return[l,c]}}})}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.texture=e({data:t,mag:f.gl.LINEAR,min:f.gl.LINEAR,width:t.width,height:t.height})}},{key:"initIconFontGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.fontWeight,r=void 0===n?"normal":n,i=t.fontFamily,a=void 0===i?"sans-serif":i,o=this.layer.getEncodedData(),s=[];o.forEach((function(t){var n=t.shape,r=void 0===n?"":n;r=r.toString();var i=e.fontService.getGlyph(r);-1===s.indexOf(i)&&s.push(i)})),this.fontService.setFontOptions({characterSet:s,fontWeight:r,fontFamily:a,fontSize:48})}}]),n}(p["default"]);t["default"]=g},aI7X:function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,a=Object.prototype.toString,o="[object Function]";e.exports=function(e){var t=this;if("function"!==typeof t||a.call(t)!==o)throw new TypeError(r+t);for(var n,s=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,s.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,s.concat(i.call(arguments)))},l=Math.max(0,t.length-s.length),c=[],f=0;f<l;f++)c.push("$"+f);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var p=function(){};p.prototype=t.prototype,n.prototype=new p,p.prototype=null}return n}},aPG5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n("MON2"),i=n("FV85"),a=n("qK8v"),o=n("ujMp"),s=n("cSJO"),u=function(e,t,n){try{return n()}catch(i){throw a.isStackOverflowExeption(i)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):i}},l=function e(t){return function(n){n.parentContext.setCurrentRequest(n);var a=n.bindings,l=n.childRequests,c=n.target&&n.target.isArray(),f=!n.parentRequest||!n.parentRequest.target||!n.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier);if(c&&f)return l.map((function(n){var r=e(t);return r(n)}));var p=null;if(!n.target.isOptional()||0!==a.length){var d=a[0],h=d.scope===i.BindingScopeEnum.Singleton,v=d.scope===i.BindingScopeEnum.Request;if(h&&d.activated)return d.cache;if(v&&null!==t&&t.has(d.id))return t.get(d.id);if(d.type===i.BindingTypeEnum.ConstantValue)p=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Function)p=d.cache,d.activated=!0;else if(d.type===i.BindingTypeEnum.Constructor)p=d.implementationType;else if(d.type===i.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)p=u("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Factory&&null!==d.factory)p=u("toFactory",d.serviceIdentifier,(function(){return d.factory(n.parentContext)}));else if(d.type===i.BindingTypeEnum.Provider&&null!==d.provider)p=u("toProvider",d.serviceIdentifier,(function(){return d.provider(n.parentContext)}));else{if(d.type!==i.BindingTypeEnum.Instance||null===d.implementationType){var m=o.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}p=s.resolveInstance(d.implementationType,l,e(t))}return"function"===typeof d.onActivation&&(p=d.onActivation(n.parentContext,p)),h&&(d.cache=p,d.activated=!0),v&&null!==t&&!t.has(d.id)&&t.set(d.id,p),p}}};function c(e){var t=l(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}t.resolve=c},aWJ0:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("QkVN")),p=r(n("qXrd")),d=n("i4Tg");function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s["default"])(n,e);var t=h(n);function n(e,r,a){var s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,i["default"])(this,n);var l=p["default"].mousePos(r.getCanvasContainer(),a),d=r.unproject(l);return s=t.call(this,e,(0,f["default"])({point:l,lngLat:d,originalEvent:a},u)),(0,c["default"])((0,o["default"])(s),"type",void 0),(0,c["default"])((0,o["default"])(s),"target",void 0),(0,c["default"])((0,o["default"])(s),"originalEvent",void 0),(0,c["default"])((0,o["default"])(s),"point",void 0),(0,c["default"])((0,o["default"])(s),"lngLat",void 0),(0,c["default"])((0,o["default"])(s),"defaultPrevented",void 0),s.defaultPrevented=!1,s.target=r,s}return(0,a["default"])(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(d.Event);t["default"]=m},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype,a=i.splice;function o(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():a.call(t,n,1),--this.size,!0}e.exports=o},afO8:function(e,t,n){var r,i,a,o=n("f5p1"),s=n("2oRo"),u=n("hh1v"),l=n("kRJp"),c=n("UTVS"),f=n("93I0"),p=n("0BK2"),d=s.WeakMap,h=function(e){return a(e)?i(e):r(e,{})},v=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(o){var m=new d,y=m.get,g=m.has,b=m.set;r=function(e,t){return b.call(m,e,t),t},i=function(e){return y.call(m,e)||{}},a=function(e){return g.call(m,e)}}else{var _=f("state");p[_]=!0,r=function(e,t){return l(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},a=function(e){return c(e,_)}}e.exports={set:r,get:i,has:a,enforce:h,getterFor:v}},agNf:function(e,t,n){},apDx:function(e,t,n){var r=n("dG/n");r("dispose")},asDA:function(e,t){function n(e,t,n,r){var i=-1,a=null==e?0:e.length;r&&a&&(n=e[++i]);while(++i<a)n=t(n,e[i],i,e);return n}e.exports=n},awgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapTheme=void 0;var r={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};t.MapTheme=r},b1O7:function(e,t,n){var r=n("g6v/"),i=n("33Wh"),a=n("/GqU"),o=n("0eef").f,s=function(e){return function(t){var n,s=a(t),u=i(s),l=u.length,c=0,f=[];while(l>c)n=u[c++],r&&!o.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},b2XM:function(e,t,n){},b2z7:function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},b48C:function(e,t){function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},b80T:function(e,t,n){var r=n("UNi/"),i=n("03A+"),a=n("Z0cm"),o=n("DSRE"),s=n("wJg7"),u=n("c6wG"),l=Object.prototype,c=l.hasOwnProperty;function f(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),p=!n&&!l&&!f&&u(e),d=n||l||f||p,h=d?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}e.exports=f},bCY9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("LtsZ"),i=new r["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","__mfsu","getInitialState","initialStateConfig","request"]})},bFeb:function(e,t,n){var r=n("I+eb"),i=n("2oRo");r({global:!0},{globalThis:i})},"bFf/":function(e,t,n){"use strict";e.exports=c;var r,i,a,o,s,u=1e6,l={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function c(e,t){r={},a=[],i=0,o=0,s=1,f(e),s=Math.min(s,u);for(var n=Math.ceil(Math.log(s)/Math.LN10),l=0;l<a.length;l++)t.writeStringField(1,a[l]);return 2!==o&&t.writeVarintField(2,o),6!==n&&t.writeVarintField(3,n),"FeatureCollection"===e.type?t.writeMessage(4,m,e):"Feature"===e.type?t.writeMessage(5,y,e):t.writeMessage(6,g,e),r=null,t.finish()}function f(e){var t,n;if("FeatureCollection"===e.type)for(t=0;t<e.features.length;t++)f(e.features[t]);else if("Feature"===e.type)for(n in null!==e.geometry&&f(e.geometry),e.properties)v(n);else if("Point"===e.type)h(e.coordinates);else if("MultiPoint"===e.type)d(e.coordinates);else if("GeometryCollection"===e.type)for(t=0;t<e.geometries.length;t++)f(e.geometries[t]);else if("LineString"===e.type)d(e.coordinates);else if("Polygon"===e.type||"MultiLineString"===e.type)p(e.coordinates);else if("MultiPolygon"===e.type)for(t=0;t<e.coordinates.length;t++)p(e.coordinates[t]);for(n in e)O(n,e.type)||v(n)}function p(e){for(var t=0;t<e.length;t++)d(e[t])}function d(e){for(var t=0;t<e.length;t++)h(e[t])}function h(e){o=Math.max(o,e.length);for(var t=0;t<e.length;t++)while(Math.round(e[t]*s)/s!==e[t]&&s<u)s*=10}function v(e){void 0===r[e]&&(a.push(e),r[e]=i++)}function m(e,t){for(var n=0;n<e.features.length;n++)t.writeMessage(1,y,e.features[n]);b(e,t,!0)}function y(e,t){null!==e.geometry&&t.writeMessage(1,g,e.geometry),void 0!==e.id&&("number"===typeof e.id&&e.id%1===0?t.writeSVarintField(12,e.id):t.writeStringField(11,e.id)),e.properties&&b(e.properties,t),b(e,t,!0)}function g(e,t){t.writeVarintField(1,l[e.type]);var n=e.coordinates;if("Point"===e.type)x(n,t);else if("MultiPoint"===e.type)w(n,t,!0);else if("LineString"===e.type)w(n,t);else if("MultiLineString"===e.type)E(n,t);else if("Polygon"===e.type)E(n,t,!0);else if("MultiPolygon"===e.type)S(n,t);else if("GeometryCollection"===e.type)for(var r=0;r<e.geometries.length;r++)t.writeMessage(4,g,e.geometries[r]);b(e,t,!0)}function b(e,t,n){var i=[],a=0;for(var o in e)n&&O(o,e.type)||(t.writeMessage(13,_,e[o]),i.push(r[o]),i.push(a++));t.writePackedVarint(n?15:14,i)}function _(e,t){if(null!==e){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(5,e):"object"===n?t.writeStringField(6,JSON.stringify(e)):"number"===n&&(e%1!==0?t.writeDoubleField(2,e):e>=0?t.writeVarintField(3,e):t.writeVarintField(4,-e))}}function x(e,t){for(var n=[],r=0;r<o;r++)n.push(Math.round(e[r]*s));t.writePackedSVarint(3,n)}function w(e,t){var n=[];k(n,e),t.writePackedSVarint(3,n)}function E(e,t,n){var r,i=e.length;if(1!==i){var a=[];for(r=0;r<i;r++)a.push(e[r].length-(n?1:0));t.writePackedVarint(2,a)}var o=[];for(r=0;r<i;r++)k(o,e[r],n);t.writePackedSVarint(3,o)}function S(e,t){var n,r,i=e.length;if(1!==i||1!==e[0].length){var a=[i];for(n=0;n<i;n++)for(a.push(e[n].length),r=0;r<e[n].length;r++)a.push(e[n][r].length-1);t.writePackedVarint(2,a)}var o=[];for(n=0;n<i;n++)for(r=0;r<e[n].length;r++)k(o,e[n][r],!0);t.writePackedSVarint(3,o)}function k(e,t,n){var r,i,a=t.length-(n?1:0),u=new Array(o);for(i=0;i<o;i++)u[i]=0;for(r=0;r<a;r++)for(i=0;i<o;i++){var l=Math.round(t[r][i]*s)-u[i];e.push(l),u[i]+=l}}function O(e,t){if("type"===e)return!0;if("FeatureCollection"===t){if("features"===e)return!0}else if("Feature"===t){if("id"===e||"properties"===e||"geometry"===e)return!0}else if("GeometryCollection"===t){if("geometries"===e)return!0}else if("coordinates"===e)return!0;return!1}},bKJz:function(e,t,n){},bNQv:function(e,t,n){var r=n("gFfm"),i=n("SKAX"),a=n("EwQA"),o=n("Z0cm");function s(e,t){var n=o(e)?r:i;return n(e,a(t))}e.exports=s},bPN3:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.pointToHexbin=f;var i=r(n("lSNA")),a=r(n("J4zp")),o=n("z0pJ"),s=n("NyNd");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=6378e3;function f(e,t){var n=e.dataArray,r=t.size,u=void 0===r?10:r,f=t.method,p=void 0===f?"sum":f,d=u/(2*Math.PI*c)*(256<<20)/2,h=n.map((function(e){var t=(0,o.aProjectFlat)(e.coordinates),n=(0,a["default"])(t,2),r=n[0],i=n[1];return l(l({},e),{},{coordinates:[r,i]})})),v=(0,s.hexbin)().radius(d).x((function(e){return e.coordinates[0]})).y((function(e){return e.coordinates[1]})),m=v(h),y={dataArray:m.map((function(e,n){var r;if(t.field&&p){var a=o.Satistics.getColumn(e,t.field);e[p]=o.Satistics.statMap[p](a)}return r={},(0,i["default"])(r,t.method,e[p]),(0,i["default"])(r,"count",e.length),(0,i["default"])(r,"rawData",e),(0,i["default"])(r,"coordinates",[e.x,e.y]),(0,i["default"])(r,"_id",n),r})),radius:d,xOffset:d,yOffset:d,type:"hexagon"};return y}},bT9E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("VTBJ");function i(e,t){var n=Object(r["a"])({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}},bWFh:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("lMq5"),o=n("busE"),s=n("8YOa"),u=n("ImZN"),l=n("GarU"),c=n("hh1v"),f=n("0Dky"),p=n("HH4o"),d=n("1E5z"),h=n("cVYH");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),y=v?"set":"add",g=i[e],b=g&&g.prototype,_=g,x={},w=function(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(a(e,"function"!=typeof g||!(m||b.forEach&&!f((function(){(new g).entries().next()})))))_=n.getConstructor(t,e,v,y),s.REQUIRED=!0;else if(a(e,!0)){var E=new _,S=E[y](m?{}:-0,1)!=E,k=f((function(){E.has(1)})),O=p((function(e){new g(e)})),T=!m&&f((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));O||(_=t((function(t,n){l(t,_,e);var r=h(new g,t,_);return void 0!=n&&u(n,r[y],r,v),r})),_.prototype=b,b.constructor=_),(k||T)&&(w("delete"),w("has"),v&&w("get")),(T||S)&&w(y),m&&b.clear&&delete b.clear}return x[e]=_,r({global:!0,forced:_!=g},x),d(_,e),m||n.setStrong(_,e,v),_}},bXwC:function(e,t,n){},bYHP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n("q1tI")),i=n("LtsZ");function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return e.offsetTop+(e.offsetParent?s(e.offsetParent):0)}var u=function e(t){var n,a=(null===(n=t.to.match(/(#.+)$/))||void 0===n?void 0:n[1])||"";return r["default"].createElement(i.NavLink,o({},t,{onClick:function(){return e.scrollToAnchor(a.substring(1))},isActive:function(e,t){return a&&decodeURIComponent(t.hash)===a}}))};u.scrollToAnchor=function(e){window.requestAnimationFrame((function(){var t=document.getElementById(decodeURIComponent(e));t&&window.scrollTo(0,s(t)-100)}))};var l=u;t["default"]=l},bZMm:function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return f})),n.d(t,"Request",(function(){return x})),n.d(t,"Response",(function(){return S})),n.d(t,"DOMException",(function(){return O})),n.d(t,"fetch",(function(){return T}));var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r&&r,i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(e){return e&&DataView.prototype.isPrototypeOf(e)}if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function v(e){var t=new FileReader,n=d(t);return t.readAsText(e),n}function m(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&a(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(h)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype["delete"]=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},i.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=_(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function E(e){var t=new f,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},g.call(x.prototype),g.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var O=r.DOMException;try{new O}catch(C){O=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},O.prototype=Object.create(Error.prototype),O.prototype.constructor=O}function T(e,t){return new Promise((function(n,a){var o=new x(e,t);if(o.signal&&o.signal.aborted)return a(new O("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}function c(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:E(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;setTimeout((function(){n(new S(t,e))}),0)},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){a(new O("Aborted","AbortError"))}),0)},s.open(o.method,c(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(i.blob?s.responseType="blob":i.arrayBuffer&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof f?o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,l(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,r.fetch||(r.fetch=T,r.Headers=f,r.Request=x,r.Response=S)},bahg:function(e,t){function n(e){return e.split("")}e.exports=n},bdeN:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=n("4WOD"),s=i.has,u=i.toKey,l=function(e,t,n){var r=s(e,t,n);if(r)return!0;var i=o(t);return null!==i&&l(e,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return l(e,a(t),n)}})},bdgK:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),o=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&l()}function u(){a(s)}function l(){var e=Date.now();if(n){if(e-i<o)return;r=!0}else n=!0,r=!1,setTimeout(u,t);i=e}return l}var u=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!==typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),u)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=l.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},h=S(0,0,0,0);function v(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+v(r)}),0)}function y(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var a=i[r],o=e["padding-"+a];n[a]=v(o)}return n}function g(e){var t=e.getBBox();return S(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=y(r),a=i.left+i.right,o=i.top+i.bottom,s=v(r.width),u=v(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=m(r,"left","right")+a),Math.round(u+o)!==n&&(u-=m(r,"top","bottom")+o)),!x(e)){var l=Math.round(s+a)-t,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return S(i.left,i.top,s,u)}var _=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox}}();function x(e){return e===d(e).document.documentElement}function w(e){return r?_(e)?g(e):b(e):h}function E(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return p(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function S(e,t,n,r){return{x:e,y:t,width:n,height:r}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=w(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),O=function(){function e(e,t){var n=E(t);p(this,{target:e,contentRect:n})}return e}(),T=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new O(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!==typeof WeakMap?new WeakMap:new n,A=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new T(t,n,this);C.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){A.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var M=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:A}();t["a"]=M}).call(this,n("IyRk"))},beRK:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.getDemoUrl=t.getDemoRouteName=void 0;var i=a(n("nLCz"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function f(e){if(Array.isArray(e))return e}function p(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}var d=function(){return p()?"_demos":"~demos"};t.getDemoRouteName=d;var h=function(e,t){var n,r=window,i=r.location,a=i.href,s=i.origin,u=a.split(/#\//),l=o(u,2),c=l[0],f=l[1],h="string"===typeof f;return[h?"".concat(c,"#"):s,"".concat((null===(n=window)||void 0===n?void 0:n.routerBase)||"","/").replace(/\/\/$/,"/"),d(),"/",e,p()?"/index.html":"".concat(t?".html":"")].join("")};t.getDemoUrl=h;var v=function(e){var t=(0,r().useContext)(i["default"]),n=t.config,a=(0,r().useState)(""),s=o(a,2),u=s[0],l=s[1];return(0,r().useEffect)((function(){l(h(e,n.exportStatic&&n.exportStatic.htmlSuffix))}),[e,n]),u};t["default"]=v},bfL6:function(e,t,n){var r=n("mGKP");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw o}}}}e.exports=i},bl9R:function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return a})),n.d(t,"fromValues",(function(){return o})),n.d(t,"copy",(function(){return s})),n.d(t,"set",(function(){return u})),n.d(t,"add",(function(){return l})),n.d(t,"subtract",(function(){return c})),n.d(t,"multiply",(function(){return f})),n.d(t,"divide",(function(){return p})),n.d(t,"ceil",(function(){return d})),n.d(t,"floor",(function(){return h})),n.d(t,"min",(function(){return v})),n.d(t,"max",(function(){return m})),n.d(t,"round",(function(){return y})),n.d(t,"scale",(function(){return g})),n.d(t,"scaleAndAdd",(function(){return b})),n.d(t,"distance",(function(){return _})),n.d(t,"squaredDistance",(function(){return x})),n.d(t,"length",(function(){return w})),n.d(t,"squaredLength",(function(){return E})),n.d(t,"negate",(function(){return S})),n.d(t,"inverse",(function(){return k})),n.d(t,"normalize",(function(){return O})),n.d(t,"dot",(function(){return T})),n.d(t,"cross",(function(){return C})),n.d(t,"lerp",(function(){return A})),n.d(t,"random",(function(){return M})),n.d(t,"transformMat4",(function(){return P})),n.d(t,"transformQuat",(function(){return I})),n.d(t,"zero",(function(){return R})),n.d(t,"str",(function(){return j})),n.d(t,"exactEquals",(function(){return L})),n.d(t,"equals",(function(){return N})),n.d(t,"sub",(function(){return D})),n.d(t,"mul",(function(){return F})),n.d(t,"div",(function(){return z})),n.d(t,"dist",(function(){return B})),n.d(t,"sqrDist",(function(){return U})),n.d(t,"len",(function(){return V})),n.d(t,"sqrLen",(function(){return H})),n.d(t,"forEach",(function(){return W}));var r=n("yU0y");function i(){var e=new r["ARRAY_TYPE"](4);return r["ARRAY_TYPE"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e){var t=new r["ARRAY_TYPE"](4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,n,i){var a=new r["ARRAY_TYPE"](4);return a[0]=e,a[1]=t,a[2]=n,a[3]=i,a}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function u(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function f(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function p(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function d(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function h(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function v(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function m(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function y(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.hypot(n,r,i,a)}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}function w(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.hypot(t,n,r,i)}function E(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function k(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function O(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o,e}function T(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function C(e,t,n,r){var i=n[0]*r[1]-n[1]*r[0],a=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],c=t[0],f=t[1],p=t[2],d=t[3];return e[0]=f*l-p*u+d*s,e[1]=-c*l+p*o-d*a,e[2]=c*u-f*o+d*i,e[3]=-c*s+f*a-p*i,e}function A(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function M(e,t){var n,i,a,o,s,u;t=t||1;do{n=2*r["RANDOM"]()-1,i=2*r["RANDOM"]()-1,s=n*n+i*i}while(s>=1);do{a=2*r["RANDOM"]()-1,o=2*r["RANDOM"]()-1,u=a*a+o*o}while(u>=1);var l=Math.sqrt((1-s)/u);return e[0]=t*n,e[1]=t*i,e[2]=t*a*l,e[3]=t*o*l,e}function P(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function I(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*a-u*i,f=l*i+u*r-o*a,p=l*a+o*i-s*r,d=-o*r-s*i-u*a;return e[0]=c*l+d*-o+f*-u-p*-s,e[1]=f*l+d*-s+p*-o-c*-u,e[2]=p*l+d*-u+c*-s-f*-o,e[3]=t[3],e}function R(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function j(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function N(e,t){var n=e[0],i=e[1],a=e[2],o=e[3],s=t[0],u=t[1],l=t[2],c=t[3];return Math.abs(n-s)<=r["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=r["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-c)<=r["EPSILON"]*Math.max(1,Math.abs(o),Math.abs(c))}var D=c,F=f,z=p,B=_,U=x,V=w,H=E,W=function(){var e=i();return function(t,n,r,i,a,o){var s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}()},bmMU:function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,u,l,c;if(Array.isArray(e)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(!o(e[u],t[u]))return!1;return!0}if(r&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;c=e.entries();while(!(u=c.next()).done)if(!t.has(u.value[0]))return!1;c=e.entries();while(!(u=c.next()).done)if(!o(u.value[1],t.get(u.value[0])))return!1;return!0}if(i&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;c=e.entries();while(!(u=c.next()).done)if(!t.has(u.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!=t.length)return!1;for(u=s;0!==u--;)if(e[u]!==t[u])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(t).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(t,l[u]))return!1;if(n&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==l[u]&&"__v"!==l[u]&&"__o"!==l[u]||!e.$$typeof)&&!o(e[l[u]],t[l[u]]))return!1;return!0}return e!==e&&t!==t}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},bmvb:function(e,t){var n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l=Object.prototype,c=l.toString;function f(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){return!!e&&"object"==typeof e}function h(e){return"symbol"==typeof e||d(e)&&c.call(e)==r}function v(e){if("number"==typeof e)return e;if(h(e))return n;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=o.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):a.test(e)?n:+e}function m(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=v(n),n=n===n?n:0),void 0!==t&&(t=v(t),t=t===t?t:0),f(v(e),t,n)}e.exports=m},busE:function(e,t,n){var r=n("2oRo"),i=n("kRJp"),a=n("UTVS"),o=n("zk60"),s=n("iSVu"),u=n("afO8"),l=u.get,c=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),c(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!p&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},bya0:function(e,t,n){},"c+Xe":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n("U8pU"),i=n("TOwV");function a(e,t){"function"===typeof e?e(t):"object"===Object(r["a"])(e)&&e&&"current"in e&&(e.current=t)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){a(t,e)}))}}function s(e){var t,n,r=Object(i["isMemo"])(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}},"c/Ax":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("QkVN"),i=n.n(r),a=n("3m+5");class o extends a["a"]{constructor(){super(...arguments),this.layerType="County"}getDefaultOption(){var e=super.getDefaultOption();return i()({},e,{adcode:["110100"],depth:3})}filterData(e,t){var n=Array.isArray(t)?t:[t],r=e.features.filter((e=>{var t=e.properties.adcode;return-1!==n.indexOf(t)||-1!==n.indexOf(""+t)}));return{type:"FeatureCollection",features:r}}filterLabelData(e,t){var n=Array.isArray(t)?t:[t],r=e.filter((e=>{var t=e.adcode;return-1!==n.indexOf(t)||-1!==n.indexOf(""+t)}));return r}}},c0go:function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),a=0;a<r.length;a++){var o=r[a],s=e[o];(i?-1!==t.indexOf(o):t(o,s,e))&&(n[o]=s)}return n}},c6MU:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s,u,l,c,f=r(n("yG8O")),p=r(n("lwsE")),d=r(n("W8MJ")),h=r(n("lSNA")),v=r(n("U+yc")),m=(r(n("1ABj")),n("gHHc")),y=n("4cb6");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,h["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("mNvP");var _=(i=(0,y.injectable)(),a=(0,y.inject)(m.TYPES.ICameraService),o=(0,y.inject)(m.TYPES.IRendererService),i((u=function(){function e(){(0,p["default"])(this,e),(0,f["default"])(this,"cameraService",l,this),(0,f["default"])(this,"rendererService",c,this)}return(0,d["default"])(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){e.models.forEach((function(t){t.addUniforms(b({},e.layerModel.getAnimateUniforms()))}))}))}}]),e}(),l=(0,v["default"])(u.prototype,"cameraService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=(0,v["default"])(u.prototype,"rendererService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s);t["default"]=_},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),a=n("mdPL"),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},c9m3:function(e,t,n){var r=n("RNIs");r("flatMap")},cDf5:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},cE8m:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("JQ51"),u=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"mousedownPos",void 0),(0,o["default"])(this,"clickTolerance",void 0),(0,o["default"])(this,"map",void 0),this.map=t,this.clickTolerance=n.clickTolerance}return(0,a["default"])(e,[{key:"reset",value:function(){delete this.mousedownPos}},{key:"wheel",value:function(e){return this.firePreventable(new s.MapWheelEvent(e.type,this.map,e))}},{key:"mousedown",value:function(e,t){return this.mousedownPos=t,this.firePreventable(new s.MapMouseEvent(e.type,this.map,e))}},{key:"mouseup",value:function(e){this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e))}},{key:"click",value:function(e,t){this.mousedownPos&&this.mousedownPos.dist(t)>=this.clickTolerance||this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e))}},{key:"dblclick",value:function(e){return this.firePreventable(new s.MapMouseEvent(e.type,this.map,e))}},{key:"mouseover",value:function(e){this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e))}},{key:"mouseout",value:function(e){this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e))}},{key:"touchstart",value:function(e){return this.firePreventable(new s.MapTouchEvent(e.type,this.map,e))}},{key:"touchmove",value:function(e){this.map.emit(e.type,new s.MapTouchEvent(e.type,this.map,e))}},{key:"touchend",value:function(e){this.map.emit(e.type,new s.MapTouchEvent(e.type,this.map,e))}},{key:"touchcancel",value:function(e){this.map.emit(e.type,new s.MapTouchEvent(e.type,this.map,e))}},{key:"firePreventable",value:function(e){if(this.map.emit(e.type,e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!1}},{key:"disable",value:function(){return!1}}]),e}();t["default"]=u},cIOH:function(e,t,n){},cLr8:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("3Jhb"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","PolygonLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"===n?"fill":"extrude"===n?"extrude":"line"===n?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,i=this.iconService.getIconMap(),a=e.find((function(e){return e.hasOwnProperty("shape")}));if(a){var o=a.shape;return"dot"===o?"point_normal":-1!==(null===n||void 0===n?void 0:n.indexOf(o))?"point_fill":-1!==(null===r||void 0===r?void 0:r.indexOf(o))?"point_extrude":i.hasOwnProperty(o)?"point_image":"text"}return"fill"}}]),n}(f["default"]);t["default"]=v},cOPa:function(e,t,n){var r=n("I+eb"),i=Math.min,a=Math.max;r({target:"Math",stat:!0},{clamp:function(e,t,n){return i(n,a(t,e))}})},cSJO:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n("MON2"),a=n("FV85"),o=n("xfSm");function s(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===a.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r="";r=t.target.name.value();var a=i[n];e[r]=a})),e}function u(e,t){return new(e.bind.apply(e,r([void 0],t)))}function l(e,t){if(Reflect.hasMetadata(o.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(o.POST_CONSTRUCT,e);try{t[n.value]()}catch(r){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,r.message))}}}function c(e,t,n){var r=null;if(t.length>0){var i=t.filter((function(e){return null!==e.target&&e.target.type===a.TargetTypeEnum.ConstructorArgument})),o=i.map(n);r=u(e,o),r=s(r,t,n)}else r=new e;return l(e,r),r}t.resolveInstance=c},cVVU:function(e,t,n){"use strict";n.r(t);var r=n("k1fw"),i=n("tJVT"),a=n("q1tI"),o=n.n(a),s=n("rWO2"),u=n("/7QA"),l=n("mDLg"),c=n("lwsE"),f=n.n(c),p=n("W8MJ"),d=n.n(p),h=n("PJYZ"),v=n.n(h),m=n("7W2i"),y=n.n(m),g=n("a1gu"),b=n.n(g),_=n("Nsbk"),x=n.n(_),w=n("lSNA"),E=n.n(w),S=n("zT9C"),k=n.n(S),O=n("/LGU"),T=n.n(O),C=n("A8o4"),A=n.n(C),M=n("9MQZ"),P=n.n(M),I=n("mfmY"),R=n.n(I),j=n("E2zX"),L=n.n(j),N=n("qkva"),D=n.n(N),F=n("bmvb"),z=n.n(F),B=n("QILm"),U=n.n(B),V=n("TM95"),H=n("p8yl"),W=n.n(H),q=n("RIqP"),G=n.n(q);function Z(e){var t=Y();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var X=function(e){y()(n,e);var t=Z(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleChange",(function(t){var n=t.target.value,r=e.props.liveUpdate;r&&e.update(n)})),E()(v()(e),"handleFocus",(function(){document.addEventListener("keydown",e.handleKeyDown)})),E()(v()(e),"handleBlur",(function(){document.removeEventListener("keydown",e.handleKeyDown),window.getSelection().removeAllRanges();var t=e.props.liveUpdate;t||e.update()})),E()(v()(e),"handleKeyDown",(function(t){var n=t.keyCode||t.which,r=e.props.liveUpdate;13!==n||r||e.update()})),e.state={value:null},e}return d()(n,[{key:"update",value:function(e){var t=this.props,n=t._onUpdateValue,r=t.onUpdate,i=t.path;n(i,e),r(e)}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,i=e.className,a=e.style,s=R()(n)?n:t;return o.a.createElement("li",{className:T()("cr","string",i),style:a},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:r}},s),o.a.createElement("input",{style:{width:"calc(100% - ".concat(r,")")},type:"text",value:this.state.value,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=L()(e.data,e.path);return t.value===n?null:{value:n}}}]),n}(a["Component"]);function K(e){var t=parseFloat(e);return isNaN(t)?0:t}E()(X,"defaultProps",{className:null,style:null,path:null,label:null,onUpdate:function(){return null}});var J=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e){var t=te();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ne=function(e){y()(n,e);var t=ee(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleMouseDown",(function(t){e.update(t.pageX),window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)})),E()(v()(e),"handleMouseMove",(function(t){e.update(t.pageX),t.preventDefault()})),E()(v()(e),"handleMouseUp",(function(t){e.update(t.pageX,!1),window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp)})),E()(v()(e),"handleClick",(function(e){e.preventDefault()})),e.state={value:null},e.sliderRef=o.a.createRef(),e}return d()(n,[{key:"update",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.min,i=n.max,a=n.onUpdate,o=this.sliderRef.current.getBoundingClientRect(),s=e-o.left,u=o.right-o.left,l=r+z()(s/u,0,1)*(i-r);this.setState({value:l},(function(){a(l,t)}))}},{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.width,i=e.className,a=e.style,s=this.state.value,u=z()(100*(s-t)/(n-t),0,100),l=$({width:"".concat(r,"%"),backgroundSize:"".concat(u,"% 100%")},a);return o.a.createElement("span",{ref:this.sliderRef,className:T()("slider",i),style:l,onClick:this.handleClick,onMouseDown:this.handleMouseDown,role:"slider",tabIndex:0,"aria-valuenow":s,"aria-valuemin":t,"aria-valuemax":n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=K(e.value);return t.value===n?null:{value:n}}}]),n}(a["Component"]);function re(e){var t=ie();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(ne,"defaultProps",{className:null,style:null,value:null,min:null,max:null,width:null});var ae=function(e){var t=e.value,n=e.min,r=e.max,i=e.step,a=[D()(n),D()(r),D()(i)],o=a[0],s=a[1],u=a[2],l=u&&!J(i)?i.toString().split(".")[1].length:0,c=!1,f=!1;return t=K(t),o&&t<=n&&(t=n,c=!0),s&&t>=r&&(t=r,f=!0),c||f||u&&0!==i&&(t=Math.round(t/i)*i),t.toFixed(l)},oe=function(e){y()(n,e);var t=re(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleChange",(function(t){var n=t.target.value;e.update(n)})),E()(v()(e),"handleSliderUpdate",(function(t){var n=e.props,r=n.min,i=n.max,a=n.step;e.update(ae({value:t,min:r,max:i,step:a}))})),E()(v()(e),"update",(function(t){var n=e.props,r=n._onUpdateValue,i=n.path;r(i,K(t))})),e.state={value:null},e}return d()(n,[{key:"renderSlider",value:function(e){var t=this.props,n=t.min,r=t.max,i=this.state.value;return o.a.createElement(ne,{value:i,min:n,max:r,width:e,onUpdate:this.handleSliderUpdate})}},{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.path,i=e.label,a=e.labelWidth,s=e.step,u=e.disableSlider,l=e.className,c=e.style,f=R()(i)?i:r,p=D()(t)&&D()(n),d=100,h=p&&!0!==u?Math.round(d/3):d,v=d-h;return o.a.createElement("li",{className:T()("cr","number",l),style:c},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:a}},f),o.a.createElement("span",{style:{display:"inherit",width:"calc(100% - ".concat(a,")")}},p&&!0!==u?this.renderSlider(v):null,o.a.createElement("input",{type:"number",step:s,min:t,max:n,inputMode:"numeric",value:this.state.value,style:{width:"".concat(h,"%")},onChange:this.handleChange}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.min,n=e.max,r=e.step,i=ae({value:L()(e.data,e.path),min:t,max:n,step:r});return{value:i}}}]),n}(a["Component"]);function se(e){var t=ue();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(oe,"defaultProps",{className:null,style:null,min:null,max:null,step:null,path:null,label:null,disableSlider:null});var le=function(e){y()(n,e);var t=se(n);function n(e){var r;return f()(this,n),r=t.call(this,e),E()(v()(r),"handleChange",(function(e){var t=e.target.checked,n=r.props,i=n._onUpdateValue,a=n.path;i(a,t)})),r.state={value:null},r}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,i=e.className,a=e.style,s=R()(n)?n:t;return o.a.createElement("li",{className:T()("cr","boolean",i),style:a},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:r}},s),o.a.createElement("span",{className:"checkbox-container",style:{width:"calc(100% - ".concat(r,")")}},o.a.createElement("input",{type:"checkbox",checked:this.state.value,onChange:this.handleChange}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=L()(e.data,e.path);return t.value===n?null:{value:n}}}]),n}(a["Component"]);E()(le,"defaultProps",{className:null,style:null,path:null,label:null});var ce=function(e){var t=e.label,n=e.onClick,r=e.className,i=e.style;return o.a.createElement("li",{className:T()("cr","button",r),style:i},o.a.createElement("span",{className:"label-text",onClick:n,onKeyPress:n,role:"button",tabIndex:0},t))};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=he();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}ce.defaultProps={className:null,style:null,label:null};var ve=function(e){y()(n,e);var t=de(n);function n(e){var r;return f()(this,n),r=t.call(this,e),E()(v()(r),"handleClick",(function(){return r.setState((function(e){return{closed:!e.closed}}))})),r.state={closed:e.closed},r}return d()(n,[{key:"renderChildren",value:function(){var e=this.props,t=e.children;e.title;var n=U()(e,["children","title"]);return o.a.Children.map(t,(function(e){return Object(a["cloneElement"])(e,pe({},n))}))}},{key:"render",value:function(){var e=this.state.closed,t=this.props,n=t.title,r=t.className,i=t.style;return o.a.createElement("li",{className:T()("folder",{closed:e},r),style:i},o.a.createElement("div",{className:"dg"},o.a.createElement("div",{className:"title",onClick:this.handleClick,onKeyPress:this.handleClick,role:"button",tabIndex:0},n),o.a.createElement("ul",null,this.renderChildren())))}}]),n}(a["Component"]);function me(e){var t=ye();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function ye(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(ve,"defaultProps",{className:null,style:null,title:"Folder",closed:!0});var ge=function(e){y()(n,e);var t=me(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleChange",(function(t){var n=t.target.value,r=e.props,i=r.liveUpdate,a=r._onUpdateValue,o=r.onUpdate,s=r.path;a(s,n),i&&o(n)})),e.state={value:null,options:null},e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,i=e.optionLabels,a=e.className,s=e.style,u=this.state,l=u.value,c=u.options,f=R()(n)?n:t;return o.a.createElement("li",{className:T()("cr","select",a),style:s},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:r}},f),o.a.createElement("select",{value:l,onChange:this.handleChange,style:{width:"calc(100% - ".concat(r,")")}},c.map((function(e,t){return o.a.createElement("option",{key:t,value:e},i?i[t]:e)})))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=L()(e.data,e.path);return{value:t,options:e.options}}}]),n}(a["Component"]);function be(e){var t=_e();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function _e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(ge,"defaultProps",{className:null,style:null,path:null,label:null,optionLabels:null,onUpdate:function(){return null}});var xe=function(e){y()(n,e);var t=be(n);function n(){var e;f()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),E()(v()(e),"handleChange",(function(t,n){var r=e.props.onChange;W.a.isValidHex(t)&&r({hex:t,source:"hex"},n)})),e}return d()(n,[{key:"render",value:function(){var e=this.props.hex;return o.a.createElement("div",{className:"flexbox-fix fields-wrap"},o.a.createElement("div",{className:"flexbox-fix fields"},o.a.createElement("div",{className:"field"},o.a.createElement(V["EditableInput"],{value:e,onChange:this.handleChange}))))}}]),n}(a["Component"]),we=function(){return o.a.createElement("div",{className:"pointer"})},Ee=function(){return o.a.createElement("div",{className:"pointer-circle"})},Se=function(e){var t=e.onChange,n=e.hsl,r=e.hsv,i=e.hex,a=e.className,s=void 0===a?"":a;return o.a.createElement("div",{className:"picker ".concat(s)},o.a.createElement("div",{className:"saturation-wrap"},o.a.createElement(V["Saturation"],{className:"saturation",hsl:n,hsv:r,pointer:Ee,onChange:t})),o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"toggles"},o.a.createElement("div",{className:"hue-wrap"},o.a.createElement(V["Hue"],{className:"hue",hsl:n,pointer:we,onChange:t})))),o.a.createElement(xe,{hex:i,onChange:t})))};Se.defaultProps={hsl:null,hsv:null,hex:null,className:null,disableAlpha:!1};var ke=Object(V["ColorWrap"])(Se);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e){var t=Ae();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function Ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Me=function(e){y()(n,e);var t=Ce(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleClickColorPicker",(function(){return e.setState((function(e){return Te(Te({},e),{},{displayColorPicker:!e.displayColorPicker})}))})),E()(v()(e),"handleCloseColorPicker",(function(){return e.setState({displayColorPicker:!1})})),E()(v()(e),"handleChangeColor",(function(t){var n=R()(t)?t:t.hex,r=e.props,i=r._onUpdateValue,a=r.path;i(a,n)})),e.state={value:null,displayColorPicker:!1},e}return d()(n,[{key:"renderPicker",value:function(){var e=this.state,t=e.value,n=e.displayColorPicker;return n?o.a.createElement("div",{className:"popover"},o.a.createElement("div",{className:"cover",onClick:this.handleCloseColorPicker,onKeyPress:this.handleCloseColorPicker,role:"button",tabIndex:0}),o.a.createElement(ke,{color:t,onChange:this.handleChangeColor})):null}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,i=e.className,a=e.style,s=this.state.value,u=R()(n)?n:t;return o.a.createElement("li",{className:T()("cr","color",i),style:Te({borderLeftColor:"".concat(s)},a)},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:r}},u),o.a.createElement("div",{style:{backgroundColor:s,width:"calc(100% - ".concat(r,")")}},o.a.createElement("div",{className:"swatch",onClick:this.handleClickColorPicker,onKeyPress:this.handleClickColorPicker,role:"button",tabIndex:0},s),this.renderPicker())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=L()(e.data,e.path);return Te(Te({},t),{},{value:n})}}]),n}(a["Component"]);function Pe(e){var t=Ie();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(Me,"defaultProps",{className:null,style:null,path:null,label:null});var Re="Default",je=function(e){y()(n,e);var t=Pe(n);function n(){var e;return f()(this,n),e=t.call(this),E()(v()(e),"handleChange",(function(t){var n=JSON.parse(t.target.value),r=e.props,i=r.liveUpdate,a=r.onUpdate;i&&a(n)})),e.state={defaultPreset:null,options:null},e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.path,n=e.label,r=e.labelWidth,i=e.className,a=e.style,s=this.state.options,u=R()(n)?n:t;return o.a.createElement("li",{className:T()("cr","presets",i),style:a},o.a.createElement("label",null,o.a.createElement("span",{className:"label-text",style:{width:r}},u),o.a.createElement("select",{onChange:this.handleChange,style:{width:"calc(100% - ".concat(r,")")}},s.map((function(e){return Object.keys(e).map((function(t){return o.a.createElement("option",{key:t,value:JSON.stringify(e[t])},t)}))})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=k()(e.data),r=t.defaultPreset?t.defaultPreset:n;return{defaultPreset:r,options:[E()({},Re,r)].concat(G()(e.options.filter((function(e){return Object.keys(e)[0]!==Re}))))}}}]),n}(a["Component"]);function Le(e){var t=Ne();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}function Ne(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}E()(je,"defaultProps",{className:null,style:null,path:null});var De=function(e){y()(n,e);var t=Le(n);function n(){var e;f()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),E()(v()(e),"handleUpdateValue",(function(t,n){var r=e.props,i=r.data,a=r.onUpdate,o=P()(k()(i),t,n);a(o)})),e}return d()(n,[{key:"renderChildren",value:function(){var e=this,t=this.props,n=t.children,r=t.data;return o.a.Children.toArray(n).map((function(t,n){var i=A()(t.props.liveUpdate)?e.props.liveUpdate:t.props.liveUpdate,o=A()(t.props.labelWidth)?e.props.labelWidth:t.props.labelWidth;return Object(a["cloneElement"])(t,{key:n,data:r,liveUpdate:i,labelWidth:o,_onUpdateValue:e.handleUpdateValue})}))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=T()("react-dat-gui",n);return o.a.createElement("div",{className:r,style:t},o.a.createElement("ul",{className:"dg main"},this.renderChildren()))}}]),n}(a["Component"]);E()(De,"defaultProps",{liveUpdate:!0,className:null,style:null,labelWidth:"40%"});var Fe=De;n("Bv38"),t["default"]=()=>{var e=o.a.useState({package:"\u5730\u56fe\u914d\u7f6e\u9879",provinceStroke:"#783D2D",cityStroke:"#EBCCB4",cityStrokeWidth:1}),t=Object(i["a"])(e,2),n=t[0],a=t[1];return o.a.useEffect((()=>{var e=[{name:"\u4e91\u5357\u7701",code:53e4,value:17881.12},{name:"\u9ed1\u9f99\u6c5f\u7701",code:23e4,value:16361.62},{name:"\u8d35\u5dde\u7701",code:52e4,value:14806.45},{name:"\u5317\u4eac\u5e02",code:11e4,value:30319.98},{name:"\u6cb3\u5317\u7701",code:13e4,value:36010.27},{name:"\u5c71\u897f\u7701",code:14e4,value:16818.11},{name:"\u5409\u6797\u7701",code:22e4,value:15074},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",code:64e4,value:3705.18},{name:"\u8fbd\u5b81\u7701",code:21e4,value:25315.35},{name:"\u6d77\u5357\u7701",code:46e4,value:4832.05},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",code:15e4,value:17289.22},{name:"\u5929\u6d25\u5e02",code:12e4,value:18809.64},{name:"\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a",code:65e4,value:12199.08},{name:"\u4e0a\u6d77\u5e02",code:31e4,value:32679.87},{name:"\u9655\u897f\u7701",code:61e4,value:24438.32},{name:"\u7518\u8083\u7701",code:62e4,value:8246.07},{name:"\u5b89\u5fbd\u7701",code:34e4,value:30006.82},{name:"\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a",code:81e4,value:0},{name:"\u5e7f\u4e1c\u7701",code:44e4,value:97277.77},{name:"\u6cb3\u5357\u7701",code:41e4,value:48055.86},{name:"\u6e56\u5357\u7701",code:43e4,value:36425.78},{name:"\u6c5f\u897f\u7701",code:36e4,value:21984.78},{name:"\u56db\u5ddd\u7701",code:51e4,value:40678.13},{name:"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a",code:45e4,value:20353.51},{name:"\u6c5f\u82cf\u7701",code:32e4,value:92595.4},{name:"\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a",code:82e4,value:null},{name:"\u6d59\u6c5f\u7701",code:33e4,value:56197.15},{name:"\u5c71\u4e1c\u7701",code:37e4,value:76469.67},{name:"\u9752\u6d77\u7701",code:63e4,value:2865.23},{name:"\u91cd\u5e86\u5e02",code:5e5,value:20363.19},{name:"\u798f\u5efa\u7701",code:35e4,value:35804.04},{name:"\u6e56\u5317\u7701",code:42e4,value:39366.55},{name:"\u897f\u85cf\u81ea\u6cbb\u533a",code:54e4,value:1477.63},{name:"\u53f0\u6e7e\u7701",code:71e4,value:null}],t=new s["Scene"]({id:"map",map:new l["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});t.on("loaded",(()=>{var n=new u["CountryLayer"](t,{data:e,joinBy:["NAME_CHN","name"],depth:1,provinceStroke:"#783D2D",cityStroke:"#EBCCB4",cityStrokeWidth:1,fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});n.on("loaded",(()=>{console.log("\u52a0\u8f7d\u5b8c\u6210")})),n.on("click",(e=>{n.updateLayerAttribute("fill","color","red")})),n.on("dblclick",(e=>{n.updateLayerAttribute("fill","color","blue")})),n.on("undblclick",(e=>{n.updateLayerAttribute("fill","color","green")}))}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe,{style:{zIndex:13},data:n,onUpdate:e=>{a(Object(r["a"])(Object(r["a"])({},n),e))}},o.a.createElement(X,{path:"package",label:"Package"}),o.a.createElement(oe,{path:"power",label:"Power",min:1,max:10,step:1}),o.a.createElement(Me,{label:"provinceStroke",path:"provinceStroke"}),o.a.createElement(Me,{label:"cityStroke",path:"cityStroke"}),o.a.createElement(Me,{label:"cityStrokeWidth",path:"cityStrokeWidth"})),o.a.createElement("div",{style:{height:"800px",position:"relative"},id:"map"}))}},cVYH:function(e,t,n){var r=n("hh1v"),i=n("0rvr");e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},cZ5Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n("MON2"),i=n("xfSm");function a(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}t.injectable=a},ccyi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=d(i),o=n("/FUP"),s=d(o),u=n("DzJC"),l=d(u),c=n("VVms"),f=p(c);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.Saturation=function(e){function t(e){h(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,f.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,l["default"])((function(e,t,n){e(t,n)}),50),n}return m(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){var e=this.container,t=window;while(!t.document.contains(e)&&t.parent!==t)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,u=t.circle,l=(0,s["default"])({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:u}},{custom:!!this.props.style});return a["default"].createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a["default"].createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a["default"].createElement("div",{style:l.white,className:"saturation-white"},a["default"].createElement("div",{style:l.black,className:"saturation-black"}),a["default"].createElement("div",{style:l.pointer},this.props.pointer?a["default"].createElement(this.props.pointer,this.props):a["default"].createElement("div",{style:l.circle}))))}}]),t}(i.PureComponent||i.Component);t["default"]=y},cfiF:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("Cg3G");r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},"cq/+":function(e,t,n){var r=n("mc0g"),i=r();e.exports=i},ctDJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("A2ZE"),l=n("SEBh"),c=n("WGBp"),f=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Set"))),p=s(i.add);return f(n,(function(e){p.call(i,r(e,e,t))}),void 0,!1,!0),i}})},cvCv:function(e,t){function n(e){return function(){return e}}e.exports=n},cvf0:function(e,t,n){"use strict";var r=n("67WC").exportTypedArrayMethod,i=n("0Dky"),a=n("2oRo"),o=a.Uint8Array,s=o&&o.prototype||{},u=[].toString,l=[].join;i((function(){u.call({})}))&&(u=function(){return l.call(this)});var c=s.toString!=u;r("toString",u,c)},d6cI:function(e,t){var n=1/0,r=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2,u=function(e,t,u){var l,c,f,p=new Array(u),d=8*u-t-1,h=(1<<d)-1,v=h>>1,m=23===t?i(2,-24)-i(2,-77):0,y=e<0||0===e&&1/e<0?1:0,g=0;for(e=r(e),e!=e||e===n?(c=e!=e?1:0,l=h):(l=a(o(e)/s),e*(f=i(2,-l))<1&&(l--,f*=2),e+=l+v>=1?m/f:m*i(2,1-v),e*f>=2&&(l++,f/=2),l+v>=h?(c=0,l=h):l+v>=1?(c=(e*f-1)*i(2,t),l+=v):(c=e*i(2,v-1)*i(2,t),l=0));t>=8;p[g++]=255&c,c/=256,t-=8);for(l=l<<t|c,d+=t;d>0;p[g++]=255&l,l/=256,d-=8);return p[--g]|=128*y,p},l=function(e,t){var r,a=e.length,o=8*a-t-1,s=(1<<o)-1,u=s>>1,l=o-7,c=a-1,f=e[c--],p=127&f;for(f>>=7;l>0;p=256*p+e[c],c--,l-=8);for(r=p&(1<<-l)-1,p>>=-l,l+=t;l>0;r=256*r+e[c],c--,l-=8);if(0===p)p=1-u;else{if(p===s)return r?NaN:f?-n:n;r+=i(2,t),p-=u}return(f?-1:1)*r*i(2,p-t)};e.exports={pack:u,unpack:l}},d9O0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var r=0;function i(){return r++}t.id=i},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),a=n("ExA7"),o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",M={};function P(e){return a(e)&&i(e.length)&&!!M[r(e)]}M[x]=M[w]=M[E]=M[S]=M[k]=M[O]=M[T]=M[C]=M[A]=!0,M[o]=M[s]=M[b]=M[u]=M[_]=M[l]=M[c]=M[f]=M[p]=M[d]=M[h]=M[v]=M[m]=M[y]=M[g]=!1,e.exports=P},dEAq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"context",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"NavLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"AnchorLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"useCopy",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(t,"useRiddle",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(t,"useMotions",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(t,"useCodeSandbox",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(t,"useLocaleProps",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(t,"useDemoUrl",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(t,"useApiData",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(t,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return v["default"]}}),Object.defineProperty(t,"usePrefersColor",{enumerable:!0,get:function(){return m["default"]}});var r=y(n("nLCz")),i=y(n("zqmC")),a=y(n("6asN")),o=y(n("bYHP")),s=y(n("t/kZ")),u=y(n("dfPH")),l=y(n("o0kM")),c=y(n("zYLY")),f=y(n("r1Q5")),p=y(n("U/TZ")),d=y(n("beRK")),h=y(n("3QDa")),v=y(n("7sf/")),m=y(n("2N97"));function y(e){return e&&e.__esModule?e:{default:e}}},"dG/n":function(e,t,n){var r=n("Qo9l"),i=n("UTVS"),a=n("5Tg+"),o=n("m/L8").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},dI71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("s4An");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Object(r["a"])(e,t)}},dJQ9:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.buttonStillPressed=l,t.BUTTONS_FLAGS=t.RIGHT_BUTTON=t.LEFT_BUTTON=void 0;var i,a=r(n("lSNA")),o=0;t.LEFT_BUTTON=o;var s=2;t.RIGHT_BUTTON=s;var u=(i={},(0,a["default"])(i,o,1),(0,a["default"])(i,s,2),i);function l(e,t){var n=u[t];return void 0===e.buttons||(e.buttons&n)!==n}t.BUTTONS_FLAGS=u},dNT4:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("WGBp"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e){if(!r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},dOgj:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("g6v/"),o=n("iqeF"),s=n("67WC"),u=n("Yhre"),l=n("GarU"),c=n("XGwC"),f=n("kRJp"),p=n("UMSQ"),d=n("CyXQ"),h=n("GC2F"),v=n("wE6v"),m=n("UTVS"),y=n("9d/t"),g=n("hh1v"),b=n("fHMY"),_=n("0rvr"),x=n("JBy8").f,w=n("oHi+"),E=n("tycR").forEach,S=n("JiZb"),k=n("m/L8"),O=n("Bs8V"),T=n("afO8"),C=n("cVYH"),A=T.get,M=T.set,P=k.f,I=O.f,R=Math.round,j=i.RangeError,L=u.ArrayBuffer,N=u.DataView,D=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,z=s.TypedArray,B=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,V=s.isTypedArray,H="BYTES_PER_ELEMENT",W="Wrong length",q=function(e,t){var n=0,r=t.length,i=new(U(e))(r);while(r>n)i[n]=t[n++];return i},G=function(e,t){P(e,t,{get:function(){return A(this)[t]}})},Z=function(e){var t;return e instanceof L||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},Y=function(e,t){return V(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},X=function(e,t){return Y(e,t=v(t,!0))?c(2,e[t]):I(e,t)},K=function(e,t,n){return!(Y(e,t=v(t,!0))&&g(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?P(e,t,n):(e[t]=n.value,e)};a?(D||(O.f=X,k.f=K,G(B,"buffer"),G(B,"byteOffset"),G(B,"byteLength"),G(B,"length")),r({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:X,defineProperty:K}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",u="get"+e,c="set"+e,v=i[s],m=v,y=m&&m.prototype,k={},O=function(e,t){var n=A(e);return n.view[u](t*a+n.byteOffset,!0)},T=function(e,t,r){var i=A(e);n&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[c](t*a+i.byteOffset,r,!0)},I=function(e,t){P(e,t,{get:function(){return O(this,t)},set:function(e){return T(this,t,e)},enumerable:!0})};D?o&&(m=t((function(e,t,n,r){return l(e,m,s),C(function(){return g(t)?Z(t)?void 0!==r?new v(t,h(n,a),r):void 0!==n?new v(t,h(n,a)):new v(t):V(t)?q(m,t):w.call(m,t):new v(d(t))}(),e,m)})),_&&_(m,z),E(x(v),(function(e){e in m||f(m,e,v[e])})),m.prototype=y):(m=t((function(e,t,n,r){l(e,m,s);var i,o,u,c=0,f=0;if(g(t)){if(!Z(t))return V(t)?q(m,t):w.call(m,t);i=t,f=h(n,a);var v=t.byteLength;if(void 0===r){if(v%a)throw j(W);if(o=v-f,o<0)throw j(W)}else if(o=p(r)*a,o+f>v)throw j(W);u=o/a}else u=d(t),o=u*a,i=new L(o);M(e,{buffer:i,byteOffset:f,byteLength:o,length:u,view:new N(i)});while(c<u)I(e,c++)})),_&&_(m,z),y=m.prototype=b(B)),y.constructor!==m&&f(y,"constructor",m),F&&f(y,F,s),k[s]=m,r({global:!0,forced:m!=v,sham:!D},k),H in m||f(m,H,a),H in y||f(y,H,a),S(s)}):e.exports=function(){}},dQpi:function(e,t,n){var r=n("yGk4"),i=n("vN+2"),a=n("rEGp"),o=1/0,s=r&&1/a(new r([,-0]))[1]==o?function(e){return new r(e)}:i;e.exports=s},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},dVn5:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function r(e){return e.match(n)||[]}e.exports=r},dX1H:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n("xfSm"),i=n("d9O0"),a=n("GXnB"),o=n("zxMA"),s=function(){function e(e,t,n,s){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new o.QueryableString(t||""),this.metadata=new Array;var u=null;"string"===typeof s?u=new a.Metadata(r.NAMED_TAG,s):s instanceof a.Metadata&&(u=s),null!==u&&this.metadata.push(u)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){var r=n[t];if(r.key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return r.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var a=i[r];if(a.key===e&&a.value===n)return!0}return!1}},e}();t.Target=s},dfPH:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(){var e=a(n("WWur"));return i=function(){return e},e}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return f(e)||c(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function f(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var p=function(){var e=(0,r().useState)(),t=o(e,2),n=t[0],a=t[1],s=(0,r().useState)("ready"),u=o(s,2),l=u[0],c=u[1],f=(0,r().useCallback)((function(e){(0,i()["default"])(e),c("copied"),clearTimeout(n),a(setTimeout((function(){c("ready")}),2e3))}),[]);return[f,l]};t["default"]=p},doU7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0;var r={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};t.BindingCount=r},docD:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"province",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:1,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{e.setMapStatus({doubleClickZoom:!1});var t=new o["ProvinceLayer"](e,{adcode:["330000"],depth:2,fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}}),n=new o["CityLayer"](e,{adcode:["330000","330100"],fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},autoFit:!1,stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}});n.hide(),t.on("loaded",(()=>{t.fillLayer.on("click",(e=>{var r=[e.feature.properties.adcode];n.show(),n.updateDistrict(r),n.fillLayer.fitBounds(),t.hide()}))})),n.on("loaded",(()=>{n.fillLayer.on("undblclick",(e=>{t.show(),t.updateDistrict(["330000"]),t.fillLayer.fitBounds(),n.hide()}))}))}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"province"}))},dt0z:function(e,t,n){var r=n("zoYe");function i(e){return null==e?"":r(e)}e.exports=i},dxzI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.ContainerModule=i;var a=function(){function e(e){this.id=r.id(),this.registry=e}return e}();t.AsyncContainerModule=a},e0ch:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("sE8U")),a={image:i["default"]},o=a;t["default"]=o},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),a=n("JHgL"),o=n("pSRY"),s=n("H8j4");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},e5cp:function(e,t,n){var r=n("fmRc"),i=n("or5M"),a=n("HDyB"),o=n("seXi"),s=n("QqLw"),u=n("Z0cm"),l=n("DSRE"),c=n("c6wG"),f=1,p="[object Arguments]",d="[object Array]",h="[object Object]",v=Object.prototype,m=v.hasOwnProperty;function y(e,t,n,v,y,g){var b=u(e),_=u(t),x=b?d:s(e),w=_?d:s(t);x=x==p?h:x,w=w==p?h:w;var E=x==h,S=w==h,k=x==w;if(k&&l(e)){if(!l(t))return!1;b=!0,E=!1}if(k&&!E)return g||(g=new r),b||c(e)?i(e,t,n,v,y,g):a(e,t,x,n,v,y,g);if(!(n&f)){var O=E&&m.call(e,"__wrapped__"),T=S&&m.call(t,"__wrapped__");if(O||T){var C=O?e.value():e,A=T?t.value():t;return g||(g=new r),y(C,A,n,v,g)}}return!!k&&(g||(g=new r),o(e,t,n,v,y,g))}e.exports=y},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eDxR:function(e,t,n){var r=n("Tskq"),i=n("ENF9"),a=n("VpIT"),o=a("metadata"),s=o.store||(o.store=new i),u=function(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}var a=i.get(t);if(!a){if(!n)return;i.set(t,a=new r)}return a},l=function(e,t,n){var r=u(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=u(t,n,!1);return void 0===r?void 0:r.get(e)},f=function(e,t,n,r){u(n,r,!0).set(e,t)},p=function(e,t){var n=u(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)};e.exports={store:s,getMap:u,has:l,get:c,set:f,keys:p,toKey:d}},eO0o:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{imulh:function(e,t){var n=65535,r=+e,i=+t,a=r&n,o=i&n,s=r>>16,u=i>>16,l=(s*o>>>0)+(a*o>>>16);return s*u+(l>>16)+((a*u>>>0)+(l&n)>>16)}})},eOQ5:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.DEFAULT_RADIUS=t.DEFAULT_CUTOFF=t.DEFAULT_BUFFER=t.DEFAULT_FONT_SIZE=t.DEFAULT_FONT_WEIGHT=t.DEFAULT_FONT_FAMILY=t.DEFAULT_CHAR_SET=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("z0pJ"),u=r(n("rxlC")),l=n("4cb6");n("mNvP");var c,f,p=n("TpkO");function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function h(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=A();t.DEFAULT_CHAR_SET=g;var b="sans-serif";t.DEFAULT_FONT_FAMILY=b;var _="normal";t.DEFAULT_FONT_WEIGHT=_;var x=24;t.DEFAULT_FONT_SIZE=x;var w=3;t.DEFAULT_BUFFER=w;var E=.25;t.DEFAULT_CUTOFF=E;var S=8;t.DEFAULT_RADIUS=S;var k=1024,O=1,T=1,C=3;function A(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function M(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="black",e.textBaseline="middle"}function P(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}var I=(c=(0,l.injectable)(),c(f=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"fontAtlas",void 0),(0,o["default"])(this,"iconFontMap",void 0),(0,o["default"])(this,"iconFontGlyphs",{}),(0,o["default"])(this,"fontOptions",void 0),(0,o["default"])(this,"key",void 0),(0,o["default"])(this,"cache",new s.LRUCache(C))}return(0,a["default"])(e,[{key:"scale",get:function(){return T}},{key:"canvas",get:function(){var e=this.cache.get(this.key);return e&&e.data}},{key:"mapping",get:function(){var e=this.cache.get(this.key);return e&&e.mapping}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:b,fontWeight:_,characterSet:g,fontSize:x,buffer:w,sdf:!0,cutoff:E,radius:S,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(e){var t=this;e.forEach((function(e){t.iconFontGlyphs[e.name]=e.unicode}))}},{key:"addIconFont",value:function(e,t){this.iconFontMap.set(e,t)}},{key:"getIconFontKey",value:function(e){return this.iconFontMap.get(e)||e}},{key:"getGlyph",value:function(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}},{key:"setFontOptions",value:function(e){this.fontOptions=y(y({},this.fontOptions),e),this.key=this.getKey();var t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==t.length){var r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(e,t,n){var r=this.fontOptions,i=r.fontFamily,a=r.fontWeight,o=r.fontSize,s=r.buffer,l=r.sdf,c=r.radius,f=r.cutoff,h=r.iconfont,v=n&&n.data;v||(v=document.createElement("canvas"),v.width=k);var m=v.getContext("2d");M(m,i,o,a);var g=(0,p.buildMapping)(y({getFontWidth:function(e){return m.measureText(e).width},fontHeight:o*T,buffer:s,characterSet:t,maxCanvasWidth:k},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),b=g.mapping,_=g.canvasHeight,x=g.xOffset,w=g.yOffset,E=m.getImageData(0,0,v.width,v.height);if(v.height=_,m.putImageData(E,0,0),M(m,i,o,a),l){var S,C=new u["default"](o,s,c,f,i,a),A=m.getImageData(0,0,C.size,C.size),I=d(t);try{for(I.s();!(S=I.n()).done;){var R=S.value;if(h){var j=String.fromCharCode(parseInt(R.replace("&#x","").replace(";",""),16)),L=C.draw(j);P(L,A)}else P(C.draw(R),A);m.putImageData(A,b[R].x,b[R].y)}}catch(z){I.e(z)}finally{I.f()}}else{var N,D=d(t);try{for(D.s();!(N=D.n()).done;){var F=N.value;m.fillText(F,b[F].x,b[F].y+o*O)}}catch(z){D.e(z)}finally{D.f()}}return{xOffset:x,yOffset:w,mapping:b,data:v,width:v.width,height:v.height}}},{key:"getKey",value:function(){return"key"}},{key:"getNewChars",value:function(e,t){var n=this.cache.get(e);if(!n)return t;var r=[],i=n.mapping,a=new Set(Object.keys(i)),o=new Set(t);return o.forEach((function(e){a.has(e)||r.push(e)})),r}}]),e}())||f);t["default"]=I},eRUA:function(e,t,n){"use strict";e.exports=i;var r=n("kVK+");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var a=4294967296,o=1/a,s=12,u="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function l(e,t,n){var r,i,a=n.buf;if(i=a[n.pos++],r=(112&i)>>4,i<128)return f(e,r,t);if(i=a[n.pos++],r|=(127&i)<<3,i<128)return f(e,r,t);if(i=a[n.pos++],r|=(127&i)<<10,i<128)return f(e,r,t);if(i=a[n.pos++],r|=(127&i)<<17,i<128)return f(e,r,t);if(i=a[n.pos++],r|=(127&i)<<24,i<128)return f(e,r,t);if(i=a[n.pos++],r|=(1&i)<<31,i<128)return f(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function c(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function f(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function p(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),d(n,r,t),h(r,t)}function d(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function h(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function v(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function m(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function x(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function w(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function E(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function S(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function k(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function O(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function T(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function C(e,t,n){var r="",i=t;while(i<n){var a,o,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?(a=e[i+1],128===(192&a)&&(l=(31&u)<<6|63&a,l<=127&&(l=null))):3===c?(a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(l=(15&u)<<12|(63&a)<<6|63&o,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(l=(15&u)<<18|(63&a)<<12|(63&o)<<6|63&s,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}function A(e,t,n){return u.decode(e.subarray(t,n))}function M(e,t,n){for(var r,i,a=0;a<t.length;a++){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){r>56319||a+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){n=n||this.length;while(this.pos<n){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=7&r,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=k(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=T(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=k(this.buf,this.pos)+k(this.buf,this.pos+4)*a;return this.pos+=8,e},readSFixed64:function(){var e=k(this.buf,this.pos)+T(this.buf,this.pos+4)*a;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,l(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=s&&u?A(this.buf,t,e):C(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=c(this);e=e||[];while(this.pos<n)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)while(this.buf[this.pos++]>127);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),O(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),O(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),O(this.buf,-1&e,this.pos),O(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),O(this.buf,-1&e,this.pos),O(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeVarint:function(e){e=+e||0,e>268435455||e<0?p(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=M(this.buf,e,this.pos);var n=this.pos-t;n>=128&&v(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&v(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,b,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,x,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,w,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,E,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,S,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},eUgh:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},eWPy:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-drilldownbuble"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe")),i.a.createElement(o["default"],s["default"]["docs-drilldownbuble"].previewerProps,i.a.createElement(u,null)))))},ebwN:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),a=r(i,"Map");e.exports=a},ecyq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("i4Tg");function p(e){var t=d();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h=function(e){(0,s["default"])(n,e);var t=p(n);function n(e,r,a){var s;return(0,i["default"])(this,n),s=t.call(this,e,{originalEvent:a}),(0,c["default"])((0,o["default"])(s),"type",void 0),(0,c["default"])((0,o["default"])(s),"originalEvent",void 0),(0,c["default"])((0,o["default"])(s),"defaultPrevented",void 0),(0,c["default"])((0,o["default"])(s),"target",void 0),s.defaultPrevented=!1,s}return(0,a["default"])(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(f.Event);t["default"]=h},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype,a=i.hasOwnProperty;function o(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}e.exports=o},en4r:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("WaiV")),c=n("dJQ9");function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"correctButton",value:function(e,t){return t===c.LEFT_BUTTON&&e.ctrlKey||t===c.RIGHT_BUTTON}},{key:"move",value:function(e,t){var n=-.5,r=(t.y-e.y)*n;if(r)return this.active=!0,{pitchDelta:r}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),n}(l["default"]);t["default"]=d},ewvW:function(e,t,n){var r=n("HYAF");e.exports=function(e){return Object(r(e))}},"f/k9":function(e,t,n){"use strict";var r=n("MgzW"),i=n("q1tI");t.useSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe,a=i.useState((function(){return{getCurrentValue:t,subscribe:n,value:t()}}));e=a[0];var o=a[1];return a=e.value,e.getCurrentValue===t&&e.subscribe===n||(a=t(),o({getCurrentValue:t,subscribe:n,value:a})),i.useDebugValue(a),i.useEffect((function(){function e(){if(!i){var e=t();o((function(i){return i.getCurrentValue!==t||i.subscribe!==n||i.value===e?i:r({},i,{value:e})}))}}var i=!1,a=n(e);return e(),function(){i=!0,a()}}),[t,n]),a}},f0NW:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s,u,l,c,f,p,d=r(n("yG8O")),h=r(n("lwsE")),v=r(n("W8MJ")),m=r(n("lSNA")),y=r(n("U+yc")),g=(r(n("1ABj")),r(n("BkRI"))),b=n("gHHc"),_=n("z0pJ"),x=n("4cb6");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,m["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("mNvP");var S=(i=(0,x.injectable)(),a=(0,x.inject)(b.TYPES.IGlobalConfigService),o=(0,x.inject)(b.TYPES.IMapService),s=(0,x.inject)(b.TYPES.IFontService),i((l=function(){function e(){(0,h["default"])(this,e),(0,d["default"])(this,"configService",c,this),(0,d["default"])(this,"mapService",f,this),(0,d["default"])(this,"fontService",p,this)}return(0,v["default"])(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("DataMappingPlugin",(function(){n.generateMaping(e,{styleAttributeService:r})})),e.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){return e.dataState.dataMappingNeedUpdate=!1,n.generateMaping(e,{styleAttributeService:r}),!0})),e.hooks.beforeRender.tap("DataMappingPlugin",(function(){if(!e.layerModelNeedUpdate){var t=r.getLayerStyleAttributes()||[],i=r.getLayerStyleAttribute("filter"),a=e.getSource().data.dataArray,o=t.filter((function(e){return e.needRemapping})),s=a;null!==i&&void 0!==i&&i.needRemapping&&null!==i&&void 0!==i&&i.scale&&(s=a.filter((function(e){return n.applyAttributeMapping(i,e)[0]}))),o.length&&(null!==i&&void 0!==i&&i.needRemapping?(e.setEncodedData(n.mapping(t,s)),i.needRemapping=!1):e.setEncodedData(n.mapping(o,s,e.getEncodedData())),e.emit("remapping",null))}}))}},{key:"generateMaping",value:function(e,t){var n=this,r=t.styleAttributeService,i=r.getLayerStyleAttributes()||[],a=r.getLayerStyleAttribute("filter"),o=e.getSource().data.dataArray,s=o;null!==a&&void 0!==a&&a.scale&&(s=o.filter((function(e){return n.applyAttributeMapping(a,e)[0]}))),e.setEncodedData(this.mapping(i,s))}},{key:"mapping",value:function(e,t,n){var r=this,i=t.map((function(t,i){var a=n?n[i]:{},o=E({id:t._id,coordinates:t.coordinates},a);return e.filter((function(e){return void 0!==e.scale})).forEach((function(e){var n=r.applyAttributeMapping(e,t);e.needRemapping=!1,"color"===e.name&&(n=n.map((function(e){return(0,_.rgb2arr)(e)}))),o[e.name]=Array.isArray(n)&&1===n.length?n[0]:n,"shape"===e.name&&(o.shape=r.fontService.getIconFontKey(o[e.name]))})),o}));return i.length>0&&"GAODE2.x"===this.mapService.version&&("number"===typeof i[0].coordinates[0]?i.map((function(e){e.version="GAODE2.x",e.originCoordinates=(0,g["default"])(e.coordinates),e.coordinates=r.mapService.lngLatToCoord(e.coordinates)})):i.map((function(e){e.version="GAODE2.x",e.originCoordinates=(0,g["default"])(e.coordinates),e.coordinates=r.mapService.lngLatToCoords(e.coordinates)}))),i}},{key:"applyAttributeMapping",value:function(e,t){var n;if(!e.scale)return[];var r=(null===e||void 0===e||null===(n=e.scale)||void 0===n?void 0:n.scalers)||[],i=[];return r.forEach((function(n){var r,a=n.field;(t.hasOwnProperty(a)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&i.push(t[a])})),e.mapping?e.mapping(i):[]}}]),e}(),c=(0,y["default"])(l.prototype,"configService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,y["default"])(l.prototype,"mapService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,y["default"])(l.prototype,"fontService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=l))||u);t["default"]=S},f1zB:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"x",void 0),(0,o["default"])(this,"y",void 0),this.x=t,this.y=n}return(0,a["default"])(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"_add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"add",value:function(e){return this.clone()._add(e)}},{key:"_sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"sub",value:function(e){return this.clone()._sub(e)}},{key:"_multByPoint",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multByPoint",value:function(e){return this.clone()._multByPoint(e)}},{key:"_divByPoint",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divByPoint",value:function(e){return this.clone()._divByPoint(e)}},{key:"_mult",value:function(e){return this.x*=e,this.y*=e,this}},{key:"mult",value:function(e){return this.clone()._mult(e)}},{key:"_div",value:function(e){return this.x/=e,this.y/=e,this}},{key:"div",value:function(e){return this.clone()._div(e)}},{key:"_rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this}},{key:"rotate",value:function(e){return this.clone()._rotate(e)}},{key:"_rotateAround",value:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=a,this}},{key:"roateAround",value:function(e,t){return this.clone()._rotateAround(e,t)}},{key:"_matMult",value:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this}},{key:"matMult",value:function(e){return this.clone()._matMult(e)}},{key:"_unit",value:function(){return this.div(this.mag()),this}},{key:"unit",value:function(){return this.clone()._unit()}},{key:"_perp",value:function(){var e=this.y;return this.y=this.x,this.x=-e,this}},{key:"perp",value:function(){return this.clone()._perp()}},{key:"_round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"round",value:function(){return this.clone()._round()}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"dist",value:function(e){return Math.sqrt(this.distSqr(e))}},{key:"distSqr",value:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"angleTo",value:function(e){return Math.atan2(this.y-e.y,this.x-e.x)}},{key:"angleWith",value:function(e){return this.angleWithSep(e.x,e.y)}},{key:"angleWithSep",value:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)}}],[{key:"convert",value:function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}}]),e}();t["default"]=s},f3lx:function(e,t,n){"use strict";var r,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeType=t.StyleScaleType=t.ScaleTypes=void 0,t.ScaleTypes=r,function(e){e["LINEAR"]="linear",e["POWER"]="power",e["LOG"]="log",e["IDENTITY"]="identity",e["TIME"]="time",e["QUANTILE"]="quantile",e["QUANTIZE"]="quantize",e["THRESHOLD"]="threshold",e["CAT"]="cat"}(r||(t.ScaleTypes=r={})),t.StyleScaleType=i,function(e){e["CONSTANT"]="constant",e["VARIABLE"]="variable"}(i||(t.StyleScaleType=i={})),t.AttributeType=a,function(e){e[e["Attribute"]=0]="Attribute",e[e["InstancedAttribute"]=1]="InstancedAttribute",e[e["Uniform"]=2]="Uniform"}(a||(t.AttributeType=a={}))},f5p1:function(e,t,n){var r=n("2oRo"),i=n("iSVu"),a=r.WeakMap;e.exports="function"===typeof a&&/native code/.test(i(a))},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),a=n("ebwN");function o(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}e.exports=o},fHMY:function(e,t,n){var r,i=n("glrk"),a=n("N+g0"),o=n("eDl+"),s=n("0BK2"),u=n("G+Rx"),l=n("zBJ4"),c=n("93I0"),f=">",p="<",d="prototype",h="script",v=c("IE_PROTO"),m=function(){},y=function(e){return p+h+f+e+p+"/"+h+f},g=function(e){e.write(y("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),n="java"+h+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(y("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?g(r):b();var e=o.length;while(e--)delete _[d][o[e]];return _()};s[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[d]=i(e),n=new m,m[d]=null,n[v]=e):n=_(),void 0===t?n:a(n,t)}},fN96:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ZUd8").charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},"fR/l":function(e,t,n){var r=n("CH3K"),i=n("Z0cm");function a(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}e.exports=a},fVI1:function(e,t,n){},fXLg:function(e,t,n){"use strict";var r=n("glrk"),i=n("HAuM");e.exports=function(){for(var e=r(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)t.call(e,arguments[n]);return e}},fYdt:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("UB5X")),p=n("gHHc"),d=n("z0pJ"),h=r(n("YenN")),v=n("kIOg");function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\nuniform float segmentNumber;\nvarying float v_segmentIndex;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying float v_a;\nvarying vec2 v_offset;\nvarying vec2 v_iconMapUV;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // gl_FragColor = v_color;\n  \n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    // float arcRadio = smoothstep( 0.0, 1.0, v_distance_ratio);\n    // float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = floor(v_arcDistrance/v_pixelLen);\n\n    float u = 1.0 - fract(arcRadio * count + animateSpeed);\n\n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n    float v = length(v_offset)/(v_a); // \u6a2a\u5411\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n    // gl_FragColor = vec4(1.0 - fract(arcRadio * 20000.0), 0.0, 0.0, 1.0);\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n    // gl_FragColor = filterColor(texture2D(u_texture, uv));\n    \n  } else {\n     gl_FragColor = filterColor(gl_FragColor);\n  }\n  // gl_FragColor = filterColor(gl_FragColor);\n\n}',b='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nuniform float u_lineDir: 1.0;\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying float v_a;\nvarying vec2 v_offset;\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target) {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  if(u_lineDir == 1.0) { // \u6b63\u5411\n    return mid;\n  } else { // \u9006\u5411\n    // (mid + vmin)/2 = (s + t)/2\n    vec2 vmid = source + target - mid;\n    return vmid;\n  }\n  // return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  \n\n  vec2 source = a_Instance.rg;\n  vec2 target =  a_Instance.ba;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  if(u_line_type == LineTypeDash) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n      vec2 s = source;\n      vec2 t = target;\n      \n      if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n        s = unProjCustomCoord(source);\n        t = unProjCustomCoord(target);\n      }\n      float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n      // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  \n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n      if(u_lineDir != 1.0) {\n        v_distance_ratio = 1.0 - v_distance_ratio;\n      }\n  }\n\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  //unProjCustomCoord\n  \n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n  v_segmentIndex = a_Position.x + 1.0;\n  if(LineTexture == u_line_texture) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f\n\n    v_arcDistrance = length(source - target);\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap\n      v_arcDistrance *= 1000000.0;\n    }\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox\n      // v_arcDistrance *= 8.0;\n      v_arcDistrance = project_pixel_allmap(v_arcDistrance);\n    }\n    v_iconMapUV = a_iconMapUV;\n    v_pixelLen = project_pixel(u_icon_step);\n    v_a = project_pixel(a_Size);\n    v_offset = offset + offset * sign(a_Position.y);\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',_={solid:0,dash:1},x=function(e){(0,s["default"])(n,e);var t=m(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:p.gl.NEAREST,min:p.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,a=void 0===i?"normal":i,o=e.lineType,s=void 0===o?"solid":o,u=e.dashArray,l=void 0===u?[10,5]:u,c=e.forward,h=void 0===c||c,v=e.lineTexture,m=void 0!==v&&v,y=e.iconStep,g=void 0===y?100:y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var b=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,b,this.cellProperties),w=x.data,E=x.width,S=x.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:E,height:S}):this.createTexture2D({flipY:!0,data:[1],format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:1,height:1})}2===l.length&&l.push(0,0);var k=0,O=[0,0,0,0],T=[0,0,0,0];return n&&r&&(O=(0,d.rgb2arr)(n),T=(0,d.rgb2arr)(r),k=1),this.rendererService.getDirty()&&this.texture.bind(),{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,f["default"])(t)?t:1,u_textureBlend:"normal"===a?0:1,segmentNumber:30,u_line_type:_[s||"solid"],u_dash_array:l,u_blur:.9,u_lineDir:h?1:-1,u_texture:this.texture,u_line_texture:m?1:0,u_icon_step:g,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:k,u_sourceColor:O,u_targetColor:T}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:b,fragmentShader:g,triangulation:v.LineArcTriangulation,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:p.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:p.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.iconService.getIconMap(),o=t.texture,s=a[o]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}}]),n}(h["default"]);t["default"]=x},fZWH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapTheme=void 0;var r={dark:"amap://styles/2a09079c3daac9420ee53b67307a8006?isPublic=true",light:"amap://styles/1fd9f8ef9751298f11f5c56968312c70?isPublic=true",normal:"amap://styles/normal",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true"};t.MapTheme=r},fbrv:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n("Yk9n"),a=n("MON2"),o=n("FV85"),s=n("xfSm"),u=n("ujMp");Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var l=n("dX1H");function c(e,t){var n=u.getFunctionName(t),r=f(e,n,t,!1);return r}function f(e,t,n,i){var o=e.getConstructorMetadata(n),s=o.compilerGeneratedMetadata;if(void 0===s){var u=a.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(u)}var l=o.userGeneratedMetadata,c=Object.keys(l),f=0===n.length&&c.length>0,p=c.length>n.length,v=f||p?c.length:n.length,m=d(i,t,s,l,v),y=h(e,n),g=r(r([],m),y);return g}function p(e,t,n,r,s){var u=s[e.toString()]||[],c=m(u),f=!0!==c.unmanaged,p=r[e],d=c.inject||c.multiInject;if(p=d||p,p instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),f){var h=p===Object,v=p===Function,y=void 0===p,g=h||v||y;if(!t&&g){var b=a.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(b)}var _=new l.Target(o.TargetTypeEnum.ConstructorArgument,c.targetName,p);return _.metadata=u,_}return null}function d(e,t,n,r,i){for(var a=[],o=0;o<i;o++){var s=o,u=p(s,e,t,n,r);null!==u&&a.push(u)}return a}function h(e,t){for(var n=e.getPropertiesMetadata(t),i=[],a=Object.keys(n),s=0,u=a;s<u.length;s++){var c=u[s],f=n[c],p=m(n[c]),d=p.targetName||c,v=p.inject||p.multiInject,y=new l.Target(o.TargetTypeEnum.ClassProperty,d,v);y.metadata=f,i.push(y)}var g=Object.getPrototypeOf(t.prototype).constructor;if(g!==Object){var b=h(e,g);i=r(r([],i),b)}return i}function v(e,t){var n=Object.getPrototypeOf(t.prototype).constructor;if(n!==Object){var r=u.getFunctionName(n),i=f(e,r,n,!0),a=i.map((function(e){return e.metadata.filter((function(e){return e.key===s.UNMANAGED_TAG}))})),o=[].concat.apply([],a).length,l=i.length-o;return l>0?l:v(e,n)}return 0}function m(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[s.INJECT_TAG],multiInject:t[s.MULTI_INJECT_TAG],targetName:t[s.NAME_TAG],unmanaged:t[s.UNMANAGED_TAG]}}t.getDependencies=c,t.getBaseClassDependencyCount=v},fcGW:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.BlendTypes=void 0;var i,a=r(n("lSNA")),o=n("gHHc"),s=(i={},(0,a["default"])(i,o.BlendType.additive,{enable:!0,func:{srcRGB:o.gl.ONE,dstRGB:o.gl.ONE,srcAlpha:1,dstAlpha:1}}),(0,a["default"])(i,o.BlendType.none,{enable:!1}),(0,a["default"])(i,o.BlendType.normal,{enable:!0,func:{srcRGB:o.gl.SRC_ALPHA,dstRGB:o.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),(0,a["default"])(i,o.BlendType.subtractive,{enable:!0,func:{srcRGB:o.gl.ONE,dstRGB:o.gl.ONE,srcAlpha:o.gl.ZERO,dstAlpha:o.gl.ONE_MINUS_SRC_COLOR},equation:{rgb:o.gl.FUNC_SUBTRACT,alpha:o.gl.FUNC_SUBTRACT}}),(0,a["default"])(i,o.BlendType.max,{enable:!0,func:{srcRGB:o.gl.ONE,dstRGB:o.gl.ONE},equation:{rgb:o.gl.MAX_EXT}}),(0,a["default"])(i,o.BlendType.min,{enable:!0,func:{srcRGB:o.gl.ONE,dstRGB:o.gl.ONE},equation:{rgb:o.gl.MIN_EXT}}),i);t.BlendTypes=s},fdAy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),a=n("4WOD"),o=n("0rvr"),s=n("1E5z"),u=n("kRJp"),l=n("busE"),c=n("tiKp"),f=n("xDBR"),p=n("P4y1"),d=n("rpNk"),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),y="keys",g="values",b="entries",_=function(){return this};e.exports=function(e,t,n,c,d,x,w){i(n,t,c);var E,S,k,O=function(e){if(e===d&&P)return P;if(!v&&e in A)return A[e];switch(e){case y:return function(){return new n(this,e)};case g:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",C=!1,A=e.prototype,M=A[m]||A["@@iterator"]||d&&A[d],P=!v&&M||O(d),I="Array"==t&&A.entries||M;if(I&&(E=a(I.call(new e)),h!==Object.prototype&&E.next&&(f||a(E)===h||(o?o(E,h):"function"!=typeof E[m]&&u(E,m,_)),s(E,T,!0,!0),f&&(p[T]=_))),d==g&&M&&M.name!==g&&(C=!0,P=function(){return M.call(this)}),f&&!w||A[m]===P||u(A,m,P),p[t]=P,d)if(S={values:O(g),keys:x?P:O(y),entries:O(b)},w)for(k in S)(v||C||!(k in A))&&l(A,k,S[k]);else r({target:t,proto:!0,forced:v||C},S);return S}},fhKU:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,a=n("WJkJ"),o=r.parseFloat,s=1/o(a+"-0")!==-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),a=n("L8xA"),o=n("gCq4"),s=n("VaNO"),u=n("0Cz8");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype["delete"]=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,e.exports=l},fo6e:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function r(e){return n.test(e)}e.exports=r},foS9:function(e,t,n){},foSv:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},ftKO:function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},ftMj:function(e,t,n){var r=n("I+eb"),i=n("glrk"),a=n("hh1v"),o=n("UTVS"),s=n("0Dky"),u=n("m/L8"),l=n("Bs8V"),c=n("4WOD"),f=n("XGwC");function p(e,t,n){var r,s,d=arguments.length<4?e:arguments[3],h=l.f(i(e),t);if(!h){if(a(s=c(e)))return p(s,t,n,d);h=f(0)}if(o(h,"value")){if(!1===h.writable||!a(d))return!1;if(r=l.f(d,t)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,u.f(d,t,r)}else u.f(d,t,f(0,n));return!0}return void 0!==h.set&&(h.set.call(d,n),!0)}var d=s((function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)}));r({target:"Reflect",stat:!0,forced:d},{set:p})},"g+M4":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BlendType=void 0,t.BlendType=r,function(e){e["normal"]="normal",e["additive"]="additive",e["subtractive"]="subtractive",e["min"]="min",e["max"]="max",e["none"]="none"}(r||(t.BlendType=r={}))},g0t4:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),u=r(n("iWIM")),l=r(n("7W2i")),c=r(n("a1gu")),f=r(n("Nsbk")),p=r(n("lSNA")),d=r(n("U+yc")),h=(r(n("1ABj")),n("4cb6"));n("mNvP");var v,m,y,g,b,_=n("0t2r"),x=n("2FAK"),w=n("y6zh"),E=r(n("ldaH"));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,p["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=T();return function(){var n,r=(0,f["default"])(e);if(t){var i=(0,f["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c["default"])(this,n)}}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var C="uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n",A="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",M="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}";function P(e,t){var n=0,r=1/t,i=e;while(i>0)n+=r*(i%t),i=Math.floor(i/t),r/=t;return n}var I=1,R=(v=(0,h.injectable)(),m=(0,h.inject)(_.TYPES.IShaderModuleService),v((g=function(e){(0,l["default"])(n,e);var t=O(n);function n(){var e;(0,a["default"])(this,n);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o)),(0,i["default"])((0,s["default"])(e),"shaderModuleService",b,(0,s["default"])(e)),(0,p["default"])((0,s["default"])(e),"haltonSequence",[]),(0,p["default"])((0,s["default"])(e),"accumulatingId",0),(0,p["default"])((0,s["default"])(e),"frame",0),(0,p["default"])((0,s["default"])(e),"timer",void 0),(0,p["default"])((0,s["default"])(e),"sampleRenderTarget",void 0),(0,p["default"])((0,s["default"])(e),"prevRenderTarget",void 0),(0,p["default"])((0,s["default"])(e),"outputRenderTarget",void 0),(0,p["default"])((0,s["default"])(e),"copyRenderTarget",void 0),(0,p["default"])((0,s["default"])(e),"blendModel",void 0),(0,p["default"])((0,s["default"])(e),"outputModel",void 0),(0,p["default"])((0,s["default"])(e),"copyModel",void 0),e}return(0,o["default"])(n,[{key:"getType",value:function(){return w.PassType.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(e,t){(0,u["default"])((0,f["default"])(n.prototype),"init",this).call(this,e,t);var r=this.rendererService,i=r.createFramebuffer,a=r.createTexture2D;this.sampleRenderTarget=i({color:a({width:1,height:1,wrapS:x.gl.CLAMP_TO_EDGE,wrapT:x.gl.CLAMP_TO_EDGE})}),this.prevRenderTarget=i({color:a({width:1,height:1,wrapS:x.gl.CLAMP_TO_EDGE,wrapT:x.gl.CLAMP_TO_EDGE})}),this.outputRenderTarget=i({color:a({width:1,height:1,wrapS:x.gl.CLAMP_TO_EDGE,wrapT:x.gl.CLAMP_TO_EDGE})}),this.copyRenderTarget=i({color:a({width:1,height:1,wrapS:x.gl.CLAMP_TO_EDGE,wrapT:x.gl.CLAMP_TO_EDGE})});for(var o=0;o<30;o++)this.haltonSequence.push([P(o,2),P(o,3)]);this.blendModel=this.createTriangleModel("blend-pass",C),this.outputModel=this.createTriangleModel("copy-pass",A,{blend:{enable:!0,func:{srcRGB:x.gl.ONE,dstRGB:x.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:x.gl.ONE,dstAlpha:x.gl.ONE_MINUS_SRC_ALPHA},equation:{rgb:x.gl.FUNC_ADD,alpha:x.gl.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",A)}},{key:"render",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,a=n.useFramebuffer,o=i(),s=o.width,u=o.height;this.sampleRenderTarget.resize({width:s,height:u}),this.prevRenderTarget.resize({width:s,height:u}),this.outputRenderTarget.resize({width:s,height:u}),this.copyRenderTarget.resize({width:s,height:u}),this.resetFrame(),this.stopAccumulating();var l=e.multiPassRenderer.getPostProcessor().getReadFBO();a(l,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:l}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}));var c=function n(r){t.accumulatingId&&r===t.accumulatingId&&(t.isFinished()||(t.doRender(e),requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=I++,this.timer=window.setTimeout((function(){c(t.accumulatingId)}),50)}},{key:"doRender",value:function(e){var t=this,n=this.rendererService,r=n.clear,i=n.getViewportSize,a=n.useFramebuffer,o=i(),s=o.width,u=o.height,l=e.getLayerConfig(),c=l.jitterScale,f=void 0===c?1:c,p=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*p[0]-1)/s*f,(2*p[1]-1)/u*f),e.multiPassRenderer.setRenderFlag(!1),e.hooks.beforeRender.call(),a(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.sampleRenderTarget}),e.render()})),e.hooks.afterRender.call(),e.multiPassRenderer.setRenderFlag(!0);var d=e.getLayerConfig();a(this.outputRenderTarget,(function(){t.blendModel.draw({uniforms:{u_opacity:d.opacity||1,u_MixRatio:0===t.frame?1:.9,u_Diffuse1:t.sampleRenderTarget,u_Diffuse2:0===t.frame?e.multiPassRenderer.getPostProcessor().getReadFBO():t.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(a(this.copyRenderTarget,(function(){t.outputModel.draw({uniforms:{u_Texture:t.outputRenderTarget}})})),a(e.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){t.copyModel.draw({uniforms:{u_Texture:t.copyRenderTarget}})})),e.multiPassRenderer.getPostProcessor().render(e));var h=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=h,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(e,t,n){this.shaderModuleService.registerModule(e,{vs:M,fs:t});var r=this.shaderModuleService.getModule(e),i=r.vs,a=r.fs,o=r.uniforms,s=this.rendererService,u=s.createAttribute,l=s.createBuffer,c=s.createModel;return c(k({vs:i,fs:a,attributes:{a_Position:u({buffer:l({data:[-4,-4,4,-4,0,4],type:x.gl.FLOAT}),size:2})},uniforms:k({},o),depth:{enable:!1},count:3},n))}}]),n}(E["default"]),b=(0,d["default"])(g.prototype,"shaderModuleService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=g))||y);t["default"]=R},g4R6:function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},"g6v/":function(e,t,n){var r=n("0Dky");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},gCq4:function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},gEmk:function(e,t,n){"use strict";n("pd6k")},gFfm:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}e.exports=n},gHHc:function(e,t,n){"use strict";var r=n("TqRt"),i=n("284h");Object.defineProperty(t,"__esModule",{value:!0});var a={container:!0,createLayerContainer:!0,createSceneContainer:!0,lazyInject:!0,lazyMultiInject:!0,BasePostProcessingPass:!0,TYPES:!0,packCircleVertex:!0};Object.defineProperty(t,"container",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"createLayerContainer",{enumerable:!0,get:function(){return o.createLayerContainer}}),Object.defineProperty(t,"createSceneContainer",{enumerable:!0,get:function(){return o.createSceneContainer}}),Object.defineProperty(t,"lazyInject",{enumerable:!0,get:function(){return o.lazyInject}}),Object.defineProperty(t,"lazyMultiInject",{enumerable:!0,get:function(){return o.lazyMultiInject}}),Object.defineProperty(t,"BasePostProcessingPass",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(t,"TYPES",{enumerable:!0,get:function(){return u.TYPES}}),Object.defineProperty(t,"packCircleVertex",{enumerable:!0,get:function(){return l.packCircleVertex}});var o=i(n("SevV")),s=r(n("2stA")),u=n("0t2r"),l=n("ydwA"),c=n("g+M4");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var f=n("f3lx");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("V4Ht");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n("jApC");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var h=n("WjqV");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var v=n("o7U5");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var m=n("XSWW");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var y=n("/H4K");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var g=n("xtoG");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var b=n("Ph3d");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var _=n("bya0");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===_[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var x=n("gqAL");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===x[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var w=n("Ud0n");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var E=n("8Fnv");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var S=n("8H1a");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===S[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var k=n("OH7Y");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var O=n("GG6w");Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var T=n("agNf");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===T[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var C=n("5cA0");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var A=n("PBMj");Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===A[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}}))}));var M=n("LggG");Object.keys(M).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===M[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}}))}));var P=n("PQyO");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var I=n("y6zh");Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===I[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var R=n("EHvt");Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===R[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var j=n("Zu+z");Object.keys(j).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===j[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}}))}));var L=n("QioJ");Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var N=n("2FAK");Object.keys(N).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===N[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}}))}))},gOCb:function(e,t,n){var r=n("dG/n");r("replace")},gQMU:function(e,t,n){var r=n("0ZTe"),i=r("toUpperCase");e.exports=i},gXIK:function(e,t,n){var r=n("dG/n");r("toPrimitive")},gYJb:function(e,t,n){var r=n("I+eb"),i=n("p5mE"),a=n("0GbY"),o=n("fHMY"),s=function(){var e=a("Object","freeze");return e?e(o(null)):o(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},gdVl:function(e,t,n){"use strict";var r=n("ewvW"),i=n("I8vh"),a=n("UMSQ");e.exports=function(e){var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);while(l>s)t[s++]=e;return t}},gg6r:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HAuM"),a=n("8GlL"),o=n("5mdu"),s=n("ImZN");r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,l=o((function(){var n=i(t.resolve),a=[],o=0,u=1;s(e,(function(e){var i=o++,s=!1;a.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--u||r(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--u||r(a))}))})),--u||r(a)}));return l.error&&u(l.value),n.promise}})},"gkw/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("LTtI")),c=r(n("3Rn+"));function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getServiceConstructor",value:function(){return c["default"]}}]),n}(l["default"]);t["default"]=d},glrk:function(e,t,n){var r=n("hh1v");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},gqAL:function(e,t,n){},gvgV:function(e,t,n){"use strict";var r=n("67WC"),i=n("TWQb").includes,a=r.aTypedArray,o=r.exportTypedArrayMethod;o("includes",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},gzZq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n("MON2"),i=n("FV85"),a=n("D9lx"),o=n("LKzl"),s=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new a.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!==typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new a.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!==typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){var n=function(){return t.container.get(e)};return n},this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=i.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=s},h0XC:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n},h7MG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n("doU7"),i=n("MON2"),a=n("FV85"),o=n("xfSm"),s=n("qK8v"),u=n("ujMp"),l=n("oy+k"),c=n("GXnB"),f=n("yMAV"),p=n("fbrv"),d=n("xiII"),h=n("dX1H");function v(e){return e._bindingDictionary}function m(e,t,n,r,i,a){var s=e?o.MULTI_INJECT_TAG:o.INJECT_TAG,u=new c.Metadata(s,n),l=new h.Target(t,r,n,u);if(void 0!==i){var f=new c.Metadata(i,a);l.metadata.push(f)}return l}function y(e,t,n,i,a){var o=_(n.container,a.serviceIdentifier),s=[];return o.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"===typeof a.serviceIdentifier&&e.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),o=_(n.container,a.serviceIdentifier)),s=t?o:o.filter((function(e){var t=new d.Request(e.serviceIdentifier,n,i,e,a);return e.constraint(t)})),g(a.serviceIdentifier,s,a,n.container),s}function g(e,t,n,a){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var o=u.getServiceIdentifierAsString(e),s=i.NOT_REGISTERED;throw s+=u.listMetadataForTarget(o,n),s+=u.listRegisteredBindingsForServiceIdentifier(a,o,_),new Error(s);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;o=u.getServiceIdentifierAsString(e),s=i.AMBIGUOUS_MATCH+" "+o;throw s+=u.listRegisteredBindingsForServiceIdentifier(a,o,_),new Error(s)}}function b(e,t,n,r,o,s){var u,l;if(null===o){u=y(e,t,r,null,s),l=new d.Request(n,r,null,u,s);var c=new f.Plan(r,l);r.addPlan(c)}else u=y(e,t,r,o,s),l=o.addChildRequest(s.serviceIdentifier,u,s);u.forEach((function(t){var n=null;if(s.isArray())n=l.addChildRequest(t.serviceIdentifier,t,s);else{if(t.cache)return;n=l}if(t.type===a.BindingTypeEnum.Instance&&null!==t.implementationType){var o=p.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var u=p.getBaseClassDependencyCount(e,t.implementationType);if(o.length<u){var c=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(c)}}o.forEach((function(t){b(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function _(e,t){var n=[],r=v(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=_(e.parent,t)),n}function x(e,t,n,r,i,a,o,c){void 0===c&&(c=!1);var f=new l.Context(t),p=m(n,r,i,"",a,o);try{return b(e,c,i,f,null,p),f}catch(d){throw s.isStackOverflowExeption(d)&&f.plan&&u.circularDependencyToException(f.plan.rootRequest),d}}function w(e,t,n,r){var i=new h.Target(a.TargetTypeEnum.Variable,"",t,new c.Metadata(n,r)),o=new l.Context(e),s=new d.Request(t,o,null,[],i);return s}t.getBindingDictionary=v,t.plan=x,t.createMockRequest=w},hBjN:function(e,t,n){"use strict";var r=n("wE6v"),i=n("m/L8"),a=n("XGwC");e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},hByQ:function(e,t,n){"use strict";var r=n("14Sl"),i=n("glrk"),a=n("HYAF"),o=n("Ep9I"),s=n("FMNM");r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var c=s(a,u);return o(a.lastIndex,l)||(a.lastIndex=l),null===c?-1:c.index}]}))},hDyC:function(e,t,n){"use strict";var r=n("I+eb"),i=n("DMt2").end,a=n("mgyK");r({target:"String",proto:!0,forced:a},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},hJnp:function(e,t,n){},hJqq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("gHHc"),c=r(n("YenN")),f=n("kIOg");function p(e){var t=d();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var h='precision highp float;\nvarying vec4 v_color;\nuniform float u_opacity: 1;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',v='precision highp float;\n// \u591a\u8fb9\u5f62\u9876\u70b9\u5750\u6807\nattribute vec3 a_Position;\n// \u591a\u8fb9\u5f62\u7ecf\u7eac\u5ea6\u5750\u6807\nattribute vec3 a_Pos;\nattribute float a_Size;\nattribute vec4 a_Color;\nuniform vec2 u_radius;\nuniform float u_coverage: 0.9;\nuniform float u_angle: 0;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nvarying vec4 v_color;\n\nuniform vec2 u_SceneCenterMKT;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n    \n  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));\n  vec2 offset =(vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage));\n  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);\n \n  // vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xy, 0., 1.0));\n    // gl_Position = u_Mvp * (vec4(a_Pos.xy + offset, 0., 1.0));\n    vec2 customLnglat = customProject(lnglat) - u_SceneCenterMKT;\n    vec4 project_pos = project_position(vec4(customLnglat, 0, 1.0));\n    gl_Position = u_Mvp * vec4(project_pos.xy, 0.0, 1.0);\n  } else {\n    vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0., 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',m=function(e){(0,o["default"])(n,e);var t=p(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.coverage,r=e.angle;return{u_opacity:t||1,u_coverage:n||.9,u_angle:r||0,u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset]}}},{key:"initModels",value:function(){return this.buildModels()}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"hexagonheatmap",vertexShader:v,fragmentShader:h,triangulation:f.HeatmapGridTriangulation,depth:{enable:!1},primitive:l.gl.TRIANGLES,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:l.AttributeType.Attribute,descriptor:{name:"a_Pos",buffer:{usage:l.gl.DYNAMIC_DRAW,data:[],type:l.gl.FLOAT},size:3,update:function(e,t){var n="GAODE2.x"===e.version?e.originCoordinates:e.coordinates;return[n[0],n[1],0]}}})}}]),n}(c["default"]);t["default"]=m},"hKI/":function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=c||f||Function("return this")(),d=Object.prototype,h=d.toString,v=Math.max,m=Math.min,y=function(){return p.Date.now()};function g(e,t,r){var i,a,o,s,u,l,c=0,f=!1,p=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function h(t){var n=i,r=a;return i=a=void 0,c=t,s=e.apply(r,n),s}function g(e){return c=e,u=setTimeout(w,t),f?h(e):s}function b(e){var n=e-l,r=e-c,i=t-n;return p?m(i,o-r):i}function x(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||p&&r>=o}function w(){var e=y();if(x(e))return S(e);u=setTimeout(w,b(e))}function S(e){return u=void 0,d&&i?h(e):(i=a=void 0,s)}function k(){void 0!==u&&clearTimeout(u),c=0,i=l=a=u=void 0}function O(){return void 0===u?s:S(y())}function T(){var e=y(),n=x(e);if(i=arguments,a=this,l=e,n){if(void 0===u)return g(l);if(p)return u=setTimeout(w,t),h(l)}return void 0===u&&(u=setTimeout(w,t)),s}return t=E(t)||0,_(r)&&(f=!!r.leading,p="maxWait"in r,o=p?v(E(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),T.cancel=k,T.flush=O,T}function b(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(n);return _(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),g(e,t,{leading:i,maxWait:t,trailing:a})}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||x(e)&&h.call(e)==i}function E(e){if("number"==typeof e)return e;if(w(e))return r;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=b}).call(this,n("IyRk"))},hMMk:function(e,t,n){var r=n("dOgj");r("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"hOG+":function(e,t){(function(t){e.exports=function(){var e={311:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={exports:{}},a=!0;try{e[t](i,i.exports,r),a=!1}finally{a&&delete n[t]}return i.exports}return r.ab=t+"/",r(311)}()}).call(this,"/")},hW1t:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("4cb6");n("mNvP");var c,f,p=r(n("2stA"));function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}",m="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",y=(c=(0,l.injectable)(),c(f=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:m,fs:v}),this.shaderModuleService.getModule("noise-pass")}}]),n}(p["default"]))||f);t["default"]=y},hcok:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("SEBh"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n["delete"]);return l(e,(function(e){r.call(n,e)})),n}})},heNW:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},hgQt:function(e,t,n){var r=n("Juji"),i=n("4sDh");function a(e,t){return null!=e&&i(e,t,r)}e.exports=a},hh1v:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},hi0z:function(e,t,n){"use strict";(function(t,n){e.exports=n()})(0,(function(){function e(e){var r=[];return e.AMapUI&&r.push(t(e.AMapUI)),e.Loca&&r.push(n(e.Loca)),Promise.all(r)}function t(e){return new Promise((function(t,n){var s=[];if(e.plugins)for(var u=0;u<e.plugins.length;u+=1)-1==i.AMapUI.plugins.indexOf(e.plugins[u])&&s.push(e.plugins[u]);if(a.AMapUI===r.failed)n("\u524d\u6b21\u8bf7\u6c42 AMapUI \u5931\u8d25");else if(a.AMapUI===r.notload){a.AMapUI=r.loading,i.AMapUI.version=e.version||i.AMapUI.version,u=i.AMapUI.version;var l=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/ui/"+u+"/main.js",c.onerror=function(e){a.AMapUI=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},c.onload=function(){if(a.AMapUI=r.loaded,s.length)window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()}));else for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()},l.appendChild(c)}else a.AMapUI===r.loaded?e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t():e.version&&e.version!==i.AMapUI.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c AMapUI \u6df7\u7528"):o.AMapUI.push((function(e){e?n(e):s.length?window.AMapUI.loadUI(s,(function(){for(var e=0,n=s.length;e<n;e++){var r=s[e].split("/").slice(-1)[0];window.AMapUI[r]=arguments[e]}t()})):t()}))}))}function n(e){return new Promise((function(t,n){if(i.AMap.version.startsWith("2.0"))n("Loca \u6682\u4e0d\u9002\u914d JSAPI 2.0,\u8bf7\u4f7f\u7528 1.4.15");else if(a.Loca===r.failed)n("\u524d\u6b21\u8bf7\u6c42 Loca \u5931\u8d25");else if(a.Loca===r.notload){a.Loca=r.loading,i.Loca.version=e.version||i.Loca.version;var s=i.Loca.version,u=i.key,l=document.body||document.head,c=document.createElement("script");c.type="text/javascript",c.src="https://webapi.amap.com/loca?v="+s+"&key="+u,c.onerror=function(e){a.Loca=r.failed,n("\u8bf7\u6c42 AMapUI \u5931\u8d25")},c.onload=function(){for(a.Loca=r.loaded,t();o.Loca.length;)o.Loca.splice(0,1)[0]()},l.appendChild(c)}else a.Loca===r.loaded?e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):t():e.version&&e.version!==i.Loca.version?n("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c Loca \u6df7\u7528"):o.Loca.push((function(e){e?n(e):n()}))}))}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var r;(function(e){e.notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed"})(r||(r={}));var i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},a={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},o={AMap:[],AMapUI:[],Loca:[]},s=[],u=function(e){"function"==typeof e&&(a.AMap===r.loaded?e(window.AMap):s.push(e))};return{load:function(t){return new Promise((function(n,o){if(a.AMap==r.failed)o("");else if(a.AMap==r.notload){var l=t.key,c=t.version,f=t.plugins;l?(window.AMap&&"lbs.amap.com"!==location.host&&o("\u7981\u6b62\u591a\u79cdAPI\u52a0\u8f7d\u65b9\u5f0f\u6df7\u7528"),i.key=l,i.AMap.version=c||i.AMap.version,i.AMap.plugins=f||i.AMap.plugins,a.AMap=r.loading,c=document.body||document.head,window.___onAPILoaded=function(i){if(delete window.___onAPILoaded,i)a.AMap=r.failed,o(i);else for(a.AMap=r.loaded,e(t).then((function(){n(window.AMap)}))["catch"](o);s.length;)s.splice(0,1)[0]()},f=document.createElement("script"),f.type="text/javascript",f.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+i.AMap.version+"&key="+l+"&plugin="+i.AMap.plugins.join(","),f.onerror=function(e){a.AMap=r.failed,o(e)},c.appendChild(f)):o("\u8bf7\u586b\u5199key")}else if(a.AMap==r.loaded)if(t.key&&t.key!==i.key)o("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{if(l=[],t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&l.push(t.plugins[c]);l.length?window.AMap.plugin(l,(function(){e(t).then((function(){n(window.AMap)}))["catch"](o)})):e(t).then((function(){n(window.AMap)}))["catch"](o)}else if(t.key&&t.key!==i.key)o("\u591a\u4e2a\u4e0d\u4e00\u81f4\u7684 key");else if(t.version&&t.version!==i.AMap.version)o("\u4e0d\u5141\u8bb8\u591a\u4e2a\u7248\u672c JSAPI \u6df7\u7528");else{var p=[];if(t.plugins)for(c=0;c<t.plugins.length;c+=1)-1==i.AMap.plugins.indexOf(t.plugins[c])&&p.push(t.plugins[c]);u((function(){p.length?window.AMap.plugin(p,(function(){e(t).then((function(){n(window.AMap)}))["catch"](o)})):e(t).then((function(){n(window.AMap)}))["catch"](o)}))}}))},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,i={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},a={AMap:r.notload,AMapUI:r.notload,Loca:r.notload},o={AMap:[],AMapUI:[],Loca:[]}}}}))},hsaa:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=n("z0pJ"),d=r(n("04D5"));function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s["default"])(n,e);var t=h(n);function n(e){var r;return(0,i["default"])(this,n),r=t.call(this,e),(0,c["default"])((0,o["default"])(r),"layerControlInputs",void 0),(0,c["default"])((0,o["default"])(r),"layers",void 0),(0,c["default"])((0,o["default"])(r),"lastZIndex",void 0),(0,c["default"])((0,o["default"])(r),"handlingClick",void 0),(0,c["default"])((0,o["default"])(r),"layersLink",void 0),(0,c["default"])((0,o["default"])(r),"baseLayersList",void 0),(0,c["default"])((0,o["default"])(r),"separator",void 0),(0,c["default"])((0,o["default"])(r),"overlaysList",void 0),(0,c["default"])((0,o["default"])(r),"form",void 0),r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),(0,p.bindAll)(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],(0,o["default"])(r)),r}return(0,a["default"])(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:f.PositionType.TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var e=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(t){t.layer.on("remove",e.onLayerChange),t.layer.on("add",e.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(e,t){return this.addLayer(e,t,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var e=this.renderService.getViewportSize(),t=e.height;p.DOM.addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var n=t-(this.container.offsetTop+50);return n<this.form.clientHeight?(p.DOM.addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=n+"px"):p.DOM.removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return p.DOM.removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var e=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(t){t.layer.off("remove",e.onLayerChange),t.layer.off("add",e.onLayerChange)})))}},{key:"initLayout",value:function(){var e="l7-control-layers",t=this.container=p.DOM.create("div",e),n=this.controlOption.collapsed;t.setAttribute("aria-haspopup","true");var r=this.form=p.DOM.create("form",e+"-list");n&&(this.mapsService.on("click",this.collapse),t.addEventListener("mouseenter",this.expand),t.addEventListener("mouseleave",this.collapse)),this.layersLink=p.DOM.create("a",e+"-toggle",t);var i=this.layersLink;i.title="Layers",n||this.expand(),this.baseLayersList=p.DOM.create("div",e+"-base",r),this.separator=p.DOM.create("div",e+"-separator",r),this.overlaysList=p.DOM.create("div",e+"-overlays",r),t.appendChild(r)}},{key:"initLayers",value:function(){var e=this,t=this.controlOption,n=t.baseLayers,r=void 0===n?{}:n,i=t.overlayers,a=void 0===i?{}:i;Object.keys(r).forEach((function(t,n){e.addLayer(r[t],t,!1)})),Object.keys(a).forEach((function(t,n){e.addLayer(a[t],t,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var e,t,n,r;p.DOM.empty(this.baseLayersList),p.DOM.empty(this.overlaysList),this.layerControlInputs=[];var i=0;for(n=0;n<this.layers.length;n++)r=this.layers[n],this.addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.controlOption.hideSingleBase&&(e=e&&i>1,this.baseLayersList.style.display=e?"":"none"),this.separator.style.display=t&&e?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var e,t,n=this.layerControlInputs,r=this.mapsService.getZoom(),i=n.length-1;i>=0;i--)if(e=n[i],t=this.layerService.getLayer(e.layerId),t&&t.inited){var a=t.getMinZoom(),o=t.getMaxZoom();e.disabled=r<a||r>o}}},{key:"addLayer",value:function(e,t,n){this.mapsService&&(e.on("add",this.onLayerChange),e.on("remove",this.onLayerChange)),this.layers.push({layer:e,name:t,overlay:n});var r=this.controlOption,i=r.sortLayers,a=r.sortFunction,o=r.autoZIndex;i&&this.layers.sort((function(e,t){return a(e.layer,t.layer,e.name,t.name)})),o&&e.setZIndex&&(this.lastZIndex++,e.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(e){this.handlingClick||this.update();var t=this.layerService.getLayer(e.target.layerId),n=null!==t&&void 0!==t&&t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this.emit(n,t)}},{key:"createRadioElement",value:function(e,t){var n='<input type="radio" class="l7-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(e){var t,n=document.createElement("label"),r=this.layerService.getLayer(e.layer.id),i=r&&r.inited&&e.layer.isVisible();e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="l7-control-layers-selector",t.defaultChecked=i):t=this.createRadioElement("l7-base-layers",i),this.layerControlInputs.push(t),t.layerId=e.layer.id,t.addEventListener("click",this.onInputClick);var a=document.createElement("span");a.innerHTML=" "+e.name;var o=document.createElement("div");n.appendChild(o),o.appendChild(t),o.appendChild(a);var s=e.overlay?this.overlaysList:this.baseLayersList;return s.appendChild(n),this.checkDisabledLayers(),n}},{key:"onInputClick",value:function(){var e,t,n=this.layerControlInputs,r=[],i=[];this.handlingClick=!0;for(var a=n.length-1;a>=0;a--)e=n[a],t=this.layerService.getLayer(e.layerId),e.checked?r.push(t):e.checked||i.push(t);i.forEach((function(e){e.hide()})),r.forEach((function(e){e.show()})),this.handlingClick=!1}}]),n}(d["default"]);t["default"]=m},htLe:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("gHHc"),u=n("GdC1"),l=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"elements",void 0);var r=n.data,a=n.usage,l=n.type,c=n.count;this.elements=t.elements({data:r,usage:u.usageMap[a||s.gl.STATIC_DRAW],type:u.dataTypeMap[l||s.gl.UNSIGNED_BYTE],count:c})}return(0,a["default"])(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){}}]),e}();t["default"]=l},hupY:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("gHHc"),u=n("GdC1"),l=function(){function e(t,n){(0,i["default"])(this,e),(0,o["default"])(this,"texture",void 0),(0,o["default"])(this,"width",void 0),(0,o["default"])(this,"height",void 0);var r=n.data,a=n.type,l=void 0===a?s.gl.UNSIGNED_BYTE:a,c=n.width,f=n.height,p=n.flipY,d=void 0!==p&&p,h=n.format,v=void 0===h?s.gl.RGBA:h,m=n.mipmap,y=void 0!==m&&m,g=n.wrapS,b=void 0===g?s.gl.CLAMP_TO_EDGE:g,_=n.wrapT,x=void 0===_?s.gl.CLAMP_TO_EDGE:_,w=n.aniso,E=void 0===w?0:w,S=n.alignment,k=void 0===S?1:S,O=n.premultiplyAlpha,T=void 0!==O&&O,C=n.mag,A=void 0===C?s.gl.NEAREST:C,M=n.min,P=void 0===M?s.gl.NEAREST:M,I=n.colorSpace,R=void 0===I?s.gl.BROWSER_DEFAULT_WEBGL:I;this.width=c,this.height=f;var j={width:c,height:f,type:u.dataTypeMap[l],format:u.formatMap[v],wrapS:u.wrapModeMap[b],wrapT:u.wrapModeMap[x],mag:u.filterMap[A],min:u.filterMap[P],alignment:k,flipY:d,colorSpace:u.colorSpaceMap[R],premultiplyAlpha:T,aniso:E};r&&(j.data=r),"number"===typeof y?j.mipmap=u.mipmapMap[y]:"boolean"===typeof y&&(j.mipmap=y),this.texture=t.texture(j)}return(0,a["default"])(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.texture(e)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}();t["default"]=l},hwIl:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("iWIM")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=n("4cb6");n("mNvP");var f,p,d=n("y6zh"),h=r(n("ldaH"));function v(e){var t=m();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=(f=(0,c.injectable)(),f(p=function(e){(0,s["default"])(n,e);var t=v(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getType",value:function(){return d.PassType.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(e,t){(0,o["default"])((0,l["default"])(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(e){var t=this.rendererService,n=t.useFramebuffer,r=t.clear;n(null,(function(){r({color:[0,0,0,0],depth:1,stencil:0}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(h["default"]))||p);t["default"]=y},hypo:function(e,t,n){var r=n("O0oS");function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},i4Tg:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var i=r(n("lwsE")),a=r(n("lSNA")),o=r(n("QkVN")),s=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i["default"])(this,e),(0,a["default"])(this,"type",void 0),(0,o["default"])(this,n),this.type=t};t.Event=s},i4U9:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},i7gG:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("4cb6");n("mNvP");var l=(i=(0,u.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e){e.hooks.init.tap("LayerModelPlugin",(function(){e.prepareBuildModel(),e.buildModels(),e.styleNeedUpdate=!1})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){return e.prepareBuildModel(),e.clearModels(),e.buildModels(),e.layerModelNeedUpdate=!1,!1}))}}]),e}())||a);t["default"]=l},i8i4:function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n("yl30")},iBA9:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o,s,u,l=r(n("QILm")),c=r(n("yG8O")),f=r(n("lwsE")),p=r(n("W8MJ")),d=r(n("PJYZ")),h=r(n("7W2i")),v=r(n("a1gu")),m=r(n("Nsbk")),y=r(n("lSNA")),g=r(n("U+yc")),b=(r(n("1ABj")),r(n("GoyQ"))),_=r(n("lSCD")),x=n("xp6e"),w=n("gHHc"),E=n("z0pJ"),S=n("uhBA"),k=n("rtHs"),O=n("fcGW"),T=n("iu8L");function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function A(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,y["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=j();return function(){var n,r=(0,m["default"])(e);if(t){var i=(0,m["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,v["default"])(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var L=0,N=(i=(0,w.lazyInject)(w.TYPES.IGlobalConfigService),a=(0,w.lazyInject)(w.TYPES.IShaderModuleService),o=function(e){(0,h["default"])(n,e);var t=R(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f["default"])(this,n),e=t.call(this),(0,y["default"])((0,d["default"])(e),"id","".concat(L++)),(0,y["default"])((0,d["default"])(e),"name","".concat(L)),(0,y["default"])((0,d["default"])(e),"type",void 0),(0,y["default"])((0,d["default"])(e),"visible",!0),(0,y["default"])((0,d["default"])(e),"zIndex",0),(0,y["default"])((0,d["default"])(e),"minZoom",void 0),(0,y["default"])((0,d["default"])(e),"maxZoom",void 0),(0,y["default"])((0,d["default"])(e),"inited",!1),(0,y["default"])((0,d["default"])(e),"layerModelNeedUpdate",!1),(0,y["default"])((0,d["default"])(e),"pickedFeatureID",null),(0,y["default"])((0,d["default"])(e),"selectedFeatureID",null),(0,y["default"])((0,d["default"])(e),"styleNeedUpdate",!1),(0,y["default"])((0,d["default"])(e),"rendering",void 0),(0,y["default"])((0,d["default"])(e),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,y["default"])((0,d["default"])(e),"hooks",{init:new x.SyncBailHook,afterInit:new x.SyncBailHook,beforeRender:new x.SyncBailHook,beforeRenderData:new x.SyncWaterfallHook,afterRender:new x.SyncHook,beforePickingEncode:new x.SyncHook,afterPickingEncode:new x.SyncHook,beforeHighlight:new x.SyncHook(["pickedColor"]),afterHighlight:new x.SyncHook,beforeSelect:new x.SyncHook(["pickedColor"]),afterSelect:new x.SyncHook,beforeDestroy:new x.SyncHook,afterDestroy:new x.SyncHook}),(0,y["default"])((0,d["default"])(e),"models",[]),(0,y["default"])((0,d["default"])(e),"multiPassRenderer",void 0),(0,y["default"])((0,d["default"])(e),"plugins",void 0),(0,y["default"])((0,d["default"])(e),"sourceOption",void 0),(0,y["default"])((0,d["default"])(e),"layerModel",void 0),(0,c["default"])((0,d["default"])(e),"configService",s,(0,d["default"])(e)),(0,c["default"])((0,d["default"])(e),"shaderModuleService",u,(0,d["default"])(e)),(0,y["default"])((0,d["default"])(e),"cameraService",void 0),(0,y["default"])((0,d["default"])(e),"coordinateService",void 0),(0,y["default"])((0,d["default"])(e),"iconService",void 0),(0,y["default"])((0,d["default"])(e),"fontService",void 0),(0,y["default"])((0,d["default"])(e),"pickingService",void 0),(0,y["default"])((0,d["default"])(e),"rendererService",void 0),(0,y["default"])((0,d["default"])(e),"layerService",void 0),(0,y["default"])((0,d["default"])(e),"interactionService",void 0),(0,y["default"])((0,d["default"])(e),"mapService",void 0),(0,y["default"])((0,d["default"])(e),"styleAttributeService",void 0),(0,y["default"])((0,d["default"])(e),"layerSource",void 0),(0,y["default"])((0,d["default"])(e),"postProcessingPassFactory",void 0),(0,y["default"])((0,d["default"])(e),"normalPassFactory",void 0),(0,y["default"])((0,d["default"])(e),"animateOptions",{enable:!1}),(0,y["default"])((0,d["default"])(e),"container",void 0),(0,y["default"])((0,d["default"])(e),"encodedData",void 0),(0,y["default"])((0,d["default"])(e),"configSchema",void 0),(0,y["default"])((0,d["default"])(e),"currentPickId",null),(0,y["default"])((0,d["default"])(e),"rawConfig",void 0),(0,y["default"])((0,d["default"])(e),"needUpdateConfig",void 0),(0,y["default"])((0,d["default"])(e),"pendingStyleAttributes",[]),(0,y["default"])((0,d["default"])(e),"scaleOptions",{}),(0,y["default"])((0,d["default"])(e),"animateStartTime",void 0),(0,y["default"])((0,d["default"])(e),"aniamateStatus",!1),(0,y["default"])((0,d["default"])(e),"sourceEvent",(function(){e.dataState.dataSourceNeedUpdate=!0;var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&e.fitBounds(r),e.emit("dataUpdate"),e.reRender()})),e.name=r.name||e.id,e.zIndex=r.zIndex||0,e.rawConfig=r,e}return(0,p["default"])(n,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(e){if(this.inited){var t=this.container.get(w.TYPES.SceneID);(0,T.handleStyleDataMapping)(e,this),this.configService.setLayerConfig(t,this.id,I(I(I({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=I(I({},this.needUpdateConfig),e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(e){return this.plugins.push(e),this}},{key:"init",value:function(){var e=this,t=this.container.get(w.TYPES.SceneID),n=this.rawConfig.enableMultiPassRenderer,r=void 0!==n&&n;this.configService.setLayerConfig(t,this.id,{enableMultiPassRenderer:r}),this.iconService=this.container.get(w.TYPES.IIconService),this.fontService=this.container.get(w.TYPES.IFontService),this.rendererService=this.container.get(w.TYPES.IRendererService),this.layerService=this.container.get(w.TYPES.ILayerService),this.interactionService=this.container.get(w.TYPES.IInteractionService),this.pickingService=this.container.get(w.TYPES.IPickingService),this.mapService=this.container.get(w.TYPES.IMapService),this.cameraService=this.container.get(w.TYPES.ICameraService),this.coordinateService=this.container.get(w.TYPES.ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(w.TYPES.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(w.TYPES.IFactoryNormalPass),this.styleAttributeService=this.container.get(w.TYPES.IStyleAttributeService),this.multiPassRenderer=this.container.get(w.TYPES.IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(t){var n=t.attributeName,r=t.attributeField,i=t.attributeValues,a=t.updateOptions;e.styleAttributeService.updateStyleAttribute(n,{scale:I({field:r},e.splitValuesAndCallbackInAttribute(i,e.getLayerConfig()[n]))},a)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(w.TYPES.ILayerPlugin);var i,a=C(this.plugins);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(s){a.e(s)}finally{a.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(I(I({},this.getDefaultConfig()),this.rawConfig));var e=this.getLayerConfig(),t=e.animateOption;null!==t&&void 0!==t&&t.enable&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}},{key:"texture",value:function(e,t,n){return this.updateStyleAttribute("texture",e,t,n),this}},{key:"rotate",value:function(e,t,n){return this.updateStyleAttribute("rotate",e,t,n),this}},{key:"size",value:function(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}},{key:"filter",value:function(e,t,n){return this.updateStyleAttribute("filter",e,t,n),this}},{key:"shape",value:function(e,t,n){return this.updateStyleAttribute("shape",e,t,n),this}},{key:"label",value:function(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}},{key:"animate",value:function(e){var t={};return(0,b["default"])(e)?(t.enable=!0,t=I(I({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}},{key:"source",value:function(e,t){return this.sourceOption={data:e,options:t},this}},{key:"setData",value:function(e,t){var n=this;return this.inited?this.layerSource.setData(e,t):this.on("inited",(function(){n.layerSource.setData(e,t)})),this}},{key:"style",value:function(e){var t=this,n=e.passes,r=(0,l["default"])(e,["passes"]);return n&&(0,k.normalizePasses)(n).forEach((function(e){var n=t.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);n&&n.updateOptions(e[1])})),this.rawConfig=I(I({},this.rawConfig),r),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(e,t){return(0,b["default"])(e)?this.scaleOptions=I(I({},this.scaleOptions),e):this.scaleOptions[e]=t,this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return 0!==this.getEncodedData().length&&this.renderModels(),this}},{key:"active",value:function(e){var t={};return t.enableHighlight=!!(0,b["default"])(e)||e,(0,b["default"])(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}},{key:"setActive",value:function(e,t){var n=this;if((0,b["default"])(e)){var r=e.x,i=void 0===r?0:r,a=e.y,o=void 0===a?0:a;this.updateLayerConfig({highlightColor:(0,b["default"])(t)?t.color:this.getLayerConfig().highlightColor}),this.pick({x:i,y:o})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:(0,b["default"])(t)?t.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call((0,E.encodePickingColor)(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(e){var t={};return t.enableSelect=!!(0,b["default"])(e)||e,(0,b["default"])(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color)):t.enableSelect=!!e,this.updateLayerConfig(t),this}},{key:"setSelect",value:function(e,t){var n=this;if((0,b["default"])(e)){var r=e.x,i=void 0===r?0:r,a=e.y,o=void 0===a?0:a;this.updateLayerConfig({selectColor:(0,b["default"])(t)?t.color:this.getLayerConfig().selectColor}),this.pick({x:i,y:o})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:(0,b["default"])(t)?t.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call((0,E.encodePickingColor)(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(e){this.updateLayerConfig({blend:e}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(e){return this.zIndex=e,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(e){this.currentPickId=e}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(e){this.selectedFeatureID=e}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var e=this.mapService.getZoom(),t=this.getLayerConfig(),n=t.visible,r=t.minZoom,i=void 0===r?-1/0:r,a=t.maxZoom,o=void 0===a?1/0:a;return!!n&&e>=i&&e<=o}},{key:"setMinZoom",value:function(e){return this.updateLayerConfig({minZoom:e}),this}},{key:"getMinZoom",value:function(){var e=this.getLayerConfig(),t=e.minZoom;return t}},{key:"getMaxZoom",value:function(){var e=this.getLayerConfig(),t=e.maxZoom;return t}},{key:"get",value:function(e){var t=this.getLayerConfig();return t[e]}},{key:"setMaxZoom",value:function(e){return this.updateLayerConfig({maxZoom:e}),this}},{key:"fitBounds",value:function(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var t=this.getSource(),n=t.extent,r=n.some((function(e){return Math.abs(e)===1/0}));return r||this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],e),this}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){this.models.forEach((function(e){return e.destroy()})),this.layerModel.clearModels()}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(e){return e.needRescale||e.needRemapping||e.needRegenerateVertices})).length}},{key:"setSource",value:function(e){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=e,this.inited&&this.layerSource.cluster){var t=this.mapService.getZoom();this.layerSource.updateClusterData(t)}this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(e){this.encodedData=e}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getLegendItems",value:function(e){var t=this.styleAttributeService.getLayerAttributeScale(e);if(!t)return[];if(t.ticks){var n=t.ticks().map((function(n){return(0,y["default"])({value:n},e,t(n))}));return n}if(t.invertExtent){var r=t.range().map((function(n){return(0,y["default"])({value:t.invertExtent(n)},e,n)}));return r}}},{key:"pick",value:function(e){var t=e.x,n=e.y;this.interactionService.triggerHover({x:t,y:n})}},{key:"boxSelect",value:function(e,t){this.pickingService.boxPickLayer(this,e,t)}},{key:"buildLayerModel",value:function(e){var t=e.moduleName,n=e.vertexShader,r=e.fragmentShader,i=e.triangulation,a=(0,l["default"])(e,["moduleName","vertexShader","fragmentShader","triangulation"]);this.shaderModuleService.registerModule(t,{vs:n,fs:r});var o=this.shaderModuleService.getModule(t),s=o.vs,u=o.fs,c=o.uniforms,f=this.rendererService.createModel,p=this.styleAttributeService.createAttributesAndIndices(this.encodedData,i),d=p.attributes,h=p.elements;return f(I({attributes:d,uniforms:c,fs:u,vs:s,elements:h,blend:O.BlendTypes[w.BlendType.normal]},a))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(e){var t=this.getLayerConfig(),n=t.enableHighlight,r=void 0===n||n,i=t.enableSelect,a=void 0===i||i,o=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return"click"!==e&&"dblclick"!==e||!a||(o=!0),"mousemove"!==e||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(o=!0),this.isVisible()&&o}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"rebuildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var e=this;return this.getEncodedData().length>0&&(this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){t.draw({uniforms:e.layerModel.getUninforms()})}))),this}},{key:"updateStyleAttribute",value:function(e,t,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(e,{scale:I({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r})}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(e,t){return{values:(0,_["default"])(e)?void 0:e||t,callback:(0,_["default"])(e)?e:void 0}}}]),n}(S.EventEmitter),s=(0,g["default"])(o.prototype,"configService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,g["default"])(o.prototype,"shaderModuleService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o);t["default"]=N},iIM6:function(e,t,n){"use strict";var r=n("g6v/"),i=n("RNIs"),a=n("ewvW"),o=n("UMSQ"),s=n("m/L8").f;r&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=a(this),t=o(e.length);return 0==t?0:t-1}}),i("lastIndex"))},iN2x:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("gHHc"),l=n("z0pJ"),c=n("4cb6");n("mNvP");var f={NONE:0,ENCODE:1,HIGHLIGHT:2},p=(i=(0,c.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e,t){t.rendererService;var n=t.styleAttributeService;e.hooks.init.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),r=t.enablePicking;n.registerStyleAttribute({name:"pickingColor",type:u.AttributeType.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:u.gl.FLOAT},size:3,update:function(e,t){var n=e.id;return r?(0,l.encodePickingColor)(n):[0,0,0]}}})})),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:f.ENCODE})}))})),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:f.HIGHLIGHT})}))})),e.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.highlightColor,i="string"===typeof r?(0,l.rgb2arr)(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:(0,l.decodePickingColor)(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:f.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map((function(e){return 255*e}))})}))})),e.hooks.beforeSelect.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.selectColor,i="string"===typeof r?(0,l.rgb2arr)(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:(0,l.decodePickingColor)(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:f.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:i.map((function(e){return 255*e}))})}))}))}}]),e}())||a);t["default"]=p},iSVu:function(e,t,n){var r=n("xs3f"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},iWIM:function(e,t,n){var r=n("n3AX");function i(t,n,a){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get,e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},e.exports["default"]=e.exports,e.exports.__esModule=!0),i(t,n,a||t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},iegG:function(e,t){function n(e){var t=e.target||e.srcElement;t.__resizeRAF__&&cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=requestAnimationFrame((function(){var n=t.__resizeTrigger__,r=n&&n.__resizeListeners__;r&&r.forEach((function(t){t.call(n,e)}))}))}var r=function(e,t){var r,i=this,a=i.document,o=a.attachEvent;function s(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",n)}if("undefined"!==typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],o)e.__resizeTrigger__=e,e.attachEvent("onresize",n);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var u=e.__resizeTrigger__=a.createElement("object");u.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),u.setAttribute("class","resize-sensor"),u.setAttribute("tabindex","-1"),u.setAttribute("title",""),u.__resizeElement__=e,u.onload=s,u.type="text/html",r&&e.appendChild(u),u.data="about:blank",r||e.appendChild(u)}e.__resizeListeners__.push(t)};e.exports="undefined"===typeof window?r:r.bind(window),e.exports.unbind=function(e,t){var r=document.attachEvent,i=e.__resizeListeners__||[];if(t){var a=i.indexOf(t);-1!==a&&i.splice(a,1)}else i=e.__resizeListeners__=[];if(!i.length){if(r)e.detachEvent("onresize",n);else if(e.__resizeTrigger__){var o=e.__resizeTrigger__.contentDocument,s=o&&o.defaultView;s&&(s.removeEventListener("resize",n),delete s.__resizeTrigger__),e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)}delete e.__resizeListeners__}}},ihrJ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ImZN"),a=n("HAuM");r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;a(t);var r=a(n.has),o=a(n.get),s=a(n.set);return i(e,(function(e){var i=t(e);r.call(n,i)?o.call(n,i).push(e):s.call(n,i,[e])})),n}})},ilnZ:function(e,t,n){var r=n("dOgj");r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},inlA:function(e,t,n){"use strict";var r=n("I+eb"),i=n("Bs8V").f,a=n("UMSQ"),o=n("WjRb"),s=n("HYAF"),u=n("qxPZ"),l=n("xDBR"),c="".endsWith,f=Math.min,p=u("endsWith"),d=!l&&!p&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!p},{endsWith:function(e){var t=String(s(this));o(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:f(a(n),r),u=String(e);return c?c.call(t,u,i):t.slice(i-u.length,i)===u}})},ipKF:function(e,t,n){"use strict";function r(e,t){var n=t.extent,r=t.width,i=t.height,a=t.min,o=t.max,s={_id:1,dataArray:[{_id:1,data:Array.from(e),width:r,height:i,min:a,max:o,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return s}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},iqWW:function(e,t,n){"use strict";var r=n("ZUd8").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},iqeF:function(e,t,n){var r=n("2oRo"),i=n("0Dky"),a=n("HH4o"),o=n("67WC").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},itsj:function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},iu3m:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("UB5X")),p=n("gHHc"),d=n("z0pJ"),h=r(n("YenN")),v=n("kIOg");function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nuniform float u_blur : 0.99;\nuniform float u_line_type: 0.0;\nuniform float u_opacity : 1.0;\nuniform float u_textureBlend;\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\n// line texture\nuniform float u_line_texture;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\n\n// dash\nuniform float u_dash_offset : 0.0;\nuniform float u_dash_ratio : 0.1;\nvarying float v_distance_ratio;\nvarying vec4 v_dash_array;\nvarying float v_side;\n\nvarying float v_distance;\nvarying vec2 v_offset;\nvarying float v_a;\nvarying float v_pixelLen;\nvarying vec2 v_iconMapUV;\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ]; // \u63a7\u5236\u8fd0\u52a8\n\nvarying mat4 styleMappingMat;\n// [animate, duration, interval, trailLength],\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n  \n  // gl_FragColor = v_color;\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_distance_ratio);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // anti-alias\n  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));\n  gl_FragColor.a *= opacity; // \u5168\u5c40\u900f\u660e\u5ea6\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + animateSpeed);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n // dash line\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n    // gl_FragColor.a *=(1.0- step(v_dash_array.x, mod(v_distance_ratio, dashLength)));\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    float u = fract(mod(v_distance, v_pixelLen)/v_pixelLen - animateSpeed);\n    float v = length(v_offset)/(v_a*2.0);\n    v = max(smoothstep(0.95, 1.0, v), v);\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));\n    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));\n     vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n        }\n        gl_FragColor = filterColor(pattern);\n    }\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n  // gl_FragColor = filterColor(vec4(1.0, 0.0, 0.0, 1.0));\n \n  // if(rV < r || rV > 1.0 - r) {\n  //   gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  // } \n  // float v = length(v_offset)/(v_a*2.0);\n  // if(v > 0.9) {\n  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);\n  // } else if(v < 0.1) {\n  //   gl_FragColor = vec4(0.17647, 0.43921568, 0.2, 1.0);\n  // }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',b='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\nattribute vec2 a_iconMapUV;\n\n// dash line\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nuniform float u_icon_step: 100;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying vec4 v_dash_array;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nvarying float v_side;\n\nvarying float v_distance;\nvarying vec2 v_offset;\nvarying float v_size;\nvarying float v_a;\nvarying float v_pixelLen;\nvarying vec2 v_iconMapUV;\nuniform float u_linearColor: 0;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_iconMapUV = a_iconMapUV;\n  v_distance = a_Distance;\n  v_pixelLen = project_pixel(u_icon_step);\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {\n    v_pixelLen *= 10.0;\n  }\n\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = a_Distance / a_Total_Distance;\n    // v_distance_ratio = 0.01;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  }\n  if(u_aimate.x == Animate || u_linearColor == 1.0) {\n      v_distance_ratio = a_Distance / a_Total_Distance;\n  }\n  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));\n\n\n  v_color = a_Color;\n  v_a = project_pixel(a_Size.x);\n  \n\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n\n  vec2 offset = project_pixel(size.xy);\n\n  v_offset = offset + offset * sign(a_Miter);\n\n  v_side = a_Miter * a_Size.x;\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n\n  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    // gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y, 1.0));\n    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, a_Size.y / 8.0, 1.0)); // \u989d\u5916\u9664 8.0 \u662f\u4e3a\u4e86\u548cgaode1.x\u7684\u9ad8\u5ea6\u517c\u5bb9\n  } else {\n    float lineHeight = a_Size.y;\n    // \u517c\u5bb9 mapbox \u5728\u7ebf\u9ad8\u5ea6\u4e0a\u7684\u6548\u679c\u8868\u73b0\u57fa\u672c\u4e00\u81f4\n    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n      lineHeight = lineHeight*2.0/pow(2.0, 20.0 - u_Zoom);\n    }\n    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));\n  }\n\n  setPickingColor(a_PickingColor);\n}\n',_={solid:0,dash:1},x=function(e){(0,s["default"])(n,e);var t=m(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:p.gl.NEAREST,min:p.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,a=void 0===i?"normal":i,o=e.lineType,s=void 0===o?"solid":o,u=e.dashArray,l=void 0===u?[10,5,0,0]:u,c=e.lineTexture,h=void 0!==c&&c,v=e.iconStep,m=void 0===v?100:v;2===l.length&&l.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var y=0,g=[0,0,0,0],b=[0,0,0,0];if(n&&r&&(g=(0,d.rgb2arr)(n),b=(0,d.rgb2arr)(r),y=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),E=w.data,S=w.width,k=w.height;this.rowCount=k,this.dataTexture=this.cellLength>0&&E.length>0?this.createTexture2D({flipY:!0,data:E,format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:S,height:k}):this.createTexture2D({flipY:!0,data:[1],format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,f["default"])(t)?t:1,u_textureBlend:"normal"===a?0:1,u_line_type:_[s],u_dash_array:l,u_texture:this.texture,u_line_texture:h?1:0,u_icon_step:m,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:y,u_sourceColor:g,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:b,fragmentShader:g,triangulation:v.LineTriangulation,primitive:p.gl.TRIANGLES,blend:this.getBlend(),depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){var e=this,t=this.layer.getLayerConfig();t.lineType;this.styleAttributeService.registerStyleAttribute({name:"distance",type:p.AttributeType.Attribute,descriptor:{name:"a_Distance",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:p.AttributeType.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0],a[1]]:[a,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:p.AttributeType.Attribute,descriptor:{name:"a_Normal",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:3,update:function(e,t,n,r,i){return i}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:p.AttributeType.Attribute,descriptor:{name:"a_Miter",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:p.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.iconService.getIconMap(),o=t.texture,s=a[o]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(h["default"]);t["default"]=x},iu8L:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.handleStyleDataMapping=l,t.handleStyleFloat=c,t.handleStyleColor=p;var i=r(n("4qC0")),a=r(n("UB5X")),o=r(n("lSCD")),s=r(n("Z0cm"));function u(e,t,n,r,i){t.updateStyleAttribute(e,n,r,i)}function l(e,t){e.opacity&&c("opacity",t,e.opacity),e.strokeWidth&&c("strokeWidth",t,e.strokeWidth),e.strokeOpacity&&c("strokeOpacity",t,e.strokeOpacity),e.stroke&&p("stroke",t,e.stroke),e.offsets&&f("offsets",t,e.offsets),e.textOffset&&f("textOffset",t,e.textOffset)}function c(e,t,n){(0,i["default"])(n)?u(e,t,n,(function(e){return e})):(0,a["default"])(n)?u(e,t,[n],void 0):(0,s["default"])(n)&&2===n.length&&((0,i["default"])(n[0])&&(0,o["default"])(n[1])||(0,i["default"])(n[0])&&(0,s["default"])(n[1])&&(0,a["default"])(n[1][0])&&(0,a["default"])(n[1][1]))?u(e,t,n[0],n[1]):u(e,t,[1],void 0)}function f(e,t,n){(0,i["default"])(n)?u(e,t,n,(function(e){return e})):(0,s["default"])(n)&&2===n.length&&(0,i["default"])(n[0])&&(0,o["default"])(n[1])?u(e,t,n[0],n[1]):(0,s["default"])(n)&&2===n.length&&(0,a["default"])(n[0])&&(0,a["default"])(n[1])?u(e,t,n,void 0):u(e,t,[0,0],void 0)}function p(e,t,n){(0,i["default"])(n)?u(e,t,n,void 0):(0,s["default"])(n)&&2===n.length&&((0,i["default"])(n[0])&&(0,o["default"])(n[1])||(0,i["default"])(n[0])&&(0,s["default"])(n[1])&&n[1].length>0)?u(e,t,n[0],n[1]):u(e,t,"#fff",void 0)}},iwkZ:function(e,t,n){var r=n("dOgj");r("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},"j+VE":function(e,t,n){n("bFeb")},j2eo:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("QILm")),o=r(n("yXPU")),s=r(n("yG8O")),u=r(n("lwsE")),l=r(n("W8MJ")),c=r(n("lSNA")),f=r(n("U+yc")),p=(r(n("1ABj")),n("gHHc")),d=n("FZJm"),h=n("z0pJ"),v=n("4cb6");n("mNvP");var m,y,g,b,_,x,w,E,S,k,O,T=n("MC4F"),C=r(n("MTkF")),A=n("awgc");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},R=12,j=(m=(0,v.injectable)(),y=(0,v.inject)(p.TYPES.MapConfig),g=(0,v.inject)(p.TYPES.IGlobalConfigService),b=(0,v.inject)(p.TYPES.ICoordinateSystemService),_=(0,v.inject)(p.TYPES.IEventEmitter),m((w=function(){function e(){var t=this;(0,u["default"])(this,e),(0,c["default"])(this,"version",T.Version.L7MAP),(0,c["default"])(this,"map",void 0),(0,s["default"])(this,"config",E,this),(0,s["default"])(this,"configService",S,this),(0,s["default"])(this,"coordinateSystemService",k,this),(0,s["default"])(this,"eventEmitter",O,this),(0,c["default"])(this,"viewport",void 0),(0,c["default"])(this,"markerContainer",void 0),(0,c["default"])(this,"cameraChangedCallback",void 0),(0,c["default"])(this,"$mapContainer",void 0),(0,c["default"])(this,"handleCameraChanged",(function(){var e=t.map.getCenter(),n=e.lat,r=e.lng,i=t.config.offsetCoordinate,a=void 0===i||i;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0}),t.viewport.getZoom()>R&&a?t.coordinateSystemService.setCoordinateSystem(p.CoordinateSystem.LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(p.CoordinateSystem.LNGLAT),t.cameraChangedCallback(t.viewport)}))}return(0,l["default"])(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=h.DOM.create("div","l7-marker-container",e),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==p.MapServiceEvent.indexOf(e)?this.eventEmitter.on(e,t):this.map.on(I[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(I[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(e,t){this.map.zoomIn(e,t)}},{key:"zoomOut",value:function(e,t){this.map.zoomOut(e,t)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.dragEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(e){this.map.setStyle(this.getMapStyle(e))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){throw new Error("not implement")}},{key:"getModelMatrix",value:function(e,t,n){throw new Error("not implement")}},{key:"init",value:function(){var e=(0,o["default"])(i["default"].mark((function e(){var t,n,r,o,s,u,l,c,f,p;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,o=t.attributionControl,void 0!==o&&o,s=t.style,u=void 0===s?"light":s,l=t.rotation,c=void 0===l?0:l,f=t.mapInstance,p=(0,a["default"])(t,["id","attributionControl","style","rotation","mapInstance"]),this.viewport=new C["default"],f?(this.map=f,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new d.Map(P({container:this.$mapContainer,style:this.getMapStyle(u),bearing:c},p))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas(),n="jpg"===e?null===t||void 0===t?void 0:t.toDataURL("image/jpeg"):null===t||void 0===t?void 0:t.toDataURL("image/png");return n}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}},{key:"getMapStyle",value:function(e){return"string"!==typeof e?e:A.MapTheme[e]?A.MapTheme[e]:e}}]),e}(),E=(0,f["default"])(w.prototype,"config",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,f["default"])(w.prototype,"configService",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,f["default"])(w.prototype,"coordinateSystemService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,f["default"])(w.prototype,"eventEmitter",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=w))||x);t["default"]=j},jApC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapServiceEvent=void 0;var r=["mapload"];t.MapServiceEvent=r},jIE7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=n("z0pJ"),d=n("uhBA");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,s["default"])(n,e);var t=m(n);function n(e){var r;return(0,i["default"])(this,n),r=t.call(this),(0,c["default"])((0,o["default"])(r),"markerOption",void 0),(0,c["default"])((0,o["default"])(r),"defaultMarker",void 0),(0,c["default"])((0,o["default"])(r),"popup",void 0),(0,c["default"])((0,o["default"])(r),"mapsService",void 0),(0,c["default"])((0,o["default"])(r),"sceneSerive",void 0),(0,c["default"])((0,o["default"])(r),"lngLat",void 0),(0,c["default"])((0,o["default"])(r),"scene",void 0),(0,c["default"])((0,o["default"])(r),"added",!1),(0,c["default"])((0,o["default"])(r),"eventHandle",(function(e){r.emit(e.type,{target:e,data:r.markerOption.extData,lngLat:r.lngLat})})),r.markerOption=v(v({},r.getDefault()),e),(0,p.bindAll)(["update","onMove","onUp","addDragHandler","onMapClick"],(0,o["default"])(r)),r.init(),r}return(0,a["default"])(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:p.anchorType.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(e){this.scene=e,this.mapsService=e.get(f.TYPES.IMapService),this.sceneSerive=e.get(f.TYPES.ISceneService);var t=this.markerOption,n=t.element;t.draggable;return this.mapsService.getMarkerContainer().appendChild(n),this.registerMarkerEvent(n),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var e=this.markerOption.element;return e&&p.DOM.remove(e),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(e){var t=this;if(!this.added)return this.once("added",(function(){t.setElement(e)})),this;var n=this.markerOption.element;return n&&p.DOM.remove(n),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.update(),this}},{key:"openPopup",value:function(){var e=this;if(!this.added)return this.once("added",(function(){e.openPopup()})),this;var t=this.popup;return t?(t.isOpen()||t.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var e=this;this.added||this.once("added",(function(){e.closePopup()}));var t=this.popup;return t&&t.remove(),this}},{key:"setPopup",value:function(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var e=this.popup;return e?(e.isOpen()?e.remove():e.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(e){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(e){this.markerOption.extData=e}},{key:"update",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.anchor;this.updatePosition(),p.DOM.setTransform(t,"".concat(p.anchorTranslate[n]))}}},{key:"onMapClick",value:function(e){var t=this.markerOption.element;this.popup&&t&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.offsets,r=this.lngLat,i=r.lng,a=r.lat,o=this.mapsService.getBounds(),s=this.mapsService.lngLatToContainer([i,a]);if(t){t.style.display="block";var u=this.mapsService.getContainer(),l=0,c=0;if(u&&(l=u.scrollWidth,c=u.scrollHeight),Math.abs(o[0][0])>180||Math.abs(o[1][0])>180){if(s.x>l){var f=this.mapsService.lngLatToContainer([i-360,a]);s.x=f.x}if(s.x<0){var p=this.mapsService.lngLatToContainer([i+360,a]);s.x=p.x}}(s.x>l||s.x<0||s.y>c||s.y<0)&&(t.style.display="none"),t.style.left=s.x+n[0]+"px",t.style.top=s.y-n[1]+"px"}}}},{key:"init",value:function(){var e=this,t=this.markerOption.element,n=this.markerOption,r=n.color,i=n.anchor;if(!t){this.defaultMarker=!0,t=p.DOM.create("div"),this.markerOption.element=t;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height","48px"),a.setAttributeNS(null,"width","48px"),a.setAttributeNS(null,"viewBox","0 0 1024 1024");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),o.setAttributeNS(null,"fill",r),a.appendChild(o),t.appendChild(a)}p.DOM.addClass(t,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach((function(n){var r,i,a=(null===(r=e.markerOption)||void 0===r?void 0:r.style)&&(null===(i=e.markerOption)||void 0===i?void 0:i.style[n]);t&&(t.style[n]=a)})),t.addEventListener("click",(function(t){e.onMapClick(t)})),t.addEventListener("click",this.eventHandle),(0,p.applyAnchorClass)(t,i,"marker")}},{key:"registerMarkerEvent",value:function(e){e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var e=this.getElement();e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(e){throw new Error("Method not implemented.")}},{key:"onUp",value:function(e){throw new Error("Method not implemented.")}}]),n}(d.EventEmitter);t["default"]=g},"jIg/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n("xfSm"),i=n("GXnB"),a=n("Ztfv");function o(e){return function(t,n,o){var s=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"===typeof o?a.tagParameter(t,n,o,s):a.tagProperty(t,n,s)}}t.multiInject=o},jN4g:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("q1tI"),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},o=a,s=n("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:o}))};u.displayName="CloseCircleFilled";t["a"]=i["forwardRef"](u)},jXQH:function(e,t,n){var r=n("TO8r"),i=/^\s+/;function a(e){return e?e.slice(0,r(e)+1).replace(i,""):e}e.exports=a},jYx5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n("xfSm"),i=n("GXnB"),a=n("Ztfv");function o(){return function(e,t,n){var o=new i.Metadata(r.OPTIONAL_TAG,!0);"number"===typeof n?a.tagParameter(e,t,n,o):a.tagProperty(e,t,o)}}t.optional=o},japM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var e,t,n,r;u(this,a);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=l(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),t=n,n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},r=t,l(n,r)}return c(a,n),i(a,[{key:"render",value:function(){return o["default"].createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},o["default"].createElement(e,r({},this.props,this.state)))}}]),a}(o["default"].Component)}},"jbM+":function(e,t,n){var r=n("R/W3");function i(e,t){var n=null==e?0:e.length;return!!n&&r(e,t,0)>-1}e.exports=i},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");function a(e){return r(e,i(e))}e.exports=a},jrcR:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.TextTriangulation=O,t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("RIqP")),p=r(n("UB5X")),d=n("gHHc"),h=n("z0pJ"),v=r(n("YenN")),m=r(n("+LVB")),y=n("Dxau"),g=n("9j+D");function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function _(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t=E();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var S='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform vec4 u_stroke_color : [0, 0, 0, 1];\nuniform float u_stroke_width : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u4f20\u9012\u4ece\u7247\u5143\u4e2d\u4f20\u9012\u7684\u6620\u5c04\u6570\u636e\n\n#pragma include "picking"\nvoid main() {\n  // get style data mapping\n  float opacity = styleMappingMat[0][0];\n  float strokeWidth = styleMappingMat[0][2];\n  vec4 textrueStroke = vec4(\n    styleMappingMat[1][0],\n    styleMappingMat[1][1],\n    styleMappingMat[1][2],\n    styleMappingMat[1][3]\n  );\n\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;\n  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',k='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\nattribute float a_Rotate;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 2;\nuniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n#pragma include "styleMappingCalStrokeWidth"\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n   styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n\n   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][2] = strokeWidthAndOffset.r;\n  textureOffset = strokeWidthAndOffset.g;\n\n  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);\n  if(hasStroke()) {\n    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R\n    textureOffset += 1.0;\n\n    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G\n    textureOffset += 1.0;\n\n    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B\n    textureOffset += 1.0;\n\n    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);\n    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A\n    textureOffset += 1.0;\n  } else {\n    if(u_stroke_color == vec4(0.0)) {\n      styleMappingMat[1][0] = v_color.r;\n      styleMappingMat[1][1] = v_color.g;\n      styleMappingMat[1][2] = v_color.b;\n      styleMappingMat[1][3] = v_color.a;\n    } else {\n      styleMappingMat[1][0] = u_stroke_color.r;\n      styleMappingMat[1][1] = u_stroke_color.g;\n      styleMappingMat[1][2] = u_stroke_color.b;\n      styleMappingMat[1][3] = u_stroke_color.a;\n    }\n  }\n  \n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // \u6587\u672c\u7f29\u653e\u6bd4\u4f8b\n  float fontScale = a_Size / FONT_SIZE;\n  v_fontScale = fontScale;\n\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  highp float angle_sin = sin(a_Rotate);\n  highp float angle_cos = cos(a_Rotate);\n  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n  \n  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n\n  vec4 projected_position;\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n   projected_position  = u_Mvp * (vec4(a_Position.xyz, 1.0));\n  } else { // else\n   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n  }\n\n  gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function O(e){var t=this,n=e.id,r=[],i=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};var a=t.glyphInfoMap[n].centroid,o=2===a.length?[a[0],a[1],0]:a;return t.glyphInfoMap[n].glyphQuads.forEach((function(e,t){r.push.apply(r,(0,f["default"])(o).concat([e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y],(0,f["default"])(o),[e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y],(0,f["default"])(o),[e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y],(0,f["default"])(o),[e.tex.x,e.tex.y,e.bl.x,e.bl.y])),i.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)})),{vertices:r,indices:i,size:7}}var T=function(e){(0,s["default"])(n,e);var t=w(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"glyphInfo",void 0),(0,c["default"])((0,o["default"])(e),"glyphInfoMap",{}),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"currentZoom",-1),(0,c["default"])((0,o["default"])(e),"extent",void 0),(0,c["default"])((0,o["default"])(e),"textureHeight",0),(0,c["default"])((0,o["default"])(e),"textCount",0),(0,c["default"])((0,o["default"])(e),"preTextStyle",{}),(0,c["default"])((0,o["default"])(e),"buildModels",(function(){return e.initGlyph(),e.updateTexture(),e.filterGlyphs(),e.reBuildModel(),[e.layer.buildLayerModel({moduleName:"pointText",vertexShader:k,fragmentShader:S,triangulation:O.bind((0,o["default"])(e)),depth:{enable:!1},blend:e.getBlend()})]})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,i=void 0===r?"#fff":r,a=e.strokeWidth,o=void 0===a?0:a,s=e.textAnchor,u=void 0===s?"center":s,l=e.textAllowOverlap,c=void 0!==l&&l,f=e.halo,h=void 0===f?.5:f,v=e.gamma,m=void 0===v?2:v,y=this.fontService,g=y.canvas,b=y.mapping;if(Object.keys(b).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(b).length),this.preTextStyle={textAnchor:u,textAllowOverlap:c},this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:n,strokeWidth:o,stroke:i})){this.judgeStyleAttributes({opacity:n,strokeWidth:o,stroke:i});var _=this.layer.getEncodedData(),x=this.calDataFrame(this.cellLength,_,this.cellProperties),w=x.data,E=x.width,S=x.height;this.rowCount=S,this.dataTexture=this.cellLength>0&&w.length>0?this.createTexture2D({flipY:!0,data:w,format:d.gl.LUMINANCE,type:d.gl.FLOAT,width:E,height:S}):this.createTexture2D({flipY:!0,data:[1],format:d.gl.LUMINANCE,type:d.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,p["default"])(n)?n:1,u_stroke_width:(0,p["default"])(o)?o:0,u_stroke_color:this.getStrokeColor(i),u_sdf_map:this.texture,u_halo_blur:h,u_gamma_scale:m,u_sdf_map_size:[g.width,g.height]}}},{key:"initModels",value:function(){this.layer.on("remapping",this.buildModels),this.extent=this.textExtent();var e=this.layer.getLayerConfig(),t=e.textAnchor,n=void 0===t?"center":t,r=e.textAllowOverlap,i=void 0===r||r;return this.preTextStyle={textAnchor:n,textAllowOverlap:i},this.buildModels()}},{key:"needUpdate",value:function(){var e=this.layer.getLayerConfig(),t=e.textAllowOverlap,n=void 0!==t&&t,r=this.mapService.getZoom(),i=this.mapService.getBounds(),a=(0,h.boundsContains)(this.extent,i);return(!n&&(Math.abs(this.currentZoom-r)>1||!a)||n!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"clearModels",value:function(){var e;null===(e=this.dataTexture)||void 0===e||e.destroy(),this.layer.off("remapping",this.buildModels)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:d.AttributeType.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:d.gl.DYNAMIC_DRAW,data:[],type:d.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.rotate,a=void 0===i?0:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:d.AttributeType.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:d.gl.STATIC_DRAW,data:[],type:d.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:d.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:d.gl.DYNAMIC_DRAW,data:[],type:d.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?12:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:d.AttributeType.Attribute,descriptor:{name:"a_tex",buffer:{usage:d.gl.DYNAMIC_DRAW,data:[],type:d.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){var e=this.mapService.getBounds();return(0,h.padBounds)(e,.5)}},{key:"initTextFont",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,a=this.layer.getEncodedData(),o=[];a.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString();var r,i=b(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;-1===o.indexOf(a)&&o.push(a)}}catch(s){i.e(s)}finally{i.f()}})),this.fontService.setFontOptions({characterSet:o,fontWeight:n,fontFamily:i,iconfont:!1})}},{key:"initIconFontTex",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,i=void 0===r?"sans-serif":r,a=this.layer.getEncodedData(),o=[];a.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString(),-1===o.indexOf(n)&&o.push(n)})),this.fontService.setFontOptions({characterSet:o,fontWeight:n,fontFamily:i,iconfont:!0})}},{key:"generateGlyphLayout",value:function(e){var t=this,n=this.fontService.mapping,r=this.layer.getLayerConfig(),i=r.spacing,a=void 0===i?2:i,o=r.textAnchor,s=void 0===o?"center":o,u=this.layer.getEncodedData();this.glyphInfo=u.map((function(r){var i=r.shape,o=void 0===i?"":i,u=r.id,l=r.size,c=void 0===l?1:l,f=r.textOffset,p=void 0===f?[0,0]:f,d=(0,g.shapeText)(o.toString(),n,c,s,"center",a,p,e),h=(0,g.getGlyphQuads)(d,p,!1);return r.shaping=d,r.glyphQuads=h,r.centroid=(0,y.calculteCentroid)(r.coordinates),r.originCentroid="GAODE2.x"===r.version?(0,y.calculteCentroid)(r.originCoordinates):r.originCentroid=r.centroid,t.glyphInfoMap[u]={shaping:d,glyphQuads:h,centroid:(0,y.calculteCentroid)(r.coordinates)},r}))}},{key:"filterGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.padding,r=void 0===n?[4,4]:n,i=t.textAllowOverlap,a=void 0!==i&&i;if(!a){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var o=this.rendererService.getViewportSize(),s=o.width,u=o.height,l=new m["default"](s,u),c=this.glyphInfo.filter((function(t){var n=t.shaping,i=t.id,a=void 0===i?0:i,o="GAODE2.x"===t.version?t.originCentroid:t.centroid,s=t.size,u=s/24,c=e.mapService.lngLatToContainer(o),f=l.placeCollisionBox({x1:n.left*u-r[0],x2:n.right*u+r[0],y1:n.top*u-r[1],y2:n.bottom*u+r[1],anchorPointX:c.x,anchorPointY:c.y}),p=f.box;return!(!p||!p.length)&&(l.insertCollisionBox(p,a),!0)}));c.forEach((function(t){e.glyphInfoMap[t.id]=t}))}}},{key:"initGlyph",value:function(){var e=this.layer.getLayerConfig(),t=e.iconfont,n=void 0!==t&&t;n?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(n)}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.textureHeight=t.height,this.texture&&this.texture.destroy(),this.texture=e({data:t,mag:d.gl.LINEAR,min:d.gl.LINEAR,width:t.width,height:t.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:k,fragmentShader:S,triangulation:O.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),n}(v["default"]);t["default"]=T},juv8:function(e,t,n){var r=n("MrPd"),i=n("hypo");function a(e,t,n,a){var o=!n;n||(n={});var s=-1,u=t.length;while(++s<u){var l=t[s],c=a?a(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),o?i(n,l,c):r(n,l,c)}return n}e.exports=a},"k+1r":function(e,t,n){var r=n("QkVE");function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},k1fw:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return a}))},k207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDistanceScales=o;var r=Math.PI/180,i=512,a=4003e4;function o(e){var t=e.latitude,n=void 0===t?0:t,o=e.zoom,s=void 0===o?0:o,u=e.scale,l=e.highPrecision,c=void 0!==l&&l,f=e.flipY,p=void 0!==f&&f;u=void 0!==u?u:Math.pow(2,s);var d={},h=i*u,v=Math.cos(n*r),m=h/360,y=m/v,g=h/a/v;if(d.pixelsPerMeter=[g,-g,g],d.metersPerPixel=[1/g,-1/g,1/g],d.pixelsPerDegree=[m,-y,g],d.degreesPerPixel=[1/m,-1/y,1/g],c){var b=r*Math.tan(n*r)/v,_=m*b/2,x=h/a*b,w=x/y*g;d.pixelsPerDegree2=[0,-_,x],d.pixelsPerMeter2=[w,0,w],p&&(d.pixelsPerDegree2[1]=-d.pixelsPerDegree2[1],d.pixelsPerMeter2[1]=-d.pixelsPerMeter2[1])}return p&&(d.pixelsPerMeter[1]=-d.pixelsPerMeter[1],d.metersPerPixel[1]=-d.metersPerPixel[1],d.pixelsPerDegree[1]=-d.pixelsPerDegree[1],d.degreesPerPixel[1]=-d.degreesPerPixel[1]),d}},k5F1:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,i["default"])(this,e),(0,o["default"])(this,"autoStart",void 0),(0,o["default"])(this,"startTime",0),(0,o["default"])(this,"oldTime",0),(0,o["default"])(this,"running",!1),(0,o["default"])(this,"elapsedTime",0),this.autoStart=t}return(0,a["default"])(e,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();t["default"]=s},k69C:function(e,t,n){},kAT6:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("J4zp")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("QkVN")),l=r(n("f1zB")),c=r(n("qXrd")),f=r(n("vSse")),p=r(n("2hQO")),d=r(n("IehP")),h=n("i4Tg"),v=r(n("S5x9")),m=r(n("vcVg")),y=r(n("9uU5")),g=r(n("cE8m")),b=n("4meW"),_=r(n("Dno/")),x=r(n("U5ws")),w=r(n("sv7D")),E=r(n("YWGM")),S=r(n("wuf2")),k=r(n("+9pV")),O=r(n("NqB8")),T=n("yyrp");function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function A(e,t){if(e){if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return e.zoom||e.drag||e.pitch||e.rotate};function I(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var R=function(){function e(t,n){var r=this;(0,a["default"])(this,e),(0,s["default"])(this,"map",void 0),(0,s["default"])(this,"el",void 0),(0,s["default"])(this,"handlers",void 0),(0,s["default"])(this,"eventsInProgress",void 0),(0,s["default"])(this,"frameId",void 0),(0,s["default"])(this,"inertia",void 0),(0,s["default"])(this,"bearingSnap",void 0),(0,s["default"])(this,"handlersById",void 0),(0,s["default"])(this,"updatingCamera",void 0),(0,s["default"])(this,"changes",void 0),(0,s["default"])(this,"previousActiveHandlers",void 0),(0,s["default"])(this,"bearingChanged",void 0),(0,s["default"])(this,"listeners",void 0),(0,s["default"])(this,"handleWindowEvent",(function(e){r.handleEvent(e,"".concat(e.type,"Window"))})),(0,s["default"])(this,"handleEvent",(function(e,t){if("blur"!==e.type){r.updatingCamera=!0;var n,i="renderFrame"===e.type?void 0:e,a={needsRenderFrame:!1},o={},s={},u=e.touches?r.getMapTouches(e.touches):void 0,l=u?c["default"].touchPos(r.el,u):c["default"].mousePos(r.el,e),f=C(r.handlers);try{for(f.s();!(n=f.n()).done;){var p=n.value,d=p.handlerName,h=p.handler,v=p.allowed;if(h.isEnabled()){var m=void 0;if(r.blockedByActive(s,v,d))h.reset();else{var y=t||e.type;h&&h[y]&&(m=h[y](e,l,u),r.mergeIHandlerResult(a,o,m,d,i),m&&m.needsRenderFrame&&r.triggerRenderFrame())}(m||h.isActive())&&(s[d]=h)}}}catch(x){f.e(x)}finally{f.f()}var g={};for(var b in r.previousActiveHandlers)s[b]||(g[b]=i);r.previousActiveHandlers=s,(Object.keys(g).length||I(a))&&(r.changes.push([a,o,g]),r.triggerRenderFrame()),(Object.keys(s).length||I(a))&&r.map.stop(!0),r.updatingCamera=!1;var _=a.cameraAnimation;_&&(r.inertia.clear(),r.fireEvents({},{}),r.changes=[],_(r.map))}else r.stop()})),this.map=t,this.el=this.map.getCanvasContainer(),this.handlers=[],this.handlersById={},this.changes=[],this.inertia=new m["default"](t),this.bearingSnap=n.bearingSnap,this.previousActiveHandlers={},this.eventsInProgress={},this.addDefaultHandlers(n);var o=this.el;this.listeners=[[o,"touchstart",{passive:!1}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[window.document,"mousemove",{capture:!0}],[window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[window,"blur",void 0]];var u,l=C(this.listeners);try{for(l.s();!(u=l.n()).done;){var f=(0,i["default"])(u.value,3),p=f[0],d=f[1],h=f[2];c["default"].addEventListener(p,d,p===window.document?this.handleWindowEvent:this.handleEvent,h)}}catch(v){l.e(v)}finally{l.f()}}return(0,o["default"])(e,[{key:"destroy",value:function(){var e,t=C(this.listeners);try{for(t.s();!(e=t.n()).done;){var n=(0,i["default"])(e.value,3),r=n[0],a=n[1],o=n[2];c["default"].removeEventListener(r,a,r===window.document?this.handleWindowEvent:this.handleEvent,o)}}catch(s){t.e(s)}finally{t.f()}}},{key:"stop",value:function(){if(!this.updatingCamera){var e,t=C(this.handlers);try{for(t.s();!(e=t.n()).done;){var n=e.value.handler;n.reset()}}catch(r){t.e(r)}finally{t.f()}this.inertia.clear(),this.fireEvents({},{}),this.changes=[]}}},{key:"isActive",value:function(){var e,t=C(this.handlers);try{for(t.s();!(e=t.n()).done;){var n=e.value.handler;if(n.isActive())return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this.eventsInProgress.zoom||this.map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this.eventsInProgress.rotate}},{key:"isMoving",value:function(){return Boolean(P(this.eventsInProgress))||this.isZooming()}},{key:"mergeIHandlerResult",value:function(e,t,n,r,i){if(n){(0,u["default"])(e,n);var a={handlerName:r,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(t.zoom=a),void 0!==n.panDelta&&(t.drag=a),void 0!==n.pitchDelta&&(t.pitch=a),void 0!==n.bearingDelta&&(t.rotate=a)}}},{key:"triggerRenderFrame",value:function(){var e=this;void 0===this.frameId&&(this.frameId=this.map.requestRenderFrame((function(t){delete e.frameId,e.handleEvent(new v["default"]("renderFrame",{timeStamp:t})),e.applyChanges()})))}},{key:"addDefaultHandlers",value:function(e){var t=this.map,n=t.getCanvasContainer();this.add("mapEvent",new g["default"](t,e));var r=t.boxZoom=new p["default"](t,e);this.add("boxZoom",r);var i=new O["default"],a=new d["default"];t.doubleClickZoom=new x["default"](a,i),this.add("tapZoom",i),this.add("clickZoom",a);var o=new k["default"];this.add("tapDragZoom",o);var s=t.touchPitch=new T.TouchPitchHandler;this.add("touchPitch",s);var u=new b.MouseRotateHandler(e),l=new b.MousePitchHandler(e);t.dragRotate=new E["default"](e,u,l),this.add("mouseRotate",u,["mousePitch"]),this.add("mousePitch",l,["mouseRotate"]);var c=new b.MousePanHandler(e),h=new T.TouchPanHandler(e);t.dragPan=new w["default"](n,c,h),this.add("mousePan",c),this.add("touchPan",h,["touchZoom","touchRotate"]);var v=new T.TouchRotateHandler,m=new T.TouchZoomHandler;t.touchZoomRotate=new S["default"](n,m,v,o),this.add("touchRotate",v,["touchPan","touchZoom"]),this.add("touchZoom",m,["touchPan","touchRotate"]);var C=t.scrollZoom=new _["default"](t,this);this.add("scrollZoom",C,["mousePan"]);var A=t.keyboard=new y["default"];this.add("keyboard",A),this.add("blockableMapEvent",new f["default"](t));for(var M=0,P=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];M<P.length;M++){var I=P[M];e.interactive&&e[I]&&t[I].enable(e[I])}}},{key:"add",value:function(e,t,n){this.handlers.push({handlerName:e,handler:t,allowed:n}),this.handlersById[e]=t}},{key:"blockedByActive",value:function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}},{key:"getMapTouches",value:function(e){var t,n=[],r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.target;this.el.contains(a)&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"applyChanges",value:function(){var e,t={},n={},r={},a=C(this.changes);try{for(a.s();!(e=a.n()).done;){var o=(0,i["default"])(e.value,3),s=o[0],c=o[1],f=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new l["default"](0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(t.around=s.around),void 0!==s.pinchAround&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),(0,u["default"])(n,c),(0,u["default"])(r,f)}}catch(p){a.e(p)}finally{a.f()}this.updateMapTransform(t,n,r),this.changes=[]}},{key:"updateMapTransform",value:function(e,t,n){var r=this.map,i=r.transform;if(!I(e))return this.fireEvents(t,n);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,u=e.pitchDelta,l=e.pinchAround,c=e.around;void 0!==l&&(c=l),r.stop(!0),c=c||r.transform.centerPoint;var f=i.pointLocation(a?c.sub(a):c);s&&(i.bearing+=s),u&&(i.pitch+=u),o&&(i.zoom+=o),i.setLocationAtPoint(f,c),this.map.update(),e.noInertia||this.inertia.record(e),this.fireEvents(t,n)}},{key:"fireEvents",value:function(e,t){var n=this,r=P(this.eventsInProgress),i=P(e),a={};for(var o in e)if(e[o]){var s=e[o].originalEvent;this.eventsInProgress[o]||(a["".concat(o,"start")]=s),this.eventsInProgress[o]=e[o]}for(var u in!r&&i&&this.fireEvent("movestart",i.originalEvent),a)a[u]&&this.fireEvent(u,a[u]);for(var l in e.rotate&&(this.bearingChanged=!0),i&&this.fireEvent("move",i.originalEvent),e)if(e[l]){var c=e[l].originalEvent;this.fireEvent(l,c)}var f,p={};for(var d in this.eventsInProgress)if(this.eventsInProgress[d]){var v=this.eventsInProgress[d],m=v.handlerName,y=v.originalEvent;this.handlersById[m].isActive()||(delete this.eventsInProgress[d],f=t[m]||y,p["".concat(d,"end")]=f)}for(var g in p)p[g]&&this.fireEvent(g,p[g]);var b=P(this.eventsInProgress);if((r||i)&&!b){this.updatingCamera=!0;var _=this.inertia.onMoveEnd(this.map.dragPan.inertiaOptions),x=function(e){return 0!==e&&-n.bearingSnap<e&&e<n.bearingSnap};_?(x(_.bearing||this.map.getBearing())&&(_.bearing=0),this.map.easeTo(_,{originalEvent:f})):(this.map.emit("moveend",new h.Event("moveend",{originalEvent:f})),x(this.map.getBearing())&&this.map.resetNorth()),this.bearingChanged=!1,this.updatingCamera=!1}}},{key:"fireEvent",value:function(e,t){this.map.emit(e,new h.Event(e,t?{originalEvent:t}:{}))}}]),e}(),j=R;t["default"]=j},kCkZ:function(e,t,n){"use strict";var r=n("I+eb"),i=n("8GlL"),a=n("5mdu");r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=a(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},kIOg:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.PointFillTriangulation=p,t.PointExtrudeTriangulation=d,t.PointImageTriangulation=h,t.LineTriangulation=v,t.polygonTriangulation=m,t.PolygonExtrudeTriangulation=y,t.HeatmapGridTriangulation=g,t.RasterImageTriangulation=b,t.LineArcTriangulation=_,t.HeatmapTriangulation=x;i(n("J4zp"));var a=i(n("RIqP")),o=(n("z0pJ"),i(n("VmRL"))),s=(n("IOcx"),i(n("2csf"))),u=n("Dxau"),l=r(n("8cWt")),c=n("ux0f"),f={};function p(e){var t=(0,u.calculteCentroid)(e.coordinates);return{vertices:[].concat((0,a["default"])(t),(0,a["default"])(t),(0,a["default"])(t),(0,a["default"])(t)),indices:[0,1,2,2,3,0],size:t.length}}function d(e){var t=e.shape,n=w(t,!1),r=n.positions,i=n.index,a=n.normals;return{vertices:r,indices:i,normals:a,size:5}}function h(e){var t=(0,u.calculteCentroid)(e.coordinates);return{vertices:(0,a["default"])(t),indices:[0],size:t.length}}function v(e){var t=e.coordinates,n=e.originCoordinates,r=e.version,i=new s["default"]({dash:!0,join:"bevel"});if("GAODE2.x"===r){var a=t;Array.isArray(a[0][0])||(a=[t]);var o=n;Array.isArray(o[0][0])||(o=[n]);for(var u=0;u<a.length;u++){var l=a[u],c=o[u];i.extrude_gaode2(l,c)}}else{var f=t;Array.isArray(f[0][0])||(f=[t]),f.forEach((function(e){i.extrude(e)}))}var p=i.complex;return{vertices:p.positions,indices:p.indices,normals:p.normals,size:6}}function m(e){var t=e.coordinates,n=o["default"].flatten(t),r=n.vertices,i=n.dimensions,a=n.holes;return{indices:(0,o["default"])(r,a,i),vertices:r,size:i}}function y(e){var t=e.coordinates,n=(0,l.extrude_PolygonNormal)(t,!0),r=n.positions,i=n.index,a=n.normals;return{vertices:r,indices:i,normals:a,size:5}}function g(e){var t=e.shape,n=E(t),r=n.positions,i=n.index;return{vertices:r,indices:i,size:3}}function b(e){var t=e.coordinates,n=[].concat((0,a["default"])(t[0]),[0,0,1,t[1][0],t[0][1],0,1,1],(0,a["default"])(t[1]),[0,1,0],(0,a["default"])(t[0]),[0,0,1],(0,a["default"])(t[1]),[0,1,0,t[0][0],t[1][1],0,0,0]),r=[0,1,2,3,4,5];return{vertices:n,indices:r,size:5}}function _(e){for(var t=30,n=e.coordinates,r=[],i=[],o=function(e){r.push(e,1,e,n[0][0],n[0][1],n[1][0],n[1][1],e,-1,e,n[0][0],n[0][1],n[1][0],n[1][1]),e!==t-1&&i.push.apply(i,(0,a["default"])([0,1,2,1,3,2].map((function(t){return 2*e+t}))))},s=0;s<t;s++)o(s);return{vertices:r,indices:i,size:7}}function x(e){var t=e.coordinates;2===t.length&&t.push(0);e.size;var n=S(-1,1),r=S(1,1),i=S(-1,-1),o=S(1,-1),s=[].concat((0,a["default"])(t),(0,a["default"])(n),(0,a["default"])(t),(0,a["default"])(i),(0,a["default"])(t),(0,a["default"])(o),(0,a["default"])(t),(0,a["default"])(r)),u=[0,1,2,3,0,2];return{vertices:s,indices:u,size:5}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f&&f[e])return f[e];var n=c.geometryShape[e]?c.geometryShape[e]():c.geometryShape.cylinder(),r=(0,l.extrude_PolygonNormal)([n],t);return f[e]=r,r}function E(e){var t=["cylinder","triangleColumn","hexagonColumn","squareColumn"],n=c.geometryShape[e]?c.geometryShape[e]():c.geometryShape.circle(),r=-1===t.indexOf(e)?(0,l.fillPolygon)([n]):(0,l["default"])([n]);return r}function S(e,t){var n=(e+1)/2,r=(t+1)/2;return[n,r]}},kNbT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;var r="2.5.9";t.version=r},kOOl:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},kRJp:function(e,t,n){var r=n("g6v/"),i=n("m/L8"),a=n("XGwC");e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,d=e[t+f];for(f+=p,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=p,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+f>=1?p/u:p*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=h,o/=256,l-=8);e[n+d-h]|=128*v}},kekF:function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},kmMV:function(e,t,n){"use strict";var r=n("rW0t"),i=n("n3/R"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,u=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],f=u||c||l;f&&(s=function(e){var t,n,i,s,f=this,p=l&&f.sticky,d=r.call(f),h=f.source,v=0,m=e;return p&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,v++),n=new RegExp("^(?:"+h+")",d)),c&&(n=new RegExp("^"+h+"$(?!\\s)",d)),u&&(t=f.lastIndex),i=a.call(p?n:f,m),p?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:u&&i&&(f.lastIndex=f.global?i.index+i[0].length:t),c&&i&&i.length>1&&o.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},ks0d:function(e,t,n){"use strict";var r,i,a,o,s;e.exports=l;var u=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function l(e){o=2,s=Math.pow(10,6),a=null,r=[],i=[];var t=e.readFields(c,{});return r=null,t}function c(e,t,n){1===e?r.push(n.readString()):2===e?o=n.readVarint():3===e?s=Math.pow(10,n.readVarint()):4===e?f(n,t):5===e?p(n,t):6===e&&d(n,t)}function f(e,t){return t.type="FeatureCollection",t.features=[],e.readMessage(h,t)}function p(e,t){t.type="Feature";var n=e.readMessage(v,t);return"geometry"in n||(n.geometry=null),n}function d(e,t){return t.type="Point",e.readMessage(m,t)}function h(e,t,n){1===e?t.features.push(p(n,{})):13===e?i.push(g(n)):15===e&&b(n,t)}function v(e,t,n){1===e?t.geometry=d(n,{}):11===e?t.id=n.readString():12===e?t.id=n.readSVarint():13===e?i.push(g(n)):14===e?t.properties=b(n,{}):15===e&&b(n,t)}function m(e,t,n){1===e?t.type=u[n.readVarint()]:2===e?a=n.readPackedVarint():3===e?y(t,n,t.type):4===e?(t.geometries=t.geometries||[],t.geometries.push(d(n,{}))):13===e?i.push(g(n)):15===e&&b(n,t)}function y(e,t,n){"Point"===n?e.coordinates=_(t):"MultiPoint"===n?e.coordinates=w(t,!0):"LineString"===n?e.coordinates=w(t):"MultiLineString"===n?e.coordinates=E(t):"Polygon"===n?e.coordinates=E(t,!0):"MultiPolygon"===n&&(e.coordinates=S(t))}function g(e){var t=e.readVarint()+e.pos,n=null;while(e.pos<t){var r=e.readVarint(),i=r>>3;1===i?n=e.readString():2===i?n=e.readDouble():3===i?n=e.readVarint():4===i?n=-e.readVarint():5===i?n=e.readBoolean():6===i&&(n=JSON.parse(e.readString()))}return n}function b(e,t){var n=e.readVarint()+e.pos;while(e.pos<n)t[r[e.readVarint()]]=i[e.readVarint()];return i=[],t}function _(e){var t=e.readVarint()+e.pos,n=[];while(e.pos<t)n.push(e.readSVarint()/s);return n}function x(e,t,n,r){var i,a,u=0,l=[],c=[];for(a=0;a<o;a++)c[a]=0;while(n?u<n:e.pos<t){for(i=[],a=0;a<o;a++)c[a]+=e.readSVarint(),i[a]=c[a]/s;l.push(i),u++}return r&&l.push(l[0]),l}function w(e){return x(e,e.readVarint()+e.pos)}function E(e,t){var n=e.readVarint()+e.pos;if(!a)return[x(e,n,null,t)];for(var r=[],i=0;i<a.length;i++)r.push(x(e,n,a[i],t));return a=null,r}function S(e){var t=e.readVarint()+e.pos;if(!a)return[[x(e,t,null,!0)]];for(var n=[],r=1,i=0;i<a[0];i++){for(var o=[],s=0;s<a[r];s++)o.push(x(e,t,a[r+1+s],!0));r+=a[r]+1,n.push(o)}return a=null,n}},"l/vG":function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("A2ZE"),l=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),p=s(i.set);return f(n,(function(e,n){r(n,e,t)&&p.call(i,e,n)}),void 0,!0,!0),i}})},l9OW:function(e,t,n){var r=n("SKAX"),i=n("MMmD");function a(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}e.exports=a},lEou:function(e,t,n){var r=n("dG/n");r("toStringTag")},lMq5:function(e,t,n){var r=n("0Dky"),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==l||n!=u&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},lQqw:function(e,t,n){var r=n("MMmD");function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);var a=n.length,o=t?a:-1,s=Object(n);while(t?o--:++o<a)if(!1===i(s[o],o,s))break;return n}}e.exports=i},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ"),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function l(e){if(!i(e))return!1;var t=r(e);return t==o||t==s||t==a||t==u}e.exports=l},lSNA:function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},ldaH:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("yG8O")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=r(n("U+yc")),l=(r(n("1ABj")),n("4cb6"));n("mNvP");var c,f,p,d,h,v=n("0t2r"),m=n("y6zh"),y=(c=(0,l.injectable)(),f=(0,l.inject)(v.TYPES.IShaderModuleService),c((d=function(){function e(){(0,a["default"])(this,e),(0,i["default"])(this,"shaderModuleService",h,this),(0,s["default"])(this,"rendererService",void 0),(0,s["default"])(this,"cameraService",void 0),(0,s["default"])(this,"mapService",void 0),(0,s["default"])(this,"interactionService",void 0),(0,s["default"])(this,"layerService",void 0),(0,s["default"])(this,"config",void 0)}return(0,o["default"])(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return m.PassType.Normal}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(v.TYPES.IRendererService),this.cameraService=e.getContainer().get(v.TYPES.ICameraService),this.mapService=e.getContainer().get(v.TYPES.IMapService),this.interactionService=e.getContainer().get(v.TYPES.IInteractionService),this.layerService=e.getContainer().get(v.TYPES.ILayerService)}},{key:"render",value:function(e){}}]),e}(),h=(0,u["default"])(d.prototype,"shaderModuleService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=d))||p);t["default"]=y},lehK:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,a=t>>>0,o=n>>>0;return a+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},lj4h:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lSNA")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=n("4cb6");n("mNvP");var f,p,d=r(n("2stA"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",b="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",_=(f=(0,c.injectable)(),f(p=function(e){(0,s["default"])(n,e);var t=m(n);function n(){return(0,a["default"])(this,n),t.apply(this,arguments)}return(0,o["default"])(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:b,fs:g});var e=this.shaderModuleService.getModule("hexagonalpixelate-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),a=i.width,o=i.height;return{vs:t,fs:n,uniforms:v(v({},r),{},{u_ViewportSize:[a,o]})}}}]),n}(d["default"]))||p);t["default"]=_},ljhN:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"lm/5":function(e,t,n){var r=n("fmRc"),i=n("wF/u"),a=1,o=2;function s(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;e=Object(e);while(u--){var f=n[u];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}while(++u<l){f=n[u];var p=f[0],d=e[p],h=f[1];if(c&&f[2]){if(void 0===d&&!(p in e))return!1}else{var v=new r;if(s)var m=s(d,h,p,e,t,v);if(!(void 0===m?i(h,d,a|o,s,v):m))return!1}}return!0}e.exports=s},lmH4:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("mh/w"),l=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),n=o(e),r=n.has;return"function"!=typeof r&&(n=new(a("Set"))(e),r=s(n.has)),!l(t,(function(e){if(!1===r.call(n,e))return l.stop()}),void 0,!1,!0).stopped}})},lreK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=n("Ag8Z"),i=u(r),a=n("BkRI"),o=u(a),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function u(e){return e&&e.__esModule?e:{default:e}}var l=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e["default"]&&(0,o["default"])(e["default"])||{};return t.map((function(t){var r=e[t];return r&&(0,i["default"])(r,(function(e,t){n[t]||(n[t]={}),n[t]=s({},n[t],r[t])})),t})),n};t["default"]=l},ltgG:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("4cb6");n("mNvP");var c,f,p=r(n("2stA"));function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",m="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",y=(c=(0,l.injectable)(),c(f=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:m,fs:v}),this.shaderModuleService.getModule("copy-pass")}}]),n}(p["default"]))||f);t["default"]=y},lwsE:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"m+aA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("i8i4"),i=n.n(r);function a(e){return e instanceof HTMLElement?e:i.a.findDOMNode(e)}},"m//G":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=n("z0pJ"),d=r(n("YenN")),h=n("kIOg");function v(e){var t=m();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_min;\nuniform float u_max;\nuniform vec2 u_domain;\nuniform float u_noDataValue;\nuniform bool u_clampLow: true;\nuniform bool u_clampHigh: true;\nvarying vec2 v_texCoord;\n\nvoid main() {\n\n  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;\n  if (value == u_noDataValue)\n    gl_FragColor = vec4(0.0, 0, 0, 0.0);\n  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))\n    gl_FragColor = vec4(0, 0, 0, 0);\n  else {\n    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);\n    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));\n    gl_FragColor = color;\n    gl_FragColor.a =  gl_FragColor.a * u_opacity ;\n  }\n\n\n}\n",g='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',b=function(e){(0,s["default"])(n,e);var t=v(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"colorTexture",void 0),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.clampLow,i=void 0===r||r,a=e.clampHigh,o=void 0===a||a,s=e.noDataValue,u=void 0===s?-9999999:s,l=e.domain,c=void 0===l?[0,1]:l;return this.updateColorTexure(),{u_opacity:n||1,u_texture:this.texture,u_domain:c,u_clampLow:i,u_clampHigh:"undefined"!==typeof o?o:i,u_noDataValue:u,u_colorTexture:this.colorTexture}}},{key:"initModels",value:function(){var e=this.layer.getSource(),t=this.rendererService.createTexture2D,n=e.data.dataArray[0];this.texture=t({data:n.data,width:n.width,height:n.height,format:f.gl.LUMINANCE,type:f.gl.FLOAT});var r=this.layer.getLayerConfig(),i=r.rampColors,a=(0,p.generateColorRamp)(i);return this.colorTexture=t({data:a.data,width:a.width,height:a.height,flipY:!1}),[this.layer.buildLayerModel({moduleName:"RasterImageData",vertexShader:g,fragmentShader:y,triangulation:h.RasterImageTriangulation,primitive:f.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"updateColorTexure",value:function(){var e=this.rendererService.createTexture2D,t=this.layer.getLayerConfig(),n=t.rampColors,r=(0,p.generateColorRamp)(n);this.colorTexture=e({data:r.data,width:r.width,height:r.height,flipY:!1})}}]),n}(d["default"]);t["default"]=b},"m/L8":function(e,t,n){var r=n("g6v/"),i=n("DPsx"),a=n("glrk"),o=n("wE6v"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},m0LI:function(e,t){function n(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},m8te:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=r(n("lSNA")),l=n("gHHc"),c=r(n("VvCl")),f=n("4cb6");n("mNvP");var p=(i=(0,f.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e),(0,u["default"])(this,"mapService",void 0)}return(0,s["default"])(e,[{key:"apply",value:function(e){var t=this;this.mapService=e.getContainer().get(l.TYPES.IMapService),e.hooks.init.tap("DataSourcePlugin",(function(){var n=e.getSource();if(!n){var r=e.sourceOption,i=r.data,a=r.options;e.setSource(new c["default"](i,a))}t.updateClusterData(e)})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(e){var t=e.getSource(),n=t.cluster,r=t.clusterOptions,i=r.zoom,a=void 0===i?0:i,o=r.maxZoom,s=void 0===o?16:o,u=this.mapService.getZoom()-1,l=e.dataState.dataSourceNeedUpdate;return!!(n&&(l||Math.abs(a-u)>1)&&s>a)&&(t.updateClusterData(Math.floor(u)),!0)}}]),e}())||a);t["default"]=p},m92n:function(e,t,n){var r=n("glrk");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&r(a.call(e)),o}}},mDLg:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GaodeMap",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"GaodeMapV2",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"Mapbox",{enumerable:!0,get:function(){return s["default"]}});var i=r(n("gkw/")),a=r(n("XJJf")),o=r(n("mf30")),s=r(n("Ik3C"))},mGGf:function(e,t,n){"use strict";n("4mDm");var r=n("I+eb"),i=n("0GbY"),a=n("DTth"),o=n("busE"),s=n("4syw"),u=n("1E5z"),l=n("ntOU"),c=n("afO8"),f=n("GarU"),p=n("UTVS"),d=n("A2ZE"),h=n("9d/t"),v=n("glrk"),m=n("hh1v"),y=n("fHMY"),g=n("XGwC"),b=n("mh/w"),_=n("NaFW"),x=n("tiKp"),w=i("fetch"),E=i("Headers"),S=x("iterator"),k="URLSearchParams",O=k+"Iterator",T=c.set,C=c.getterFor(k),A=c.getterFor(O),M=/\+/g,P=Array(4),I=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(M," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(I(n--),R);return t}},L=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return N[e]},F=function(e){return encodeURIComponent(e).replace(L,D)},z=function(e,t){if(t){var n,r,i=t.split("&"),a=0;while(a<i.length)n=i[a++],n.length&&(r=n.split("="),e.push({key:j(r.shift()),value:j(r.join("="))}))}},B=function(e){this.entries.length=0,z(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},V=l((function(e,t){T(this,{type:O,iterator:b(C(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),H=function(){f(this,H,k);var e,t,n,r,i,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(T(c,{type:k,entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==l)if(m(l))if(e=_(l),"function"===typeof e){t=e.call(l),n=t.next;while(!(r=n.call(t)).done){if(i=b(v(r.value)),a=i.next,(o=a.call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:s.value+""})}}else for(u in l)p(l,u)&&d.push({key:u,value:l[u]+""});else z(d,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},W=H.prototype;s(W,{append:function(e,t){U(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){U(arguments.length,1);var t=C(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=C(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){U(arguments.length,1);var t=C(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=C(this),i=r.entries,a=!1,o=e+"",s=t+"",u=0;u<i.length;u++)n=i[u],n.key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var e,t,n,r=C(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=C(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new V(this,"keys")},values:function(){return new V(this,"values")},entries:function(){return new V(this,"entries")}},{enumerable:!0}),o(W,S,W.entries),o(W,"toString",(function(){var e,t=C(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),u(H,k),r({global:!0,forced:!a},{URLSearchParams:H}),a||"function"!=typeof w||"function"!=typeof E||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],m(t)&&(n=t.body,h(n)===k&&(r=t.headers?new E(t.headers):new E,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:g(0,String(n)),headers:g(0,r)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:H,getState:C}},mGKP:function(e,t,n){var r=n("EdiO");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i},mKAs:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("J4zp")),o=r(n("yXPU")),s=r(n("yG8O")),u=r(n("lwsE")),l=r(n("W8MJ")),c=r(n("lSNA")),f=r(n("U+yc")),p=(r(n("1ABj")),n("z0pJ")),d=n("4cb6");n("mNvP");var h,v,m,y,g,b,_,x,w,E,S,k=n("0t2r"),O=n("OH7Y"),T=n("2FAK");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,c["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=(h=(0,d.injectable)(),v=(0,d.inject)(k.TYPES.IRendererService),m=(0,d.inject)(k.TYPES.IGlobalConfigService),y=(0,d.inject)(k.TYPES.IInteractionService),g=(0,d.inject)(k.TYPES.ILayerService),h((_=function(){function e(){var t=this;(0,u["default"])(this,e),(0,s["default"])(this,"rendererService",x,this),(0,s["default"])(this,"configService",w,this),(0,s["default"])(this,"interactionService",E,this),(0,s["default"])(this,"layerService",S,this),(0,c["default"])(this,"pickingFBO",void 0),(0,c["default"])(this,"width",0),(0,c["default"])(this,"height",0),(0,c["default"])(this,"alreadyInPicking",!1),(0,c["default"])(this,"pickBufferScale",1),(0,c["default"])(this,"pickFromPickingFBO",(function(e,n){var r,i=n.x,a=n.y,o=n.lngLat,s=n.type,u=n.target,l=!1,c=t.rendererService,f=(c.getViewportSize,c.readPixels),d=c.getContainer,h=d().getBoundingClientRect(),v=h.width,m=h.height;v*=p.DOM.DPR,m*=p.DOM.DPR;var y,g=e.getLayerConfig(),b=g.enableHighlight,_=g.enableSelect,x=i*p.DOM.DPR,w=a*p.DOM.DPR;if(x>v-1*p.DOM.DPR||x<0||w>m-1*p.DOM.DPR||w<0)return!1;if(y=f({x:Math.floor(x/t.pickBufferScale),y:Math.floor((m-(a+1)*p.DOM.DPR)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),0!==y[0]||0!==y[1]||0!==y[2]){var E=(0,p.decodePickingColor)(y),S=e.getSource().getFeatureById(E);E!==e.getCurrentPickId()&&"mousemove"===s&&(s="mouseenter");var k={x:i,y:a,type:s,lngLat:o,featureId:E,feature:S,target:u};S&&(l=!0,e.setCurrentPickId(E),t.triggerHoverOnLayer(e,k))}else{var O={x:i,y:a,lngLat:o,type:null!==e.getCurrentPickId()&&"mousemove"===s?"mouseout":"un"+s,featureId:null,target:u,feature:null};t.triggerHoverOnLayer(e,A(A({},O),{},{type:"unpick"})),t.triggerHoverOnLayer(e,O),e.setCurrentPickId(null)}if(b&&t.highlightPickedFeature(e,y),_&&"click"===s&&(null===(r=y)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var T=(0,p.decodePickingColor)(y);null===e.getCurrentSelectedId()||T!==e.getCurrentSelectedId()?(t.selectFeature(e,y),e.setCurrentSelectedId(T)):(t.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return l}))}return(0,l["default"])(e,[{key:"init",value:function(e){var t=this.rendererService,n=t.createTexture2D,r=t.createFramebuffer,i=(t.getViewportSize,t.getContainer),a=i().getBoundingClientRect(),o=a.width,s=a.height;o*=p.DOM.DPR,s*=p.DOM.DPR,this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(o/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:T.gl.CLAMP_TO_EDGE,wrapT:T.gl.CLAMP_TO_EDGE})}),this.interactionService.on(O.InteractionEvent.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var e=(0,o["default"])(i["default"].mark((function e(t,n,r){var a,o,s,u=this;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.rendererService,o=a.useFramebuffer,s=a.clear,a.getContainer,this.resizePickingFBO(),o(this.pickingFBO,(function(){s({framebuffer:u.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.hooks.beforePickingEncode.call(),t.renderModels(),t.hooks.afterPickingEncode.call();var e=u.pickBox(t,n);r(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"pickBox",value:function(e,t){var n,r=this,i=t.map((function(e){var t=e<0?0:e;return Math.floor(t*p.DOM.DPR/r.pickBufferScale)})),o=(0,a["default"])(i,4),s=o[0],u=o[1],l=o[2],c=o[3],f=this.rendererService,d=(f.getViewportSize,f.readPixels),h=f.getContainer,v=h().getBoundingClientRect(),m=v.width,y=v.height;if(m*=p.DOM.DPR,y*=p.DOM.DPR,s>(m-1)*p.DOM.DPR/this.pickBufferScale||l<0||u>(y-1)*p.DOM.DPR/this.pickBufferScale||c<0)return[];var g=Math.min(m/this.pickBufferScale,l)-s,b=Math.min(y/this.pickBufferScale,c)-u;n=d({x:s,y:Math.floor(y/this.pickBufferScale-(c+1)),width:g,height:b,data:new Uint8Array(g*b*4),framebuffer:this.pickingFBO});for(var _=[],x={},w=0;w<n.length/4;w+=1){var E=n.slice(4*w,4*w+4),S=(0,p.decodePickingColor)(E);if(-1!==S&&!x[S]){var k=e.getSource().getFeatureById(S);_.push(k),x[S]=!0}}return _}},{key:"pickingAllLayer",value:function(){var e=(0,o["default"])(i["default"].mark((function e(t){return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.alreadyInPicking&&!this.layerService.alreadyInRendering){e.next=2;break}return e.abrupt("return");case 2:return this.alreadyInPicking=!0,e.next=5,this.pickingLayers(t);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resizePickingFBO",value:function(){var e=this.rendererService.getContainer,t=e().getBoundingClientRect(),n=t.width,r=t.height;n*=p.DOM.DPR,r*=p.DOM.DPR,this.width===n&&this.height===r||(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}},{key:"pickingLayers",value:function(){var e=(0,o["default"])(i["default"].mark((function e(t){var n,r,a,o=this;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.rendererService,n.getViewportSize,r=n.useFramebuffer,a=n.clear,n.getContainer,this.resizePickingFBO(),r(this.pickingFBO,(function(){var e=o.layerService.getLayers();e.filter((function(e){return e.needPick(t.type)})).reverse().some((function(e){a({framebuffer:o.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels(),e.hooks.afterPickingEncode.call();var n=o.pickFromPickingFBO(e,t);return n&&!e.getLayerConfig().enablePropagation}))}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerHoverOnLayer",value:function(e,t){e.emit(t.type,t)}},{key:"isEventCrash",value:function(e){var t=!0;return e.target.path.map((function(e){e.classList&&e.classList.forEach((function(e){"l7-marker"!==e&&"l7-popup"!==e||(t=!1)}))})),t}},{key:"highlightPickedFeature",value:function(e,t){var n=(0,a["default"])(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeHighlight.call([r,i,o])}},{key:"selectFeature",value:function(e,t){var n=(0,a["default"])(t,3),r=n[0],i=n[1],o=n[2];e.hooks.beforeSelect.call([r,i,o])}}]),e}(),x=(0,f["default"])(_.prototype,"rendererService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,f["default"])(_.prototype,"configService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,f["default"])(_.prototype,"interactionService",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,f["default"])(_.prototype,"layerService",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_))||b);t["default"]=M},mNvP:function(e,t,n){(function(e,t){var n;(function(n){(function(e){var r="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),i=a(n);function a(e,t){return function(n,r){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}"undefined"===typeof r.Reflect?r.Reflect=n:i=a(r.Reflect,i),e(i)})((function(t){var n=Object.prototype.hasOwnProperty,r="function"===typeof Symbol,i=r&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=r&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",o="function"===typeof Object.create,s={__proto__:[]}instanceof Array,u=!o&&!s,l={create:o?function(){return ae(Object.create(null))}:s?function(){return ae({__proto__:null})}:function(){return ae({})},has:u?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),f="object"===typeof e&&Object({NODE_ENV:"production"})&&"true"===Object({NODE_ENV:"production"})["REFLECT_METADATA_USE_MAP_POLYFILL"],p=f||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ne():Map,d=f||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?re():Set,h=f||"function"!==typeof WeakMap?ie():WeakMap,v=new h;function m(e,t,n,r){if(D(n)){if(!G(e))throw new TypeError;if(!Y(t))throw new TypeError;return O(e,t)}if(!G(e))throw new TypeError;if(!B(t))throw new TypeError;if(!B(r)&&!D(r)&&!F(r))throw new TypeError;return F(r)&&(r=void 0),n=q(n),T(e,t,n,r)}function y(e,t){function n(n,r){if(!B(n))throw new TypeError;if(!D(r)&&!X(r))throw new TypeError;R(e,t,n,r)}return n}function g(e,t,n,r){if(!B(n))throw new TypeError;return D(r)||(r=q(r)),R(e,t,n,r)}function b(e,t,n){if(!B(t))throw new TypeError;return D(n)||(n=q(n)),A(e,t,n)}function _(e,t,n){if(!B(t))throw new TypeError;return D(n)||(n=q(n)),M(e,t,n)}function x(e,t,n){if(!B(t))throw new TypeError;return D(n)||(n=q(n)),P(e,t,n)}function w(e,t,n){if(!B(t))throw new TypeError;return D(n)||(n=q(n)),I(e,t,n)}function E(e,t){if(!B(e))throw new TypeError;return D(t)||(t=q(t)),j(e,t)}function S(e,t){if(!B(e))throw new TypeError;return D(t)||(t=q(t)),L(e,t)}function k(e,t,n){if(!B(t))throw new TypeError;D(n)||(n=q(n));var r=C(t,n,!1);if(D(r))return!1;if(!r["delete"](e))return!1;if(r.size>0)return!0;var i=v.get(t);return i["delete"](n),i.size>0||v["delete"](t),!0}function O(e,t){for(var n=e.length-1;n>=0;--n){var r=e[n],i=r(t);if(!D(i)&&!F(i)){if(!Y(i))throw new TypeError;t=i}}return t}function T(e,t,n,r){for(var i=e.length-1;i>=0;--i){var a=e[i],o=a(t,n,r);if(!D(o)&&!F(o)){if(!B(o))throw new TypeError;r=o}}return r}function C(e,t,n){var r=v.get(e);if(D(r)){if(!n)return;r=new p,v.set(e,r)}var i=r.get(t);if(D(i)){if(!n)return;i=new p,r.set(t,i)}return i}function A(e,t,n){var r=M(e,t,n);if(r)return!0;var i=te(t);return!F(i)&&A(e,i,n)}function M(e,t,n){var r=C(t,n,!1);return!D(r)&&H(r.has(e))}function P(e,t,n){var r=M(e,t,n);if(r)return I(e,t,n);var i=te(t);return F(i)?void 0:P(e,i,n)}function I(e,t,n){var r=C(t,n,!1);if(!D(r))return r.get(e)}function R(e,t,n,r){var i=C(n,r,!0);i.set(e,t)}function j(e,t){var n=L(e,t),r=te(e);if(null===r)return n;var i=j(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var a=new d,o=[],s=0,u=n;s<u.length;s++){var l=u[s],c=a.has(l);c||(a.add(l),o.push(l))}for(var f=0,p=i;f<p.length;f++){l=p[f],c=a.has(l);c||(a.add(l),o.push(l))}return o}function L(e,t){var n=[],r=C(e,t,!1);if(D(r))return n;var i=r.keys(),a=J(i),o=0;while(1){var s=$(a);if(!s)return n.length=o,n;var u=Q(s);try{n[o]=u}catch(l){try{ee(a)}finally{throw l}}o++}}function N(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function D(e){return void 0===e}function F(e){return null===e}function z(e){return"symbol"===typeof e}function B(e){return"object"===typeof e?null!==e:"function"===typeof e}function U(e,t){switch(N(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var n=3===t?"string":5===t?"number":"default",r=K(e,i);if(void 0!==r){var a=r.call(e,n);if(B(a))throw new TypeError;return a}return V(e,"default"===n?"number":n)}function V(e,t){if("string"===t){var n=e.toString;if(Z(n)){var r=n.call(e);if(!B(r))return r}var i=e.valueOf;if(Z(i)){r=i.call(e);if(!B(r))return r}}else{i=e.valueOf;if(Z(i)){r=i.call(e);if(!B(r))return r}var a=e.toString;if(Z(a)){r=a.call(e);if(!B(r))return r}}throw new TypeError}function H(e){return!!e}function W(e){return""+e}function q(e){var t=U(e,3);return z(t)?t:W(t)}function G(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Z(e){return"function"===typeof e}function Y(e){return"function"===typeof e}function X(e){switch(N(e)){case 3:return!0;case 4:return!0;default:return!1}}function K(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Z(n))throw new TypeError;return n}}function J(e){var t=K(e,a);if(!Z(t))throw new TypeError;var n=t.call(e);if(!B(n))throw new TypeError;return n}function Q(e){return e.value}function $(e){var t=e.next();return!t.done&&t}function ee(e){var t=e["return"];t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!==typeof i||i===e?t:i}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[a]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype["throw"]=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype["return"]=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype["delete"]=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[a]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function o(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype["delete"]=function(e){return this._map["delete"](e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[a]=function(){return this.keys()},e}()}function ie(){var e=16,t=l.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=a(e,!0);return n[this._key]=t,this},e.prototype["delete"]=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(l.has(t,e));return t[e]=!0,e}function a(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:l.create()})}return e[r]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function u(){var t=s(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function ae(e){return e.__=void 0,delete e.__,e}t("decorate",m),t("metadata",y),t("defineMetadata",g),t("hasMetadata",b),t("hasOwnMetadata",_),t("getMetadata",x),t("getOwnMetadata",w),t("getMetadataKeys",E),t("getOwnMetadataKeys",S),t("deleteMetadata",k)}))})(n||(n={}))}).call(this,n("Q2Ig"),n("IyRk"))},mTN9:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("H1Ra");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u5730\u56fe\u884c\u653f\u533a\u5212\u7ec4\u4ef6\uff0c\u652f\u6301\u4e16\u754c\u5730\u56fe\uff0c\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e09\u7ea7\uff0c\u652f\u6301\u4e2d\u56fd\u5730\u56fe\u7701\u5e02\u53bf\u4e0a\u94bb\u4e0b\u53d6\u3002"),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),i.a.createElement("p",null,i.a.createElement("strong",null,"using modules")),i.a.createElement(o["a"],{code:"import { WorldLayer } from '@antv/l7-district';",lang:"javascript"}),i.a.createElement("p",null,i.a.createElement("strong",null,"CDN \u7248\u672c\u5f15\u7528")),i.a.createElement(o["a"],{code:'<head>\n  <! --\u5f15\u5165\u6700\u65b0\u7248\u7684L7-District --\x3e\n  <script src="https://unpkg.com/@antv/l7-district"><\/script>\n</head>',lang:"html"}),i.a.createElement("p",null,"\u26a0\ufe0f\u26a0\ufe0f\u26a0\ufe0f District \u76f8\u5173\u914d\u7f6e\u548c\u63a5\u53e3\u8fd8\u5728\u5b8c\u5584\u4e2d\uff0c\u4f60\u53ef\u4ee5\u9002\u7528\u4f53\u9a8c\uff0c\u67d0\u4e9b\u914d\u7f6e\u548c\u63a5\u53e3\u53ef\u80fd\u4f1a\u8fdb\u884c\u8c03\u6574"),i.a.createElement("h3",{id:"\u6570\u636e"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e"),i.a.createElement("p",null,"District \u63d0\u4f9b polygon \u6570\u636e\u9700\u8981\u8ddf\u7528\u6237\u7684\u5c5e\u6027\u6570\u636e\uff0c\u901a\u8fc7\u5173\u7cfb\u5b57\u6bb5\u8fdb\u884c\u8fde\u63a5"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/b6fcd072-72a7-4875-8e05-9652ffc977d9.csv"},"\u56fd\u5bb6\u540d\u79f0\u5bf9\u7167\u8868"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/2aa6fb7b-3694-4df3-b601-6f6f9adac496.csv"},"\u7701\u7ea7\u884c\u653f\u540d\u79f0",i.a.createElement("em",null,"adcode"),"\u5bf9\u7167\u8868.csv"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/d2aefd78-f5df-486f-9310-7449cc7f5569.csv"},"\u5e02\u7ea7\u884c\u653f\u533a\u5212\u53ca\u7f16\u7801"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/fafd299e-0e1e-4fa2-a8ac-10a984c6e983.csv"},"\u53bf\u7ea7\u884c\u653f\u533a\u540d\u79f0\u7ea7\u7f16\u7801")))))))},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),a=n("MMmD");function o(e){return a(e)?r(e,!0):i(e)}e.exports=o},ma9I:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),a=n("6LWA"),o=n("hh1v"),s=n("ewvW"),u=n("UMSQ"),l=n("hBjN"),c=n("ZfDv"),f=n("Hd5f"),p=n("tiKp"),d=n("LQDL"),h=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",y=d>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},_=!y||!g;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,i,a,o=s(this),f=c(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],b(a)){if(i=u(a.length),p+i>v)throw TypeError(m);for(n=0;n<i;n++,p++)n in a&&l(f,p,a[n])}else{if(p>=v)throw TypeError(m);l(f,p++,a)}return f.length=p,f}})},mc0g:function(e,t){function n(e){return function(t,n,r){var i=-1,a=Object(t),o=r(t),s=o.length;while(s--){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}e.exports=n},md7G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("cDf5"),i=n.n(r),a=n("JX7q");function o(e,t){if(t&&("object"===i()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(a["a"])(e)}},mdPL:function(e,t,n){(function(e){var r=n("WFqU"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u}).call(this,n("hOG+")(e))},mdU6:function(e,t,n){},mf30:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("LTtI")),c=r(n("j2eo"));function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"getServiceConstructor",value:function(){return c["default"]}}]),n}(l["default"]);t["default"]=d},mfmY:function(e,t){var n="[object String]",r=Object.prototype,i=r.toString,a=Array.isArray;function o(e){return!!e&&"object"==typeof e}function s(e){return"string"==typeof e||!a(e)&&o(e)&&i.call(e)==n}e.exports=s},mgyK:function(e,t,n){var r=n("NC/Y");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"mh/w":function(e,t,n){var r=n("glrk"),i=n("NaFW");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},mhV4:function(e,t,n){var r=n("ZK94");function i(e){var t,n=0;switch(e.type){case"Polygon":return a(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=a(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=i(e.geometries[t]);return n}}function a(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var t,n,i,a,o,u,l,c=0,f=e.length;if(f>2){for(l=0;l<f;l++)l===f-2?(a=f-2,o=f-1,u=0):l===f-1?(a=f-1,o=0,u=1):(a=l,o=l+1,u=l+2),t=e[a],n=e[o],i=e[u],c+=(s(i[0])-s(t[0]))*Math.sin(s(n[1]));c=c*r.RADIUS*r.RADIUS/2}return c}function s(e){return e*Math.PI/180}e.exports.geometry=i,e.exports.ring=o},miYZ:function(e,t,n){"use strict";n.r(t);n("cIOH"),n("bXwC")},mpbz:function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(n,r,i,a,o,s){if(!(o-a<=i)){var u=a+o>>1;t(n,r,u,a,o,s%2),e(n,r,i,a,u-1,s+1),e(n,r,i,u+1,o,s+1)}}function t(e,r,i,a,o,s){while(o>a){if(o-a>600){var u=o-a+1,l=i-a+1,c=Math.log(u),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),d=Math.max(a,Math.floor(i-l*f/u+p)),h=Math.min(o,Math.floor(i+(u-l)*f/u+p));t(e,r,i,d,h,s)}var v=r[2*i+s],m=a,y=o;n(e,r,a,i),r[2*o+s]>v&&n(e,r,a,o);while(m<y){n(e,r,m,y),m++,y--;while(r[2*m+s]<v)m++;while(r[2*y+s]>v)y--}r[2*a+s]===v?n(e,r,a,y):(y++,n(e,r,y,o)),y<=i&&(a=y+1),i<=y&&(o=y-1)}}function n(e,t,n,i){r(e,n,i),r(t,2*n,2*i),r(t,2*n+1,2*i+1)}function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t,n,r,i,a,o){var s,u,l=[0,e.length-1,0],c=[];while(l.length){var f=l.pop(),p=l.pop(),d=l.pop();if(p-d<=o)for(var h=d;h<=p;h++)s=t[2*h],u=t[2*h+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[h]);else{var v=Math.floor((d+p)/2);s=t[2*v],u=t[2*v+1],s>=n&&s<=i&&u>=r&&u<=a&&c.push(e[v]);var m=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(d),l.push(v-1),l.push(m)),(0===f?i>=s:a>=u)&&(l.push(v+1),l.push(p),l.push(m))}}return c}function a(e,t,n,r,i,a){var s=[0,e.length-1,0],u=[],l=i*i;while(s.length){var c=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a)for(var d=p;d<=f;d++)o(t[2*d],t[2*d+1],n,r)<=l&&u.push(e[d]);else{var h=Math.floor((p+f)/2),v=t[2*h],m=t[2*h+1];o(v,m,n,r)<=l&&u.push(e[h]);var y=(c+1)%2;(0===c?n-i<=v:r-i<=m)&&(s.push(p),s.push(h-1),s.push(y)),(0===c?n+i>=v:r+i>=m)&&(s.push(h+1),s.push(f),s.push(y))}}return u}function o(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}var s=function(e){return e[0]},u=function(e){return e[1]},l=function(t,n,r,i,a){void 0===n&&(n=s),void 0===r&&(r=u),void 0===i&&(i=64),void 0===a&&(a=Float64Array),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,l=this.ids=new o(t.length),c=this.coords=new a(2*t.length),f=0;f<t.length;f++)l[f]=f,c[2*f]=n(t[f]),c[2*f+1]=r(t[f]);e(l,c,i,0,l.length-1,0)};l.prototype.range=function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},l.prototype.within=function(e,t,n){return a(this.ids,this.coords,e,t,n,this.nodeSize)};var c={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},f=Math.fround||function(e){return function(t){return e[0]=+t,e[0]}}(new Float32Array(1)),p=function(e){this.options=x(Object.create(c),e),this.trees=new Array(this.options.maxZoom+1)};function d(e,t,n,r,i){return{x:f(e),y:f(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function h(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:f(y(r)),y:f(g(i)),zoom:1/0,index:t,parentId:-1}}function v(e){return{type:"Feature",id:e.id,properties:m(e),geometry:{type:"Point",coordinates:[b(e.x),_(e.y)]}}}function m(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return x(x({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function y(e){return e/360+.5}function g(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function b(e){return 360*(e-.5)}function _(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function x(e,t){for(var n in t)e[n]=t[n];return e}function w(e){return e.x}function E(e){return e.y}return p.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time("total time");var o="prepare "+e.length+" points";n&&console.time(o),this.points=e;for(var s=[],u=0;u<e.length;u++)e[u].geometry&&s.push(h(e[u],u));this.trees[i+1]=new l(s,w,E,a,Float32Array),n&&console.timeEnd(o);for(var c=i;c>=r;c--){var f=+Date.now();s=this._cluster(s,c),this.trees[c]=new l(s,w,E,a,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-f)}return n&&console.timeEnd("total time"),this},p.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}for(var u=this.trees[this._limitZoom(t)],l=u.range(y(n),g(a),y(i),g(r)),c=[],f=0,p=l;f<p.length;f+=1){var d=p[f],h=u.points[d];c.push(h.numPoints?v(h):this.points[h.index])}return c},p.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var a=i.points[t];if(!a)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(a.x,a.y,o),u=[],l=0,c=s;l<c.length;l+=1){var f=c[l],p=i.points[f];p.parentId===e&&u.push(p.numPoints?v(p):this.points[p.index])}if(0===u.length)throw new Error(r);return u},p.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},p.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),a=this.options,o=a.extent,s=a.radius,u=s/o,l=(n-u)/i,c=(n+1+u)/i,f={features:[]};return this._addTileFeatures(r.range((t-u)/i,l,(t+1+u)/i,c),r.points,t,n,i,f),0===t&&this._addTileFeatures(r.range(1-u/i,l,1,c),r.points,i,n,i,f),t===i-1&&this._addTileFeatures(r.range(0,l,u/i,c),r.points,-1,n,i,f),f.features.length?f:null},p.prototype.getClusterExpansionZoom=function(e){var t=this._getOriginZoom(e)-1;while(t<=this.options.maxZoom){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},p.prototype._appendLeaves=function(e,t,n,r,i){for(var a=this.getChildren(t),o=0,s=a;o<s.length;o+=1){var u=s[o],l=u.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(u),e.length===n)break}return i},p.prototype._addTileFeatures=function(e,t,n,r,i,a){for(var o=0,s=e;o<s.length;o+=1){var u=s[o],l=t[u],c=l.numPoints,f=void 0,p=void 0,d=void 0;if(c)f=m(l),p=l.x,d=l.y;else{var h=this.points[l.index];f=h.properties,p=y(h.geometry.coordinates[0]),d=g(h.geometry.coordinates[1])}var v={type:1,geometry:[[Math.round(this.options.extent*(p*i-n)),Math.round(this.options.extent*(d*i-r))]],tags:f},b=void 0;c?b=l.id:this.options.generateId?b=l.index:this.points[l.index].id&&(b=this.points[l.index].id),void 0!==b&&(v.id=b),a.features.push(v)}},p.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))},p.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=r.minPoints,u=i/(a*Math.pow(2,t)),l=0;l<e.length;l++){var c=e[l];if(!(c.zoom<=t)){c.zoom=t;for(var f=this.trees[t+1],p=f.within(c.x,c.y,u),h=c.numPoints||1,v=h,m=0,y=p;m<y.length;m+=1){var g=y[m],b=f.points[g];b.zoom>t&&(v+=b.numPoints||1)}if(v>=s){for(var _=c.x*h,x=c.y*h,w=o&&h>1?this._map(c,!0):null,E=(l<<5)+(t+1)+this.points.length,S=0,k=p;S<k.length;S+=1){var O=k[S],T=f.points[O];if(!(T.zoom<=t)){T.zoom=t;var C=T.numPoints||1;_+=T.x*C,x+=T.y*C,T.parentId=E,o&&(w||(w=this._map(c,!0)),o(w,this._map(T)))}}c.parentId=E,n.push(d(_/v,x/v,E,v,w))}else if(n.push(c),v>1)for(var A=0,M=p;A<M.length;A+=1){var P=M[A],I=f.points[P];I.zoom<=t||(I.zoom=t,n.push(I))}}}return n},p.prototype._getOriginId=function(e){return e-this.points.length>>5},p.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},p.prototype._map=function(e,t){if(e.numPoints)return t?x({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?x({},r):r},p}))},"mv/X":function(e,t,n){var r=n("ljhN"),i=n("MMmD"),a=n("wJg7"),o=n("GoyQ");function s(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},mwIZ:function(e,t,n){var r=n("ZWtO");function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}e.exports=i},"n+fv":function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i})),n.d(t,"clone",(function(){return a})),n.d(t,"length",(function(){return o})),n.d(t,"fromValues",(function(){return s})),n.d(t,"copy",(function(){return u})),n.d(t,"set",(function(){return l})),n.d(t,"add",(function(){return c})),n.d(t,"subtract",(function(){return f})),n.d(t,"multiply",(function(){return p})),n.d(t,"divide",(function(){return d})),n.d(t,"ceil",(function(){return h})),n.d(t,"floor",(function(){return v})),n.d(t,"min",(function(){return m})),n.d(t,"max",(function(){return y})),n.d(t,"round",(function(){return g})),n.d(t,"scale",(function(){return b})),n.d(t,"scaleAndAdd",(function(){return _})),n.d(t,"distance",(function(){return x})),n.d(t,"squaredDistance",(function(){return w})),n.d(t,"squaredLength",(function(){return E})),n.d(t,"negate",(function(){return S})),n.d(t,"inverse",(function(){return k})),n.d(t,"normalize",(function(){return O})),n.d(t,"dot",(function(){return T})),n.d(t,"cross",(function(){return C})),n.d(t,"lerp",(function(){return A})),n.d(t,"hermite",(function(){return M})),n.d(t,"bezier",(function(){return P})),n.d(t,"random",(function(){return I})),n.d(t,"transformMat4",(function(){return R})),n.d(t,"transformMat3",(function(){return j})),n.d(t,"transformQuat",(function(){return L})),n.d(t,"rotateX",(function(){return N})),n.d(t,"rotateY",(function(){return D})),n.d(t,"rotateZ",(function(){return F})),n.d(t,"angle",(function(){return z})),n.d(t,"zero",(function(){return B})),n.d(t,"str",(function(){return U})),n.d(t,"exactEquals",(function(){return V})),n.d(t,"equals",(function(){return H})),n.d(t,"sub",(function(){return W})),n.d(t,"mul",(function(){return q})),n.d(t,"div",(function(){return G})),n.d(t,"dist",(function(){return Z})),n.d(t,"sqrDist",(function(){return Y})),n.d(t,"len",(function(){return X})),n.d(t,"sqrLen",(function(){return K})),n.d(t,"forEach",(function(){return J}));var r=n("yU0y");function i(){var e=new r["ARRAY_TYPE"](3);return r["ARRAY_TYPE"]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=new r["ARRAY_TYPE"](3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(e){var t=e[0],n=e[1],r=e[2];return Math.hypot(t,n,r)}function s(e,t,n){var i=new r["ARRAY_TYPE"](3);return i[0]=e,i[1]=t,i[2]=n,i}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function c(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function f(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function p(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function v(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function m(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function y(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function g(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function b(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function _(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function x(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.hypot(n,r,i)}function w(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function E(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function k(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function O(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function T(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function C(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],u=n[2];return e[0]=i*u-a*s,e[1]=a*o-r*u,e[2]=r*s-i*o,e}function A(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}function M(e,t,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return e[0]=t[0]*s+n[0]*u+r[0]*l+i[0]*c,e[1]=t[1]*s+n[1]*u+r[1]*l+i[1]*c,e[2]=t[2]*s+n[2]*u+r[2]*l+i[2]*c,e}function P(e,t,n,r,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,p=u*a;return e[0]=t[0]*l+n[0]*c+r[0]*f+i[0]*p,e[1]=t[1]*l+n[1]*c+r[1]*f+i[1]*p,e[2]=t[2]*l+n[2]*c+r[2]*f+i[2]*p,e}function I(e,t){t=t||1;var n=2*r["RANDOM"]()*Math.PI,i=2*r["RANDOM"]()-1,a=Math.sqrt(1-i*i)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=i*t,e}function R(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function j(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}function L(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=t[0],u=t[1],l=t[2],c=i*l-a*u,f=a*s-r*l,p=r*u-i*s,d=i*p-a*f,h=a*c-r*p,v=r*f-i*c,m=2*o;return c*=m,f*=m,p*=m,d*=2,h*=2,v*=2,e[0]=s+c+d,e[1]=u+f+h,e[2]=l+p+v,e}function N(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function D(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function F(e,t,n,r){var i=[],a=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],e[0]=a[0]+n[0],e[1]=a[1]+n[1],e[2]=a[2]+n[2],e}function z(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],u=Math.sqrt(n*n+r*r+i*i),l=Math.sqrt(a*a+o*o+s*s),c=u*l,f=c&&T(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}function B(e){return e[0]=0,e[1]=0,e[2]=0,e}function U(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function H(e,t){var n=e[0],i=e[1],a=e[2],o=t[0],s=t[1],u=t[2];return Math.abs(n-o)<=r["EPSILON"]*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r["EPSILON"]*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-u)<=r["EPSILON"]*Math.max(1,Math.abs(a),Math.abs(u))}var W=f,q=p,G=d,Z=x,Y=w,X=o,K=E,J=function(){var e=i();return function(t,n,r,i,a,o){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},n2J3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n("xfSm"),i=n("GXnB"),a=n("Ztfv");function o(){return function(e,t,n){var o=new i.Metadata(r.UNMANAGED_TAG,!0);a.tagParameter(e,t,n,o)}}t.unmanaged=o},"n3/R":function(e,t,n){"use strict";var r=n("0Dky");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},n3AX:function(e,t,n){var r=n("Nsbk");function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=r(e),null===e)break;return e}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},n5b4:function(e,t,n){var r=n("I+eb"),i=n("2oRo"),a=n("tXUg"),o=n("xrYK"),s=i.process,u="process"==o(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=u&&s.domain;a(t?t.bind(e):e)}})},n5pg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("Sssf"),u=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(n,e,t))return u.stop(e)}),void 0,!0,!0).result}})},nIe3:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("0GbY"),o=n("glrk"),s=n("HAuM"),u=n("A2ZE"),l=n("SEBh"),c=n("Sssf"),f=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=o(this),n=c(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(l(t,a("Map"))),p=s(i.set);return f(n,(function(e,n){p.call(i,r(n,e,t),n)}),void 0,!0,!0),i}})},nLCz:function(e,t,n){"use strict";function r(){var e=i(n("q1tI"));return r=function(){return e},e}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=r()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[]});t["default"]=a},nagm:function(e,t,n){"use strict";function r(e,t){return e.map((function(e){return 1*e[t]}))}Object.defineProperty(t,"__esModule",{value:!0}),t.getColumn=r},nmnc:function(e,t,n){var r=n("Kz5y"),i=r.Symbol;e.exports=i},nmq7:function(e,t,n){"use strict";var r=n("0jNN"),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",f=function(e,t){var n,f={},p=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=p.split(t.delimiter,d),v=-1,m=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&(h[n]===c?m="utf-8":h[n]===l&&(m="iso-8859-1"),v=n,n=h.length);for(n=0;n<h.length;++n)if(n!==v){var y,g,b=h[n],_=b.indexOf("]="),x=-1===_?b.indexOf("="):_+1;-1===x?(y=t.decoder(b,o.decoder,m,"key"),g=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,x),o.decoder,m,"key"),g=r.maybeMap(u(b.slice(x+1),t),(function(e){return t.decoder(e,o.decoder,m,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===m&&(g=s(g)),b.indexOf("[]=")>-1&&(g=a(g)?[g]:g),i.call(f,y)?f[y]=r.combine(f[y],g):f[y]=g}return f},p=function(e,t,n,r){for(var i=r?t:u(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(l,10);n.parseArrays||""!==l?!isNaN(c)&&s!==l&&String(c)===l&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[],o[c]=i):o[l]=i:o={0:i}}i=o}return i},d=function(e,t,n,r){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(a),l=u?a.slice(0,u.index):a,c=[];if(l){if(!n.plainObjects&&i.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}var f=0;while(n.depth>0&&null!==(u=s.exec(a))&&f<n.depth){if(f+=1,!n.plainObjects&&i.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+a.slice(u.index)+"]"),p(c,t,n,r)}},h=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var n=h(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof e?f(e,n):e,a=n.plainObjects?Object.create(null):{},o=Object.keys(i),s=0;s<o.length;++s){var u=o[s],l=d(u,i[u],n,"string"===typeof e);a=r.merge(a,l,n)}return!0===n.allowSparse?a:r.compact(a)}},ntOU:function(e,t,n){"use strict";var r=n("rpNk").IteratorPrototype,i=n("fHMY"),a=n("XGwC"),o=n("1E5z"),s=n("P4y1"),u=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,l,!1,!0),s[l]=u,e}},ny8l:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&0==e?1/e==-1/0:e<0}})},o0kM:function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function a(e,t){return c(e)||l(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function c(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f,p="https://riddle.alibaba-inc.com/riddles/define",d=function(){var e=(0,i().useState)(Boolean(f)),t=a(e,2),n=t[0],r=t[1];return(0,i().useEffect)((function(){if(void 0===f){var e=document.createElement("img");setTimeout((function(){e.src="",e.remove()}),200),e.onload=function(){f=!0,r(!0),e.remove()},e.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),n};function h(e){var t,n=e.dependencies,r=e.sources._.tsx||e.sources._.jsx;return r=r.replace(/^/,"import ReactDOM from 'react-dom@".concat((null===(t=n.react)||void 0===t?void 0:t.version)||"latest","';\n")).replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),r=r.replace(/(from ')((?:@[^/'"]+)?[^/'"]+)/g,(function(e,t,r){var i="".concat(t).concat(r);return n[r]&&(i+="@".concat(n[r].version)),i})),r}var v=function(e){var t=(0,i().useState)(),n=a(t,2),o=n[0],s=n[1],u=d();return(0,i().useEffect)((function(){if(e&&u&&1===Object.keys(e.sources).length){var t=document.createElement("form"),n=document.createElement("input");return t.method="POST",t.target="_blank",t.style.display="none",t.action=p,t.appendChild(n),t.setAttribute("data-demo",e.title||""),n.name="data",n.value=JSON.stringify({title:e.titlle,js:h(e),css:Object.entries(e.dependencies).filter((function(e){var t=r(e,2),n=t[1];return n.css})).map((function(e){var t=r(e,2),n=t[0],i=t[1],a=i.version,o=i.css;return"@import '~".concat(o.replace(new RegExp("^(".concat(n,")")),"$1@".concat(a)),"';")})).join("\n")}),document.body.appendChild(t),s((function(){return function(){return t.submit()}})),function(){return t.remove()}}}),[e,u]),o};t["default"]=v},o0o1:function(e,t,n){e.exports=n("VWci")},o7U5:function(e,t,n){},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),a=n("MvSz"),o=n("0ycA"),s=Object.getOwnPropertySymbols,u=s?function(e){var t=[];while(e)r(t,a(e)),e=i(e);return t}:o;e.exports=u},"oHi+":function(e,t,n){var r=n("ewvW"),i=n("UMSQ"),a=n("NaFW"),o=n("6VoE"),s=n("A2ZE"),u=n("67WC").aTypedArrayConstructor;e.exports=function(e){var t,n,l,c,f,p,d=r(e),h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=a(d);if(void 0!=y&&!o(y)){f=y.call(d),p=f.next,d=[];while(!(c=p.call(f)).done)d.push(c.value)}for(m&&h>2&&(v=s(v,arguments[2],2)),n=i(d.length),l=new(u(this))(n),t=0;n>t;t++)l[t]=m?v(d[t],t):d[t];return l}},oNNP:function(e,t,n){"use strict";var r=n("D3zA");e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},oShl:function(e,t,n){var r=n("Nsbk"),i=n("SksO"),a=n("xfeJ"),o=n("sXyB");function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,s(t)}e.exports=s,e.exports["default"]=e.exports,e.exports.__esModule=!0},oaX6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n("xfSm"),i=n("GXnB"),a=n("Ztfv");function o(e){return function(t,n,o){var s=new i.Metadata(r.NAME_TAG,e);a.tagParameter(t,n,o,s)}}t.targetName=o},ofBz:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ntOU"),a=n("HYAF"),o=n("UMSQ"),s=n("HAuM"),u=n("glrk"),l=n("xrYK"),c=n("ROdP"),f=n("rW0t"),p=n("kRJp"),d=n("0Dky"),h=n("tiKp"),v=n("SEBh"),m=n("iqWW"),y=n("afO8"),g=n("xDBR"),b=h("matchAll"),_="RegExp String",x=_+" Iterator",w=y.set,E=y.getterFor(x),S=RegExp.prototype,k=S.exec,O="".matchAll,T=!!O&&!d((function(){"a".matchAll(/./)})),C=function(e,t){var n,r=e.exec;if("function"==typeof r){if(n=r.call(e,t),"object"!=typeof n)throw TypeError("Incorrect exec result");return n}return k.call(e,t)},A=i((function(e,t,n,r){w(this,{type:x,regexp:e,string:t,global:n,unicode:r,done:!1})}),_,(function(){var e=E(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=C(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=m(n,o(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),M=function(e){var t,n,r,i,a,s,l=u(this),c=String(e);return t=v(l,RegExp),n=l.flags,void 0===n&&l instanceof RegExp&&!("flags"in S)&&(n=f.call(l)),r=void 0===n?"":String(n),i=new t(t===RegExp?l.source:l,r),a=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=o(l.lastIndex),new A(i,c,a,s)};r({target:"String",proto:!0,forced:T},{matchAll:function(e){var t,n,r,i,o=a(this);if(null!=e){if(c(e)&&(t=String(a("flags"in S?e.flags:f.call(e))),!~t.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(T)return O.apply(o,arguments);if(r=e[b],void 0===r&&g&&"RegExp"==l(e)&&(r=M),null!=r)return s(r).call(e,o)}else if(T)return O.apply(o,arguments);return n=String(o),i=new RegExp(e,"g"),g?M.call(i,n):i[b](n)}}),g||b in S||p(S,b,M)},or5M:function(e,t,n){var r=n("1hJj"),i=n("QoRX"),a=n("xYSL"),o=1,s=2;function u(e,t,n,u,l,c){var f=n&o,p=e.length,d=t.length;if(p!=d&&!(f&&d>p))return!1;var h=c.get(e),v=c.get(t);if(h&&v)return h==t&&v==e;var m=-1,y=!0,g=n&s?new r:void 0;c.set(e,t),c.set(t,e);while(++m<p){var b=e[m],_=t[m];if(u)var x=f?u(_,b,m,t,e,c):u(b,_,m,e,t,c);if(void 0!==x){if(x)continue;y=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(b===e||l(b,e,n,u,c)))return g.push(t)}))){y=!1;break}}else if(b!==_&&!l(b,_,n,u,c)){y=!1;break}}return c["delete"](e),c["delete"](t),y}e.exports=u},or9q:function(e,t,n){"use strict";var r=n("6LWA"),i=n("UMSQ"),a=n("A2ZE"),o=function(e,t,n,s,u,l,c,f){var p,d=u,h=0,v=!!c&&a(c,f,3);while(h<s){if(h in n){if(p=v?v(n[h],h,t):n[h],l>0&&r(p))d=o(e,t,p,i(p.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}h++}return d};e.exports=o},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;function o(e){return a?Object(a.call(e)):{}}e.exports=o},"oy+k":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n("d9O0"),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},p532:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("/qmn"),o=n("0Dky"),s=n("0GbY"),u=n("SEBh"),l=n("zfnd"),c=n("busE"),f=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype["finally"]||c(a.prototype,"finally",s("Promise").prototype["finally"])},p5mE:function(e,t,n){var r=n("Tskq"),i=n("ENF9"),a=n("fHMY"),o=n("hh1v"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=a(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,n){var a=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new r),o=a.get(t);return o||a.set(t,o=new s),o};var u=new s;e.exports=function(){var e,t,n=u,r=arguments.length;for(e=0;e<r;e++)o(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)o(t=arguments[e])||(n=n.next(e,t,!1));return n}},p8yl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidColorString=t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=n("xkGU"),i=s(r),a=n("Zss7"),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=["r","g","b","a","h","s","l","v"],n=0,r=0;return(0,i["default"])(t,(function(t){if(e[t]&&(n+=1,isNaN(e[t])||(r+=1),"s"===t||"l"===t)){var i=/^\d+%$/;i.test(e[t])&&(r+=1)}})),n===r&&e};var u=t.toState=function(e,t){var n=e.hex?(0,o["default"])(e.hex):(0,o["default"])(e),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),s=n.toHex();0===r.s&&(r.h=t||0,i.h=t||0);var u="000000"===s&&0===a.a;return{hsl:r,hex:u?"transparent":"#"+s,rgb:a,hsv:i,oldHue:e.h||t||r.h,source:e.source}};t.isValidHex=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o["default"])(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=u(e);if("transparent"===t.hex)return"rgba(0,0,0,0.4)";var n=(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3;return n>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},t.isvalidColorString=function(e,t){var n=e.replace("\xb0","");return(0,o["default"])(t+" ("+n+")")._ok}},pDQq:function(e,t,n){"use strict";var r=n("I+eb"),i=n("I8vh"),a=n("ppGB"),o=n("UMSQ"),s=n("ewvW"),u=n("ZfDv"),l=n("hBjN"),c=n("Hd5f"),f=n("rkAj"),p=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,m=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var n,r,c,f,p,d,g=s(this),b=o(g.length),_=i(e,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-_):(n=x-2,r=v(h(a(t),0),b-_)),b+n-r>m)throw TypeError(y);for(c=u(g,r),f=0;f<r;f++)p=_+f,p in g&&l(c,f,g[p]);if(c.length=r,n<r){for(f=_;f<b-r;f++)p=f+r,d=f+n,p in g?g[d]=g[p]:delete g[d];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>_;f--)p=f+r-1,d=f+n-1,p in g?g[d]=g[p]:delete g[d];for(f=0;f<n;f++)g[f+_]=arguments[f+2];return g.length=b-r+n,c}})},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),a=n("zZ0H"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},pNMO:function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("0GbY"),o=n("xDBR"),s=n("g6v/"),u=n("STAE"),l=n("/b8u"),c=n("0Dky"),f=n("UTVS"),p=n("6LWA"),d=n("hh1v"),h=n("glrk"),v=n("ewvW"),m=n("/GqU"),y=n("wE6v"),g=n("XGwC"),b=n("fHMY"),_=n("33Wh"),x=n("JBy8"),w=n("BX/b"),E=n("dBg+"),S=n("Bs8V"),k=n("m/L8"),O=n("0eef"),T=n("kRJp"),C=n("busE"),A=n("VpIT"),M=n("93I0"),P=n("0BK2"),I=n("kOOl"),R=n("tiKp"),j=n("5Tg+"),L=n("dG/n"),N=n("1E5z"),D=n("afO8"),F=n("tycR").forEach,z=M("hidden"),B="Symbol",U="prototype",V=R("toPrimitive"),H=D.set,W=D.getterFor(B),q=Object[U],G=i.Symbol,Z=a("JSON","stringify"),Y=S.f,X=k.f,K=w.f,J=O.f,Q=A("symbols"),$=A("op-symbols"),ee=A("string-to-symbol-registry"),te=A("symbol-to-string-registry"),ne=A("wks"),re=i.QObject,ie=!re||!re[U]||!re[U].findChild,ae=s&&c((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(q,t);r&&delete q[t],X(e,t,n),r&&e!==q&&X(q,t,r)}:X,oe=function(e,t){var n=Q[e]=b(G[U]);return H(n,{type:B,tag:e,description:t}),s||(n.description=t),n},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},ue=function(e,t,n){e===q&&ue($,t,n),h(e);var r=y(t,!0);return h(n),f(Q,r)?(n.enumerable?(f(e,z)&&e[z][r]&&(e[z][r]=!1),n=b(n,{enumerable:g(0,!1)})):(f(e,z)||X(e,z,g(1,{})),e[z][r]=!0),ae(e,r,n)):X(e,r,n)},le=function(e,t){h(e);var n=m(t),r=_(n).concat(he(n));return F(r,(function(t){s&&!fe.call(n,t)||ue(e,t,n[t])})),e},ce=function(e,t){return void 0===t?b(e):le(b(e),t)},fe=function(e){var t=y(e,!0),n=J.call(this,t);return!(this===q&&f(Q,t)&&!f($,t))&&(!(n||!f(this,t)||!f(Q,t)||f(this,z)&&this[z][t])||n)},pe=function(e,t){var n=m(e),r=y(t,!0);if(n!==q||!f(Q,r)||f($,r)){var i=Y(n,r);return!i||!f(Q,r)||f(n,z)&&n[z][r]||(i.enumerable=!0),i}},de=function(e){var t=K(m(e)),n=[];return F(t,(function(e){f(Q,e)||f(P,e)||n.push(e)})),n},he=function(e){var t=e===q,n=K(t?$:m(e)),r=[];return F(n,(function(e){!f(Q,e)||t&&!f(q,e)||r.push(Q[e])})),r};if(u||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===q&&n.call($,e),f(this,z)&&f(this[z],t)&&(this[z][t]=!1),ae(this,t,g(1,e))};return s&&ie&&ae(q,t,{configurable:!0,set:n}),oe(t,e)},C(G[U],"toString",(function(){return W(this).tag})),C(G,"withoutSetter",(function(e){return oe(I(e),e)})),O.f=fe,k.f=ue,S.f=pe,x.f=w.f=de,E.f=he,j.f=function(e){return oe(R(e),e)},s&&(X(G[U],"description",{configurable:!0,get:function(){return W(this).description}}),o||C(q,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:G}),F(_(ne),(function(e){L(e)})),r({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=G(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:ce,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:c((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(v(e))}}),Z){var ve=!u||c((function(){var e=G();return"[null]"!=Z([e])||"{}"!=Z({a:e})||"{}"!=Z(Object(e))}));r({target:"JSON",stat:!0,forced:ve},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return p(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,Z.apply(null,i)}})}G[U][V]||T(G[U],V,G[U].valueOf),N(G,B),P[z]=!0},pSRY:function(e,t,n){var r=n("QkVE");function i(e){return r(this,e).has(e)}e.exports=i},pd6k:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=["Country","Region","Province","City","County"],i={100:{name:"\u534e\u5317\u533a",code:"100",child:[11e4,12e4,13e4,15e4,21e4,22e4,23e4,37e4],center:[118.740234375,42.87596410238256]},101:{name:"\u534e\u4e1c\u533a",code:"101",child:[32e4,34e4,31e4],center:[118.564453125,31.765537409484374]},102:{name:"\u534e\u5357\u533a",code:"102",child:[44e4,45e4,46e4],center:[110.709228515625,22.238259929564308]},103:{name:"\u534e\u897f\u533a",code:"103",child:[5e5,51e4,52e4,53e4],center:[90.263671875,36.73888412439431]},104:{name:"\u534e\u4e2d\u533a",code:"104",child:[33e4,35e4,36e4,42e4,43e4],center:[118.05908203124999,28.38173504322308]},301:{name:"\u4e2d\u897f\u533a",code:"301",child:[14e4,41e4,54e4,61e4,62e4,63e4,64e4,65e4],center:[109.1162109375,35.209721645221386]},701:{name:"\u6e2f\u6fb3\u53f0",code:"701",child:[71e4,81e4,82e4]}}},pevA:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("JiZb"),o=n("HAuM"),s=n("glrk"),u=n("hh1v"),l=n("GarU"),c=n("m/L8").f,f=n("kRJp"),p=n("4syw"),d=n("mh/w"),h=n("ImZN"),v=n("RN6c"),m=n("tiKp"),y=n("afO8"),g=m("observable"),b=y.get,_=y.set,x=function(e){return null==e?void 0:o(e)},w=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(n){v(n)}}},E=function(e){return void 0===e.observer},S=function(e,t){if(!i){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},k=function(e,t){var n,r=_(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=x(e.start))&&n.call(e,this)}catch(c){v(c)}if(!E(r)){var a=r.subscriptionObserver=new O(this);try{var u=t(a),l=u;null!=u&&(r.cleanup="function"===typeof u.unsubscribe?function(){l.unsubscribe()}:o(u))}catch(c){return void a.error(c)}E(r)&&w(r)}};k.prototype=p({},{unsubscribe:function(){var e=b(this);E(e)||(S(this,e),w(e))}}),i&&c(k.prototype,"closed",{configurable:!0,get:function(){return E(b(this))}});var O=function(e){_(this,{subscription:e}),i||(this.closed=!1)};O.prototype=p({},{next:function(e){var t=b(b(this).subscription);if(!E(t)){var n=t.observer;try{var r=x(n.next);r&&r.call(n,e)}catch(i){v(i)}}},error:function(e){var t=b(this).subscription,n=b(t);if(!E(n)){var r=n.observer;S(t,n);try{var i=x(r.error);i?i.call(r,e):v(e)}catch(a){v(a)}w(n)}},complete:function(){var e=b(this).subscription,t=b(e);if(!E(t)){var n=t.observer;S(e,t);try{var r=x(n.complete);r&&r.call(n)}catch(i){v(i)}w(t)}}}),i&&c(O.prototype,"closed",{configurable:!0,get:function(){return E(b(b(this).subscription))}});var T=function(e){l(this,T,"Observable"),_(this,{subscriber:o(e)})};p(T.prototype,{subscribe:function(e){var t=arguments.length;return new k("function"===typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:u(e)?e:{},b(this).subscriber)}}),p(T,{from:function(e){var t="function"===typeof this?this:T,n=x(s(e)[g]);if(n){var r=s(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}var i=d(e);return new t((function(e){h(i,(function(t){if(e.next(t),e.closed)return h.stop()}),void 0,!1,!0),e.complete()}))},of:function(){var e="function"===typeof this?this:T,t=arguments.length,n=new Array(t),r=0;while(r<t)n[r]=arguments[r++];return new e((function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()}))}}),f(T.prototype,g,(function(){return this})),r({global:!0},{Observable:T}),a("Observable")},pjDv:function(e,t,n){var r=n("I+eb"),i=n("TfTi"),a=n("HH4o"),o=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:o},{from:i})},pkCn:function(e,t,n){"use strict";var r=n("0Dky");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ppGB:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},pv2x:function(e,t,n){var r=n("I+eb"),i=n("0GbY"),a=n("HAuM"),o=n("glrk"),s=n("0Dky"),u=i("Reflect","apply"),l=Function.apply,c=!s((function(){u((function(){}))}));r({target:"Reflect",stat:!0,forced:c},{apply:function(e,t,n){return a(e),o(n),u?u(e,t,n):l.call(e,t,n)}})},pwpV:function(e,t,n){},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},q3YX:function(e){e.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/start","title":"\u5feb\u901f\u5f00\u59cb","meta":{"order":0}},{"path":"/baselayer","title":"\u6807\u51c6\u5730\u56fe","meta":{"order":1}},{"path":"/drilldown","title":"\u94bb\u53d6\u5730\u56fe","meta":{"order":2}},{"path":"/","title":"API","meta":{"order":4}},{"title":"Demo","path":"/demo","meta":{},"children":[{"path":"/demo/base","title":"\u6807\u51c6\u5730\u56fe","meta":{"order":1}},{"path":"/demo/china","title":"\u4e2d\u56fd\u5730\u56fe","meta":{"order":1}},{"path":"/demo/world","title":"\u4e16\u754c\u5730\u56fe","meta":{"order":1}},{"path":"/demo/drilldown","title":"\u94bb\u53d6\u5730\u56fe","meta":{"order":2}},{"path":"/demo/drilldown_buble","title":"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe","meta":{"order":2}},{"path":"/demo/fillcolor","title":"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49","meta":{"order":3}},{"path":"/demo/custom-drilldown","title":"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe","meta":{"order":5}},{"path":"/demo/update-data","title":"\u6570\u636e\u66f4\u65b0","meta":{"order":5}}]},{"title":"Example","path":"/example","meta":{},"children":[{"path":"/example/china","title":"\u6807\u51c6\u5730\u56fe","meta":{"order":2}},{"path":"/example/dark","title":"\u6697\u8272\u5730\u56fe","meta":{"order":2}},{"path":"/example/drilldown","title":"\u4e0b\u94bb\u5730\u56fe","meta":{"order":2}},{"path":"/example/region","title":"\u5927\u533a\u4e0b\u94bb","meta":{"order":2}}]}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{},"title":"\u884c\u653f\u533a\u533a\u5757\u53ef\u89c6\u5316 Boundary","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"doc","repository":{"url":"","branch":"master"},"theme":{}}')},q9si:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA"));function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){function e(){(0,i["default"])(this,e),(0,o["default"])(this,"queue",void 0),(0,o["default"])(this,"id",void 0),(0,o["default"])(this,"cleared",void 0),(0,o["default"])(this,"currentlyRunning",void 0),this.queue=[],this.id=0,this.cleared=!1,this.currentlyRunning=!1}return(0,a["default"])(e,[{key:"add",value:function(e){var t=++this.id,n=this.queue;return n.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,n=this.currentlyRunning,r=n?this.queue.concat(n):this.queue,i=s(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.id===e)return void(a.cancelled=!0)}}catch(o){i.e(o)}finally{i.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.currentlyRunning=this.queue;this.queue=[];var n,r=s(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.cancelled&&(i.callback(e),this.cleared))break}}catch(a){r.e(a)}finally{r.f()}this.cleared=!1,this.currentlyRunning=!1}},{key:"clear",value:function(){this.currentlyRunning&&(this.cleared=!0),this.queue=[]}}]),e}(),f=c;t["default"]=f},qD9g:function(e,t,n){"use strict";var r=n("TqRt"),i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=r(n("o0o1")),o=r(n("yXPU")),s=r(n("yG8O")),u=r(n("lwsE")),l=r(n("W8MJ")),c=r(n("PJYZ")),f=r(n("7W2i")),p=r(n("a1gu")),d=r(n("Nsbk")),h=r(n("lSNA")),v=r(n("U+yc")),m=(r(n("1ABj")),n("xp6e")),y=n("z0pJ"),g=i(n("iegG")),b=n("uhBA"),_=n("4cb6");n("mNvP");var x,w,E,S,k,O,T,C,A,M,P,I,R,j,L,N,D,F,z,B,U,V,H,W,q,G,Z,Y,X,K,J,Q,$,ee=n("0t2r"),te=n("RHKt"),ne=n("OH7Y");function re(e){var t=ie();return function(){var n,r=(0,d["default"])(e);if(t){var i=(0,d["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,p["default"])(this,n)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ae=(x=(0,_.injectable)(),w=(0,_.inject)(ee.TYPES.SceneID),E=(0,_.inject)(ee.TYPES.IIconService),S=(0,_.inject)(ee.TYPES.IFontService),k=(0,_.inject)(ee.TYPES.IControlService),O=(0,_.inject)(ee.TYPES.IGlobalConfigService),T=(0,_.inject)(ee.TYPES.IMapService),C=(0,_.inject)(ee.TYPES.ICoordinateSystemService),A=(0,_.inject)(ee.TYPES.IRendererService),M=(0,_.inject)(ee.TYPES.ILayerService),P=(0,_.inject)(ee.TYPES.ICameraService),I=(0,_.inject)(ee.TYPES.IInteractionService),R=(0,_.inject)(ee.TYPES.IPickingService),j=(0,_.inject)(ee.TYPES.IShaderModuleService),L=(0,_.inject)(ee.TYPES.IMarkerService),N=(0,_.inject)(ee.TYPES.IPopupService),x((F=function(e){(0,f["default"])(n,e);var t=re(n);function n(){var e;return(0,u["default"])(this,n),e=t.call(this),(0,h["default"])((0,c["default"])(e),"destroyed",!1),(0,h["default"])((0,c["default"])(e),"loaded",!1),(0,h["default"])((0,c["default"])(e),"loadFont",!1),(0,h["default"])((0,c["default"])(e),"fontFamily",""),(0,s["default"])((0,c["default"])(e),"id",z,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"iconService",B,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"fontService",U,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"controlService",V,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"configService",H,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"map",W,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"coordinateSystemService",q,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"rendererService",G,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"layerService",Z,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"cameraService",Y,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"interactionService",X,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"pickingService",K,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"shaderModuleService",J,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"markerService",Q,(0,c["default"])(e)),(0,s["default"])((0,c["default"])(e),"popupService",$,(0,c["default"])(e)),(0,h["default"])((0,c["default"])(e),"inited",!1),(0,h["default"])((0,c["default"])(e),"initPromise",void 0),(0,h["default"])((0,c["default"])(e),"rendering",!1),(0,h["default"])((0,c["default"])(e),"$container",void 0),(0,h["default"])((0,c["default"])(e),"canvas",void 0),(0,h["default"])((0,c["default"])(e),"markerContainer",void 0),(0,h["default"])((0,c["default"])(e),"hooks",void 0),(0,h["default"])((0,c["default"])(e),"handleWindowResized",(function(){e.emit("resize"),e.$container&&(e.initContainer(),y.DOM.triggerResize(),e.coordinateSystemService.needRefresh=!0,e.render())})),(0,h["default"])((0,c["default"])(e),"handleMapCameraChanged",(function(t){e.cameraService.update(t),e.render()})),e.hooks={init:new m.AsyncParallelHook},e}return(0,l["default"])(n,[{key:"init",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,o["default"])(a["default"].mark((function e(){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),"GAODE2.x"!==t.map.version&&e()})),"GAODE2.x"!==t.map.version?t.map.init():e()}));case 2:if("GAODE2.x"!==t.map.version||!t.map.initViewPort){e.next=6;break}return e.next=5,t.map.init();case 5:t.map.initViewPort();case 6:t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(ne.InteractionEvent.Drag,t.addSceneEvent.bind(t));case 13:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",(0,o["default"])(a["default"].mark((function e(){var n;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=(0,te.createRendererContainer)(t.configService.getSceneConfig(t.id).id||""),t.$container=n,!n){e.next=11;break}return t.canvas=y.DOM.create("canvas","",n),t.setCanvas(),e.next=7,t.rendererService.init(t.canvas,t.configService.getSceneConfig(t.id));case 7:(0,g["default"])(t.$container,t.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(t.handleWindowResized),e.next=12;break;case 11:console.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 12:t.pickingService.init(t.id);case 13:case"end":return e.stop()}}),e)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(e){this.layerService.add(e),this.render()}},{key:"render",value:function(){var e=(0,o["default"])(a["default"].mark((function e(){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.rendering&&!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.rendering=!0,this.inited){e.next=15;break}return e.next=6,this.initPromise;case 6:if(this.destroyed&&this.destroy(),!this.loadFont||!document.fonts){e.next=10;break}return e.next=10,document.fonts.load("24px ".concat(this.fontFamily),"L7text");case 10:this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 15:this.layerService.renderLayers(),this.rendering=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFontFace",value:function(e,t){this.fontFamily=e;var n=document.createElement("style");n.type="text/css",n.innerText="\n        @font-face{\n            font-family: '".concat(e,"';\n            src: url('").concat(t,"') format('woff2'),\n            url('").concat(t,"') format('woff'),\n            url('").concat(t,"') format('truetype');\n        }"),document.getElementsByTagName("head")[0].appendChild(n),this.loadFont=!0}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(e){var t,n=null===(t=this.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];this.render();var r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"addMarkerContainer",value:function(){var e=this.$container.parentElement;null!==e&&(this.markerContainer=y.DOM.create("div","l7-marker-container",e))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){this.inited?(this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.removeAllListeners(),this.inited=!1,(0,g.unbind)(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)):this.destroyed=!0}},{key:"initContainer",value:function(){var e,t,n=y.DOM.DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,a=this.canvas;a&&(a.width=r*n,a.height=i*n,a.style.width="".concat(r,"px"),a.style.height="".concat(i,"px")),this.rendererService.viewport({x:0,y:0,width:n*r,height:n*i})}},{key:"setCanvas",value:function(){var e,t,n=y.DOM.DPR,r=(null===(e=this.$container)||void 0===e?void 0:e.clientWidth)||400,i=(null===(t=this.$container)||void 0===t?void 0:t.clientHeight)||300,a=this.canvas;a.width=r*n,a.height=i*n,a.style.width="".concat(r,"px"),a.style.height="".concat(i,"px")}},{key:"addSceneEvent",value:function(e){this.emit(e.type,e)}}]),n}(b.EventEmitter),z=(0,v["default"])(F.prototype,"id",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,v["default"])(F.prototype,"iconService",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,v["default"])(F.prototype,"fontService",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,v["default"])(F.prototype,"controlService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,v["default"])(F.prototype,"configService",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,v["default"])(F.prototype,"map",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,v["default"])(F.prototype,"coordinateSystemService",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,v["default"])(F.prototype,"rendererService",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,v["default"])(F.prototype,"layerService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,v["default"])(F.prototype,"cameraService",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,v["default"])(F.prototype,"interactionService",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,v["default"])(F.prototype,"pickingService",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,v["default"])(F.prototype,"shaderModuleService",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,v["default"])(F.prototype,"markerService",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,v["default"])(F.prototype,"popupService",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F))||D);t["default"]=ae},qHiR:function(e,t,n){},qK8v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n("MON2");function i(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}t.isStackOverflowExeption=i},qRkn:function(e,t,n){var r=n("3cYt"),i={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},a=r(i);e.exports=a},qT12:function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,a=r?Symbol["for"]("react.portal"):60106,o=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,u=r?Symbol["for"]("react.profiler"):60114,l=r?Symbol["for"]("react.provider"):60109,c=r?Symbol["for"]("react.context"):60110,f=r?Symbol["for"]("react.async_mode"):60111,p=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,h=r?Symbol["for"]("react.suspense"):60113,v=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,y=r?Symbol["for"]("react.lazy"):60116,g=r?Symbol["for"]("react.block"):60121,b=r?Symbol["for"]("react.fundamental"):60117,_=r?Symbol["for"]("react.responder"):60118,x=r?Symbol["for"]("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type,e){case f:case p:case o:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof,e){case c:case d:case y:case m:case l:return e;default:return t}}case a:return t}}}function E(e){return w(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||w(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===p||e===u||e===s||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},qXrd:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("f1zB"));function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={},l=u;t["default"]=l,u.create=function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r},u.createNS=function(e,t){var n=window.document.createElementNS(e,t);return n};var c=window.document&&window.document.documentElement.style;function f(e){if(!c)return e[0];var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r in c)return r}}catch(i){n.e(i)}finally{n.f()}return e[0]}var p,d=f(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);u.disableDrag=function(){c&&d&&(p=c[d],c[d]="none")},u.enableDrag=function(){c&&d&&(c[d]=p)};var h=f(["transform","WebkitTransform"]);u.setTransform=function(e,t){e.style[h]=t};var v=!1;try{var m=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("test",m,m),window.removeEventListener("test",m,m)}catch(g){v=!1}u.addEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&v?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)},u.removeEventListener=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in r&&v?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)};var y=function e(t){t.preventDefault(),t.stopPropagation(),window.removeEventListener("click",e,!0)};u.suppressClick=function(){window.addEventListener("click",y,!0),window.setTimeout((function(){window.removeEventListener("click",y,!0)}),0)},u.mousePos=function(e,t){var n=e.getBoundingClientRect();return new i["default"](t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},u.touchPos=function(e,t){var n,r=e.getBoundingClientRect(),o=[],s=a(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;o.push(new i["default"](u.clientX-r.left-e.clientLeft,u.clientY-r.top-e.clientTop))}}catch(g){s.e(g)}finally{s.f()}return o},u.mouseButton=function(e){return"undefined"!==typeof window.InstallTrigger&&2===e.button&&e.ctrlKey&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},u.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},qY7S:function(e,t,n){"use strict";var r=n("HAuM"),i=n("A2ZE"),a=n("ImZN");e.exports=function(e){var t,n,o,s,u=arguments.length,l=u>1?arguments[1]:void 0;return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(o=0,s=i(l,u>2?arguments[2]:void 0,2),a(e,(function(e){n.push(s(e,o++))}))):a(e,n.push,n),new this(n))}},qYE9:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),a=n("7GkX");function o(e){return r(e,a,i)}e.exports=o},qaHo:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("WGBp"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop()}),void 0,!1,!0).stopped}})},qc1c:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("HAuM"),s=n("ImZN");r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){var t=a(this),n=o(t.set),r=0;while(r<arguments.length)s(arguments[r++],n,t,!0);return t}})},qgGA:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,a(n),o(r))}}})},qhky:function(e,t,n){"use strict";(function(e){var t=n("17x9"),r=n.n(t),i=n("8+s/"),a=n.n(i),o=n("bmMU"),s=n.n(o),u=n("q1tI"),l=n.n(u),c=n("MgzW"),f=n.n(c),p={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},d={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},h=(Object.keys(d).map((function(e){return d[e]})),{CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"}),v={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},m={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},y=Object.keys(v).reduce((function(e,t){return e[v[t]]=t,e}),{}),g=[d.NOSCRIPT,d.SCRIPT,d.STYLE],b="data-react-helmet",_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},C=function(e){var t=R(e,d.TITLE),n=R(e,m.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=R(e,m.DEFAULT_TITLE);return t||r||void 0},A=function(e){return R(e,m.ON_CHANGE_CLIENT_STATE)||function(){}},M=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return E({},e,t)}),{})},P=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[d.BASE]})).map((function(e){return e[d.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i],o=a.toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},I=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&z("Helmet: "+e+' should be of type "Array". Instead found type "'+_(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],u=s.toLowerCase();-1===t.indexOf(u)||n===h.REL&&"canonical"===e[n].toLowerCase()||u===h.REL&&"stylesheet"===e[u].toLowerCase()||(n=u),-1===t.indexOf(s)||s!==h.INNER_HTML&&s!==h.CSS_TEXT&&s!==h.ITEM_PROP||(n=s)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=f()({},r[s],i[s]);r[s]=u}return e}),[]).reverse()},R=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},j=function(e){return{baseTag:P([h.HREF,h.TARGET],e),bodyAttributes:M(p.BODY,e),defer:R(e,m.DEFER),encode:R(e,m.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:M(p.HTML,e),linkTags:I(d.LINK,[h.REL,h.HREF],e),metaTags:I(d.META,[h.NAME,h.CHARSET,h.HTTPEQUIV,h.PROPERTY,h.ITEM_PROP],e),noscriptTags:I(d.NOSCRIPT,[h.INNER_HTML],e),onChangeClientState:A(e),scriptTags:I(d.SCRIPT,[h.SRC,h.INNER_HTML],e),styleTags:I(d.STYLE,[h.CSS_TEXT],e),title:C(e),titleAttributes:M(p.TITLE,e)}},L=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){L(t)}),0)}}(),N=function(e){return clearTimeout(e)},D="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||L:e.requestAnimationFrame||L,F="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||N:e.cancelAnimationFrame||N,z=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},B=null,U=function(e){B&&F(B),e.defer?B=D((function(){V(e,(function(){B=null}))})):(V(e),B=null)},V=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,f=e.title,p=e.titleAttributes;q(d.BODY,r),q(d.HTML,i),W(f,p);var h={baseTag:G(d.BASE,n),linkTags:G(d.LINK,a),metaTags:G(d.META,o),noscriptTags:G(d.NOSCRIPT,s),scriptTags:G(d.SCRIPT,l),styleTags:G(d.STYLE,c)},v={},m={};Object.keys(h).forEach((function(e){var t=h[e],n=t.newTags,r=t.oldTags;n.length&&(v[e]=n),r.length&&(m[e]=h[e].oldTags)})),t&&t(),u(e,v,m)},H=function(e){return Array.isArray(e)?e.join(""):e},W=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=H(e)),q(d.TITLE,t)},q=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(b),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var u=o[s],l=t[u]||"";n.getAttribute(u)!==l&&n.setAttribute(u,l),-1===i.indexOf(u)&&i.push(u);var c=a.indexOf(u);-1!==c&&a.splice(c,1)}for(var f=a.length-1;f>=0;f--)n.removeAttribute(a[f]);i.length===a.length?n.removeAttribute(b):n.getAttribute(b)!==o.join(",")&&n.setAttribute(b,o.join(","))}},G=function(e,t){var n=document.head||document.querySelector(d.HEAD),r=n.querySelectorAll(e+"["+b+"]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===h.INNER_HTML)n.innerHTML=t.innerHTML;else if(r===h.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(b,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},Z=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Y=function(e,t,n,r){var i=Z(n),a=H(t);return i?"<"+e+" "+b+'="true" '+i+">"+T(a,r)+"</"+e+">":"<"+e+" "+b+'="true">'+T(a,r)+"</"+e+">"},X=function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===h.INNER_HTML||e===h.CSS_TEXT)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+T(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===g.indexOf(e);return t+"<"+e+" "+b+'="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[v[n]||n]=e[n],t}),t)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[y[n]||n]=e[n],t}),t)},Q=function(e,t,n){var r,i=(r={key:t},r[b]=!0,r),a=K(n,i);return[l.a.createElement(d.TITLE,a,t)]},$=function(e,t){return t.map((function(t,n){var r,i=(r={key:n},r[b]=!0,r);return Object.keys(t).forEach((function(e){var n=v[e]||e;if(n===h.INNER_HTML||n===h.CSS_TEXT){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]})),l.a.createElement(e,i)}))},ee=function(e,t,n){switch(e){case d.TITLE:return{toComponent:function(){return Q(e,t.title,t.titleAttributes,n)},toString:function(){return Y(e,t.title,t.titleAttributes,n)}};case p.BODY:case p.HTML:return{toComponent:function(){return K(t)},toString:function(){return Z(t)}};default:return{toComponent:function(){return $(e,t)},toString:function(){return X(e,t,n)}}}},te=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.scriptTags,l=e.styleTags,c=e.title,f=void 0===c?"":c,h=e.titleAttributes;return{base:ee(d.BASE,t,r),bodyAttributes:ee(p.BODY,n,r),htmlAttributes:ee(p.HTML,i,r),link:ee(d.LINK,a,r),meta:ee(d.META,o,r),noscript:ee(d.NOSCRIPT,s,r),script:ee(d.SCRIPT,u,r),style:ee(d.STYLE,l,r),title:ee(d.TITLE,{title:f,titleAttributes:h},r)}},ne=function(e){var t,n;return n=t=function(t){function n(){return x(this,n),O(this,t.apply(this,arguments))}return S(n,t),n.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case d.SCRIPT:case d.NOSCRIPT:return{innerHTML:t};case d.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return E({},r,(t={},t[n.type]=[].concat(r[n.type]||[],[E({},i,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case d.TITLE:return E({},i,(t={},t[r.type]=o,t.titleAttributes=E({},a),t));case d.BODY:return E({},i,{bodyAttributes:E({},a)});case d.HTML:return E({},i,{htmlAttributes:E({},a)})}return E({},i,(n={},n[r.type]=E({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=E({},t);return Object.keys(e).forEach((function(t){var r;n=E({},n,(r={},r[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return l.a.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,a=i.children,o=k(i,["children"]),s=J(o);switch(n.warnOnInvalidChildren(e,a),e.type){case d.LINK:case d.META:case d.NOSCRIPT:case d.SCRIPT:case d.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:s,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:a});break}}})),t=this.mapArrayTypeChildrenToProps(r,t),t},n.prototype.render=function(){var t=this.props,n=t.children,r=k(t,["children"]),i=E({},r);return n&&(i=this.mapChildrenToProps(n,i)),l.a.createElement(e,i)},w(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(l.a.Component),t.propTypes={base:r.a.object,bodyAttributes:r.a.object,children:r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node]),defaultTitle:r.a.string,defer:r.a.bool,encodeSpecialCharacters:r.a.bool,htmlAttributes:r.a.object,link:r.a.arrayOf(r.a.object),meta:r.a.arrayOf(r.a.object),noscript:r.a.arrayOf(r.a.object),onChangeClientState:r.a.func,script:r.a.arrayOf(r.a.object),style:r.a.arrayOf(r.a.object),title:r.a.string,titleAttributes:r.a.object,titleTemplate:r.a.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=te({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n},re=function(){return null},ie=a()(j,U,te)(re),ae=ne(ie);ae.renderStatic=ae.rewind}).call(this,n("IyRk"))},qkva:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")(),a=i.isFinite;function o(e){return"number"==typeof e&&a(e)}e.exports=o}).call(this,n("IyRk"))},qmMY:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("QkVN")),p=n("uhBA"),d=r(n("Yr5f")),h=r(n("XGpW")),v=r(n("f1zB")),m=r(n("IIbP")),y=n("i4Tg"),g=n("VVEm");function b(e){var t=_();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){(0,s["default"])(n,e);var t=b(n);function n(e){var r;(0,i["default"])(this,n),r=t.call(this),(0,c["default"])((0,o["default"])(r),"transform",void 0),(0,c["default"])((0,o["default"])(r),"options",void 0),(0,c["default"])((0,o["default"])(r),"moving",void 0),(0,c["default"])((0,o["default"])(r),"zooming",void 0),(0,c["default"])((0,o["default"])(r),"rotating",void 0),(0,c["default"])((0,o["default"])(r),"pitching",void 0),(0,c["default"])((0,o["default"])(r),"padding",void 0),(0,c["default"])((0,o["default"])(r),"bearingSnap",void 0),(0,c["default"])((0,o["default"])(r),"easeEndTimeoutID",void 0),(0,c["default"])((0,o["default"])(r),"easeStart",void 0),(0,c["default"])((0,o["default"])(r),"easeOptions",void 0),(0,c["default"])((0,o["default"])(r),"easeId",void 0),(0,c["default"])((0,o["default"])(r),"onEaseFrame",void 0),(0,c["default"])((0,o["default"])(r),"onEaseEnd",void 0),(0,c["default"])((0,o["default"])(r),"easeFrameId",void 0),(0,c["default"])((0,o["default"])(r),"renderFrameCallback",(function(){var e=Math.min(((0,g.now)()-r.easeStart)/r.easeOptions.duration,1);r.onEaseFrame(r.easeOptions.easing(e)),e<1?r.easeFrameId=r.requestRenderFrame(r.renderFrameCallback):r.stop()})),r.options=e;var a=e.minZoom,s=e.maxZoom,u=e.minPitch,l=e.maxPitch,f=e.renderWorldCopies;return r.moving=!1,r.zooming=!1,r.bearingSnap=e.bearingSnap,r.transform=new m["default"](a,s,u,l,f),r}return(0,a["default"])(n,[{key:"requestRenderFrame",value:function(e){return 0}},{key:"cancelRenderFrame",value:function(e){}},{key:"getCenter",value:function(){var e=this.transform.center,t=e.lng,n=e.lat;return new d["default"](t,n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"panTo",value:function(e,t,n){return this.easeTo((0,f["default"])({center:e},t),n)}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomTo",value:function(e,t,n){return this.easeTo((0,f["default"])({zoom:e},t),n)}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(e,t,n){return this.easeTo((0,f["default"])({bearing:e},t),n)}},{key:"resetNorth",value:function(e,t){return this.rotateTo(0,(0,f["default"])({duration:1e3},e),t),this}},{key:"resetNorthPitch",value:function(e,t){return this.easeTo((0,f["default"])({bearing:0,pitch:0,duration:1e3},e),t),this}},{key:"fitBounds",value:function(e,t,n){return this.fitInternal(this.cameraForBounds(e,t),t,n)}},{key:"cameraForBounds",value:function(e,t){return e=h["default"].convert(e),this.cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,t)}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this.bearingSnap?this.resetNorth(e,t):this}},{key:"jumpTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.stop();var n=this.transform,r=!1,i=!1,a=!1;return e.zoom&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=d["default"].convert(e.center)),e.bearing&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),e.pitch&&n.pitch!==+e.pitch&&(a=!0,n.pitch=+e.pitch),null==e.padding||n.isPaddingEqual(e.padding)||(n.padding=e.padding),this.emit("movestart",new y.Event("movestart",t)),this.emit("move",new y.Event("move",t)),r&&(this.emit("zoomstart",new y.Event("zoomstart",t)),this.emit("zoom",new y.Event("zoom",t)),this.emit("zoomend",new y.Event("zoomend",t))),i&&(this.emit("rotatestart",new y.Event("rotatestart",t)),this.emit("rotate",new y.Event("rotate",t)),this.emit("rotateend",new y.Event("rotateend",t))),a&&(this.emit("pitchstart",new y.Event("pitchstart",t)),this.emit("pitch",new y.Event("pitch",t)),this.emit("pitchend",new y.Event("pitchend",t))),this.emit("moveend",new y.Event("moveend",t))}},{key:"easeTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t=(0,f["default"])({offset:[0,0],duration:500,easing:g.ease},t),(!1===t.animate||!t.essential&&(0,g.prefersReducedMotion)())&&(t.duration=0);var r=this.transform,i=this.getZoom(),a=this.getBearing(),o=this.getPitch(),s=this.getPadding(),u=t.zoom?+t.zoom:i,l=t.bearing?this.normalizeBearing(t.bearing,a):a,c=t.pitch?+t.pitch:o,p=t.padding?t.padding:r.padding,h=v["default"].convert(t.offset),m=r.centerPoint.add(h),y=r.pointLocation(m),b=d["default"].convert(t.center||y);this.normalizeCenter(b);var _,x,w=r.project(y),E=r.project(b).sub(w),S=r.zoomScale(u-i);t.around&&(_=d["default"].convert(t.around),x=r.locationPoint(_));var k={moving:this.moving,zooming:this.zooming,rotating:this.rotating,pitching:this.pitching};return this.zooming=this.zooming||u!==i,this.rotating=this.rotating||a!==l,this.pitching=this.pitching||c!==o,this.padding=!r.isPaddingEqual(p),this.easeId=t.easeId,this.prepareEase(n,t.noMoveStart,k),clearTimeout(this.easeEndTimeoutID),this.ease((function(t){if(e.zooming&&(r.zoom=(0,g.interpolate)(i,u,t)),e.rotating&&(r.bearing=(0,g.interpolate)(a,l,t)),e.pitching&&(r.pitch=(0,g.interpolate)(o,c,t)),e.padding&&(r.interpolatePadding(s,p,t),m=r.centerPoint.add(h)),_)r.setLocationAtPoint(_,x);else{var f=r.zoomScale(r.zoom-i),d=u>i?Math.min(2,S):Math.max(.5,S),v=Math.pow(d,1-t),y=r.unproject(w.add(E.mult(t*v)).mult(f));r.setLocationAtPoint(r.renderWorldCopies?y.wrap():y,m)}e.fireMoveEvents(n)}),(function(t){e.afterEase(n,t)}),t),this}},{key:"flyTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!t.essential&&(0,g.prefersReducedMotion)()){var r=(0,g.pick)(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=(0,f["default"])({offset:[0,0],speed:1.2,curve:1.42,easing:g.ease},t);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l=t.zoom?(0,g.clamp)(+t.zoom,i.minZoom,i.maxZoom):a,c=t.bearing?this.normalizeBearing(t.bearing,o):o,p=t.pitch?+t.pitch:s,h="padding"in t?t.padding:i.padding,m=i.zoomScale(l-a),y=v["default"].convert(t.offset),b=i.centerPoint.add(y),_=i.pointLocation(b),x=d["default"].convert(t.center||_);this.normalizeCenter(x);var w=i.project(_),E=i.project(x).sub(w),S=t.curve,k=Math.max(i.width,i.height),O=k/m,T=E.mag();if("minZoom"in t){var C=(0,g.clamp)(Math.min(t.minZoom,a,l),i.minZoom,i.maxZoom),A=k/i.zoomScale(C-a);S=Math.sqrt(A/T*2)}var M=S*S;function P(e){var t=(O*O-k*k+(e?-1:1)*M*M*T*T)/(2*(e?O:k)*M*T);return Math.log(Math.sqrt(t*t+1)-t)}function I(e){return(Math.exp(e)-Math.exp(-e))/2}function R(e){return(Math.exp(e)+Math.exp(-e))/2}function j(e){return I(e)/R(e)}var L=P(0),N=function(e){return R(L)/R(L+S*e)},D=function(e){return k*((R(L)*j(L+S*e)-I(L))/M)/T},F=(P(1)-L)/S;if(Math.abs(T)<1e-6||!isFinite(F)){if(Math.abs(k-O)<1e-6)return this.easeTo(t,n);var z=O<k?-1:1;F=Math.abs(Math.log(O/k))/S,D=function(){return 0},N=function(e){return Math.exp(z*S*e)}}if("duration"in t)t.duration=+t.duration;else{var B="screenSpeed"in t?+t.screenSpeed/S:+t.speed;t.duration=1e3*F/B}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=o!==c,this.pitching=p!==s,this.padding=!i.isPaddingEqual(h),this.prepareEase(n,!1),this.ease((function(t){var r=t*F,f=1/N(r);i.zoom=1===t?l:a+i.scaleZoom(f),e.rotating&&(i.bearing=(0,g.interpolate)(o,c,t)),e.pitching&&(i.pitch=(0,g.interpolate)(s,p,t)),e.padding&&(i.interpolatePadding(u,h,t),b=i.centerPoint.add(y));var d=1===t?x:i.unproject(w.add(E.mult(D(r))).mult(f));i.setLocationAtPoint(i.renderWorldCopies?d.wrap():d,b),e.fireMoveEvents(n)}),(function(){return e.afterEase(n)}),t),this}},{key:"fitScreenCoordinates",value:function(e,t,n,r,i){return this.fitInternal(this.cameraForBoxAndBearing(this.transform.pointLocation(v["default"].convert(e)),this.transform.pointLocation(v["default"].convert(t)),n,r),r,i)}},{key:"stop",value:function(e,t){if(this.easeFrameId&&(this.cancelRenderFrame(this.easeFrameId),delete this.easeFrameId,delete this.onEaseFrame),this.onEaseEnd){var n=this.onEaseEnd;delete this.onEaseEnd,n.call(this,t)}return this}},{key:"normalizeBearing",value:function(e,t){e=(0,g.wrap)(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e}},{key:"normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}},{key:"fireMoveEvents",value:function(e){this.emit("move",new y.Event("move",e)),this.zooming&&this.emit("zoom",new y.Event("zoom",e)),this.rotating&&this.emit("rotate",new y.Event("rotate",e)),this.pitching&&this.emit("rotate",new y.Event("pitch",e))}},{key:"prepareEase",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.moving=!0,t||n.moving||this.emit("movestart",new y.Event("movestart",e)),this.zooming&&!n.zooming&&this.emit("zoomstart",new y.Event("zoomstart",e)),this.rotating&&!n.rotating&&this.emit("rotatestart",new y.Event("rotatestart",e)),this.pitching&&!n.pitching&&this.emit("pitchstart",new y.Event("pitchstart",e))}},{key:"afterEase",value:function(e,t){if(!this.easeId||!t||this.easeId!==t){delete this.easeId;var n=this.zooming,r=this.rotating,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,this.padding=!1,n&&this.emit("zoomend",new y.Event("zoomend",e)),r&&this.emit("rotateend",new y.Event("rotateend",e)),i&&this.emit("pitchend",new y.Event("pitchend",e)),this.emit("moveend",new y.Event("moveend",e))}}},{key:"ease",value:function(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this.easeStart=(0,g.now)(),this.easeOptions=n,this.onEaseFrame=e,this.onEaseEnd=t,this.easeFrameId=this.requestRenderFrame(this.renderFrameCallback))}},{key:"cameraForBoxAndBearing",value:function(e,t,n,r){var i={top:0,bottom:0,right:0,left:0};if(r=(0,f["default"])({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},r),"number"===typeof r.padding){var a=r.padding;r.padding={top:a,bottom:a,right:a,left:a}}r.padding=(0,f["default"])(i,r.padding);var o=this.transform,s=o.padding,u=o.project(d["default"].convert(e)),l=o.project(d["default"].convert(t)),c=u.rotate(-n*Math.PI/180),p=l.rotate(-n*Math.PI/180),h=new v["default"](Math.max(c.x,p.x),Math.max(c.y,p.y)),m=new v["default"](Math.min(c.x,p.x),Math.min(c.y,p.y)),y=h.sub(m),g=(o.width-(s.left+s.right+r.padding.left+r.padding.right))/y.x,b=(o.height-(s.top+s.bottom+r.padding.top+r.padding.bottom))/y.y;if(!(b<0||g<0)){var _=Math.min(o.scaleZoom(o.scale*Math.min(g,b)),r.maxZoom),x=v["default"].convert(r.offset),w=(r.padding.left-r.padding.right)/2,E=(r.padding.top-r.padding.bottom)/2,S=new v["default"](x.x+w,x.y+E),k=S.mult(o.scale/o.zoomScale(_)),O=o.unproject(u.add(l).div(2).sub(k));return{center:O,zoom:_,bearing:n}}}},{key:"fitInternal",value:function(e,t,n){return e?(t=(0,f["default"])(e,t),delete t.padding,t.linear?this.easeTo(t,n):this.flyTo(t,n)):this}}]),n}(p.EventEmitter);t["default"]=x},quyA:function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",o=r+i+a,s="\\ufe0e\\ufe0f",u="\\u200d",l=RegExp("["+u+n+o+s+"]");function c(e){return l.test(e)}e.exports=c},qwGt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("q1tI"),i=n.n(r),a=i.a.createContext({})},qxPZ:function(e,t,n){var r=n("tiKp"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},r1Q5:function(e,t,n){"use strict";var r=n("5wUe");function i(){var e=n("q1tI");return i=function(){return e},e}function a(){var e=o(n("6xEa"));return a=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return p(e)||f(e,t)||l(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function p(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var d="https://codesandbox.io/api/v1/sandboxes/define";function h(e){return a()["default"].compressToBase64(JSON.stringify(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function v(e){var t=document.createElement("span");t.innerHTML=e;var n=t.textContent;return t.remove(),n}function m(e){var t=Boolean(e.sources._.tsx),n=t?".tsx":".jsx",i={},a={},o=Object.values(e.dependencies).filter((function(e){return e.css})),s="App".concat(n),u="index".concat(n);return Object.entries(e.dependencies).forEach((function(e){var t=r(e,2),n=t[0],i=t[1].version;a[n]=i})),a["react-dom"]||(a["react-dom"]=a.react||"latest"),i["sandbox.config.json"]={content:JSON.stringify({template:t?"create-react-app-typescript":"create-react-app"},null,2)},i["package.json"]={content:JSON.stringify({name:e.title,description:v(e.description)||"An auto-generated demo by dumi",main:u,dependencies:a,devDependencies:t?{typescript:"^3"}:{}},null,2)},i["index.html"]={content:'<div style="margin: 16px;" id="root"></div>'},i[u]={content:"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(o.map((function(e){var t=e.css;return"import '".concat(t,"';")})).join("\n"),"\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);")},Object.entries(e.sources).forEach((function(e){var t=r(e,2),n=t[0],a=t[1],o=a.tsx,u=a.jsx,l=a.content;i["_"===n?s:n]={content:o||u||l}})),h({files:i})}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=(0,i().useState)(),r=s(n,2),a=r[0],o=r[1];return(0,i().useEffect)((function(){if(e){var n=document.createElement("form"),r=document.createElement("input"),i=m(e);return n.method="POST",n.target="_blank",n.style.display="none",n.action=t,n.appendChild(r),n.setAttribute("data-demo",e.title||""),r.name="parameters",r.value=i,document.body.appendChild(n),o((function(){return function(){return n.submit()}})),function(){return n.remove()}}}),[e]),a};t["default"]=y},r2rG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var r=n("z0pJ");function i(e,t){var n=t.extent,r=new Promise((function(t){a(e,(function(e){t(e)}))})),i={images:r,_id:1,dataArray:[{_id:0,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return i}function a(e,t){var n=e,a=[];if("string"===typeof n)(0,r.getImage)({url:n},(function(e,n){a.push(n),t(a)}));else{var o=n.length,s=0;n.forEach((function(e){(0,r.getImage)({url:e},(function(e,n){s++,a.push(n),s===o&&t(a)}))}))}return i}},r3Lk:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.Scene=void 0;var i=r(n("J4zp")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=n("1815"),l=n("gHHc"),c=n("OsUo"),f=n("z0pJ");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){function e(t){(0,a["default"])(this,e),(0,s["default"])(this,"sceneService",void 0),(0,s["default"])(this,"mapService",void 0),(0,s["default"])(this,"controlService",void 0),(0,s["default"])(this,"layerService",void 0),(0,s["default"])(this,"iconService",void 0),(0,s["default"])(this,"markerService",void 0),(0,s["default"])(this,"popupService",void 0),(0,s["default"])(this,"fontService",void 0),(0,s["default"])(this,"interactionService",void 0),(0,s["default"])(this,"container",void 0);var n=t.id,r=t.map,i=(0,l.createSceneContainer)();this.container=i,r.setContainer(i,n),i.bind(l.TYPES.IRendererService).to(c.ReglRendererService).inSingletonScope(),this.sceneService=i.get(l.TYPES.ISceneService),this.mapService=i.get(l.TYPES.IMapService),this.iconService=i.get(l.TYPES.IIconService),this.fontService=i.get(l.TYPES.IFontService),this.controlService=i.get(l.TYPES.IControlService),this.layerService=i.get(l.TYPES.ILayerService),this.markerService=i.get(l.TYPES.IMarkerService),this.interactionService=i.get(l.TYPES.IInteractionService),this.popupService=i.get(l.TYPES.IPopupService),this.initComponent(n),this.sceneService.init(t),this.initControl()}return(0,o["default"])(e,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(e){return this.sceneService.exportPng(e)}},{key:"exportMap",value:function(e){return this.sceneService.exportPng(e)}},{key:"registerRenderService",value:function(e){var t=this;if(this.sceneService.loaded){var n=new e(this);n.init()}else this.on("loaded",(function(){var n=new e(t);n.init()}))}},{key:"map",get:function(){return this.mapService.map}},{key:"addLayer",value:function(e){var t=(0,l.createLayerContainer)(this.container);e.setContainer(t),this.sceneService.addLayer(e)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(e){return this.layerService.getLayer(e)}},{key:"getLayerByName",value:function(e){return this.layerService.getLayerByName(e)}},{key:"removeLayer",value:function(e){this.layerService.remove(e)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addIconFont",value:function(e,t){this.fontService.addIconFont(e,t)}},{key:"addIconFonts",value:function(e){var t=this;e.forEach((function(e){var n=(0,i["default"])(e,2),r=n[0],a=n[1];t.fontService.addIconFont(r,a)}))}},{key:"addFontFace",value:function(e,t){this.sceneService.addFontFace(e,t)}},{key:"addImage",value:function(e,t){this.iconService.addImage(e,t)}},{key:"hasImage",value:function(e){return this.iconService.hasImage(e)}},{key:"removeImage",value:function(e){this.iconService.removeImage(e)}},{key:"addIconFontGlyphs",value:function(e,t){this.fontService.addIconGlyphs(t)}},{key:"addControl",value:function(e){this.controlService.addControl(e,this.container)}},{key:"removeControl",value:function(e){this.controlService.removeControl(e)}},{key:"getControlByName",value:function(e){return this.controlService.getControlByName(e)}},{key:"addMarker",value:function(e){this.markerService.addMarker(e)}},{key:"addMarkerLayer",value:function(e){this.markerService.addMarkerLayer(e)}},{key:"removeMarkerLayer",value:function(e){this.markerService.removeMarkerLayer(e)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(e){this.popupService.addPopup(e)}},{key:"on",value:function(e,t){-1===l.SceneEventList.indexOf(e)?this.mapService.on(e,t):this.sceneService.on(e,t)}},{key:"once",value:function(e,t){-1===l.SceneEventList.indexOf(e)?this.mapService.once(e,t):this.sceneService.once(e,t)}},{key:"off",value:function(e,t){-1===l.SceneEventList.indexOf(e)?this.mapService.off(e,t):this.sceneService.off(e,t)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(e){return this.mapService.getCenter(e)}},{key:"setCenter",value:function(e,t){return this.mapService.setCenter(e,t)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(e){return this.mapService.setPitch(e)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(e){this.mapService.setRotation(e)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(e){this.mapService.panTo(e)}},{key:"panBy",value:function(e){this.mapService.panBy(e)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(e){this.mapService.setZoom(e)}},{key:"fitBounds",value:function(e,t){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,i=n.animate;this.mapService.fitBounds(e,t||d(d({},r),{},{animate:i}))}},{key:"setZoomAndCenter",value:function(e,t){this.mapService.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.mapService.setMapStyle(e)}},{key:"setMapStatus",value:function(e){this.mapService.setMapStatus(e)}},{key:"pixelToLngLat",value:function(e){return this.mapService.pixelToLngLat(e)}},{key:"lngLatToPixel",value:function(e){return this.mapService.lngLatToPixel(e)}},{key:"containerToLngLat",value:function(e){return this.mapService.containerToLngLat(e)}},{key:"lngLatToContainer",value:function(e){return this.mapService.lngLatToContainer(e)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(e,t){this.container.bind(l.TYPES.IPostProcessingPass).to(e).whenTargetNamed(t)}},{key:"initComponent",value:function(e){this.controlService.init({container:f.DOM.getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var e=this.sceneService.getSceneConfig(),t=e.logoVisible,n=e.logoPosition;t&&this.addControl(new u.Logo({position:n}))}}]),e}();t.Scene=h},r6sH:function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.filter(n)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.filter=r},rAnu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapTheme=void 0;var r={dark:"amap://styles/dark",light:"amap://styles/light",normal:"amap://styles/normal",blank:"amap://styles/1a91e7ec761981d85b35f3099ff781a3"};t.MapTheme=r},rB9j:function(e,t,n){"use strict";var r=n("I+eb"),i=n("kmMV");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},rEGp:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},rKzb:function(e,t,n){"use strict";var r=n("4syw"),i=n("8YOa").getWeakData,a=n("glrk"),o=n("hh1v"),s=n("GarU"),u=n("ImZN"),l=n("tycR"),c=n("UTVS"),f=n("afO8"),p=f.set,d=f.getterFor,h=l.find,v=l.findIndex,m=0,y=function(e){return e.frozen||(e.frozen=new g)},g=function(){this.entries=[]},b=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,l){var f=e((function(e,r){s(e,f,t),p(e,{type:t,id:m++,frozen:void 0}),void 0!=r&&u(r,e[l],e,n)})),h=d(t),v=function(e,t,n){var r=h(e),o=i(a(t),!0);return!0===o?y(r).set(t,n):o[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=h(this);if(!o(e))return!1;var n=i(e);return!0===n?y(t)["delete"](e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=h(this);if(!o(e))return!1;var n=i(e);return!0===n?y(t).has(e):n&&c(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=h(this);if(o(e)){var n=i(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),f}}},rOQg:function(e,t,n){"use strict";var r=n("I+eb"),i=n("0Dky"),a=n("Yhre"),o=n("glrk"),s=n("I8vh"),u=n("UMSQ"),l=n("SEBh"),c=a.ArrayBuffer,f=a.DataView,p=c.prototype.slice,d=i((function(){return!new c(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(e,t){if(void 0!==p&&void 0===t)return p.call(o(this),e);var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,c))(u(i-r)),d=new f(this),h=new f(a),v=0;while(r<i)h.setUint8(v++,d.getUint8(r++));return a}})},rSSe:function(e,t,n){},rW0t:function(e,t,n){"use strict";var r=n("glrk");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rWO2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("gHHc");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n("r3Lk");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=n("mDLg");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n("4q4q");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n("1815");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n("z0pJ");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n("kNbT");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},rZ3M:function(e,t,n){"use strict";var r=n("I+eb"),i=n("HYAF"),a=n("ROdP"),o=n("rW0t"),s=n("tiKp"),u=n("xDBR"),l=s("replace"),c=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function e(t,n){var r,s,f,p,d,h,v,m,y,g=i(this);if(null!=t){if(r=a(t),r&&(s=String(i("flags"in c?t.flags:o.call(t))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(f=t[l],void 0!==f)return f.call(t,g,n);if(u&&r)return String(g).replace(t,n)}if(p=String(g),d=String(t),""===d)return e.call(p,/(?:)/g,n);if(h=p.split(d),"function"!==typeof n)return h.join(String(n));for(v=h[0],m=v.length,y=1;y<h.length;y++)v+=String(n(d,m,p)),m+=d.length+h[y].length,v+=h[y];return v}})},rb3L:function(e,t,n){var r=n("I+eb"),i=n("P940");r({target:"WeakSet",stat:!0},{of:i})},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},"rhT+":function(e,t){function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}e.exports=n},rkAj:function(e,t,n){var r=n("g6v/"),i=n("0Dky"),a=n("UTVS"),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:u,f=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,c,f)}))}},rpNk:function(e,t,n){"use strict";var r,i,a,o=n("4WOD"),s=n("kRJp"),u=n("UTVS"),l=n("tiKp"),c=n("xDBR"),f=l("iterator"),p=!1,d=function(){return this};[].keys&&(a=[].keys(),"next"in a?(i=o(o(a)),i!==Object.prototype&&(r=i)):p=!0),void 0==r&&(r={}),c||u(r,f)||s(r,f,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},rpbK:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("H1Ra");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("p",null,"\u94bb\u53d6\u662f\u6539\u53d8\u5c55\u73b0\u6570\u636e\u7ef4\u5ea6\u7684\u5c42\u6b21\uff0c\u53d8\u6362\u5206\u6790\u7684\u7c92\u5ea6\u3002\u5b83\u5305\u62ec\u5411\u4e0a\u94bb\u53d6\uff08drillup\uff09\u548c\u5411\u4e0b\u94bb\u53d6\uff08drilldown\uff09\u3002"),i.a.createElement("p",null,"\u94bb\u53d6\u5730\u56fe\u652f\u6301\u4e24\u79cd\u53ef\u89c6\u5316\u7c7b\u578b"),i.a.createElement("ul",null,i.a.createElement("li",null,"\u586b\u5145\u56fe\uff1a\u5728\u5730\u56fe\u4e0a\u663e\u793a\u6bcf\u4e2a\u533a\u57df\uff0c\u6839\u636e\u533a\u57df\u503c\u8bbe\u7f6e\u533a\u5757\u586b\u5145\u989c\u8272"),i.a.createElement("li",null,"\u6c14\u6ce1\u56fe\uff1a\u6bcf\u4e2a\u533a\u57df\u7528\u6c14\u6ce1\u663e\u793a\uff0c\u6839\u636e\u533a\u57df\u503c\u8bbe\u7f6e\u6c14\u6ce1\u7684\u989c\u8272\u548c\u5927\u5c0f")),i.a.createElement("h2",{id:"\u4f7f\u7528"},i.a.createElement(a["AnchorLink"],{to:"#\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528"),i.a.createElement(o["a"],{code:"import { DrillDownLayer } from '@antv/l7-district';",lang:"javascript"}),i.a.createElement("p",null,"DrillDownLayer \u63d0\u4f9b\u9ed8\u8ba4\u63d0\u4f9b\u901a\u8fc7 Layer \u7684\u4ea4\u4e92\u4e8b\u4ef6\uff0c\u5b9e\u73b0\u4e0a\u94bb\u4e0b\u94bb\u7684\u4ea4\u4e92\uff0c\u9ed8\u8ba4\u70b9\u51fb\u5f53\u524d\u56fe\u5c42(click)\u5411\u4e0b\u94bb\u53d6\uff0c\u53cc\u51fb\u975e\u5730\u56fe\u533a\u57df(undblclick)\u5411\u4e0a\u94bb\u53d6\u3002\u4f60\u53ef\u4ee5\u66f4\u6539\u9ed8\u8ba4\u4ea4\u4e92\u7684\u7684\u89e6\u53d1\u4e8b\u4ef6\u3002\u901a\u8fc7\u4e5f\u53ef\u4ee5\u66f4\u6539\u9ed8\u8ba4\u7684\u4ea4\u4e92\u884c\u4e3a\u3002"),i.a.createElement("h3",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("ul",null,i.a.createElement("li",null,"scene L7 scene \u5bf9\u8c61"),i.a.createElement("li",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879",i.a.createElement("ul",null,i.a.createElement("li",null,"drillDepth ",i.a.createElement("code",null,"number")," \u4e0b\u94bb\u6df1\u5ea6 ",i.a.createElement("code",null,"0 | 1 | 2")," 1 \u5e02\u7ea7 2\uff0c\u53bf\u7ea7"),i.a.createElement("li",null,"customTrigger \u662f\u5426\u81ea\u5b9a\u4e49\u4e0b\u94bb\u4ea4\u4e92\uff0c\u9ed8\u8ba4 ",i.a.createElement("code",null,"false")),i.a.createElement("li",null,"drillDownTriggerEvent \u5411\u4e0b\u94bb\u53d6\u7684\u89e6\u53d1\u4e8b\u4ef6 \u26d4customTrigger \u4e3a true \u65f6\u4e0d\u751f\u6548"),i.a.createElement("li",null,"drillUpTriggleEvent \u5411\u4e0a\u94bb\u53d6\u7684\u89e6\u53d1\u4e8b\u4ef6 \u26d4customTrigger \u4e3a true \u65f6\u4e0d\u751f\u6548"),i.a.createElement("li",null,"provinceData \u7701\u7ea7\u6570\u636e"),i.a.createElement("li",null,"cityData \u5e02\u7ea7\u6570\u636e \u53ef\u4ee5\u662f\u5168\u91cf\u7684\u6570\u636e\uff0c\u4e0b\u94bb\u65f6\u53ef\u4ee5\u4e0d\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6570\u636e"),i.a.createElement("li",null,"countyData \u53bf\u7ea7\u6570\u636e \u53ef\u4ee5\u662f\u5168\u91cf\u7684\u6570\u636e\uff0c\u4e0b\u94bb\u65f6\u53ef\u4ee5\u4e0d\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u6570\u636e"),i.a.createElement("li",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d"),i.a.createElement("li",null,"label \u6587\u672c\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"labelOption")),i.a.createElement("li",null,"bubble \u6c14\u6ce1\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"bubbleOption")),i.a.createElement("li",null,"fill \u586b\u5145\u914d\u7f6e\u9879 ",i.a.createElement("code",null,"fillOption")),i.a.createElement("li",null,"province ",i.a.createElement("code",null,"layerOption")," \u7701\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"city ",i.a.createElement("code",null,"layerOption")," \u5e02\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"county ",i.a.createElement("code",null,"layerOption")," \u53bf\u7ea7\u56fe\u5c42\u914d\u7f6e\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u7b49\u540c\u5168\u5c40\u914d\u7f6e")))),i.a.createElement("h4",{id:"layeroption"},i.a.createElement(a["AnchorLink"],{to:"#layeroption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"layerOption"),i.a.createElement("p",null,"\u4e0b\u94bb\u5404\u4e2a\u5c42\u7ea7\u7684\u914d\u7f6e\u9879\uff0c\u53ef\u4ee5\u72ec\u7acb\u914d\u7f6e\uff0c\u6bcf\u4e00\u5c42\u7ea7\u7684\u6837\u5f0f\uff0c\u4e0d\u8bbe\u7f6e\u548c\u4e0a\u4e00\u5c42\u5c31\u4fdd\u6301\u4e00\u81f4"),i.a.createElement("ul",null,i.a.createElement("li",null,"joinBy: [string, string];"),i.a.createElement("li",null,"label: ",i.a.createElement("code",null,"Partial<ILabelOption>"),";"),i.a.createElement("li",null,"bubble: ",i.a.createElement("code",null,"Partial<IBubbleOption>"),";"),i.a.createElement("li",null,"fill: ",i.a.createElement("code",null,"Partial<IFillOptions>"),";")),i.a.createElement("p",null,"\u26d4 \u4e2d\u56fd\u5730\u56fe\u89c6\u89d2\u8bbe\u7f6e\uff0c\u7701\u754c\uff0c\u6d77\u5cb8\u7ebf\uff0c\u5bbd\u5ea6\u901a\u8fc7\u4ee5\u4e0b\u5c5e\u6027"),i.a.createElement("ul",null,i.a.createElement("li",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272"),i.a.createElement("li",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6"),i.a.createElement("li",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272"),i.a.createElement("li",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6"),i.a.createElement("li",null,"nationalWidth \u56fd\u754c\u7ebf"),i.a.createElement("li",null,"nationalStroke \u56fd\u754c\u7ebf"),i.a.createElement("li",null,"provinceStroke \u7701\u754c\u989c\u8272"),i.a.createElement("li",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6")),i.a.createElement("h4",{id:"labeloption"},i.a.createElement(a["AnchorLink"],{to:"#labeloption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"labelOption"),i.a.createElement("p",null,"\u6587\u672c\u6807\u6ce8\u914d\u7f6e\u9879\uff0c\u76ee\u524d\u53ea\u652f\u6301\u5e38\u91cf\u914d\u7f6e\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u5f00\u542f\u6807\u6ce8 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"color ",i.a.createElement("code",null,"string")," \u6807\u6ce8\u989c\u8272"),i.a.createElement("li",null,"field ",i.a.createElement("code",null,"string")," \u6807\u6ce8\u5b57\u6bb5\u540d \u9ed8\u8ba4 ",i.a.createElement("code",null,"NAME_CHN")),i.a.createElement("li",null,"size ",i.a.createElement("code",null,"number")," \u6587\u672c\u5927\u5c0f \u9ed8\u8ba4 ",i.a.createElement("code",null,"8")),i.a.createElement("li",null,"stroke ",i.a.createElement("code",null,"string")," \u63cf\u8fb9\u989c\u8272 ",i.a.createElement("code",null,"#fff")),i.a.createElement("li",null,"strokeWidth ",i.a.createElement("code",null,"number")," \u63cf\u8fb9\u5bbd\u5ea6 ",i.a.createElement("code",null,"2")),i.a.createElement("li",null,"textAllowOverlap: ",i.a.createElement("code",null,"boolean")," \u6587\u5b57\u662f\u5426\u5141\u8bb8\u538b\u76d6 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"opacity ",i.a.createElement("code",null,"number")," \u900f\u660e\u5ea6 ",i.a.createElement("code",null,"1"))),i.a.createElement("h4",{id:"bubbleoption"},i.a.createElement(a["AnchorLink"],{to:"#bubbleoption","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"bubbleOption"),i.a.createElement("p",null,"\u6c14\u6ce1\u56fe\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 ",i.a.createElement("code",null,"true")),i.a.createElement("li",null,"shape: AttributeType; \u6c14\u6ce1\u5f62\u72b6\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size: AttributeType; \u6c14\u6ce1\u5927\u5c0f\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"color: AttributeType; \u6c14\u6ce1\u989c\u8272\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"scale: ","{"," // \u6570\u5b57\u5ea6\u91cf field: string; \u5ea6\u91cf\u5b57\u6bb5 type: ScaleTypeName; \u5ea6\u91cf\u5b57\u6bb5","}",";"),i.a.createElement("li",null,"style: ","{","opacity: number; \u900f\u660e\u5ea6 stroke: string; \u586b\u5145\u8272 strokeWidth: number; \u586b\u5145\u5bbd\u5ea6","}",";")),i.a.createElement("h4",{id:"fill"},i.a.createElement(a["AnchorLink"],{to:"#fill","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fill"),i.a.createElement("p",null,"\u586b\u5145\u56fe\u6837\u5f0f"),i.a.createElement("ul",null,i.a.createElement("li",null,"scale: ScaleTypeName | null; \u586b\u5145\u989c\u8272\u5ea6\u91cf\u7c7b\u578b"),i.a.createElement("li",null,"color: AttributeType; \u586b\u5145\u989c\u8272\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"style: any; \u586b\u5145\u56fe\u6837\u5f0f"),i.a.createElement("li",null,"activeColor: string; \u586b\u5145\u56fe\u9ad8\u4eae\u989c\u8272")),i.a.createElement("h2",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u4e3a\u4e86\u5b9e\u73b0\u7075\u6d3b\u76f8\u5173\u56fe\u5c42\u7684\u53ef\u89c6\u5316\u6837\u5f0f\uff0c\u5c06\u5185\u90e8\u56fe\u5c42\u901a\u8fc7\u5c5e\u6027\u5bf9\u5916\u900f\u51fa"),i.a.createElement("h3",{id:"provincelayer"},i.a.createElement(a["AnchorLink"],{to:"#provincelayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"provinceLayer"),i.a.createElement("p",null,"\u5168\u56fd\u5730\u56fe CountyLayer"),i.a.createElement("h3",{id:"citylayer"},i.a.createElement(a["AnchorLink"],{to:"#citylayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"cityLayer"),i.a.createElement("p",null,"\u7701\u7ea7\u5730\u56fe ProvinceLayer"),i.a.createElement("h3",{id:"countylayer"},i.a.createElement(a["AnchorLink"],{to:"#countylayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"countyLayer"),i.a.createElement("p",null,"\u5e02\u7ea7\u5730\u56fe CityLayer"),i.a.createElement("h2",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h3",{id:"drilldown"},i.a.createElement(a["AnchorLink"],{to:"#drilldown","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"drillDown"),i.a.createElement("p",null,"\u5411\u4e0b\u94bb\u53d6 \u81ea\u5b9a\u4e49\u94bb\u53d6\u4ea4\u4e92\u884c\u4e3a\u65f6\u4f7f\u7528"),i.a.createElement("p",null,"** \u53c2\u6570 **"),i.a.createElement("ul",null,i.a.createElement("li",null,"adcode \u4e0b\u94bb\u5c42\u7ea7\u7684\u884c\u653f\u533a\u5212\u4ee3\u7801, \u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\uff0c\u591a\u4e2a\u4f7f\u7528"),i.a.createElement("li",null,"data \u4e0b\u94bb\u5c42\u7ea7\u7684\u6570\u636e\uff0c\u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u53d6\u5168\u5c40\u914d\u7f6e"),i.a.createElement("li",null,"joinBy \u4e0b\u94bb\u5173\u8054\u5b57\u6bb5 ",i.a.createElement("code",null,"Array")," \u53ef\u9009 \u5982\u679c\u4e0d\u8bbe\u7f6e\u53d6\u5168\u5c40\u914d\u7f6e")),i.a.createElement(o["a"],{code:"drillLayer.drillDown(['110100'])",lang:"javascirpt"}),i.a.createElement("h4",{id:"enablepopup"},i.a.createElement(a["AnchorLink"],{to:"#enablepopup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"enablePopup"),i.a.createElement("p",null,"\u5f00\u542f Popup"),i.a.createElement("h4",{id:"disblepopup"},i.a.createElement(a["AnchorLink"],{to:"#disblepopup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"disblePopup"),i.a.createElement("p",null,"\u5173\u95ed Popup"),i.a.createElement("h3",{id:"drillup"},i.a.createElement(a["AnchorLink"],{to:"#drillup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"drillUp"),i.a.createElement("p",null,"\u5411\u4e0a\u94bb\u53d6"),i.a.createElement(o["a"],{code:"drillLayer.drillUp(['110100'])",lang:"javascirpt"}),i.a.createElement("h3",{id:"updatedata"},i.a.createElement(a["AnchorLink"],{to:"#updatedata","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData"),i.a.createElement("p",null,"\u53c2\u6570"),i.a.createElement("ul",null,i.a.createElement("li",null,"layer \u66f4\u65b0\u56fe\u5c42\u540d\u79f0 ",i.a.createElement("code",null,"province|city|county")),i.a.createElement("li",null,"data \u6570\u636e"),i.a.createElement("li",null,"joinBy \u53ef\u9009")),i.a.createElement("h3",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5f62"),i.a.createElement("h3",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u9690\u85cf\u56fe\u5c42"),i.a.createElement("h3",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"))))},rtHs:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePasses=m,t["default"]=void 0;var i,a,o,s,u,l=r(n("yG8O")),c=r(n("lwsE")),f=r(n("W8MJ")),p=r(n("lSNA")),d=r(n("U+yc")),h=(r(n("1ABj")),n("gHHc")),v=n("4cb6");function m(e){return e.map((function(e){return"string"===typeof e&&(e=[e,{}]),e}))}n("mNvP");var y=(i=(0,v.injectable)(),a=(0,v.inject)(h.TYPES.IGlobalConfigService),i((s=function(){function e(){(0,c["default"])(this,e),(0,l["default"])(this,"configService",u,this),(0,p["default"])(this,"enabled",void 0)}return(0,f["default"])(e,[{key:"apply",value:function(e,t){var n=this,r=(t.rendererService,t.postProcessingPassFactory),i=t.normalPassFactory;e.hooks.init.tap("MultiPassRendererPlugin",(function(){var t=e.getLayerConfig(),a=t.enableMultiPassRenderer,o=t.passes,s=void 0===o?[]:o;n.enabled=!!a&&!1!==e.getLayerConfig().enableMultiPassRenderer,n.enabled&&(e.multiPassRenderer=n.createMultiPassRenderer(e,s,r,i),e.multiPassRenderer.setRenderFlag(!0))})),e.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){}))}},{key:"createMultiPassRenderer",value:function(e,t,n,r){var i=e.multiPassRenderer,a=e.getLayerConfig(),o=a.enablePicking;a.enableTAA;return o&&i.add(r("pixelPicking")),i}}]),e}(),u=(0,d["default"])(s.prototype,"configService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=s))||o);t["default"]=y},rxlC:function(e,t,n){"use strict";e.exports=i,e.exports["default"]=i;var r=1e20;function i(e,t,n,r,i,a){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=a||"normal",this.radius=n||8;var o=this.size=this.fontSize+2*this.buffer,s=o+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(o/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function a(e,t,n,i,a,o,s){o.fill(r,0,t*n),s.fill(0,0,t*n);for(var u=(t-i)/2,l=0;l<a;l++)for(var c=0;c<i;c++){var f=(l+u)*t+c+u,p=e.data[4*(l*i+c)+3]/255;if(1===p)o[f]=0,s[f]=r;else if(0===p)o[f]=r,s[f]=0;else{var d=Math.max(0,.5-p),h=Math.max(0,p-.5);o[f]=d*d,s[f]=h*h}}}function o(e,t,n,r,i,a,o){for(var s=0;s<t*n;s++){var u=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(u/a+o))}}function s(e,t,n,r,i,a){for(var o=0;o<t;o++)u(e,o,t,n,r,i,a);for(var s=0;s<n;s++)u(e,s*t,1,t,r,i,a)}function u(e,t,n,i,a,o,s){var u,l,c,f;for(o[0]=0,s[0]=-r,s[1]=r,u=0;u<i;u++)a[u]=e[t+u*n];for(u=1,l=0,c=0;u<i;u++){do{f=o[l],c=(a[u]-a[f]+u*u-f*f)/(u-f)/2}while(c<=s[l]&&--l>-1);l++,o[l]=u,s[l]=c,s[l+1]=r}for(u=0,l=0;u<i;u++){while(s[l+1]<u)l++;f=o[l],e[t+u*n]=a[f]+(u-f)*(u-f)}}i.prototype._draw=function(e,t){var n,r,i,u,l,c,f,p,d,h=this.ctx.measureText(e),v=h.width,m=2*this.buffer;t&&this.useMetrics?(l=Math.floor(h.actualBoundingBoxAscent),p=this.buffer+Math.ceil(h.actualBoundingBoxAscent),c=this.buffer,f=this.buffer,r=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)),u=Math.min(this.size-c,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)),n=r+m,i=u+m,this.ctx.textBaseline="alphabetic"):(n=r=this.size,i=u=this.size,l=19*this.fontSize/24,c=f=0,p=this.middle,this.ctx.textBaseline="middle"),r&&u&&(this.ctx.clearRect(f,c,r,u),this.ctx.fillText(e,this.buffer,p),d=this.ctx.getImageData(f,c,r,u));var y=new Uint8ClampedArray(n*i);return a(d,n,i,r,u,this.gridOuter,this.gridInner),s(this.gridOuter,n,i,this.f,this.v,this.z),s(this.gridInner,n,i,this.f,this.v,this.z),o(y,n,i,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:y,metrics:{width:r,height:u,sdfWidth:n,sdfHeight:i,top:l,left:0,advance:v}}},i.prototype.draw=function(e){return this._draw(e,!1).data},i.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},s4An:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},s5qe:function(e,t,n){"use strict";var r=n("2oRo"),i=n("67WC"),a=n("0Dky"),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,l=[].toLocaleString,c=[].slice,f=!!o&&a((function(){l.call(new o(1))})),p=a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return l.apply(f?c.call(s(this)):s(this),arguments)}),p)},s9Ki:function(e,t,n){"use strict";var r=n("TqRt"),i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a,o,s,u,l,c,f=r(n("yG8O")),p=r(n("lwsE")),d=r(n("W8MJ")),h=r(n("U+yc")),v=(r(n("1ABj")),r(n("lSNA"))),m=r(n("7tbW")),y=r(n("4qC0")),g=r(n("J2iB")),b=n("gHHc"),_=n("vBe5"),x=i(n("ziQ1")),w=n("4cb6");n("mNvP");var E=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,S=(a={},(0,v["default"])(a,b.ScaleTypes.LINEAR,x.scaleLinear),(0,v["default"])(a,b.ScaleTypes.POWER,x.scalePow),(0,v["default"])(a,b.ScaleTypes.LOG,x.scaleLog),(0,v["default"])(a,b.ScaleTypes.IDENTITY,x.scaleIdentity),(0,v["default"])(a,b.ScaleTypes.TIME,x.scaleTime),(0,v["default"])(a,b.ScaleTypes.QUANTILE,x.scaleQuantile),(0,v["default"])(a,b.ScaleTypes.QUANTIZE,x.scaleQuantize),(0,v["default"])(a,b.ScaleTypes.THRESHOLD,x.scaleThreshold),(0,v["default"])(a,b.ScaleTypes.CAT,x.scaleOrdinal),a),k=(o=(0,w.injectable)(),s=(0,w.inject)(b.TYPES.IGlobalConfigService),o((l=function(){function e(){(0,p["default"])(this,e),(0,f["default"])(this,"configService",c,this),(0,v["default"])(this,"scaleCache",{}),(0,v["default"])(this,"scaleOptions",{})}return(0,d["default"])(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;0!==i.length&&n.caculateScalesForAttributes(t||[],i)})),e.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),i=e.getSource().data.dataArray;return n.caculateScalesForAttributes(t||[],i),e.layerModelNeedUpdate=!0,!0})),e.hooks.beforeRender.tap("FeatureScalePlugin",(function(){if(!e.layerModelNeedUpdate){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes();if(t){var i=e.getSource().data.dataArray;if(0===i.length)return;var a=t.filter((function(e){return e.needRescale}));a.length&&n.caculateScalesForAttributes(a,i)}}}))}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"caculateScalesForAttributes",value:function(e,t){var n=this;this.scaleCache={},e.forEach((function(e){if(e.scale){var r=e.scale,i=e.name;r.names=n.parseFields(e.scale.field||[]);var a=[];r.names.forEach((function(r){a.push(n.getOrCreateScale(r,e,t))})),a.some((function(e){return e.type===b.StyleScaleType.VARIABLE}))?(r.type=b.StyleScaleType.VARIABLE,a.forEach((function(e){var t;if(!r.callback)if(r.values&&"text"!==r.values){var n;if("linear"===(null===(n=e.option)||void 0===n?void 0:n.type)&&r.values.length>2){var a=e.scale.ticks(r.values.length);"color"===i&&e.scale.domain(a)}e.scale.range(r.values)}else"cat"===(null===(t=e.option)||void 0===t?void 0:t.type)&&e.scale.range(e.option.domain)}))):(r.type=b.StyleScaleType.CONSTANT,r.defaultValues=a.map((function(e,t){return e.scale(r.names[t])}))),r.scalers=a.map((function(e){return{field:e.field,func:e.scale,option:e.option}})),e.needRescale=!1}}))}},{key:"getOrCreateScale",value:function(e,t,n){[e,t.name].join("_");var r,i=null===(r=t.scale)||void 0===r?void 0:r.values,a=this.createScale(e,t.name,i,n);return a}},{key:"parseFields",value:function(e){return Array.isArray(e)?e:(0,y["default"])(e)?e.split("*"):[e]}},{key:"createScale",value:function(e,t,n,r){var i,a,o=this.scaleOptions[t]&&(null===(i=this.scaleOptions[t])||void 0===i?void 0:i.field)===e?this.scaleOptions[t]:this.scaleOptions[e],s={field:e,scale:void 0,type:b.StyleScaleType.VARIABLE,option:o};if(!r||!r.length)return o&&o.type?s.scale=this.createDefaultScale(o):(s.scale=x.scaleOrdinal([e]),s.type=b.StyleScaleType.CONSTANT),s;var u=null===(a=r.find((function(t){return!(0,g["default"])(t[e])})))||void 0===a?void 0:a[e];if(this.isNumber(e)||(0,g["default"])(u)&&!o)s.scale=x.scaleOrdinal([e]),s.type=b.StyleScaleType.CONSTANT;else{var l=o&&o.type||this.getDefaultType(u);"text"===n&&(l=b.ScaleTypes.CAT);var c=this.createDefaultScaleConfig(l,e,r);Object.assign(c,o),s.scale=this.createDefaultScale(c),s.option=c}return s}},{key:"getDefaultType",value:function(e){var t=b.ScaleTypes.LINEAR;return"string"===typeof e&&(t=E.test(e)?b.ScaleTypes.TIME:b.ScaleTypes.CAT),t}},{key:"createDefaultScaleConfig",value:function(e,t,n){var r={type:e},i=(null===n||void 0===n?void 0:n.map((function(e){return e[t]})))||[];return e!==b.ScaleTypes.CAT&&e!==b.ScaleTypes.QUANTILE?r.domain=(0,_.extent)(i):e===b.ScaleTypes.CAT?r.domain=(0,m["default"])(i):e===b.ScaleTypes.QUANTILE&&(r.domain=i),r}},{key:"createDefaultScale",value:function(e){var t=e.type,n=e.domain,r=S[t]();return n&&r.domain(n),r}}]),e}(),c=(0,h["default"])(l.prototype,"configService",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=l))||u);t["default"]=k},sE8U:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=n("gHHc"),p=r(n("YenN")),d=n("kIOg");function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m="precision mediump float;\nuniform float u_opacity: 1.0;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main() {\n  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));\n  gl_FragColor = color;\n  gl_FragColor.a *= u_opacity;\n}\n",y='precision highp float;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nattribute vec3 a_Position;\nattribute vec2 a_Uv;\nvarying vec2 v_texCoord;\n#pragma include "projection"\nvoid main() {\n   v_texCoord = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));\n   } else {\n      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));\n   }\n}\n',g=function(e){(0,s["default"])(n,e);var t=h(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture}}},{key:"initModels",value:function(){var e=this,t=this.layer.getSource(),n=this.rendererService.createTexture2D;return this.texture=n({height:0,width:0}),t.data.images.then((function(t){e.texture=n({data:t[0],width:t[0].width,height:t[0].height}),e.layerService.renderLayers()})),[this.layer.buildLayerModel({moduleName:"RasterImage",vertexShader:y,fragmentShader:m,triangulation:d.RasterImageTriangulation,primitive:f.gl.TRIANGLES,depth:{enable:!1},blend:this.getBlend()})]}},{key:"buildModels",value:function(){return this.initModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:f.AttributeType.Attribute,descriptor:{name:"a_Uv",buffer:{usage:f.gl.DYNAMIC_DRAW,data:[],type:f.gl.FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}}]),n}(p["default"]);t["default"]=g},sEFX:function(e,t,n){"use strict";var r=n("AO7/"),i=n("9d/t");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},sEf8:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},sEfC:function(e,t,n){var r=n("GoyQ"),i=n("QIyF"),a=n("tLB3"),o="Expected a function",s=Math.max,u=Math.min;function l(e,t,n){var l,c,f,p,d,h,v=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError(o);function b(t){var n=l,r=c;return l=c=void 0,v=t,p=e.apply(r,n),p}function _(e){return v=e,d=setTimeout(E,t),m?b(e):p}function x(e){var n=e-h,r=e-v,i=t-n;return y?u(i,f-r):i}function w(e){var n=e-h,r=e-v;return void 0===h||n>=t||n<0||y&&r>=f}function E(){var e=i();if(w(e))return S(e);d=setTimeout(E,x(e))}function S(e){return d=void 0,g&&l?b(e):(l=c=void 0,p)}function k(){void 0!==d&&clearTimeout(d),v=0,l=h=c=d=void 0}function O(){return void 0===d?p:S(i())}function T(){var e=i(),n=w(e);if(l=arguments,c=this,h=e,n){if(void 0===d)return _(h);if(y)return clearTimeout(d),d=setTimeout(E,t),b(h)}return void 0===d&&(d=setTimeout(E,t)),p}return t=a(t)||0,r(n)&&(m=!!n.leading,y="maxWait"in n,f=y?s(a(n.maxWait)||0,t):f,g="trailing"in n?!!n.trailing:g),T.cancel=k,T.flush=O,T}e.exports=l},sQ9d:function(e,t,n){var r=n("I+eb"),i=n("eDxR"),a=n("glrk"),o=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return o(a(e),t)}})},sXyB:function(e,t,n){var r=n("SksO"),i=n("b48C");function a(t,n,o){return i()?(e.exports=a=Reflect.construct,e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=a=function(e,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(e,i),o=new a;return n&&r(o,n.prototype),o},e.exports["default"]=e.exports,e.exports.__esModule=!0),a.apply(null,arguments)}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},sc6S:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapTheme=void 0;var r={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};t.MapTheme=r},seXi:function(e,t,n){var r=n("qZTm"),i=1,a=Object.prototype,o=a.hasOwnProperty;function s(e,t,n,a,s,u){var l=n&i,c=r(e),f=c.length,p=r(t),d=p.length;if(f!=d&&!l)return!1;var h=f;while(h--){var v=c[h];if(!(l?v in t:o.call(t,v)))return!1}var m=u.get(e),y=u.get(t);if(m&&y)return m==t&&y==e;var g=!0;u.set(e,t),u.set(t,e);var b=l;while(++h<f){v=c[h];var _=e[v],x=t[v];if(a)var w=l?a(x,_,v,t,e,u):a(_,x,v,e,t,u);if(!(void 0===w?_===x||s(_,x,n,a,u):w)){g=!1;break}b||(b="constructor"==v)}if(g&&!b){var E=e.constructor,S=t.constructor;E==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof S&&S instanceof S||(g=!1)}return u["delete"](e),u["delete"](t),g}e.exports=s},sgoq:function(e,t,n){var r=n("asDA"),i=n("TKrE"),a=n("6nK8"),o="['\u2019]",s=RegExp(o,"g");function u(e){return function(t){return r(a(i(t).replace(s,"")),e,"")}}e.exports=u},sh1b:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("WaiV")),c=n("dJQ9");function f(e){var t=p();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var d=function(e){(0,o["default"])(n,e);var t=f(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"contextmenu",value:function(e){e.preventDefault()}},{key:"correctButton",value:function(e,t){return t===c.LEFT_BUTTON&&e.ctrlKey||t===c.RIGHT_BUTTON}},{key:"move",value:function(e,t){var n=.8,r=(t.x-e.x)*n;if(r)return this.active=!0,{bearingDelta:r}}}]),n}(l["default"]);t["default"]=d},shjB:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},sjCX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,a,o=r(n("lwsE")),s=r(n("W8MJ")),u=n("4cb6");n("mNvP");var l=(i=(0,u.injectable)(),i(a=function(){function e(){(0,o["default"])(this,e)}return(0,s["default"])(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(e,{styleAttributeService:r})})),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){e.layerModelNeedUpdate||n.updateStyleAtrribute(e,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter"),a=n.getLayerStyleAttribute("shape");if(i&&i.needRegenerateVertices||a&&a.needRegenerateVertices)return e.layerModelNeedUpdate=!0,void r.forEach((function(e){return e.needRegenerateVertices=!1}));r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}},{key:"initStyleAttribute",value:function(e,t){var n=t.styleAttributeService,r=n.getLayerStyleAttributes()||[];r.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){n.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1}))}}]),e}())||a);t["default"]=l},spTT:function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"WeakSet",stat:!0},{from:i})},srvI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){var i=r.clientWidth,a=r.clientHeight,o="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=o-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(l<0)c=359;else if(l>a)c=0;else{var f=-100*l/a+100;c=360*f/100}if(n.h!==c)return{h:c,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>i)p=359;else{var d=100*u/i;p=360*d/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},sv7D:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n,r){(0,i["default"])(this,e),(0,o["default"])(this,"inertiaOptions",void 0),(0,o["default"])(this,"el",void 0),(0,o["default"])(this,"mousePan",void 0),(0,o["default"])(this,"touchPan",void 0),this.el=t,this.mousePan=n,this.touchPan=r}return(0,a["default"])(e,[{key:"enable",value:function(e){this.inertiaOptions=e||{},this.mousePan.enable(),this.touchPan.enable(),this.el.classList.add("l7-touch-drag-pan")}},{key:"disable",value:function(){this.mousePan.disable(),this.touchPan.disable(),this.el.classList.remove("l7-touch-drag-pan")}},{key:"isEnabled",value:function(){return this.mousePan.isEnabled()&&this.touchPan.isEnabled()}},{key:"isActive",value:function(){return this.mousePan.isActive()||this.touchPan.isActive()}}]),e}();t["default"]=s},sxOR:function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g,a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:a.RFC3986,formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:a.RFC1738,RFC3986:a.RFC3986}},szb8:function(e,t,n){"use strict";n.r(t),n.d(t,"Interpreter",(function(){return Yt})),n.d(t,"vm",(function(){return r})),n.d(t,"evaluate",(function(){return en})),n.d(t,"Function",(function(){return tn}));var r={};n.r(r),n.d(r,"createContext",(function(){return Xt})),n.d(r,"compileFunction",(function(){return Kt})),n.d(r,"runInContext",(function(){return Jt})),n.d(r,"runInNewContext",(function(){return Qt})),n.d(r,"Script",(function(){return $t}));var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},a="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:a,"5module":a+" export import",6:a+" const class extends export import super"},s=/^in(stanceof)?$/,u="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08c7\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d04-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31bf\u31f0-\u31ff\u3400-\u4dbf\u4e00-\u9ffc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7ca\ua7f5-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab69\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",l="\u200c\u200d\xb7\u0300-\u036f\u0387\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u09fe\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0afa-\u0aff\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b55-\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c00-\u0c04\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d00-\u0d03\u0d3b\u0d3c\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d81-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19d0-\u19da\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1ab0-\u1abd\u1abf\u1ac0\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf4\u1cf7-\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua82c\ua880\ua881\ua8b4-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f1\ua8ff-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\ua9e5\ua9f0-\ua9f9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b-\uaa7d\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f",c=new RegExp("["+u+"]"),f=new RegExp("["+u+l+"]");u=l=null;var p=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function h(e,t){for(var n=65536,r=0;r<t.length;r+=2){if(n+=t[r],n>e)return!1;if(n+=t[r+1],n>=e)return!0}}function v(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&h(e,p)))}function m(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&f.test(String.fromCharCode(e)):!1!==t&&(h(e,p)||h(e,d)))))}var y=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function g(e,t){return new y(e,{beforeExpr:!0,binop:t})}var b={beforeExpr:!0},_={startsExpr:!0},x={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,x[e]=new y(e,t)}var E={num:new y("num",_),regexp:new y("regexp",_),string:new y("string",_),name:new y("name",_),eof:new y("eof"),bracketL:new y("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new y("]"),braceL:new y("{",{beforeExpr:!0,startsExpr:!0}),braceR:new y("}"),parenL:new y("(",{beforeExpr:!0,startsExpr:!0}),parenR:new y(")"),comma:new y(",",b),semi:new y(";",b),colon:new y(":",b),dot:new y("."),question:new y("?",b),questionDot:new y("?."),arrow:new y("=>",b),template:new y("template"),invalidTemplate:new y("invalidTemplate"),ellipsis:new y("...",b),backQuote:new y("`",_),dollarBraceL:new y("${",{beforeExpr:!0,startsExpr:!0}),eq:new y("=",{beforeExpr:!0,isAssign:!0}),assign:new y("_=",{beforeExpr:!0,isAssign:!0}),incDec:new y("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new y("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:g("||",1),logicalAND:g("&&",2),bitwiseOR:g("|",3),bitwiseXOR:g("^",4),bitwiseAND:g("&",5),equality:g("==/!=/===/!==",6),relational:g("</>/<=/>=",7),bitShift:g("<</>>/>>>",8),plusMin:new y("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:g("%",10),star:g("*",10),slash:g("/",10),starstar:new y("**",{beforeExpr:!0}),coalesce:g("??",1),_break:w("break"),_case:w("case",b),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",b),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",b),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",_),_if:w("if"),_return:w("return",b),_switch:w("switch"),_throw:w("throw",b),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",_),_super:w("super",_),_class:w("class",_),_extends:w("extends",b),_export:w("export"),_import:w("import",_),_null:w("null",_),_true:w("true",_),_false:w("false",_),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},S=/\r\n?|\n|\u2028|\u2029/,k=new RegExp(S.source,"g");function O(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,A=Object.prototype,M=A.hasOwnProperty,P=A.toString;function I(e,t){return M.call(e,t)}var R=Array.isArray||function(e){return"[object Array]"===P.call(e)};function j(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var L=function(e,t){this.line=e,this.column=t};L.prototype.offset=function(e){return new L(this.line,this.column+e)};var N=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function D(e,t){for(var n=1,r=0;;){k.lastIndex=r;var i=k.exec(e);if(!(i&&i.index<t))return new L(n,t-r);++n,r=i.index+i[0].length}}var F={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function z(e){var t={};for(var n in F)t[n]=e&&I(e,n)?e[n]:F[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),R(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return R(t.onComment)&&(t.onComment=B(t,t.onComment)),t}function B(e,t){return function(n,r,i,a,o,s){var u={type:n?"Block":"Line",value:r,start:i,end:a};e.locations&&(u.loc=new N(this,o,s)),e.ranges&&(u.range=[i,a]),t.push(u)}}var U=1,V=2,H=U|V,W=4,q=8,G=16,Z=32,Y=64,X=128;function K(e,t){return V|(e?W:0)|(t?q:0)}var J=0,Q=1,$=2,ee=3,te=4,ne=5,re=function(e,t,n){this.options=e=z(e),this.sourceFile=e.sourceFile,this.keywords=j(o[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";if(!0!==e.allowReserved){for(var a=e.ecmaVersion;;a--)if(r=i[a])break;"module"===e.sourceType&&(r+=" await")}this.reservedWords=j(r);var s=(r?r+" ":"")+i.strict;this.reservedWordsStrict=j(s),this.reservedWordsStrictBind=j(s+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(S).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=E.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(U),this.regexpState=null},ie={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};re.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},ie.inFunction.get=function(){return(this.currentVarScope().flags&V)>0},ie.inGenerator.get=function(){return(this.currentVarScope().flags&q)>0},ie.inAsync.get=function(){return(this.currentVarScope().flags&W)>0},ie.allowSuper.get=function(){return(this.currentThisScope().flags&Y)>0},ie.allowDirectSuper.get=function(){return(this.currentThisScope().flags&X)>0},ie.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},re.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&V)>0},re.extend=function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},re.parse=function(e,t){return new this(t,e).parse()},re.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},re.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(re.prototype,ie);var ae=re.prototype,oe=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function se(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}ae.strictDirective=function(e){for(;;){C.lastIndex=e,e+=C.exec(this.input)[0].length;var t=oe.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){C.lastIndex=e+t[0].length;var n=C.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||S.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}e+=t[0].length,C.lastIndex=e,e+=C.exec(this.input)[0].length,";"===this.input[e]&&e++}},ae.eat=function(e){return this.type===e&&(this.next(),!0)},ae.isContextual=function(e){return this.type===E.name&&this.value===e&&!this.containsEsc},ae.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},ae.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},ae.canInsertSemicolon=function(){return this.type===E.eof||this.type===E.braceR||S.test(this.input.slice(this.lastTokEnd,this.start))},ae.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},ae.semicolon=function(){this.eat(E.semi)||this.insertSemicolon()||this.unexpected()},ae.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},ae.expect=function(e){this.eat(e)||this.unexpected()},ae.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},ae.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},ae.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},ae.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},ae.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var ue=re.prototype;ue.parseTopLevel=function(e){var t={};e.body||(e.body=[]);while(this.type!==E.eof){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var a=i[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var le={kind:"loop"},ce={kind:"switch"};ue.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(v(r,!0)){var i=n+1;while(m(this.input.charCodeAt(i),!0))++i;var a=this.input.slice(n,i);if(!s.test(a))return!0}return!1},ue.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var e=C.exec(this.input),t=this.pos+e[0].length;return!S.test(this.input.slice(this.pos,t))&&"function"===this.input.slice(t,t+8)&&(t+8===this.input.length||!m(this.input.charAt(t+8)))},ue.parseStatement=function(e,t,n){var r,i=this.type,a=this.startNode();switch(this.isLet(e)&&(i=E._var,r="let"),i){case E._break:case E._continue:return this.parseBreakContinueStatement(a,i.keyword);case E._debugger:return this.parseDebuggerStatement(a);case E._do:return this.parseDoStatement(a);case E._for:return this.parseForStatement(a);case E._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!e);case E._class:return e&&this.unexpected(),this.parseClass(a,!0);case E._if:return this.parseIfStatement(a);case E._return:return this.parseReturnStatement(a);case E._switch:return this.parseSwitchStatement(a);case E._throw:return this.parseThrowStatement(a);case E._try:return this.parseTryStatement(a);case E._const:case E._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(a,r);case E._while:return this.parseWhileStatement(a);case E._with:return this.parseWithStatement(a);case E.braceL:return this.parseBlock(!0,a);case E.semi:return this.parseEmptyStatement(a);case E._export:case E._import:if(this.options.ecmaVersion>10&&i===E._import){C.lastIndex=this.pos;var o=C.exec(this.input),s=this.pos+o[0].length,u=this.input.charCodeAt(s);if(40===u||46===u)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===E._import?this.parseImport(a):this.parseExport(a,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!e);var l=this.value,c=this.parseExpression();return i===E.name&&"Identifier"===c.type&&this.eat(E.colon)?this.parseLabeledStatement(a,l,c,e):this.parseExpressionStatement(a,c)}},ue.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(E.semi)||this.insertSemicolon()?e.label=null:this.type!==E.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},ue.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},ue.parseDoStatement=function(e){return this.next(),this.labels.push(le),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(E._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(E.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},ue.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(le),this.enterScope(0),this.expect(E.parenL),this.type===E.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===E._var||this.type===E._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===E._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var a=new se,o=this.parseExpression(!0,a);return this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===E._in?t>-1&&this.unexpected(t):e["await"]=t>-1),this.toAssignable(o,!1,a),this.checkLVal(o),this.parseForIn(e,o)):(this.checkExpressionErrors(a,!0),t>-1&&this.unexpected(t),this.parseFor(e,o))},ue.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,pe|(n?0:de),!1,t)},ue.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(E._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},ue.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(E.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},ue.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(E.braceL),this.labels.push(ce),this.enterScope(0);for(var n=!1;this.type!==E.braceR;)if(this.type===E._case||this.type===E._default){var r=this.type===E._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(E.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},ue.parseThrowStatement=function(e){return this.next(),S.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var fe=[];ue.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===E._catch){var t=this.startNode();if(this.next(),this.eat(E.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?Z:0),this.checkLVal(t.param,n?te:$),this.expect(E.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(E._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},ue.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},ue.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(le),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},ue.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},ue.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},ue.parseLabeledStatement=function(e,t,n,r){for(var i=0,a=this.labels;i<a.length;i+=1){var o=a[i];o.name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var s=this.type.isLoop?"loop":this.type===E._switch?"switch":null,u=this.labels.length-1;u>=0;u--){var l=this.labels[u];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=s}return this.labels.push({name:t,kind:s,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},ue.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},ue.parseBlock=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(E.braceL),e&&this.enterScope(0);while(this.type!==E.braceR){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},ue.parseFor=function(e,t){return e.init=t,this.expect(E.semi),e.test=this.type===E.semi?null:this.parseExpression(),this.expect(E.semi),e.update=this.type===E.parenR?null:this.parseExpression(),this.expect(E.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},ue.parseForIn=function(e,t){var n=this.type===E._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(E.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},ue.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(E.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===E._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===E._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(E.comma))break}return e},ue.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?Q:$,!1)};var pe=1,de=2,he=4;ue.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===E.star&&t&de&&this.unexpected(),e.generator=this.eat(E.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&pe&&(e.id=t&he&&this.type!==E.name?null:this.parseIdent(),!e.id||t&de||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?Q:$:ee));var i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(K(e.async,e.generator)),t&pe||(e.id=this.type===E.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&pe?"FunctionDeclaration":"FunctionExpression")},ue.parseFunctionParams=function(e){this.expect(E.parenL),e.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},ue.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;r.body=[],this.expect(E.braceL);while(this.type!==E.braceR){var a=this.parseClassElement(null!==e.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind&&(i&&this.raise(a.start,"Duplicate constructor in the same class"),i=!0))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},ue.parseClassElement=function(e){var t=this;if(this.eat(E.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,a=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===E.parenL||r&&t.canInsertSemicolon())||(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,a),n.key.name=e,t.finishNode(n.key,"Identifier"),!1))};n.kind="method",n["static"]=r("static");var i=this.eat(E.star),a=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(a=!0,i=this.options.ecmaVersion>=9&&this.eat(E.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var o=n.key,s=!1;return n.computed||n["static"]||!("Identifier"===o.type&&"constructor"===o.name||"Literal"===o.type&&"constructor"===o.value)?n["static"]&&"Identifier"===o.type&&"prototype"===o.name&&this.raise(o.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(o.start,"Constructor can't have get/set modifier"),i&&this.raise(o.start,"Constructor can't be a generator"),a&&this.raise(o.start,"Constructor can't be an async method"),n.kind="constructor",s=e),this.parseClassMethod(n,i,a,s),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},ue.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},ue.parseClassId=function(e,t){this.type===E.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,$,!1)):(!0===t&&this.unexpected(),e.id=null)},ue.parseClassSuper=function(e){e.superClass=this.eat(E._extends)?this.parseExprSubscripts():null},ue.parseExport=function(e,t){if(this.next(),this.eat(E.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==E.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(E._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===E._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,pe|he,!1,n)}else if(this.type===E._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==E.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var a=0,o=e.specifiers;a<o.length;a+=1){var s=o[a];this.checkUnreserved(s.local),this.checkLocalExport(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},ue.checkExport=function(e,t,n){e&&(I(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},ue.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var a=i[r];this.checkPatternExport(e,a)}else if("ArrayPattern"===n)for(var o=0,s=t.elements;o<s.length;o+=1){var u=s[o];u&&this.checkPatternExport(e,u)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},ue.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},ue.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},ue.parseExportSpecifiers=function(e){var t=[],n=!0;this.expect(E.braceL);while(!this.eat(E.braceR)){if(n)n=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},ue.parseImport=function(e){return this.next(),this.type===E.string?(e.specifiers=fe,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===E.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},ue.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===E.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,$),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(E.comma))return e}if(this.type===E.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,$),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}this.expect(E.braceL);while(!this.eat(E.braceR)){if(t)t=!1;else if(this.expect(E.comma),this.afterTrailingComma(E.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,$),e.push(this.finishNode(i,"ImportSpecifier"))}return e},ue.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},ue.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"===typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var ve=re.prototype;ve.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,t),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},ve.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var a=e[n-1];6===this.options.ecmaVersion&&t&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return e},ve.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},ve.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==E.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},ve.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case E.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(E.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case E.braceL:return this.parseObj(!0)}return this.parseIdent()},ve.parseBindingList=function(e,t,n){var r=[],i=!0;while(!this.eat(e))if(i?i=!1:this.expect(E.comma),t&&this.type===E.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===E.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),r.push(o)}return r},ve.parseBindingListItem=function(e){return e},ve.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(E.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},ve.checkLVal=function(e,t,n){switch(void 0===t&&(t=J),e.type){case"Identifier":t===$&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(I(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t!==J&&t!==ne&&this.declareName(e.name,t,e.start);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.checkLVal(a,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var o=0,s=e.elements;o<s.length;o+=1){var u=s[o];u&&this.checkLVal(u,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var me=re.prototype;me.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type)&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var a=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===a&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{r="$"+r;var o,s=t[r];if(s)o="init"===a?this.strict&&s.init||s.get||s.set:s.init||s[a],o&&this.raiseRecoverable(i.start,"Redefinition of property");else s=t[r]={init:!1,get:!1,set:!1};s[a]=!0}}},me.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===E.comma){var a=this.startNodeAt(n,r);a.expressions=[i];while(this.eat(E.comma))a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return i},me.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,a=-1;t?(i=t.parenthesizedAssign,a=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new se,r=!0);var o=this.start,s=this.startLoc;this.type!==E.parenL&&this.type!==E.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,o,s)),this.type.isAssign){var l=this.startNodeAt(o,s);return l.operator=this.value,l.left=this.type===E.eq?this.toAssignable(u,!1,t):u,r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.left.start&&(t.shorthandAssign=-1),this.checkLVal(u),this.next(),l.right=this.parseMaybeAssign(e),this.finishNode(l,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),a>-1&&(t.trailingComma=a),u},me.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(E.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(E.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return i},me.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},me.parseExprOp=function(e,t,n,r,i){var a=this.type.binop;if(null!=a&&(!i||this.type!==E._in)&&a>r){var o=this.type===E.logicalOR||this.type===E.logicalAND,s=this.type===E.coalesce;s&&(a=E.logicalAND.binop);var u=this.value;this.next();var l=this.start,c=this.startLoc,f=this.parseExprOp(this.parseMaybeUnary(null,!1),l,c,a,i),p=this.buildBinary(t,n,e,f,u,o||s);return(o&&this.type===E.coalesce||s&&(this.type===E.logicalOR||this.type===E.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},me.buildBinary=function(e,t,n,r,i,a){var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},me.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var a=this.startNode(),o=this.type===E.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),o?this.checkLVal(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(a,o?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;while(this.type.postfix&&!this.canInsertSemicolon()){var s=this.startNodeAt(r,i);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!t&&this.eat(E.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},me.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1)),i},me.parseSubscripts=function(e,t,n,r){var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,a=!1;while(1){var o=this.parseSubscript(e,t,n,r,i,a);if(o.optional&&(a=!0),o===e||"ArrowFunctionExpression"===o.type){if(a){var s=this.startNodeAt(t,n);s.expression=o,o=this.finishNode(s,"ChainExpression")}return o}e=o}},me.parseSubscript=function(e,t,n,r,i,a){var o=this.options.ecmaVersion>=11,s=o&&this.eat(E.questionDot);r&&s&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(E.bracketL);if(u||s&&this.type!==E.parenL&&this.type!==E.backQuote||this.eat(E.dot)){var l=this.startNodeAt(t,n);l.object=e,l.property=u?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),l.computed=!!u,u&&this.expect(E.bracketR),o&&(l.optional=s),e=this.finishNode(l,"MemberExpression")}else if(!r&&this.eat(E.parenL)){var c=new se,f=this.yieldPos,p=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1,c);if(i&&!s&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=p,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(c,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var v=this.startNodeAt(t,n);v.callee=e,v.arguments=h,o&&(v.optional=s),e=this.finishNode(v,"CallExpression")}else if(this.type===E.backQuote){(s||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var m=this.startNodeAt(t,n);m.tag=e,m.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(m,"TaggedTemplateExpression")}return e},me.parseExprAtom=function(e){this.type===E.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case E._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==E.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==E.dot&&this.type!==E.bracketL&&this.type!==E.parenL&&this.unexpected(),this.finishNode(t,"Super");case E._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case E.name:var r=this.start,i=this.startLoc,a=this.containsEsc,o=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===o.name&&!this.canInsertSemicolon()&&this.eat(E._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(E.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[o],!1);if(this.options.ecmaVersion>=8&&"async"===o.name&&this.type===E.name&&!a)return o=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(E.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[o],!0)}return o;case E.regexp:var s=this.value;return t=this.parseLiteral(s.value),t.regex={pattern:s.pattern,flags:s.flags},t;case E.num:case E.string:return this.parseLiteral(this.value);case E._null:case E._true:case E._false:return t=this.startNode(),t.value=this.type===E._null?null:this.type===E._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case E.parenL:var u=this.start,l=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(l)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),l;case E.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(E.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case E.braceL:return this.parseObj(!1,e);case E._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case E._class:return this.parseClass(this.startNode(),!1);case E._new:return this.parseNew();case E.backQuote:return this.parseTemplate();case E._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},me.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case E.parenL:return this.parseDynamicImport(e);case E.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},me.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(E.parenR)){var t=this.start;this.eat(E.comma)&&this.eat(E.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},me.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"!==this.options.sourceType&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},me.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},me.parseParenExpression=function(){this.expect(E.parenL);var e=this.parseExpression();return this.expect(E.parenR),e},me.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o=this.start,s=this.startLoc,u=[],l=!0,c=!1,f=new se,p=this.yieldPos,d=this.awaitPos;this.yieldPos=0,this.awaitPos=0;while(this.type!==E.parenR){if(l?l=!1:this.expect(E.comma),i&&this.afterTrailingComma(E.parenR,!0)){c=!0;break}if(this.type===E.ellipsis){a=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,f,this.parseParenItem))}var h=this.start,v=this.startLoc;if(this.expect(E.parenR),e&&!this.canInsertSemicolon()&&this.eat(E.arrow))return this.checkPatternErrors(f,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(n,r,u);u.length&&!c||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(f,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,u.length>1?(t=this.startNodeAt(o,s),t.expressions=u,this.finishNodeAt(t,"SequenceExpression",h,v)):t=u[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(n,r);return m.expression=t,this.finishNode(m,"ParenthesizedExpression")}return t},me.parseParenItem=function(e){return e},me.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var ye=[];me.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(E.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,a=this.type===E._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),a&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(E.parenL)?e.arguments=this.parseExprList(E.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ye,this.finishNode(e,"NewExpression")},me.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===E.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===E.backQuote,this.finishNode(n,"TemplateElement")},me.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});n.quasis=[r];while(!r.tail)this.type===E.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(E.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(E.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},me.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===E.name||this.type===E.num||this.type===E.string||this.type===E.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===E.star)&&!S.test(this.input.slice(this.lastTokEnd,this.start))},me.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};n.properties=[],this.next();while(!this.eat(E.braceR)){if(r)r=!1;else if(this.expect(E.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(E.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,i,t),n.properties.push(a)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},me.parseProperty=function(e,t){var n,r,i,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(E.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===E.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(this.type===E.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),o.argument=this.parseMaybeAssign(!1,t),this.type===E.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,a=this.startLoc),e||(n=this.eat(E.star)));var s=this.containsEsc;return this.parsePropertyName(o),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(E.star),this.parsePropertyName(o,t)):r=!1,this.parsePropertyValue(o,e,n,r,i,a,t,s),this.finishNode(o,"Property")},me.parsePropertyValue=function(e,t,n,r,i,a,o,s){if((n||r)&&this.type===E.colon&&this.unexpected(),this.eat(E.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===E.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===E.comma||this.type===E.braceR||this.type===E.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,a,e.key):this.type===E.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,a,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var u="get"===e.kind?0:1;if(e.value.params.length!==u){var l=e.value.start;"get"===e.kind?this.raiseRecoverable(l,"getter should have no params"):this.raiseRecoverable(l,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},me.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(E.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(E.bracketR),e.key;e.computed=!1}return e.key=this.type===E.num||this.type===E.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},me.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},me.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(K(t,r.generator)|Y|(n?X:0)),this.expect(E.parenL),r.params=this.parseBindingList(E.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},me.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(K(n,!1)|G),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},me.parseFunctionBody=function(e,t,n){var r=t&&this.type!==E.braceL,i=this.strict,a=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!o||(a=this.strictDirective(this.end),a&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var s=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!i&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLVal(e.id,ne),e.body=this.parseBlock(!1,void 0,a&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope()},me.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if("Identifier"!==r.type)return!1}return!0},me.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var a=i[r];this.checkLVal(a,Q,t?null:n)}},me.parseExprList=function(e,t,n,r){var i=[],a=!0;while(!this.eat(e)){if(a)a=!1;else if(this.expect(E.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===E.comma?o=null:this.type===E.ellipsis?(o=this.parseSpread(r),r&&this.type===E.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},me.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;if(this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\"))){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}},me.parseIdent=function(e,t){var n=this.startNode();return this.type===E.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},me.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===E.semi||this.canInsertSemicolon()||this.type!==E.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(E.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},me.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!1),this.finishNode(e,"AwaitExpression")};var ge=re.prototype;ge.raise=function(e,t){var n=D(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},ge.raiseRecoverable=ge.raise,ge.curPosition=function(){if(this.options.locations)return new L(this.curLine,this.pos-this.lineStart)};var be=re.prototype,_e=function(e){this.flags=e,this["var"]=[],this.lexical=[],this.functions=[]};be.enterScope=function(e){this.scopeStack.push(new _e(e))},be.exitScope=function(){this.scopeStack.pop()},be.treatFunctionsAsVarInScope=function(e){return e.flags&V||!this.inModule&&e.flags&U},be.declareName=function(e,t,n){var r=!1;if(t===$){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i["var"].indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&U&&delete this.undefinedExports[e]}else if(t===te){var a=this.currentScope();a.lexical.push(e)}else if(t===ee){var o=this.currentScope();r=this.treatFunctionsAsVar?o.lexical.indexOf(e)>-1:o.lexical.indexOf(e)>-1||o["var"].indexOf(e)>-1,o.functions.push(e)}else for(var s=this.scopeStack.length-1;s>=0;--s){var u=this.scopeStack[s];if(u.lexical.indexOf(e)>-1&&!(u.flags&Z&&u.lexical[0]===e)||!this.treatFunctionsAsVarInScope(u)&&u.functions.indexOf(e)>-1){r=!0;break}if(u["var"].push(e),this.inModule&&u.flags&U&&delete this.undefinedExports[e],u.flags&H)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},be.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0]["var"].indexOf(e.name)&&(this.undefinedExports[e.name]=e)},be.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},be.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&H)return t}},be.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&H&&!(t.flags&G))return t}};var xe=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new N(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},we=re.prototype;function Ee(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}we.startNode=function(){return new xe(this,this.start,this.startLoc)},we.startNodeAt=function(e,t){return new xe(this,e,t)},we.finishNode=function(e,t){return Ee.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},we.finishNodeAt=function(e,t,n,r){return Ee.call(this,e,t,n,r)};var Se=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},ke={b_stat:new Se("{",!1),b_expr:new Se("{",!0),b_tmpl:new Se("${",!1),p_stat:new Se("(",!1),p_expr:new Se("(",!0),q_tmpl:new Se("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new Se("function",!1),f_expr:new Se("function",!0),f_expr_gen:new Se("function",!0,!1,null,!0),f_gen:new Se("function",!1,!1,null,!0)},Oe=re.prototype;Oe.initialContext=function(){return[ke.b_stat]},Oe.braceIsBlock=function(e){var t=this.curContext();return t===ke.f_expr||t===ke.f_stat||(e!==E.colon||t!==ke.b_stat&&t!==ke.b_expr?e===E._return||e===E.name&&this.exprAllowed?S.test(this.input.slice(this.lastTokEnd,this.start)):e===E._else||e===E.semi||e===E.eof||e===E.parenR||e===E.arrow||(e===E.braceL?t===ke.b_stat:e!==E._var&&e!==E._const&&e!==E.name&&!this.exprAllowed):!t.isExpr)},Oe.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},Oe.updateContext=function(e){var t,n=this.type;n.keyword&&e===E.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},E.parenR.updateContext=E.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===ke.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},E.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ke.b_stat:ke.b_expr),this.exprAllowed=!0},E.dollarBraceL.updateContext=function(){this.context.push(ke.b_tmpl),this.exprAllowed=!0},E.parenL.updateContext=function(e){var t=e===E._if||e===E._for||e===E._with||e===E._while;this.context.push(t?ke.p_stat:ke.p_expr),this.exprAllowed=!0},E.incDec.updateContext=function(){},E._function.updateContext=E._class.updateContext=function(e){!e.beforeExpr||e===E.semi||e===E._else||e===E._return&&S.test(this.input.slice(this.lastTokEnd,this.start))||(e===E.colon||e===E.braceL)&&this.curContext()===ke.b_stat?this.context.push(ke.f_stat):this.context.push(ke.f_expr),this.exprAllowed=!1},E.backQuote.updateContext=function(){this.curContext()===ke.q_tmpl?this.context.pop():this.context.push(ke.q_tmpl),this.exprAllowed=!1},E.star.updateContext=function(e){if(e===E._function){var t=this.context.length-1;this.context[t]===ke.f_expr?this.context[t]=ke.f_expr_gen:this.context[t]=ke.f_gen}this.exprAllowed=!0},E.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==E.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Te="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Ce=Te+" Extended_Pictographic",Ae=Ce,Me={9:Te,10:Ce,11:Ae},Pe="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ie="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Re=Ie+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",je=Re+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Le={9:Ie,10:Re,11:je},Ne={};function De(e){var t=Ne[e]={binary:j(Me[e]+" "+Pe),nonBinary:{General_Category:j(Pe),Script:j(Le[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}De(9),De(10),De(11);var Fe=re.prototype,ze=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=Ne[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Be(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Ue(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function Ve(e){return v(e,!0)||36===e||95===e}function He(e){return m(e,!0)||36===e||95===e||8204===e||8205===e}function We(e){return e>=65&&e<=90||e>=97&&e<=122}function qe(e){return e>=0&&e<=1114111}function Ge(e){return 100===e||68===e||115===e||83===e||119===e||87===e}function Ze(e){return We(e)||95===e}function Ye(e){return Ze(e)||Xe(e)}function Xe(e){return e>=48&&e<=57}function Ke(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Je(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Qe(e){return e>=48&&e<=55}ze.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},ze.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},ze.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var a=n.charCodeAt(e+1);return a>=56320&&a<=57343?(i<<10)+a-56613888:i},ze.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,a=n.charCodeAt(e);return!t&&!this.switchU||a<=55295||a>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},ze.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},ze.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},ze.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},ze.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},Fe.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Fe.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Fe.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},Fe.regexp_disjunction=function(e){this.regexp_alternative(e);while(e.eat(124))this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Fe.regexp_alternative=function(e){while(e.pos<e.source.length&&this.regexp_eatTerm(e));},Fe.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Fe.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Fe.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Fe.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Fe.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Fe.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Fe.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Fe.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Fe.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Fe.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Fe.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Fe.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Ue(t)&&(e.lastIntValue=t,e.advance(),!0)},Fe.regexp_eatPatternCharacters=function(e){var t=e.pos,n=0;while(-1!==(n=e.current())&&!Ue(n))e.advance();return e.pos!==t},Fe.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},Fe.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Fe.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Fe.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){e.lastStringValue+=Be(e.lastIntValue);while(this.regexp_eatRegExpIdentifierPart(e))e.lastStringValue+=Be(e.lastIntValue);return!0}return!1},Fe.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),Ve(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Fe.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),He(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Fe.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Fe.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Fe.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Fe.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Fe.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Fe.regexp_eatZero=function(e){return 48===e.current()&&!Xe(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Fe.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Fe.regexp_eatControlLetter=function(e){var t=e.current();return!!We(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Fe.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=1024*(i-55296)+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&qe(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1},Fe.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},Fe.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Fe.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Ge(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Fe.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},Fe.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){I(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Fe.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Fe.regexp_eatUnicodePropertyName=function(e){var t=0;e.lastStringValue="";while(Ze(t=e.current()))e.lastStringValue+=Be(t),e.advance();return""!==e.lastStringValue},Fe.regexp_eatUnicodePropertyValue=function(e){var t=0;e.lastStringValue="";while(Ye(t=e.current()))e.lastStringValue+=Be(t),e.advance();return""!==e.lastStringValue},Fe.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Fe.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Fe.regexp_classRanges=function(e){while(this.regexp_eatClassAtom(e)){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Fe.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Qe(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Fe.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Fe.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Xe(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},Fe.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Fe.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Xe(n=e.current()))e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Fe.regexp_eatHexDigits=function(e){var t=e.pos,n=0;e.lastIntValue=0;while(Ke(n=e.current()))e.lastIntValue=16*e.lastIntValue+Je(n),e.advance();return e.pos!==t},Fe.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},Fe.regexp_eatOctalDigit=function(e){var t=e.current();return Qe(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Fe.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ke(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Je(i),e.advance()}return!0};var $e=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new N(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},et=re.prototype;function tt(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function nt(e){return"function"!==typeof BigInt?null:BigInt(e.replace(/_/g,""))}function rt(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}et.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new $e(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},et.getToken=function(){return this.next(),new $e(this)},"undefined"!==typeof Symbol&&(et[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===E.eof,value:t}}}}),et.curContext=function(){return this.context[this.context.length-1]},et.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(E.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},et.readToken=function(e){return v(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},et.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=57344)return e;var t=this.input.charCodeAt(this.pos+1);return(e<<10)+t-56613888},et.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){var r;k.lastIndex=t;while((r=k.exec(this.input))&&r.index<this.pos)++this.curLine,this.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},et.skipLineComment=function(e){var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);while(this.pos<this.input.length&&!O(r))r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},et.skipSpace=function(){e:while(this.pos<this.input.length){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&T.test(String.fromCharCode(e))))break e;++this.pos}}},et.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},et.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(E.ellipsis)):(++this.pos,this.finishToken(E.dot))},et.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(E.assign,2):this.finishOp(E.slash,1)},et.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?E.star:E.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=E.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(E.assign,n+1):this.finishOp(r,n)},et.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var n=this.input.charCodeAt(this.pos+2);if(61===n)return this.finishOp(E.assign,3)}return this.finishOp(124===e?E.logicalOR:E.logicalAND,2)}return 61===t?this.finishOp(E.assign,2):this.finishOp(124===e?E.bitwiseOR:E.bitwiseAND,1)},et.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(E.assign,2):this.finishOp(E.bitwiseXOR,1)},et.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!S.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(E.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(E.assign,2):this.finishOp(E.plusMin,1)},et.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(E.assign,n+1):this.finishOp(E.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(E.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},et.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(E.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(E.arrow)):this.finishOp(61===e?E.eq:E.prefix,1)},et.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(E.questionDot,2)}if(63===t){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(61===r)return this.finishOp(E.assign,3)}return this.finishOp(E.coalesce,2)}}return this.finishOp(E.question,1)},et.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(E.parenL);case 41:return++this.pos,this.finishToken(E.parenR);case 59:return++this.pos,this.finishToken(E.semi);case 44:return++this.pos,this.finishToken(E.comma);case 91:return++this.pos,this.finishToken(E.bracketL);case 93:return++this.pos,this.finishToken(E.bracketR);case 123:return++this.pos,this.finishToken(E.braceL);case 125:return++this.pos,this.finishToken(E.braceR);case 58:return++this.pos,this.finishToken(E.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(E.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(E.prefix,1)}this.raise(this.pos,"Unexpected character '"+rt(e)+"'")},et.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},et.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(S.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var s=this.regexpState||(this.regexpState=new ze(this));s.reset(n,i,o),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var u=null;try{u=new RegExp(i,o)}catch(l){}return this.finishToken(E.regexp,{pattern:i,flags:o,value:u})},et.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,s=0,u=0,l=null==t?1/0:t;u<l;++u,++this.pos){var c=this.input.charCodeAt(this.pos),f=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=c;else{if(f=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0,f>=e)break;s=c,o=o*e+f}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=t&&this.pos-a!==t?null:o},et.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=nt(this.input.slice(t,this.pos)),++this.pos):v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,n)},et.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=nt(this.input.slice(t,this.pos));return++this.pos,v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(r=this.input.charCodeAt(++this.pos),43!==r&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),v(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=tt(this.input.slice(t,this.pos),n);return this.finishToken(E.num,a)},et.readCodePoint=function(){var e,t=this.input.charCodeAt(this.pos);if(123===t){this.options.ecmaVersion<6&&this.unexpected();var n=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(n,"Code point out of bounds")}else e=this.readHexChar(4);return e},et.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(O(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(E.string,t)};var it={};et.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==it)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},et.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw it;this.raise(e,t)},et.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==E.template&&this.type!==E.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(E.template,e)):36===n?(this.pos+=2,this.finishToken(E.dollarBraceL)):(++this.pos,this.finishToken(E.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(O(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},et.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(E.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},et.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return rt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return O(t)?"":String.fromCharCode(t)}},et.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},et.readWord1=function(){this.containsEsc=!1;var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;while(this.pos<this.input.length){var i=this.fullCharCodeAtPos();if(m(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?v:m)(o,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=rt(o),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},et.readWord=function(){var e=this.readWord1(),t=E.name;return this.keywords.test(e)&&(t=x[e]),this.finishToken(t,e)};var at="7.4.1";function ot(e,t){return re.parse(e,t)}function st(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ut(e){var t="function"===typeof Map?new Map:void 0;return ut=function(e){if(null===e||!ft(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ct(e,arguments,dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),pt(n,e)},ut(e)}function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ct(e,t,n){return ct=lt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),a=new i;return n&&pt(a,n.prototype),a},ct.apply(null,arguments)}function ft(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}re.acorn={Parser:re,version:at,defaultOptions:F,Position:L,SourceLocation:N,getLineInfo:D,Node:xe,TokenType:y,tokTypes:E,keywordTypes:x,TokContext:Se,tokContexts:ke,isIdentifierChar:m,isIdentifierStart:v,Token:$e,isNewLine:O,lineBreak:S,lineBreakG:k,nonASCIIwhitespace:T};var ht=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(Error)),vt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(SyntaxError)),mt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(ReferenceError)),yt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ut(TypeError)),gt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(ht),bt=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(vt),_t=function(e){function t(){return e.apply(this,arguments)||this}return st(t,e),t}(mt),xt={UnknownError:[3001,"%0",gt],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",gt],NodeTypeSyntaxError:[1001,"Unknown node type: %0",_t],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",_t],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",_t],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",_t],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",_t],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",_t],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",_t],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",_t],ParamTypeSyntaxError:[1009,"Unknown param type: %0",_t],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",_t],FunctionUndefinedReferenceError:[2001,"%0 is not a function",mt],VariableUndefinedReferenceError:[2002,"%0 is not defined",mt],IsNotConstructor:[2003,"%0 is not a constructor",yt]};function wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Et(e,t,n){return Et=wt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),a=new i;return n&&St(a,n.prototype),a},Et.apply(null,arguments)}function St(e,t){return St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},St(e,t)}var kt="0.0.2";function Ot(e,t){Object.defineProperty(e,"name",{value:t,writable:!1,enumerable:!1,configurable:!0})}var Tt=Object.prototype.hasOwnProperty,Ct=Symbol("Break"),At=Symbol("Continue"),Mt=Symbol("DefaultCase"),Pt=Symbol("EmptyStatementReturn"),It=Symbol("WithScopeName"),Rt=Symbol("SuperScopeName"),jt=Symbol("RootScopeName"),Lt=Symbol("GlobalScopeName");function Nt(e){return"function"===typeof e}var Dt=function(){function e(e){this.interpreter=e}var t=e.prototype;return t.generator=function(){var e=this.interpreter;function t(){return this.getCurrentScope()}function n(){return this.getGlobalScope()}function r(){return this.getCurrentContext()}return{getOptions:e.getOptions.bind(e),getCurrentScope:t.bind(e),getGlobalScope:n.bind(e),getCurrentContext:r.bind(e),getExecStartTime:e.getExecStartTime.bind(e)}},e}();function Ft(e,t,n){if(void 0===n&&(n=!0),!(e instanceof Dt))throw new Error("Illegal call");if("string"!==typeof t)return t;if(t){var r=e.generator(),i=r.getOptions(),a={timeout:i.timeout,_initEnv:function(){n||this.setCurrentContext(r.getCurrentContext()),this.execStartTime=r.getExecStartTime(),this.execEndTime=this.execStartTime}},o=n?r.getGlobalScope():r.getCurrentScope(),s=new Yt(o,a);return s.evaluate(t)}}function zt(e){if(!(e instanceof Dt))throw new Error("Illegal call");for(var t=e.generator(),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=r.pop(),o=new Yt(t.getGlobalScope(),t.getOptions()),s="\n\t\t    (function anonymous("+r.join(",")+"){\n\t\t        "+a+"\n\t\t    });\n\t\t    ";return o.evaluate(s)}Object.defineProperty(Ft,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(zt,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var Bt=function(e){this.value=e},Ut=function(e){this.value=e},Vt=function(e){this.value=e},Ht=function(e,t,n){void 0===t&&(t=null),this.name=n,this.parent=t,this.data=e,this.labelStack=[]};function Wt(){}function qt(e,t){return void 0===e&&(e=null),new Ht(Object.create(null),e,t)}function Gt(e){return Object.create(e)}var Zt={NaN:NaN,Infinity:1/0,undefined:void 0,Object:Object,Array:Array,String:String,Boolean:Boolean,Number:Number,Date:Date,RegExp:RegExp,Error:Error,URIError:URIError,TypeError:TypeError,RangeError:RangeError,SyntaxError:SyntaxError,ReferenceError:ReferenceError,Float32Array:Float32Array,Uint32Array:Uint32Array,Math:Math,parseInt:parseInt,parseFloat:parseFloat,isNaN:isNaN,isFinite:isFinite,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent,escape:escape,unescape:unescape,eval:Ft,Function:zt};"undefined"!==typeof JSON&&(Zt.JSON=JSON),"undefined"!==typeof Promise&&(Zt.Promise=Promise),"undefined"!==typeof Set&&(Zt.Set=Set),"undefined"!==typeof Map&&(Zt.Map=Map),"undefined"!==typeof Symbol&&(Zt.Symbol=Symbol),"undefined"!==typeof Proxy&&(Zt.Proxy=Proxy),"undefined"!==typeof WeakMap&&(Zt.WeakMap=WeakMap),"undefined"!==typeof WeakSet&&(Zt.WeakSet=WeakSet),"undefined"!==typeof Reflect&&(Zt.Reflect=Reflect);var Yt=function(){function e(t,n){void 0===t&&(t=e.global),void 0===n&&(n={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:n.ecmaVersion||e.ecmaVersion,timeout:n.timeout||0,rootContext:n.rootContext,globalContextInFunction:void 0===n.globalContextInFunction?e.globalContextInFunction:n.globalContextInFunction,_initEnv:n._initEnv},this.context=t||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var t=e.prototype;return t.initEnvironment=function(e){var t;if(e instanceof Ht)t=e;else{var n=null,r=this.createSuperScope(e);this.options.rootContext&&(n=new Ht(Gt(this.options.rootContext),r,jt)),t=new Ht(e,n||r,Lt)}this.globalScope=t,this.currentScope=this.globalScope,this.globalContext=t.data,this.currentContext=t.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var i=this.options._initEnv;i&&i.call(this)},t.getExecStartTime=function(){return this.execStartTime},t.getExecutionTime=function(){return this.execEndTime-this.execStartTime},t.setExecTimeout=function(e){void 0===e&&(e=0),this.options.timeout=e},t.getOptions=function(){return this.options},t.getGlobalScope=function(){return this.globalScope},t.getCurrentScope=function(){return this.currentScope},t.getCurrentContext=function(){return this.currentContext},t.isInterruptThrow=function(e){return e instanceof gt||e instanceof _t||e instanceof bt},t.createSuperScope=function(e){var t=Object.assign({},Zt),n=Object.keys(t);return n.forEach((function(n){n in e&&delete t[n]})),new Ht(t,null,Rt)},t.setCurrentContext=function(e){this.currentContext=e},t.setCurrentScope=function(e){this.currentScope=e},t.evaluate=function(t){var n;if(void 0===t&&(t=""),t)return n=ot(t,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||e.ecmaVersion}),this.evaluateNode(n,t)},t.appendCode=function(e){return this.evaluate(e)},t.evaluateNode=function(e,t){var n=this;void 0===t&&(t=""),this.value=void 0,this.source=t,this.sourceList.push(t),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var r=this.getCurrentScope(),i=this.getCurrentContext(),a=r.labelStack.concat([]),o=this.callStack.concat([]),s=function(){n.setCurrentScope(r),n.setCurrentContext(i),r.labelStack=a,n.callStack=o};try{var u=this.createClosure(e);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),u()}catch(l){throw l}finally{s(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},t.createErrorMessage=function(e,t,n){var r=e[1].replace("%0",String(t));return null!==n&&(r+=this.getNodePosition(n||this.lastExecNode)),r},t.createError=function(e,t){return new t(e)},t.createThrowError=function(e,t){return this.createError(e,t)},t.createInternalThrowError=function(e,t,n){return this.createError(this.createErrorMessage(e,t,n),e[2])},t.checkTimeout=function(){if(!this.isRunning)return!1;var e=this.options.timeout||0,t=Date.now();return t-this.execStartTime>e},t.getNodePosition=function(e){if(e){var t="";return e.loc?" ["+e.loc.start.line+":"+e.loc.start.column+"]"+t:""}return""},t.createClosure=function(e){var t,n=this;switch(e.type){case"BinaryExpression":t=this.binaryExpressionHandler(e);break;case"LogicalExpression":t=this.logicalExpressionHandler(e);break;case"UnaryExpression":t=this.unaryExpressionHandler(e);break;case"UpdateExpression":t=this.updateExpressionHandler(e);break;case"ObjectExpression":t=this.objectExpressionHandler(e);break;case"ArrayExpression":t=this.arrayExpressionHandler(e);break;case"CallExpression":t=this.callExpressionHandler(e);break;case"NewExpression":t=this.newExpressionHandler(e);break;case"MemberExpression":t=this.memberExpressionHandler(e);break;case"ThisExpression":t=this.thisExpressionHandler(e);break;case"SequenceExpression":t=this.sequenceExpressionHandler(e);break;case"Literal":t=this.literalHandler(e);break;case"Identifier":t=this.identifierHandler(e);break;case"AssignmentExpression":t=this.assignmentExpressionHandler(e);break;case"FunctionDeclaration":t=this.functionDeclarationHandler(e);break;case"VariableDeclaration":t=this.variableDeclarationHandler(e);break;case"BlockStatement":case"Program":t=this.programHandler(e);break;case"ExpressionStatement":t=this.expressionStatementHandler(e);break;case"EmptyStatement":t=this.emptyStatementHandler(e);break;case"ReturnStatement":t=this.returnStatementHandler(e);break;case"FunctionExpression":t=this.functionExpressionHandler(e);break;case"IfStatement":t=this.ifStatementHandler(e);break;case"ConditionalExpression":t=this.conditionalExpressionHandler(e);break;case"ForStatement":t=this.forStatementHandler(e);break;case"WhileStatement":t=this.whileStatementHandler(e);break;case"DoWhileStatement":t=this.doWhileStatementHandler(e);break;case"ForInStatement":t=this.forInStatementHandler(e);break;case"WithStatement":t=this.withStatementHandler(e);break;case"ThrowStatement":t=this.throwStatementHandler(e);break;case"TryStatement":t=this.tryStatementHandler(e);break;case"ContinueStatement":t=this.continueStatementHandler(e);break;case"BreakStatement":t=this.breakStatementHandler(e);break;case"SwitchStatement":t=this.switchStatementHandler(e);break;case"LabeledStatement":t=this.labeledStatementHandler(e);break;case"DebuggerStatement":t=this.debuggerStatementHandler(e);break;default:throw this.createInternalThrowError(xt.NodeTypeSyntaxError,e.type,e)}return function(){var r=n.options.timeout;if(r&&r>0&&n.checkTimeout())throw n.createInternalThrowError(xt.ExecutionTimeOutError,r,null);return n.lastExecNode=e,t.apply(void 0,arguments)}},t.binaryExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){var i=n(),a=r();switch(e.operator){case"==":return i==a;case"!=":return i!=a;case"===":return i===a;case"!==":return i!==a;case"<":return i<a;case"<=":return i<=a;case">":return i>a;case">=":return i>=a;case"<<":return i<<a;case">>":return i>>a;case">>>":return i>>>a;case"+":return i+a;case"-":return i-a;case"*":return i*a;case"**":return Math.pow(i,a);case"/":return i/a;case"%":return i%a;case"|":return i|a;case"^":return i^a;case"&":return i&a;case"in":return i in a;case"instanceof":return i instanceof a;default:throw t.createInternalThrowError(xt.BinaryOperatorSyntaxError,e.operator,e)}}},t.logicalExpressionHandler=function(e){var t=this,n=this.createClosure(e.left),r=this.createClosure(e.right);return function(){switch(e.operator){case"||":return n()||r();case"&&":return n()&&r();default:throw t.createInternalThrowError(xt.LogicalOperatorSyntaxError,e.operator,e)}}},t.unaryExpressionHandler=function(e){var t=this;switch(e.operator){case"delete":var n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var e=n(),t=r();return delete e[t]};default:var i;if("typeof"===e.operator&&"Identifier"===e.argument.type){var a=this.createObjectGetter(e.argument),o=this.createNameGetter(e.argument);i=function(){return a()[o()]}}else i=this.createClosure(e.argument);return function(){var n=i();switch(e.operator){case"-":return-n;case"+":return+n;case"!":return!n;case"~":return~n;case"void":return;case"typeof":return typeof n;default:throw t.createInternalThrowError(xt.UnaryOperatorSyntaxError,e.operator,e)}}}},t.updateExpressionHandler=function(e){var t=this,n=this.createObjectGetter(e.argument),r=this.createNameGetter(e.argument);return function(){var i=n(),a=r();switch(t.assertVariable(i,a,e),e.operator){case"++":return e.prefix?++i[a]:i[a]++;case"--":return e.prefix?--i[a]:i[a]--;default:throw t.createInternalThrowError(xt.UpdateOperatorSyntaxError,e.operator,e)}}},t.objectExpressionHandler=function(e){var t=this,n=[];function r(e){return"Identifier"===e.type?e.name:"Literal"===e.type?e.value:this.throwError(xt.ObjectStructureSyntaxError,e.type,e)}var i=Object.create(null);return e.properties.forEach((function(e){var a=e.kind,o=r(e.key);i[o]&&"init"!==a||(i[o]={}),i[o][a]=t.createClosure(e.value),n.push({key:o,property:e})})),function(){for(var e={},t=n.length,r=0;r<t;r++){var a=n[r],o=a.key,s=i[o],u=s.init?s.init():void 0,l=s.get?s.get():function(){},c=s.set?s.set():function(e){};if("set"in s||"get"in s){var f={configurable:!0,enumerable:!0,get:l,set:c};Object.defineProperty(e,o,f)}else{var p=a.property,d=p.kind;"Identifier"!==p.key.type||"FunctionExpression"!==p.value.type||"init"!==d||p.value.id||Ot(u,p.key.name),e[o]=u}}return e}},t.arrayExpressionHandler=function(e){var t=this,n=e.elements.map((function(e){return e?t.createClosure(e):e}));return function(){for(var e=n.length,t=Array(e),r=0;r<e;r++){var i=n[r];i&&(t[r]=i())}return t}},t.safeObjectGet=function(e,t,n){return e[t]},t.createCallFunctionGetter=function(e){var t=this;switch(e.type){case"MemberExpression":var n=this.createClosure(e.object),r=this.createMemberKeyGetter(e),i=this.source;return function(){var a=n(),o=r(),s=t.safeObjectGet(a,o,e);if(!s||!Nt(s)){var u=i.slice(e.start,e.end);throw t.createInternalThrowError(xt.FunctionUndefinedReferenceError,u,e)}return s.__IS_EVAL_FUNC?function(e){return s(new Dt(t),e,!0)}:s.__IS_FUNCTION_FUNC?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s.apply(void 0,[new Dt(t)].concat(n))}:s.bind(a)};default:var a=this.createClosure(e);return function(){var n="";"Identifier"===e.type&&(n=e.name);var r=a();if(!r||!Nt(r))throw t.createInternalThrowError(xt.FunctionUndefinedReferenceError,n,e);if("Identifier"===e.type&&r.__IS_EVAL_FUNC&&"eval"===n)return function(e){var i=t.getScopeFromName(n,t.getCurrentScope()),a=i.name===Rt||i.name===Lt||i.name===jt;return r(new Dt(t),e,!a)};if(r.__IS_EVAL_FUNC)return function(e){return r(new Dt(t),e,!0)};if(r.__IS_FUNCTION_FUNC)return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(void 0,[new Dt(t)].concat(n))};var i=t.options.globalContextInFunction;if("Identifier"===e.type){var o=t.getIdentifierScope(e);o.name===It&&(i=o.data)}return r.bind(i)}}},t.callExpressionHandler=function(e){var t=this,n=this.createCallFunctionGetter(e.callee),r=e.arguments.map((function(e){return t.createClosure(e)}));return function(){return n().apply(void 0,r.map((function(e){return e()})))}},t.functionExpressionHandler=function(e){var t=this,n=this,r=this.source,i=this.collectDeclVars,a=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var o=e.id?e.id.name:"",s=e.params.length,u=e.params.map((function(e){return t.createParamNameGetter(e)})),l=this.createClosure(e.body),c=this.collectDeclVars,f=this.collectDeclFuncs;return this.collectDeclVars=i,this.collectDeclFuncs=a,function(){var t=n.getCurrentScope(),i=function e(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];n.callStack.push(""+o);var s=n.getCurrentScope(),p=qt(t,"FunctionScope("+o+")");n.setCurrentScope(p),n.addDeclarationsToScope(c,f,p),o&&(p.data[o]=e),p.data["arguments"]=arguments,u.forEach((function(e,t){p.data[e()]=i[t]}));var d=n.getCurrentContext();n.setCurrentContext(this);var h=l();if(n.setCurrentContext(d),n.setCurrentScope(s),n.callStack.pop(),h instanceof Bt)return h.value};return Ot(i,o),Object.defineProperty(i,"length",{value:s,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(i,"toString",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(i,"valueOf",{value:function(){return r.slice(e.start,e.end)},writable:!0,configurable:!0,enumerable:!1}),i}},t.newExpressionHandler=function(e){var t=this,n=this.source,r=this.createClosure(e.callee),i=e.arguments.map((function(e){return t.createClosure(e)}));return function(){var a=r();if(!Nt(a)||a.__IS_EVAL_FUNC){var o=e.callee,s=n.slice(o.start,o.end);throw t.createInternalThrowError(xt.IsNotConstructor,s,e)}return a.__IS_FUNCTION_FUNC?a.apply(void 0,[new Dt(t)].concat(i.map((function(e){return e()})))):Et(a,i.map((function(e){return e()})))}},t.memberExpressionHandler=function(e){var t=this.createClosure(e.object),n=this.createMemberKeyGetter(e);return function(){var e=t(),r=n();return e[r]}},t.thisExpressionHandler=function(e){var t=this;return function(){return t.getCurrentContext()}},t.sequenceExpressionHandler=function(e){var t=this,n=e.expressions.map((function(e){return t.createClosure(e)}));return function(){for(var e,t=n.length,r=0;r<t;r++){var i=n[r];e=i()}return e}},t.literalHandler=function(e){return function(){return e.regex?new RegExp(e.regex.pattern,e.regex.flags):e.value}},t.identifierHandler=function(e){var t=this;return function(){var n=t.getCurrentScope(),r=t.getScopeDataFromName(e.name,n);return t.assertVariable(r,e.name,e),r[e.name]}},t.getIdentifierScope=function(e){var t=this.getCurrentScope(),n=this.getScopeFromName(e.name,t);return n},t.assignmentExpressionHandler=function(e){var t=this;"Identifier"!==e.left.type||"FunctionExpression"!==e.right.type||e.right.id||(e.right.id={type:"Identifier",name:e.left.name});var n=this.createObjectGetter(e.left),r=this.createNameGetter(e.left),i=this.createClosure(e.right);return function(){var a=n(),o=r(),s=i();switch("="!==e.operator&&t.assertVariable(a,o,e),e.operator){case"=":return a[o]=s;case"+=":return a[o]+=s;case"-=":return a[o]-=s;case"*=":return a[o]*=s;case"**=":return a[o]=Math.pow(a[o],s);case"/=":return a[o]/=s;case"%=":return a[o]%=s;case"<<=":return a[o]<<=s;case">>=":return a[o]>>=s;case">>>=":return a[o]>>>=s;case"&=":return a[o]&=s;case"^=":return a[o]^=s;case"|=":return a[o]|=s;default:throw t.createInternalThrowError(xt.AssignmentExpressionSyntaxError,e.type,e)}}},t.functionDeclarationHandler=function(e){if(e.id){var t=this.functionExpressionHandler(e);Object.defineProperty(t,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(e.id.name,t)}return function(){return Pt}},t.getVariableName=function(e){if("Identifier"===e.type)return e.name;throw this.createInternalThrowError(xt.VariableTypeSyntaxError,e.type,e)},t.variableDeclarationHandler=function(e){for(var t,n=this,r=[],i=0;i<e.declarations.length;i++){var a=e.declarations[i];this.varDeclaration(this.getVariableName(a.id)),a.init&&r.push({type:"AssignmentExpression",operator:"=",left:a.id,right:a.init})}return r.length&&(t=this.createClosure({type:"BlockStatement",body:r})),function(){if(t){var e=n.isVarDeclMode;n.isVarDeclMode=!0,t(),n.isVarDeclMode=e}return Pt}},t.assertVariable=function(e,t,n){if(e===this.globalScope.data&&!(t in e))throw this.createInternalThrowError(xt.VariableUndefinedReferenceError,t,n)},t.programHandler=function(e){var t=this,n=e.body.map((function(e){return t.createClosure(e)}));return function(){for(var e=Pt,r=0;r<n.length;r++){var i=n[r],a=t.setValue(i());if(a!==Pt&&(e=a,e instanceof Bt||e instanceof Ut||e instanceof Vt||e===Ct||e===At))break}return e}},t.expressionStatementHandler=function(e){return this.createClosure(e.expression)},t.emptyStatementHandler=function(e){return function(){return Pt}},t.returnStatementHandler=function(e){var t=e.argument?this.createClosure(e.argument):Wt;return function(){return new Bt(t())}},t.ifStatementHandler=function(e){var t=this.createClosure(e.test),n=this.createClosure(e.consequent),r=e.alternate?this.createClosure(e.alternate):function(){return Pt};return function(){return t()?n():r()}},t.conditionalExpressionHandler=function(e){return this.ifStatementHandler(e)},t.forStatementHandler=function(e){var t=this,n=Wt,r=e.test?this.createClosure(e.test):function(){return!0},i=Wt,a=this.createClosure(e.body);return"ForStatement"===e.type&&(n=e.init?this.createClosure(e.init):n,i=e.update?this.createClosure(e.update):Wt),function(o){var s,u=Pt,l="DoWhileStatement"===e.type;for(o&&"LabeledStatement"===o.type&&(s=o.label.name),n();l||r();i()){l=!1;var c=t.setValue(a());if(c!==Pt&&c!==At){if(c===Ct)break;if(u=c,u instanceof Vt&&u.value===s)u=Pt;else if(u instanceof Bt||u instanceof Ut||u instanceof Vt)break}}return u}},t.whileStatementHandler=function(e){return this.forStatementHandler(e)},t.doWhileStatementHandler=function(e){return this.forStatementHandler(e)},t.forInStatementHandler=function(e){var t=this,n=e.left,r=this.createClosure(e.right),i=this.createClosure(e.body);return"VariableDeclaration"===e.left.type&&(this.createClosure(e.left)(),n=e.left.declarations[0].id),function(e){var a,o,s=Pt;e&&"LabeledStatement"===e.type&&(a=e.label.name);var u=r();for(o in u){t.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:n,right:{type:"Literal",value:o}})();var l=t.setValue(i());if(l!==Pt&&l!==At){if(l===Ct)break;if(s=l,s instanceof Vt&&s.value===a)s=Pt;else if(s instanceof Bt||s instanceof Ut||s instanceof Vt)break}}return s}},t.withStatementHandler=function(e){var t=this,n=this.createClosure(e.object),r=this.createClosure(e.body);return function(){var e=n(),i=t.getCurrentScope(),a=new Ht(e,i,It);t.setCurrentScope(a);var o=t.setValue(r());return t.setCurrentScope(i),o}},t.throwStatementHandler=function(e){var t=this,n=this.createClosure(e.argument);return function(){throw t.setValue(void 0),n()}},t.tryStatementHandler=function(e){var t=this,n=this.createClosure(e.block),r=e.handler?this.catchClauseHandler(e.handler):null,i=e.finalizer?this.createClosure(e.finalizer):null;return function(){var e,a,o=t.getCurrentScope(),s=t.getCurrentContext(),u=o.labelStack.concat([]),l=t.callStack.concat([]),c=Pt,f=function(){t.setCurrentScope(o),t.setCurrentContext(s),o.labelStack=u,t.callStack=l};try{c=t.setValue(n()),c instanceof Bt&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;if(r)try{c=t.setValue(r(p)),c instanceof Bt&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;a=p}}if(i)try{c=i(),c instanceof Bt&&(e=c)}catch(p){if(f(),t.isInterruptThrow(p))throw p;a=p}if(a)throw a;return e||c}},t.catchClauseHandler=function(e){var t=this,n=this.createParamNameGetter(e.param),r=this.createClosure(e.body);return function(e){var i,a=t.getCurrentScope(),o=a.data,s=n(),u=Tt.call(o,s),l=o[s];return o[s]=e,i=r(),u?o[s]=l:delete o[s],i}},t.continueStatementHandler=function(e){return function(){return e.label?new Vt(e.label.name):At}},t.breakStatementHandler=function(e){return function(){return e.label?new Ut(e.label.name):Ct}},t.switchStatementHandler=function(e){var t=this,n=this.createClosure(e.discriminant),r=e.cases.map((function(e){return t.switchCaseHandler(e)}));return function(){for(var e,i,a,o=n(),s=!1,u=0;u<r.length;u++){var l=r[u](),c=l.testClosure();if(c!==Mt){if(s||c===o){if(s=!0,i=t.setValue(l.bodyClosure()),i===Pt)continue;if(i===Ct)break;if(e=i,e instanceof Bt||e instanceof Ut||e instanceof Vt||e===At)break}}else a=l}if(!s&&a){i=t.setValue(a.bodyClosure());var f=i===Pt||i===Ct||i===At;f||(e=i)}return e}},t.switchCaseHandler=function(e){var t=e.test?this.createClosure(e.test):function(){return Mt},n=this.createClosure({type:"BlockStatement",body:e.consequent});return function(){return{testClosure:t,bodyClosure:n}}},t.labeledStatementHandler=function(e){var t=this,n=e.label.name,r=this.createClosure(e.body);return function(){var i,a=t.getCurrentScope();return a.labelStack.push(n),i=r(e),i instanceof Ut&&i.value===n&&(i=Pt),a.labelStack.pop(),i}},t.debuggerStatementHandler=function(e){return function(){return Pt}},t.createParamNameGetter=function(e){if("Identifier"===e.type)return function(){return e.name};throw this.createInternalThrowError(xt.ParamTypeSyntaxError,e.type,e)},t.createObjectKeyGetter=function(e){var t;return t="Identifier"===e.type?function(){return e.name}:this.createClosure(e),function(){return t()}},t.createMemberKeyGetter=function(e){return e.computed?this.createClosure(e.property):this.createObjectKeyGetter(e.property)},t.createObjectGetter=function(e){var t=this;switch(e.type){case"Identifier":return function(){return t.getScopeDataFromName(e.name,t.getCurrentScope())};case"MemberExpression":return this.createClosure(e.object);default:throw this.createInternalThrowError(xt.AssignmentTypeSyntaxError,e.type,e)}},t.createNameGetter=function(e){switch(e.type){case"Identifier":return function(){return e.name};case"MemberExpression":return this.createMemberKeyGetter(e);default:throw this.createInternalThrowError(xt.AssignmentTypeSyntaxError,e.type,e)}},t.varDeclaration=function(e){var t=this.collectDeclVars;t[e]=void 0},t.funcDeclaration=function(e,t){var n=this.collectDeclFuncs;n[e]=t},t.addDeclarationsToScope=function(e,t,n){var r=n.data;for(var i in t){var a=t[i];r[i]=a?a():a}for(var o in e)o in r||(r[o]=void 0)},t.getScopeValue=function(e,t){var n=this.getScopeFromName(e,t);return n.data[e]},t.getScopeDataFromName=function(e,t){return this.getScopeFromName(e,t).data},t.getScopeFromName=function(e,t){var n=t;do{if(e in n.data)return n}while(n=n.parent);return this.globalScope},t.setValue=function(e){var t=this.callStack.length;return this.isVarDeclMode||t||e===Pt||e===Ct||e===At||e instanceof Ut||e instanceof Vt||(this.value=e instanceof Bt?e.value:e),e},t.getValue=function(){return this.value},e}();function Xt(e){return void 0===e&&(e=Object.create(null)),e}function Kt(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});var r=n.parsingContext,i=void 0===n.timeout?0:n.timeout,a="\n    (function anonymous("+t.join(",")+"){\n         "+e+"\n    });\n    ",o=new Yt(r,{ecmaVersion:n.ecmaVersion,timeout:i,rootContext:n.rootContext,globalContextInFunction:n.globalContextInFunction});return o.evaluate(a)}function Jt(e,t,n){var r=new Yt(t,n);return r.evaluate(e)}Yt.version=kt,Yt.eval=Ft,Yt.Function=zt,Yt.ecmaVersion=5,Yt.globalContextInFunction=void 0,Yt.global=Object.create(null);var Qt=Jt,$t=function(){function e(e){this._code=e}var t=e.prototype;return t.runInContext=function(e){return Jt(this._code,e)},t.runInNewContext=function(e){return Jt(this._code,e)},e}(),en=function(e,t,n){return Jt(e,t,n)},tn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop();return Kt(r||"",t)};t["default"]=en},"t/kZ":function(e,t,n){"use strict";var r=n("R5yR");function i(){var e=n("q1tI");return i=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=n("dEAq");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return h(e)||d(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function h(e){if(Array.isArray(e))return e}var v=function(e){var t=(0,i().useContext)(a.context),n=t.locale,o=t.routes,s=t.config.locales,u=(0,i().useState)([]),c=l(u,2),f=c[0],p=c[1],d=(0,i().useState)([]),h=l(d,2),v=h[0],m=h[1];return(0,i().useEffect)((function(){p(o.filter((function(e){var t=e.title,r=e.meta,i=(null===r||void 0===r?void 0:r.locale)===n,a=(null===r||void 0===r?void 0:r.locale)===s[0].name||!(null===r||void 0===r?void 0:r.locale)&&(!s.length||n===s[0].name);return t&&(a||i)})).reduce((function(e,t){var n,i,a={title:t.title,path:t.path};return(null===(n=t.meta)||void 0===n?void 0:n.group)&&(a.parent=t.meta.group),e.push(a),e.push.apply(e,r(((null===(i=t.meta)||void 0===i?void 0:i.slugs)||[]).filter((function(e){var n=e.value;return n!==t.title})).map((function(e){return{title:e.value,path:"".concat(t.path,"#").concat(e.heading),parent:a}})))),e}),[]))}),[o.length,n]),(0,i().useEffect)((function(){var t=null===e||void 0===e?void 0:e.trim().toUpperCase();if(t){for(var n=[],r=0;r<f.length;r+=1)f[r].title.toUpperCase().indexOf(t)>-1&&n.push(f[r]);m(n)}else m([])}),[e,f.length]),v},m=function(){var e=(0,i().useContext)(a.context),t=e.config.algolia,n=(0,i().useCallback)((function(e){window.docsearch(s({inputSelector:e},t))}),[t]);return n},y=function(e){var t=(0,i().useContext)(a.context),n=t.config,r=v(e),o=m();return n.algolia?o:r};t["default"]=y},t23M:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("1OyB"),a=n("vuIU"),o=n("Ji7U"),s=n("LK+K"),u=n("q1tI"),l=n("m+aA"),c=n("Zm9Q"),f=n("Kwbf"),p=n("c+Xe"),d=n("bdgK"),h="rc-observer-key",v=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.resizeObserver=null,e.childNode=null,e.currentElement=null,e.state={width:0,height:0,offsetHeight:0,offsetWidth:0},e.onResize=function(t){var n=e.props.onResize,i=t[0].target,a=i.getBoundingClientRect(),o=a.width,s=a.height,u=i.offsetWidth,l=i.offsetHeight,c=Math.floor(o),f=Math.floor(s);if(e.state.width!==c||e.state.height!==f||e.state.offsetWidth!==u||e.state.offsetHeight!==l){var p={width:c,height:f,offsetWidth:u,offsetHeight:l};e.setState(p),n&&Promise.resolve().then((function(){n(Object(r["a"])(Object(r["a"])({},p),{},{offsetWidth:u,offsetHeight:l}),i)}))}},e.setChildNode=function(t){e.childNode=t},e}return Object(a["a"])(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var e=this.props.disabled;if(e)this.destroyObserver();else{var t=Object(l["a"])(this.childNode||this),n=t!==this.currentElement;n&&(this.destroyObserver(),this.currentElement=t),!this.resizeObserver&&t&&(this.resizeObserver=new d["a"](this.onResize),this.resizeObserver.observe(t))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var e=this.props.children,t=Object(c["a"])(e);if(t.length>1)Object(f["a"])(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===t.length)return Object(f["a"])(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=t[0];if(u["isValidElement"](n)&&Object(p["c"])(n)){var r=n.ref;t[0]=u["cloneElement"](n,{ref:Object(p["a"])(r,this.setChildNode)})}return 1===t.length?t[0]:t.map((function(e,t){return!u["isValidElement"](e)||"key"in e&&null!==e.key?e:u["cloneElement"](e,{key:"".concat(h,"-").concat(t)})}))}}]),n}(u["Component"]);v.displayName="ResizeObserver",t["a"]=v},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");function a(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=a},"t4+7":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=[{name:"\u4e91\u5357\u7701",code:53e4,value:17881.12},{name:"\u9ed1\u9f99\u6c5f\u7701",code:23e4,value:16361.62},{name:"\u8d35\u5dde\u7701",code:52e4,value:14806.45},{name:"\u5317\u4eac\u5e02",code:11e4,value:30319.98},{name:"\u6cb3\u5317\u7701",code:13e4,value:36010.27},{name:"\u5c71\u897f\u7701",code:14e4,value:16818.11},{name:"\u5409\u6797\u7701",code:22e4,value:15074},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",code:64e4,value:3705.18},{name:"\u8fbd\u5b81\u7701",code:21e4,value:25315.35},{name:"\u6d77\u5357\u7701",code:46e4,value:4832.05},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",code:15e4,value:17289.22},{name:"\u5929\u6d25\u5e02",code:12e4,value:18809.64},{name:"\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a",code:65e4,value:12199.08},{name:"\u4e0a\u6d77\u5e02",code:31e4,value:32679.87},{name:"\u9655\u897f\u7701",code:61e4,value:24438.32},{name:"\u7518\u8083\u7701",code:62e4,value:8246.07},{name:"\u5b89\u5fbd\u7701",code:34e4,value:30006.82},{name:"\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a",code:81e4,value:0},{name:"\u5e7f\u4e1c\u7701",code:44e4,value:97277.77},{name:"\u6cb3\u5357\u7701",code:41e4,value:48055.86},{name:"\u6e56\u5357\u7701",code:43e4,value:36425.78},{name:"\u6c5f\u897f\u7701",code:36e4,value:21984.78},{name:"\u56db\u5ddd\u7701",code:51e4,value:40678.13},{name:"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a",code:45e4,value:20353.51},{name:"\u6c5f\u82cf\u7701",code:32e4,value:92595.4},{name:"\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a",code:82e4,value:null},{name:"\u6d59\u6c5f\u7701",code:33e4,value:56197.15},{name:"\u5c71\u4e1c\u7701",code:37e4,value:76469.67},{name:"\u9752\u6d77\u7701",code:63e4,value:2865.23},{name:"\u91cd\u5e86\u5e02",code:5e5,value:20363.19},{name:"\u798f\u5efa\u7701",code:35e4,value:35804.04},{name:"\u6e56\u5317\u7701",code:42e4,value:39366.55},{name:"\u897f\u85cf\u81ea\u6cbb\u533a",code:54e4,value:1477.63},{name:"\u53f0\u6e7e\u7701",code:71e4,value:null}],t=new a["Scene"]({id:"map",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});t.on("loaded",(()=>{new o["CountryLayer"](t,{data:e,joinBy:["NAME_CHN","name"],depth:1,coastlineStroke:"#91b1f0",coastlineWidth:1,chinaNationalStroke:"#91b1f0",chinaNationalWidth:1,provinceStroke:"#5d7bba",cityStroke:"#EBCCB4",cityStrokeWidth:1,fill:{color:{field:"NAME_CHN",values:["#112B62","#2455BB","#3172F7","#5E90F7"]}},label:{color:"#00FFF8",size:14,stroke:"#00FFF8",strokeWidth:.2},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}})}))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{height:"400px",position:"relative",background:"#011030"},id:"map"})))},tB8F:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"rootContainer",(function(){return p}));var i={};n.r(i),n.d(i,"rootContainer",(function(){return w}));n("pNMO"),n("4Brf"),n("tjZM"),n("3I1R"),n("7+kd"),n("KhsS"),n("gOCb"),n("a57n"),n("GXvd"),n("I1Gw"),n("gXIK"),n("lEou"),n("ma9I"),n("TeQF"),n("BIHw"),n("XbcX"),n("pjDv"),n("yq1k"),n("yXV3"),n("4mDm"),n("uqXc"),n("2B1R"),n("E9XD"),n("9N29"),n("Junv"),n("+2oP"),n("ToJy"),n("94Xl"),n("pDQq"),n("QGkA"),n("c9m3"),n("wZ/5"),n("rOQg"),n("7+zs"),n("tW5y"),n("DEfu"),n("Tskq"),n("Uydy"),n("QFcT"),n("I9xj"),n("w1rZ"),n("toAj"),n("zKZe"),n("Eqjn"),n("5xtp"),n("T63A"),n("wfmh"),n("27RR"),n("v5b1"),n("W/eh"),n("07d7"),n("B6y2"),n("5s+n"),n("p532"),n("pv2x"),n("SuFq"),n("ftMj"),n("TWNs"),n("U3f4"),n("JfAA"),n("YGK4"),n("inlA"),n("JTJg"),n("Rm1S"),n("hDyC"),n("TZCg"),n("UxlC"),n("hByQ"),n("EnZy"),n("LKBx"),n("SYor"),n("HiXI"),n("7ueG"),n("z8NH"),n("SpvK"),n("/Yfv"),n("iwkZ"),n("FDzp"),n("XMab"),n("ilnZ"),n("hMMk"),n("+ywr"),n("IL/d"),n("gvgV"),n("7JcK"),n("s5qe"),n("cvf0"),n("ENF9"),n("H+LF"),n("66V8"),n("iIM6"),n("2tOg"),n("gYJb"),n("EDT/"),n("j+VE"),n("wgYD"),n("R3/m"),n("l/vG"),n("0q/z"),n("n5pg"),n("zu+z"),n("ihrJ"),n("Q7Pz"),n("unQa"),n("Vnov"),n("nIe3"),n("CUyW"),n("qc1c"),n("5921"),n("VOz1"),n("Thag"),n("9D6x"),n("cOPa"),n("vdRX"),n("KrxN"),n("SL6q"),n("lehK"),n("eO0o"),n("NqR8"),n("w7s6"),n("uWhJ"),n("WPzJ"),n("NV22"),n("ny8l"),n("a5/B"),n("vzwy"),n("pevA"),n("8go2"),n("DrvE"),n("kCkZ"),n("++zV"),n("Y4C7"),n("ZsH6"),n("vZi8"),n("5r1n"),n("sQ9d"),n("bdeN"),n("AwgR"),n("qgGA"),n("49+q"),n("AVoK"),n("hcok"),n("dNT4"),n("3uUd"),n("tijO"),n("1kQv"),n("ZY7T"),n("C1JJ"),n("lmH4"),n("Co1j"),n("5JV0"),n("ctDJ"),n("8r4s"),n("JwUS"),n("qaHo"),n("Si40"),n("BGb9"),n("fN96"),n("UzNg"),n("DhMN"),n("rZ3M"),n("apDx"),n("4XaG"),n("6V7H"),n("cfiF"),n("702D"),n("TJ79"),n("Z4nd"),n("8STE"),n("spTT"),n("rb3L"),n("FZtP"),n("3bBZ"),n("Ew+T"),n("n5b4"),n("Kz25"),n("vxnP"),n("mGGf"),n("VWci");var a=n("bCY9"),o=n("q1tI"),s=n.n(o),u=n("9kvl"),l=n("LtsZ"),c=n("I5X1");if("function"!==typeof c["a"])throw new Error("[plugin-initial-state]: useModel is not a function, @umijs/plugin-model is required.");var f=e=>{var t=e.children,n=Object(o["useRef"])(!1),r=u["b"].applyPlugins({key:"initialStateConfig",type:l["ApplyPluginsType"].modify,initialValue:{}})||{},i=Object(c["a"])("@@initialState")||{},a=i.loading,s=void 0!==a&&a;return Object(o["useEffect"])((()=>{s||(n.current=!0)}),[s]),s&&!n.current?r.loading||null:t};function p(e){return s.a.createElement(f,null,e)}var d=n("tJVT"),h=()=>({loading:!1,refresh:()=>{}});class v{constructor(){this.callbacks={},this.data={},this.update=e=>{(this.callbacks[e]||[]).forEach((t=>{try{var n=this.data[e];t(n)}catch(r){t(void 0)}}))}}}var m=e=>{var t=e.hook,n=e.onUpdate,r=e.namespace,i=Object(o["useRef"])(n);i.current=n;var a,u=Object(o["useRef"])(!1);try{a=t()}catch(l){console.error("plugin-model: Invoking '".concat(r||"unknown","' model failed:"),l)}return Object(o["useMemo"])((()=>{i.current(a),u.current=!1}),[]),Object(o["useEffect"])((()=>{u.current?i.current(a):u.current=!0})),s.a.createElement(s.a.Fragment,null)},y=n("qwGt"),g={"@@initialState":h},b=new v,_=m,x=e=>{var t=e.children;return s.a.createElement(y["a"].Provider,{value:b},Object.entries(g).map((e=>s.a.createElement(_,{key:e[0],namespace:e[0],hook:e[1],onUpdate:t=>{var n=e,r=Object(d["a"])(n,1),i=r[0];b.data[i]=t,b.update(i)}}))),t)};function w(e){return s.a.createElement(x,null,e)}a["a"].register({apply:r,path:"../plugin-initial-state/runtime"}),a["a"].register({apply:i,path:"../plugin-model/runtime"});var E=n("FfOG"),S=n("WmNS"),k=n.n(S),O=n("Ty5D"),T=n("i8i4");n("wx14");function C(e,t,n){return void 0===n&&(n=[]),e.some((function(e){var r=e.path?Object(O["i"])(t,e):n.length?n[n.length-1].match:O["e"].computeRootMatch(t);return r&&(n.push({route:e,match:r}),e.routes&&C(e.routes,t,n)),r})),n}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){P(a,r,i,o,s,"next",e)}function s(e){P(a,r,i,o,s,"throw",e)}o(void 0)}))}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function N(e,t){if(null==e)return{};var n,r,i=L(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function D(e,t){return F(e)||z(e,t)||B(e,t)||V()}function F(e){if(Array.isArray(e))return e}function z(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function B(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=B(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function W(e){return s.a.createElement(O["h"].Consumer,null,(function(t){var n=e.location||t.location,r=e.computedMatch,i=M(M({},t),{},{location:n,match:r}),a=e.render;return s.a.createElement(O["h"].Provider,{value:i},i.match?a(M(M({},e.layoutProps),i)):null)}))}var q=["children"];function G(e){return s.a.createElement(O["h"].Consumer,null,(function(t){var n,r=e.children,i=N(e,q),a=e.location||t.location,s=null;return o["Children"].forEach(r,(function(e){if(null===s&&Object(o["isValidElement"])(e)){n=e;var r=e.props.path||e.props.from;s=r?Object(O["i"])(a.pathname,M(M({},e.props),{},{path:r})):t.match}})),s?Object(o["cloneElement"])(n,{location:a,computedMatch:s,layoutProps:i}):null}))}var Z=["component"];function Y(e,t){e.component;var n=N(e,Z),r=e.component;function i(i){var a=Object(o["useState"])((function(){return window.g_initialProps})),u=D(a,2),c=u[0],f=u[1];return Object(o["useEffect"])((function(){var a=function(){var a=I(k.a.mark((function a(){var o,s,u,c,p;return k.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=r,!r.preload){a.next=6;break}return a.next=4,r.preload();case 4:s=a.sent,s=s["default"]||s;case 6:if(u=M(M({isServer:!1,match:null===i||void 0===i?void 0:i.match,history:null===i||void 0===i?void 0:i.history,route:e},t.getInitialPropsCtx||{}),n),!(null===(o=s)||void 0===o?void 0:o.getInitialProps)){a.next=15;break}return a.next=10,t.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:l["ApplyPluginsType"].modify,initialValue:u,async:!0});case 10:return c=a.sent,a.next=13,s.getInitialProps(c||u);case 13:p=a.sent,f(p);case 15:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();window.g_initialProps||a()}),[window.location.pathname,window.location.search]),s.a.createElement(r,j({},i,c))}return i.wrapInitialPropsLoaded=!0,i.displayName="ComponentWithInitialPropsFetch",i}function X(e){var t=e.route,n=e.opts,r=e.props,i=J(M(M({},n),{},{routes:t.routes||[],rootRoutes:n.rootRoutes}),{location:r.location}),a=t.component,u=t.wrappers;if(a){var l=n.isServer?{}:window.g_initialProps,c=M(M(M(M({},r),n.extraProps),n.pageInitialProps||l),{},{route:t,routes:n.rootRoutes}),f=s.a.createElement(a,c,i);if(u){var p=u.length-1;while(p>=0)f=Object(o["createElement"])(u[p],c,f),p-=1}return f}return i}function K(e){var t,n,r,i=e.route,a=e.index,o=e.opts,u={key:i.key||a,exact:i.exact,strict:i.strict,sensitive:i.sensitive,path:i.path};return i.redirect?s.a.createElement(O["c"],j({},u,{from:i.path,to:i.redirect})):(!o.ssrProps||o.isServer||(null===(t=i.component)||void 0===t?void 0:t.wrapInitialPropsLoaded)||!(null===(n=i.component)||void 0===n?void 0:n.getInitialProps)&&!(null===(r=i.component)||void 0===r?void 0:r.preload)||(i.component=Y(i,o)),s.a.createElement(W,j({},u,{render:function(e){return X({route:i,opts:o,props:e})}})))}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.routes?s.a.createElement(G,t,e.routes.map((function(t,n){return K({route:t,index:n,opts:M(M({},e),{},{rootRoutes:e.rootRoutes||e.routes})})}))):null}var Q=["history"];function $(e){var t=e.history,n=N(e,Q);return Object(o["useEffect"])((function(){function r(t,r){var i=C(e.routes,t.pathname);"undefined"!==typeof document&&void 0!==n.defaultTitle&&(document.title=i.length&&i[i.length-1].route.title||n.defaultTitle||""),e.plugin.applyPlugins({key:"onRouteChange",type:l["ApplyPluginsType"].event,args:{routes:e.routes,matchedRoutes:i,location:t,action:r}})}return window.g_useSSR&&(window.g_initialProps=null),r(t.location,"POP"),t.listen(r)}),[t]),s.a.createElement(O["e"],{history:t},J(n))}function ee(e){return te.apply(this,arguments)}function te(){return te=I(k.a.mark((function e(t){var n,r,i,a,o,s,u,l,c=arguments;return k.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:window.location.pathname,r=C(t,n),i=H(r),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=19;break}if(s=a.value,u=s.route,"string"===typeof u.component||!(null===(o=u.component)||void 0===o?void 0:o.preload)){e.next=13;break}return e.next=11,u.component.preload();case 11:l=e.sent,u.component=l["default"]||l;case 13:if(!u.routes){e.next=17;break}return e.next=16,ee(u.routes,n);case 16:u.routes=e.sent;case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](3),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",t);case 28:case"end":return e.stop()}}),e,null,[[3,21,24,27]])}))),te.apply(this,arguments)}function ne(e){var t=e.plugin.applyPlugins({type:l["ApplyPluginsType"].modify,key:"rootContainer",initialValue:s.a.createElement($,{history:e.history,routes:e.routes,plugin:e.plugin,ssrProps:e.ssrProps,defaultTitle:e.defaultTitle}),args:{history:e.history,routes:e.routes,plugin:e.plugin}});if(!e.rootElement)return t;var n="string"===typeof e.rootElement?document.getElementById(e.rootElement):e.rootElement,r=e.callback||function(){};window.g_useSSR?e.dynamicImport?ee(e.routes).then((function(){Object(T["hydrate"])(t,n,r)})):Object(T["hydrate"])(t,n,r):Object(T["render"])(t,n,r)}function re(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("KcUY").default],component:e=>{var t=n("F4QJ"),r=t.default,i=n("Zxc8"),a=i.default,o=n("Rsk4"),u=o.default,l=n("dEAq"),c=l.usePrefersColor,f=r(e,u);switch(c(),f.length){case 1:return f[0];case 2:return s.a.createElement(a,f[0],f[1]);default:return"Demo ".concat(e.match.params.uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("KcUY").default,n("0Bia").default],routes:[{path:"/baselayer",component:n("D+bL").default,exact:!0,meta:{filePath:"docs/baselayer.en.md",updatedTime:1601383207e3,title:"\u6807\u51c6\u5730\u56fe",order:1,slugs:[{depth:2,value:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b",heading:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"},{depth:2,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:3,value:"\u6570\u636e",heading:"\u6570\u636e"},{depth:3,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:4,value:"fillLayer",heading:"filllayer"},{depth:4,value:"labelLayer",heading:"labellayer"},{depth:4,value:"lineLayer",heading:"linelayer"},{depth:3,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:4,value:"updateData(data, joinBy)",heading:"updatedatadata-joinby"},{depth:3,value:"getFillData",heading:"getfilldata"},{depth:4,value:"show",heading:"show"},{depth:4,value:"hide",heading:"hide"},{depth:4,value:"destroy",heading:"destroy"}]},title:"\u6807\u51c6\u5730\u56fe"},{path:"/baselayer",component:n("uEWz").default,exact:!0,meta:{filePath:"docs/baselayer.zh.md",updatedTime:1626834162e3,title:"\u6807\u51c6\u5730\u56fe",order:1,slugs:[{depth:2,value:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b",heading:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"},{depth:2,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:3,value:"\u6570\u636e",heading:"\u6570\u636e"},{depth:3,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:4,value:"fillLayer",heading:"filllayer"},{depth:3,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:4,value:"updateData(data, joinBy)",heading:"updatedatadata-joinby"},{depth:3,value:"getFillData",heading:"getfilldata"},{depth:4,value:"show",heading:"show"},{depth:4,value:"enablePopup",heading:"enablepopup"},{depth:4,value:"disablePopup",heading:"disablepopup"},{depth:4,value:"hide",heading:"hide"},{depth:4,value:"destroy",heading:"destroy"}]},title:"\u6807\u51c6\u5730\u56fe"},{path:"/drilldown",component:n("VADA").default,exact:!0,meta:{filePath:"docs/drilldown.en.md",updatedTime:1599789894e3,title:"\u94bb\u53d6\u5730\u56fe",order:2,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:3,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:4,value:"layerOption",heading:"layeroption"},{depth:4,value:"labelOption",heading:"labeloption"},{depth:4,value:"bubbleOption",heading:"bubbleoption"},{depth:4,value:"fill",heading:"fill"},{depth:2,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:3,value:"provinceLayer",heading:"provincelayer"},{depth:3,value:"cityLayer",heading:"citylayer"},{depth:3,value:"countyLayer",heading:"countylayer"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:3,value:"drillDown",heading:"drilldown"},{depth:3,value:"drillUp",heading:"drillup"},{depth:3,value:"updateData",heading:"updatedata"},{depth:3,value:"show",heading:"show"},{depth:3,value:"hide",heading:"hide"},{depth:3,value:"destroy",heading:"destroy"}]},title:"\u94bb\u53d6\u5730\u56fe"},{path:"/drilldown",component:n("rpbK").default,exact:!0,meta:{filePath:"docs/drilldown.zh.md",updatedTime:1626772451e3,title:"\u94bb\u53d6\u5730\u56fe",order:2,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:3,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:4,value:"layerOption",heading:"layeroption"},{depth:4,value:"labelOption",heading:"labeloption"},{depth:4,value:"bubbleOption",heading:"bubbleoption"},{depth:4,value:"fill",heading:"fill"},{depth:2,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:3,value:"provinceLayer",heading:"provincelayer"},{depth:3,value:"cityLayer",heading:"citylayer"},{depth:3,value:"countyLayer",heading:"countylayer"},{depth:2,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:3,value:"drillDown",heading:"drilldown"},{depth:4,value:"enablePopup",heading:"enablepopup"},{depth:4,value:"disblePopup",heading:"disblepopup"},{depth:3,value:"drillUp",heading:"drillup"},{depth:3,value:"updateData",heading:"updatedata"},{depth:3,value:"show",heading:"show"},{depth:3,value:"hide",heading:"hide"},{depth:3,value:"destroy",heading:"destroy"}]},title:"\u94bb\u53d6\u5730\u56fe"},{path:"/",component:n("F+kV").default,exact:!0,meta:{filePath:"docs/index.md",updatedTime:1601365248e3,title:"API",order:4,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:2,value:"\u7b80\u4ecb",heading:"\u7b80\u4ecb"},{depth:2,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:3,value:"\u6570\u636e",heading:"\u6570\u636e"},{depth:3,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:4,value:"fillLayer",heading:"filllayer"},{depth:3,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:4,value:"updateData(data, joinBy)",heading:"updatedatadata-joinby"},{depth:3,value:"getFillData",heading:"getfilldata"},{depth:4,value:"show",heading:"show"},{depth:4,value:"hide",heading:"hide"},{depth:4,value:"destroy",heading:"destroy"},{depth:3,value:"\u6848\u4f8b",heading:"\u6848\u4f8b"},{depth:4,value:"\u4e2d\u56fd\u5730\u56fe",heading:"\u4e2d\u56fd\u5730\u56fe"}]},title:"API"},{path:"/start",component:n("K6Lp").default,exact:!0,meta:{filePath:"docs/start.en.md",updatedTime:1599789894e3,title:"\u5feb\u901f\u5f00\u59cb",order:0,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:2,value:"\u7b80\u4ecb",heading:"\u7b80\u4ecb"},{depth:2,value:"\u6784\u9020\u51fd\u6570",heading:"\u6784\u9020\u51fd\u6570"},{depth:3,value:"\u6570\u636e",heading:"\u6570\u636e"},{depth:3,value:"\u5c5e\u6027",heading:"\u5c5e\u6027"},{depth:4,value:"fillLayer",heading:"filllayer"},{depth:3,value:"\u65b9\u6cd5",heading:"\u65b9\u6cd5"},{depth:4,value:"updateData(data, joinBy)",heading:"updatedatadata-joinby"},{depth:4,value:"show",heading:"show"},{depth:4,value:"hide",heading:"hide"},{depth:4,value:"destroy",heading:"destroy"}]},title:"\u5feb\u901f\u5f00\u59cb"},{path:"/start",component:n("mTN9").default,exact:!0,meta:{filePath:"docs/start.zh.md",updatedTime:1599789894e3,title:"\u5feb\u901f\u5f00\u59cb",order:0,slugs:[{depth:2,value:"\u4f7f\u7528",heading:"\u4f7f\u7528"},{depth:3,value:"\u6570\u636e",heading:"\u6570\u636e"}]},title:"\u5feb\u901f\u5f00\u59cb"},{path:"/demo/base",component:n("aD6j").default,exact:!0,meta:{filePath:"docs/demo/base.zh.md",updatedTime:1601365248e3,title:"\u6807\u51c6\u5730\u56fe",order:1,slugs:[{depth:1,value:"\u6807\u51c6\u5730\u56fe",heading:"\u6807\u51c6\u5730\u56fe"},{depth:2,value:"WorldLayer \u4e16\u754c\u5730\u56fe",heading:"worldlayer-\u4e16\u754c\u5730\u56fe"},{depth:2,value:"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd",heading:"countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"},{depth:2,value:"ProvinceLayer \u7701\u7ea7\u5730\u56fe",heading:"provincelayer-\u7701\u7ea7\u5730\u56fe"},{depth:2,value:"CityLayer \u5e02\u7ea7\u5730\u56fe",heading:"citylayer-\u5e02\u7ea7\u5730\u56fe"},{depth:2,value:"CountyLayer \u53bf\u7ea7\u5730\u56fe",heading:"countylayer-\u53bf\u7ea7\u5730\u56fe"}],group:{path:"/demo",title:"Demo"}},title:"\u6807\u51c6\u5730\u56fe"},{path:"/demo/china",component:n("uigR").default,exact:!0,meta:{filePath:"docs/demo/china.md",updatedTime:1605081054e3,title:"\u4e2d\u56fd\u5730\u56fe",order:1,slugs:[{depth:1,value:"\u6807\u51c6\u5730\u56fe",heading:"\u6807\u51c6\u5730\u56fe"},{depth:2,value:"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd",heading:"countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"}],group:{path:"/demo",title:"Demo"}},title:"\u4e2d\u56fd\u5730\u56fe"},{path:"/demo/custom-drilldown",component:n("MUOp").default,exact:!0,meta:{filePath:"docs/demo/custom-drilldown.zh.md",updatedTime:1601365248e3,title:"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe",order:5,slugs:[{depth:1,value:"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe",heading:"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe"}],group:{path:"/demo",title:"Demo"}},title:"\u81ea\u5b9a\u4e49\u94bb\u53d6\u5730\u56fe"},{path:"/demo/drilldown",component:n("Rk16").default,exact:!0,meta:{filePath:"docs/demo/drilldown.zh.md",updatedTime:1601365248e3,title:"\u94bb\u53d6\u5730\u56fe",order:2,slugs:[{depth:1,value:"\u94bb\u53d6\u5730\u56fe",heading:"\u94bb\u53d6\u5730\u56fe"}],group:{path:"/demo",title:"Demo"}},title:"\u94bb\u53d6\u5730\u56fe"},{path:"/demo/drilldown_buble",component:n("eWPy").default,exact:!0,meta:{filePath:"docs/demo/drilldown_buble.zh.md",updatedTime:1623075228e3,title:"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe",order:2,slugs:[{depth:1,value:"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe",heading:"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe"}],group:{path:"/demo",title:"Demo"}},title:"\u94bb\u53d6\u6c14\u6ce1\u5730\u56fe"},{path:"/demo/fillcolor",component:n("DA4O").default,exact:!0,meta:{filePath:"docs/demo/fillcolor.zh.md",updatedTime:1601365248e3,title:"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49",order:3,slugs:[{depth:1,value:"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49",heading:"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49"}],group:{path:"/demo",title:"Demo"}},title:"\u533a\u5757\u989c\u8272\u81ea\u5b9a\u4e49"},{path:"/demo/update-data",component:n("L+Zf").default,exact:!0,meta:{filePath:"docs/demo/update-data.zh.md",updatedTime:1601365248e3,title:"\u6570\u636e\u66f4\u65b0",order:5,slugs:[{depth:1,value:"\u6570\u636e\u66f4\u65b0",heading:"\u6570\u636e\u66f4\u65b0"}],group:{path:"/demo",title:"Demo"}},title:"\u6570\u636e\u66f4\u65b0"},{path:"/demo/world",component:n("GPqJ").default,exact:!0,meta:{filePath:"docs/demo/world.zh.md",updatedTime:1622089996e3,title:"\u4e16\u754c\u5730\u56fe",order:1,slugs:[{depth:1,value:"\u6807\u51c6\u5730\u56fe",heading:"\u6807\u51c6\u5730\u56fe"},{depth:2,value:"WorldLayer \u4e16\u754c\u5730\u56fe",heading:"worldlayer-\u4e16\u754c\u5730\u56fe"}],group:{path:"/demo",title:"Demo"}},title:"\u4e16\u754c\u5730\u56fe"},{path:"/example/china",component:n("G4nr").default,exact:!0,meta:{filePath:"docs/example/china.md",updatedTime:1601381739e3,title:"\u6807\u51c6\u5730\u56fe",order:2,slugs:[],group:{path:"/example",title:"Example"}},title:"\u6807\u51c6\u5730\u56fe"},{path:"/example/dark",component:n("BVa3").default,exact:!0,meta:{filePath:"docs/example/dark.md",updatedTime:1601381739e3,title:"\u6697\u8272\u5730\u56fe",order:2,slugs:[],group:{path:"/example",title:"Example"}},title:"\u6697\u8272\u5730\u56fe"},{path:"/example/drilldown",component:n("ClmI").default,exact:!0,meta:{filePath:"docs/example/drilldown.md",updatedTime:1601381739e3,title:"\u4e0b\u94bb\u5730\u56fe",order:2,slugs:[],group:{path:"/example",title:"Example"}},title:"\u4e0b\u94bb\u5730\u56fe"},{path:"/example/region",component:n("XBcw").default,exact:!0,meta:{filePath:"docs/example/region.md",updatedTime:1603804481e3,title:"\u5927\u533a\u4e0b\u94bb",order:2,slugs:[],group:{path:"/example",title:"Example"}},title:"\u5927\u533a\u4e0b\u94bb"},{path:"/demo",meta:{},exact:!0,redirect:"/demo/base"},{path:"/example",meta:{},exact:!0,redirect:"/example/china"}],title:"\u884c\u653f\u533a\u533a\u5757\u53ef\u89c6\u5316 Boundary",component:e=>e.children}];return a["a"].applyPlugins({key:"patchRoutes",type:l["ApplyPluginsType"].event,args:{routes:e}}),e}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a["a"].applyPlugins({key:"render",type:l["ApplyPluginsType"].compose,initialValue:()=>{var t=a["a"].applyPlugins({key:"modifyClientRenderOpts",type:l["ApplyPluginsType"].modify,initialValue:{routes:e.routes||re(),plugin:a["a"],history:Object(E["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"\u884c\u653f\u533a\u533a\u5757\u53ef\u89c6\u5316 Boundary"}});return ne(t)},args:e})},ae=ie();t["default"]=ae();window.g_umi={version:"3.5.17"}},tBDK:function(e,t,n){"use strict";n.r(t),n.d(t,"coordAll",(function(){return c})),n.d(t,"coordEach",(function(){return i})),n.d(t,"coordReduce",(function(){return a})),n.d(t,"featureEach",(function(){return u})),n.d(t,"featureReduce",(function(){return l})),n.d(t,"findPoint",(function(){return _})),n.d(t,"findSegment",(function(){return b})),n.d(t,"flattenEach",(function(){return d})),n.d(t,"flattenReduce",(function(){return h})),n.d(t,"geomEach",(function(){return f})),n.d(t,"geomReduce",(function(){return p})),n.d(t,"lineEach",(function(){return y})),n.d(t,"lineReduce",(function(){return g})),n.d(t,"propEach",(function(){return o})),n.d(t,"propReduce",(function(){return s})),n.d(t,"segmentEach",(function(){return v})),n.d(t,"segmentReduce",(function(){return m}));var r=n("0wsv");function i(e,t,n){if(null!==e)for(var r,a,o,s,u,l,c,f,p=0,d=0,h=e.type,v="FeatureCollection"===h,m="Feature"===h,y=v?e.features.length:1,g=0;g<y;g++){c=v?e.features[g].geometry:m?e.geometry:e,f=!!c&&"GeometryCollection"===c.type,u=f?c.geometries.length:1;for(var b=0;b<u;b++){var _=0,x=0;if(s=f?c.geometries[b]:c,null!==s){l=s.coordinates;var w=s.type;switch(p=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(l,d,g,_,x))return!1;d++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],d,g,_,x))return!1;d++,"MultiPoint"===w&&_++}"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(a=0;a<l[r].length-p;a++){if(!1===t(l[r][a],d,g,_,x))return!1;d++}"MultiLineString"===w&&_++,"Polygon"===w&&x++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(x=0,a=0;a<l[r].length;a++){for(o=0;o<l[r][a].length-p;o++){if(!1===t(l[r][a][o],d,g,_,x))return!1;d++}x++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(e,t,n,r){var a=n;return i(e,(function(e,r,i,o,s){a=0===r&&void 0===n?e:t(a,e,r,i,o,s)}),r),a}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)if(!1===t(e.features[n].properties,n))break;break;case"Feature":t(e.properties,0);break}}function s(e,t,n){var r=n;return o(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function u(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)if(!1===t(e.features[n],n))break}function l(e,t,n){var r=n;return u(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function c(e){var t=[];return i(e,(function(e){t.push(e)})),t}function f(e,t){var n,r,i,a,o,s,u,l,c,f,p=0,d="FeatureCollection"===e.type,h="Feature"===e.type,v=d?e.features.length:1;for(n=0;n<v;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,l=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,f=d?e.features[n].id:h?e.id:void 0,u=!!s&&"GeometryCollection"===s.type,o=u?s.geometries.length:1,i=0;i<o;i++)if(a=u?s.geometries[i]:s,null!==a)switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(a,p,l,c,f))return!1;break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===t(a.geometries[r],p,l,c,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,l,c,f))return!1;p++}}function p(e,t,n){var r=n;return f(e,(function(e,i,a,o,s){r=0===i&&void 0===n?e:t(r,e,i,a,o,s)})),r}function d(e,t){f(e,(function(e,n,i,a,o){var s,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Object(r["feature"])(e,i,{bbox:a,id:o}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var l=0;l<e.coordinates.length;l++){var c=e.coordinates[l],f={type:s,coordinates:c};if(!1===t(Object(r["feature"])(f,i),n,l))return!1}}))}function h(e,t,n){var r=n;return d(e,(function(e,i,a){r=0===i&&0===a&&void 0===n?e:t(r,e,i,a)})),r}function v(e,t){d(e,(function(e,n,a){var o=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,l=0,c=0,f=0;return!1!==i(e,(function(i,s,p,d,h){if(void 0===u||n>l||d>c||h>f)return u=i,l=n,c=d,f=h,void(o=0);var v=Object(r["lineString"])([u,i],e.properties);if(!1===t(v,n,a,h,o))return!1;o++,u=i}))&&void 0}}}))}function m(e,t,n){var r=n,i=!1;return v(e,(function(e,a,o,s,u){r=!1===i&&void 0===n?e:t(r,e,a,o,s,u),i=!0})),r}function y(e,t){if(!e)throw new Error("geojson is required");d(e,(function(e,n,i){if(null!==e.geometry){var a=e.geometry.type,o=e.geometry.coordinates;switch(a){case"LineString":if(!1===t(e,n,i,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===t(Object(r["lineString"])(o[s],e.properties),n,i,s))return!1;break}}}))}function g(e,t,n){var r=n;return y(e,(function(e,i,a,o){r=0===i&&void 0===n?e:t(r,e,i,a,o)})),r}function b(e,t){if(t=t||{},!Object(r["isObject"])(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,a=t.multiFeatureIndex||0,o=t.geometryIndex||0,s=t.segmentIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),Object(r["lineString"])([l[s],l[s+1]],u,t);case"Polygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s-1),Object(r["lineString"])([l[o][s],l[o][s+1]],u,t);case"MultiLineString":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),Object(r["lineString"])([l[a][s],l[a][s+1]],u,t);case"MultiPolygon":return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),s<0&&(s=l[a][o].length-s-1),Object(r["lineString"])([l[a][o][s],l[a][o][s+1]],u,t)}throw new Error("geojson is invalid")}function _(e,t){if(t=t||{},!Object(r["isObject"])(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,a=t.multiFeatureIndex||0,o=t.geometryIndex||0,s=t.coordIndex||0,u=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),u=u||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":u=u||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return Object(r["point"])(l,u,t);case"MultiPoint":return a<0&&(a=l.length+a),Object(r["point"])(l[a],u,t);case"LineString":return s<0&&(s=l.length+s),Object(r["point"])(l[s],u,t);case"Polygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),Object(r["point"])(l[o][s],u,t);case"MultiLineString":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),Object(r["point"])(l[a][s],u,t);case"MultiPolygon":return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),s<0&&(s=l[a][o].length-s),Object(r["point"])(l[a][o][s],u,t)}throw new Error("geojson is invalid")}},tEiQ:function(e,t,n){"use strict";(function(e){var r=n("q1tI"),i=n.n(r),a=n("dI71"),o=n("17x9"),s=n.n(o),u=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(){var e="__global_unique_id__";return l[e]=(l[e]||0)+1}function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function p(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}function d(e){return Array.isArray(e)?e[0]:e}function h(e,t){var n,i,o="__create-react-context-"+c()+"__",l=function(e){function n(){var t;return t=e.apply(this,arguments)||this,t.emitter=p(t.props.value),t}Object(a["a"])(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return e={},e[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;f(r,i)?n=0:(n="function"===typeof t?t(r,i):u,n|=0,0!==n&&this.emitter.set(e.value,n))}},r.render=function(){return this.props.children},n}(r["Component"]);l.childContextTypes=(n={},n[o]=s.a.object.isRequired,n);var h=function(t){function n(){var e;return e=t.apply(this,arguments)||this,e.state={value:e.getValue()},e.onUpdate=function(t,n){var r=0|e.observedBits;0!==(r&n)&&e.setState({value:e.getValue()})},e}Object(a["a"])(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return d(this.props.children)(this.state.value)},n}(r["Component"]);return h.contextTypes=(i={},i[o]=s.a.object,i),{Provider:l,Consumer:h}}var v=i.a.createContext||h;t["a"]=v}).call(this,n("IyRk"))},tJVT:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(u){i=!0,a=u}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return r(e)||i(e,t)||o(e,t)||s()}n.d(t,"a",(function(){return u}))},tLB3:function(e,t,n){var r=n("jXQH"),i=n("GoyQ"),a=n("/9aa"),o=NaN,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=f},tMB7:function(e,t,n){var r=n("y1pI");function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},tUxQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShapeIndex=i,t.sdf2DFunctions=void 0;var r=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];function i(e){return r.indexOf(e)}t.sdf2DFunctions=r},tW5y:function(e,t,n){"use strict";var r=n("hh1v"),i=n("m/L8"),a=n("4WOD"),o=n("tiKp"),s=o("hasInstance"),u=Function.prototype;s in u||i.f(u,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;while(e=a(e))if(this.prototype===e)return!0;return!1}})},tXUg:function(e,t,n){var r,i,a,o,s,u,l,c,f=n("2oRo"),p=n("Bs8V").f,d=n("xrYK"),h=n("LPSS").set,v=n("HNyW"),m=f.MutationObserver||f.WebKitMutationObserver,y=f.process,g=f.Promise,b="process"==d(y),_=p(f,"queueMicrotask"),x=_&&_.value;x||(r=function(){var e,t;b&&(e=y.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},b?o=function(){y.nextTick(r)}:m&&!v?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):g&&g.resolve?(l=g.resolve(void 0),c=l.then,o=function(){c.call(l,r)}):o=function(){h.call(f,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},tadb:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),a=r(i,"DataView");e.exports=a},tc7Y:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("J4zp")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),u=r(n("iWIM")),l=r(n("7W2i")),c=r(n("a1gu")),f=r(n("Nsbk")),p=r(n("lSNA")),d=n("z0pJ"),h=n("4cb6");n("mNvP");var v,m,y=n("OH7Y"),g=n("2FAK"),b=n("y6zh"),_=r(n("ldaH"));function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,p["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=S();return function(){var n,r=(0,f["default"])(e);if(t){var i=(0,f["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,c["default"])(this,n)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var k=(v=(0,h.injectable)(),v(m=function(e){(0,l["default"])(n,e);var t=E(n);function n(){var e;(0,a["default"])(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,p["default"])((0,s["default"])(e),"pickingFBO",void 0),(0,p["default"])((0,s["default"])(e),"layer",void 0),(0,p["default"])((0,s["default"])(e),"width",0),(0,p["default"])((0,s["default"])(e),"height",0),(0,p["default"])((0,s["default"])(e),"alreadyInRendering",!1),(0,p["default"])((0,s["default"])(e),"pickFromPickingFBO",(function(t){var n=t.x,r=t.y,i=t.lngLat,a=t.type;if(e.layer.isVisible()&&e.layer.needPick(a)){var o,s=e.rendererService,u=s.getViewportSize,l=s.readPixels,c=s.useFramebuffer,f=u(),p=f.width,h=f.height,v=e.layer.getLayerConfig(),m=v.enableHighlight,y=v.enableSelect,g=n*d.DOM.DPR,b=r*d.DOM.DPR;if(!(g>p||g<0||b>h||b<0))c(e.pickingFBO,(function(){var t;if(o=l({x:Math.round(g),y:Math.round(h-(r+1)*d.DOM.DPR),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}),0!==o[0]||0!==o[1]||0!==o[2]){var s=(0,d.decodePickingColor)(o),u=e.layer.getSource().getFeatureById(s),c={x:n,y:r,type:a,lngLat:i,featureId:s,feature:u};u&&(e.layer.setCurrentPickId(s),e.triggerHoverOnLayer(c))}else{var f={x:n,y:r,lngLat:i,type:null===e.layer.getCurrentPickId()?"un"+a:"mouseout",featureId:null,feature:null};e.triggerHoverOnLayer(w(w({},f),{},{type:"unpick"})),e.triggerHoverOnLayer(f),e.layer.setCurrentPickId(null)}m&&e.highlightPickedFeature(o),y&&"click"===a&&(null===(t=o)||void 0===t?void 0:t.toString())!==[0,0,0,0].toString()&&e.selectFeature(o)}))}})),e}return(0,o["default"])(n,[{key:"getType",value:function(){return b.PassType.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(e,t){(0,u["default"])((0,f["default"])(n.prototype),"init",this).call(this,e,t),this.layer=e;var r=this.rendererService,i=r.createTexture2D,a=r.createFramebuffer,o=r.getViewportSize,s=o(),l=s.width,c=s.height;this.pickingFBO=a({color:i({width:l,height:c,wrapS:g.gl.CLAMP_TO_EDGE,wrapT:g.gl.CLAMP_TO_EDGE})}),this.interactionService.on(y.InteractionEvent.Hover,this.pickFromPickingFBO),this.interactionService.on(y.InteractionEvent.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(y.InteractionEvent.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(e){var t=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,i=n.useFramebuffer,a=n.clear,o=r(),s=o.width,u=o.height;this.alreadyInRendering=!0,this.width===s&&this.height===u||(this.pickingFBO.resize({width:s,height:u}),this.width=s,this.height=u),i(this.pickingFBO,(function(){a({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=t.layer.multiPassRenderer.getRenderFlag();t.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),t.layer.multiPassRenderer.setRenderFlag(n),t.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(e){this.layer.emit(e.type,e)}},{key:"highlightPickedFeature",value:function(e){var t=(0,i["default"])(e,3),n=t[0],r=t[1],a=t[2];this.layer.hooks.beforeHighlight.call([n,r,a]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(e){var t=(0,i["default"])(e,3),n=t[0],r=t[1],a=t[2];this.layer.hooks.beforeSelect.call([n,r,a]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(e){var t=e.featureId,n=(0,d.encodePickingColor)(t);this.selectFeature(new Uint8Array(n))}},{key:"highlightFeatureHandle",value:function(e){var t=e.featureId,n=(0,d.encodePickingColor)(t);this.highlightPickedFeature(new Uint8Array(n))}}]),n}(_["default"]))||m);t["default"]=k},tdE1:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lSNA")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=n("4cb6");n("mNvP");var f,p,d=r(n("2stA"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i["default"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",b="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",_=(f=(0,c.injectable)(),f(p=function(e){(0,s["default"])(n,e);var t=m(n);function n(){return(0,a["default"])(this,n),t.apply(this,arguments)}return(0,o["default"])(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:b,fs:g});var e=this.shaderModuleService.getModule("ink-pass"),t=e.vs,n=e.fs,r=e.uniforms,i=this.rendererService.getViewportSize(),a=i.width,o=i.height;return{vs:t,fs:n,uniforms:v(v({},r),{},{u_ViewportSize:[a,o]})}}}]),n}(d["default"]))||p);t["default"]=_},tiKp:function(e,t,n){var r=n("2oRo"),i=n("VpIT"),a=n("UTVS"),o=n("kOOl"),s=n("STAE"),u=n("/b8u"),l=i("wks"),c=r.Symbol,f=u?c:c&&c.withoutSetter||o;e.exports=function(e){return a(l,e)||(s&&a(c,e)?l[e]=c[e]:l[e]=f("Symbol."+e)),l[e]}},tijO:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("glrk"),o=n("A2ZE"),s=n("WGBp"),u=n("ImZN");r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=a(this),n=s(t),r=o(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e){if(r(e,e,t))return u.stop(e)}),void 0,!1,!0).result}})},tjZM:function(e,t,n){var r=n("dG/n");r("asyncIterator")},toAj:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ppGB"),a=n("QIpd"),o=n("EUja"),s=n("0Dky"),u=1..toFixed,l=Math.floor,c=function(e,t,n){return 0===t?n:t%2===1?c(e,t-1,n*e):c(e*e,t/2,n)},f=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},p=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,n,r,s,u=a(this),p=i(e),d=[0,0,0,0,0,0],h="",v="0",m=function(e,t){var n=-1,r=t;while(++n<6)r+=e*d[n],d[n]=r%1e7,r=l(r/1e7)},y=function(e){var t=6,n=0;while(--t>=0)n+=d[t],d[t]=l(n/e),n=n%e*1e7},g=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(t=f(u*c(2,69,1))-69,n=t<0?u*c(2,-t,1):u/c(2,t,1),n*=4503599627370496,t=52-t,t>0){m(0,n),r=p;while(r>=7)m(1e7,0),r-=7;m(c(10,r,1),0),r=t-1;while(r>=23)y(1<<23),r-=23;y(1<<r),m(1,1),y(2),v=g()}else m(0,n),m(1<<-t,0),v=g()+o.call("0",p);return p>0?(s=v.length,v=h+(s<=p?"0."+o.call("0",p-s)+v:v.slice(0,s-p)+"."+v.slice(s-p))):v=h+v,v}})},tq1B:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>{var e=[{name:"\u4e0a\u57ce\u533a",value:"34.5",adcode:"330102"},{name:"\u4e0b\u57ce\u533a",value:"52.6",adcode:"330103"},{name:"\u6c5f\u5e72\u533a",value:"80.1",adcode:"330104"},{name:"\u62f1\u5885\u533a",value:"57.9",adcode:"330105"},{name:"\u897f\u6e56\u533a",value:"90.8",adcode:"330106"},{name:"\u6ee8\u6c5f\u533a",value:"45.5",adcode:"330108"},{name:"\u8427\u5c71\u533a",value:"158.5 ",adcode:"330109"},{name:"\u4f59\u676d\u533a",value:"189.1",adcode:"330110"},{name:"\u5bcc\u9633\u533a",value:"74.4",adcode:"330111"},{name:"\u4e34\u5b89\u533a",value:"59.6",adcode:"330112"},{name:"\u6850\u5e90\u53bf",value:"43.6",adcode:"330122"},{name:"\u6df3\u5b89\u53bf",value:"35.8",adcode:"330127"},{name:"\u5efa\u5fb7\u5e02",value:"44.7",adcode:"330182"}];return i.a.useEffect((()=>{var t=new a["Scene"]({id:"city",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});t.on("loaded",(()=>{new o["CityLayer"](t,{data:e,joinBy:["adcode","adcode"],adcode:["330000","330100"],fill:{color:{field:"value",values:e=>e<30?"#FFE6D9":e<60?"#FFCBB3":e<90?"#FFAD86":e<120?"#FF8F59":e<140?"#FF5809":e<200?"#D94600":void 0}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN+"  \u4eba\u53e3\uff1a"+e.value+"\u4e07\u4eba","</span>")}})}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"city"})}},tsqr:function(e,t,n){"use strict";n.r(t),n.d(t,"getKeyThenIncreaseKey",(function(){return B})),n.d(t,"attachTypeApi",(function(){return Y})),n.d(t,"getInstance",(function(){return X}));var r=n("wx14"),i=n("rePB"),a=n("q1tI"),o=n("TSYQ"),s=n.n(o),u=n("8tx+"),l=n("ye1Q"),c=n("VTBJ"),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},p=f,d=n("6VBw"),h=function(e,t){return a["createElement"](d["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:p}))};h.displayName="ExclamationCircleFilled";var v=a["forwardRef"](h),m=n("jN4g"),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},g=y,b=function(e,t){return a["createElement"](d["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:g}))};b.displayName="CheckCircleFilled";var _=a["forwardRef"](b),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},w=x,E=function(e,t){return a["createElement"](d["a"],Object(c["a"])(Object(c["a"])({},e),{},{ref:t,icon:w}))};E.displayName="InfoCircleFilled";var S=a["forwardRef"](E),k=n("ODXe"),O=n("8HVG"),T=n("H84U");function C(e,t){var n=function(){var n,i=null,o={add:function(e,t){null===i||void 0===i||i.component.add(e,t)}},s=Object(O["a"])(o),u=Object(k["a"])(s,2),l=u[0],c=u[1];function f(a){var o=a.prefixCls,s=n("message",o),u=n(),c=a.key||B(),f=new Promise((function(n){var o=function(){return"function"===typeof a.onClose&&a.onClose(),n(!0)};e(Object(r["a"])(Object(r["a"])({},a),{prefixCls:s,rootPrefixCls:u}),(function(e){var n=e.prefixCls,s=e.instance;i=s,l(t(Object(r["a"])(Object(r["a"])({},a),{key:c,onClose:o}),n))}))})),p=function(){i&&i.removeNotice(c)};return p.then=function(e,t){return f.then(e,t)},p.promise=f,p}var p=a["useRef"]({});return p.current.open=f,["success","info","warning","error","loading"].forEach((function(e){return Y(p.current,e)})),[p.current,a["createElement"](T["a"],{key:"holder"},(function(e){return n=e.getPrefixCls,c}))]};return n}var A,M,P,I,R=n("wEI+"),j=3,L=1,N="",D="move-up",F=!1,z=!1;function B(){return L++}function U(e){void 0!==e.top&&(M=e.top,A=null),void 0!==e.duration&&(j=e.duration),void 0!==e.prefixCls&&(N=e.prefixCls),void 0!==e.getContainer&&(P=e.getContainer),void 0!==e.transitionName&&(D=e.transitionName,A=null,F=!0),void 0!==e.maxCount&&(I=e.maxCount,A=null),void 0!==e.rtl&&(z=e.rtl)}function V(e,t){var n=e.prefixCls,r=Object(R["a"])(),i=r.getPrefixCls,a=r.getRootPrefixCls,o=i("message",n||N),s=a(e.rootPrefixCls,o);if(A)t({prefixCls:o,rootPrefixCls:s,instance:A});else{var l={prefixCls:o,transitionName:F?D:"".concat(s,"-").concat(D),style:{top:M},getContainer:P,maxCount:I};u["a"].newInstance(l,(function(e){A?t({prefixCls:o,rootPrefixCls:s,instance:A}):(A=e,t({prefixCls:o,rootPrefixCls:s,instance:e}))}))}}var H={info:S,success:_,error:m["a"],warning:v,loading:l["a"]};function W(e,t){var n,r=void 0!==e.duration?e.duration:j,o=H[e.type],u=s()("".concat(t,"-custom-content"),(n={},Object(i["a"])(n,"".concat(t,"-").concat(e.type),e.type),Object(i["a"])(n,"".concat(t,"-rtl"),!0===z),n));return{key:e.key,duration:r,style:e.style||{},className:e.className,content:a["createElement"]("div",{className:u},e.icon||o&&a["createElement"](o,null),a["createElement"]("span",null,e.content)),onClose:e.onClose,onClick:e.onClick}}function q(e){var t=e.key||L++,n=new Promise((function(n){var i=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};V(e,(function(n){var a=n.prefixCls,o=n.instance;o.notice(W(Object(r["a"])(Object(r["a"])({},e),{key:t,onClose:i}),a))}))})),i=function(){A&&A.removeNotice(t)};return i.then=function(e,t){return n.then(e,t)},i.promise=n,i}function G(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}var Z={open:q,config:U,destroy:function(e){if(A)if(e){var t=A,n=t.removeNotice;n(e)}else{var r=A,i=r.destroy;i(),A=null}}};function Y(e,t){e[t]=function(n,i,a){return G(n)?e.open(Object(r["a"])(Object(r["a"])({},n),{type:t})):("function"===typeof i&&(a=i,i=void 0),e.open({content:n,duration:i,type:t,onClose:a}))}}["success","info","warning","error","loading"].forEach((function(e){return Y(Z,e)})),Z.warn=Z.warning,Z.useMessage=C(V,W);var X=function(){return null};t["default"]=Z},tvnk:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("J4zp")),a=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("lSNA")),u=n("IOcx"),l=Math.PI/180,c=function(){function e(){(0,a["default"])(this,e),(0,s["default"])(this,"projectionMatrix",u.mat4.create()),(0,s["default"])(this,"viewMatrix",u.mat4.create()),(0,s["default"])(this,"viewProjectionMatrix",u.mat4.create()),(0,s["default"])(this,"ViewProjectionMatrixUncentered",u.mat4.create()),(0,s["default"])(this,"viewUncenteredMatrix",u.mat4.create()),(0,s["default"])(this,"zoom",void 0),(0,s["default"])(this,"center",void 0)}return(0,o["default"])(e,[{key:"syncWithMapCamera",value:function(e){var t=e.zoom,n=void 0===t?1:t,r=e.pitch,i=void 0===r?0:r,a=e.bearing,o=void 0===a?0:a,s=e.center,c=void 0===s?[0,0]:s,f=e.offsetOrigin,p=void 0===f?[0,0]:f,d=e.cameraHeight,h=void 0===d?1:d,v=e.aspect,m=void 0===v?1:v,y=e.near,g=void 0===y?.1:y,b=e.far,_=void 0===b?1e3:b,x=e.fov,w=void 0===x?0:x;this.zoom=n,this.center=c;var E=i*l,S=(360-o)*l;u.mat4.perspective(this.projectionMatrix,w,m,g,_);var k=u.vec3.fromValues(h*Math.sin(E)*Math.sin(S),-h*Math.sin(E)*Math.cos(S),h*Math.cos(E)),O=u.vec3.fromValues(-Math.cos(E)*Math.sin(S),Math.cos(E)*Math.cos(S),Math.sin(E));u.mat4.lookAt(this.viewMatrix,k,u.vec3.fromValues(0,0,0),O),this.viewUncenteredMatrix=u.mat4.clone(this.viewMatrix),u.mat4.translate(this.viewMatrix,this.viewMatrix,u.vec3.fromValues(-p[0],p[1],0)),u.mat4.multiply(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),u.mat4.multiply(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 524288}},{key:"getCenter",value:function(){var e=(0,i["default"])(this.center,2),t=e[0],n=e[1];return[t,n]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){var n=85.0511287798,r=Math.max(Math.min(n,e[1]),-n),i=256<<20,a=Math.PI/180,o=e[0]*a,s=r*a;s=Math.log(Math.tan(Math.PI/4+s/2));var u=.5/Math.PI,l=.5,c=-.5/Math.PI;return a=.5,o=i*(u*o+l)-215440491,s=-(i*(c*s+a)-106744817),[o,s]}}]),e}();t["default"]=c},tycR:function(e,t,n){var r=n("A2ZE"),i=n("RK3t"),a=n("ewvW"),o=n("UMSQ"),s=n("ZfDv"),u=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,c=4==e,f=6==e,p=5==e||f;return function(d,h,v,m){for(var y,g,b=a(d),_=i(b),x=r(h,v,3),w=o(_.length),E=0,S=m||s,k=t?S(d,w):n?S(d,0):void 0;w>E;E++)if((p||E in _)&&(y=_[E],g=x(y,E,b),e))if(t)k[E]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:u.call(k,y)}else if(c)return!1;return f?-1:l||c?c:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},"u/CC":function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.map(n)),e}Object.defineProperty(t,"__esModule",{value:!0}),t.map=r},u1ET:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("o0o1")),a=r(n("yXPU")),o=r(n("yG8O")),s=r(n("lwsE")),u=r(n("W8MJ")),l=r(n("lSNA")),c=r(n("U+yc")),f=(r(n("1ABj")),n("4cb6"));n("mNvP");var p,d,h,v,m,y=n("0t2r"),g=n("y6zh");function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function _(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=(p=(0,f.injectable)(),d=(0,f.inject)(y.TYPES.IPostProcessor),p((v=function(){function e(){(0,s["default"])(this,e),(0,l["default"])(this,"passes",[]),(0,o["default"])(this,"postProcessor",m,this),(0,l["default"])(this,"layer",void 0),(0,l["default"])(this,"renderFlag",void 0),(0,l["default"])(this,"width",0),(0,l["default"])(this,"height",0)}return(0,u["default"])(e,[{key:"setLayer",value:function(e){this.layer=e}},{key:"setRenderFlag",value:function(e){this.renderFlag=e}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var e=(0,a["default"])(i["default"].mark((function e(){var t,n,r;return i["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=b(this.passes),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.render(this.layer);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.layer.renderModels();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t)}},{key:"add",value:function(e,t){e.getType()===g.PassType.PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}},{key:"insert",value:function(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),m=(0,c["default"])(v.prototype,"postProcessor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h);t["default"]=w},u5ea:function(e,t,n){"use strict";var r=n("284h"),i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var a=i(n("lwsE")),o=i(n("W8MJ")),s=i(n("lSNA")),u=r(n("Sx5r")),l=function(){function e(t){(0,a["default"])(this,e),(0,s["default"])(this,"singleTap",void 0),(0,s["default"])(this,"numTaps",void 0),(0,s["default"])(this,"lastTime",void 0),(0,s["default"])(this,"lastTap",void 0),(0,s["default"])(this,"count",void 0),this.singleTap=new u["default"](t),this.numTaps=t.numTaps,this.reset()}return(0,o["default"])(e,[{key:"reset",value:function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,n){this.singleTap.touchstart(e,t,n)}},{key:"touchmove",value:function(e,t,n){this.singleTap.touchmove(e,t,n)}},{key:"touchend",value:function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<u.MAX_TAP_INTERVAL,a=!this.lastTap||this.lastTap.dist(r)<u.MAX_DIST;if(i&&a||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}]),e}();t["default"]=l},u6S6:function(e,t,n){var r=n("6acW"),i=n("sgoq"),a=i((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=a},u8Dt:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__",a=Object.prototype,o=a.hasOwnProperty;function s(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}e.exports=s},uEWz:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq");n("Rsk4");t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h2",{id:"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"},i.a.createElement(a["AnchorLink"],{to:"#\u4e94\u79cd\u5730\u56fe\u7c7b\u578b","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u4e94\u79cd\u5730\u56fe\u7c7b\u578b"),i.a.createElement("ul",null,i.a.createElement("li",null,"WorldLayer \u4e16\u754c\u5730\u56fe"),i.a.createElement("li",null,"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"),i.a.createElement("li",null,"ProvinceLayer \u7701\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CityLayer \u5e02\u7ea7\u5730\u56fe"),i.a.createElement("li",null,"CountyLayer \u53bf\u7ea7\u5730\u56fe")),i.a.createElement("h2",{id:"\u6784\u9020\u51fd\u6570"},i.a.createElement(a["AnchorLink"],{to:"#\u6784\u9020\u51fd\u6570","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6784\u9020\u51fd\u6570"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"scene L7 scene \u5bf9\u8c61")),i.a.createElement("li",null,i.a.createElement("p",null,"option \u884c\u653f\u533a\u5212\u914d\u7f6e\u9879"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,"zIndex \u56fe\u5c42\u7ed8\u5236\u987a\u5e8f")),i.a.createElement("li",null,i.a.createElement("p",null,"data ",i.a.createElement("code",null,"Array")," \u5c5e\u6027\u6570\u636e\u7528\u4e8e\u53ef\u89c6\u5316\u6e32\u67d3")),i.a.createElement("li",null,i.a.createElement("p",null,"visible \u5730\u56fe\u662f\u5426\u53ef\u89c1")),i.a.createElement("li",null,i.a.createElement("p",null,"joinBy \u6570\u636e\u5173\u8054\uff0c\u5c5e\u6027\u6570\u636e\u5982\u4f55\u5185\u90e8\u7a7a\u95f4\u6570\u636e\u5173\u8054\u7ed1\u5b9a \u76ee\u524d\u652f\u6301 NAME_CHN,adcode \u5b57\u6bb5\u8fde\u63a5")),i.a.createElement("li",null,i.a.createElement("p",null,"simplifyTolerance \u6570\u636e\u62bd\u7a00\u5bb9\u5dee,\u9ed8\u8ba4\u4e0d\u62bd\u7a00 ",i.a.createElement("code",null,"boolean | number")," \u5355\u4f4d\u4e3a\u5ea6\uff0c\u4e00\u5ea6\u7ea6 111km\uff0c\u6570\u5b57\u8d8a\u5927\u7cbe\u5ea6\u8d8a\u4f4e\u3002\u53c2\u8003\u8bbe\u7f6e\u6570\u636e 0.01 \u5bf9\u7167\u8868 ",i.a.createElement("code",null,"Array [string, string]")," \u7b2c\u4e00\u4e2a\u503c\u4e3a\u7a7a\u95f4\u6570\u636e\u5b57\u6bb5\uff0c\u7b2c\u4e8c\u4e2a\u4e3a\u4f20\u5165\u6570\u636e\u5b57\u6bb5\u540d")),i.a.createElement("li",null,i.a.createElement("p",null,"depth \u6570\u636e\u663e\u793a\u5c42\u7ea7 0\uff1a\u56fd\u5bb6\u7ea7\uff0c1:\u7701\u7ea7\uff0c2: \u5e02\u7ea7\uff0c3\uff1a\u53bf\u7ea7")),i.a.createElement("li",null,i.a.createElement("p",null,"label \u6807\u6ce8\u914d\u7f6e\u9879 \u652f\u6301\u5e38\u91cf\uff0c\u4e0d\u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6807\u6ce8"),i.a.createElement("li",null,"color \u6807\u6ce8\u5b57\u4f53\u989c\u8272 \u5e38\u91cf"),i.a.createElement("li",null,"field \u6807\u6ce8\u5b57\u6bb5 \u5e38\u91cf"),i.a.createElement("li",null,"size \u6807\u6ce8\u5927\u5c0f \u5e38\u91cf"),i.a.createElement("li",null,"stroke \u6587\u5b57\u63cf\u8fb9\u989c\u8272"),i.a.createElement("li",null,"strokeWidth \u6587\u5b57\u63cf\u8fb9\u5bbd\u5ea6"),i.a.createElement("li",null,"textAllowOverlap \u662f\u5426\u5141\u8bb8\u6587\u5b57\u538b\u76d6"),i.a.createElement("li",null,"opacity \u6807\u6ce8\u900f\u660e\u5ea6"),i.a.createElement("li",null,"spacing: ",i.a.createElement("code",null,"number")," \u6587\u672c\u5305\u56f4\u76d2 padding [\u6c34\u5e73\uff0c\u5782\u76f4]\uff0c\u5f71\u54cd\u78b0\u649e\u68c0\u6d4b\u7ed3\u679c\uff0c\u907f\u514d\u76f8\u90bb\u6587\u672c\u9760\u7684\u592a\u8fd1"),i.a.createElement("li",null,"padding: ",i.a.createElement("code",null,"[number, number]")," \u6587\u672c\u76f8\u5bf9\u951a\u70b9\u7684\u504f\u79fb\u91cf [x, y] \u5176\u4ed6\u5305\u62ec text ",i.a.createElement(a["AnchorLink"],{to:"../layer/point_layer/text#style"},"style \u7684\u914d\u7f6e")))),i.a.createElement("li",null,i.a.createElement("p",null,"fill \u586b\u5145\u914d\u7f6e\u9879 \u652f\u6301\u6570\u636e\u6620\u5c04"),i.a.createElement("ul",null,i.a.createElement("li",null,"color \u56fe\u5c42\u586b\u5145\u989c\u8272\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u5e38\u91cf\uff1a\u7edf\u4e00\u8bbe\u7f6e\u6210\u4e00\u6837\u7684\u989c\u8272 \u6570\u636e\u6620\u5c04",i.a.createElement("ul",null,i.a.createElement("li",null,"field \u586b\u5145\u6620\u5c04\u5b57\u6bb5"),i.a.createElement("li",null,"values \u6620\u5c04\u503c\uff0c\u540c color \u65b9\u6cd5\u7b2c\u4e8c\u4e2a\u53c2\u6570\u6570\u7ec4\uff0c\u56de\u8c03\u51fd\u6570"))),i.a.createElement("li",null,"filter \u56fe\u5c42\u8fc7\u6ee4\u65b9\u6cd5\uff0c\u652f\u6301\u5e38\u91cf\u548c\u6570\u636e\u6620\u5c04 \u540c layer.filter \u65b9\u6cd5 \u6570\u636e\u6620\u5c04 - field \u586b\u5145\u6620\u5c04\u5b57\u6bb5 - values \u56de\u8c03\u51fd\u6570 ",i.a.createElement("code",null,"false")," \u8fd4\u56de\u503c\u5c06\u4f1a\u88ab\u8fc7\u6ee4\u6389"),i.a.createElement("li",null,"style \u540c polygonLayer \u7684 style \u65b9\u6cd5"),i.a.createElement("li",null,"activeColor \u9f20\u6807\u6ed1\u8fc7\u9ad8\u4eae\u989c\u8272, ",i.a.createElement("code",null,"string | boolean")," \u5982\u679c\u8bbe\u7f6e\u4e3a ",i.a.createElement("code",null,"false"),"\u53d6\u6d88\u9ad8\u4eae"))),i.a.createElement("li",null,i.a.createElement("p",null,"bubble \u6c14\u6ce1\u56fe"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u6c14\u6ce1 default false"),i.a.createElement("li",null,"color \u6c14\u6ce1\u989c\u8272 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"size \u6c14\u6ce1\u5927\u5c0f \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"shape \u6c14\u6ce1\u5f62\u72b6 \u652f\u6301\u5e38\u91cf\u3001\u6570\u636e\u6620\u5c04"),i.a.createElement("li",null,"style \u6c14\u6ce1\u56fe\u6837\u5f0f \u540c PointLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"showBorder ",i.a.createElement("code",null,"boolean")," \u662f\u5426\u663e\u793a\u56fd\u754c\u7ebf\uff0c\u9ed8\u8ba4\u663e\u793a\uff0c\u4e0d\u5efa\u8bae\u4e0d\u663e\u793a")),i.a.createElement("li",null,i.a.createElement("p",null,"stroke \u586b\u5145\u63cf\u8fb9\u989c\u8272 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"strokeWidth \u586b\u5145\u63cf\u8fb9\u5bbd\u5ea6 ",i.a.createElement("code",null,"ProvinceLayer, CityLayer, CountyLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"autoFit \u662f\u5426\u81ea\u52a8\u7f29\u653e\u5230\u56fe\u5c42\u8303\u56f4 ",i.a.createElement("code",null,"boolean"))),i.a.createElement("li",null,i.a.createElement("p",null,"popup \u4fe1\u606f\u7a97\u53e3"),i.a.createElement("ul",null,i.a.createElement("li",null,"enable \u662f\u5426\u5f00\u542f ",i.a.createElement("code",null,"boolean")),i.a.createElement("li",null,"openTriggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';"),i.a.createElement("li",null,"closeTriggerEvent \u89e6\u53d1\u4e8b\u4ef6 \u4f8b\u5982 'mousemove' | 'click';"),i.a.createElement("li",null,"Html popup html \u5b57\u7b26\u4e32\uff0c\u652f\u6301\u56de\u8c03\u51fd\u6570 (properties: any) => string;"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalStroke \u4e2d\u56fd\u56fd\u754c\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"chinaNationalWidth \u4e2d\u56fd\u56fd\u754c\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineStroke \u6d77\u5cb8\u7ebf\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"coastlineWidth \u6d77\u5cb8\u7ebf\u5bbd\u5ea6 ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalWidth \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"nationalStroke \u56fd\u754c\u7ebf ",i.a.createElement("code",null,"WorldLayer")," ",i.a.createElement("code",null,"CountryLayer"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStroke \u7701\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth= 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"provinceStrokeWidth \u7701\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth = 0\uff0c1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStroke \u5e02\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"cityStrokeWidth \u5e02\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =1\uff0c2 \u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStroke \u53bf\u7ea7\u8fb9\u754c\u989c\u8272 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548"))),i.a.createElement("li",null,i.a.createElement("p",null,"countyStrokeWidth \u53bf\u7ea7\u8fb9\u754c\u5bbd\u5ea6 ",i.a.createElement("code",null,"CountryLayer depth =2\u65f6\u751f\u6548")))))),i.a.createElement("p",null,"\u26d4 ProvinceLayer, CityLayer, CountyLayer \u5982\u9700\u8981\u8bbe\u7f6e\u63cf\u8fb9\u989c\u8272\uff0c\u5bbd\u5ea6\u4f7f\u7528 storke,strokeWidth \u914d\u7f6e\u3002"),i.a.createElement("h3",{id:"\u6570\u636e"},i.a.createElement(a["AnchorLink"],{to:"#\u6570\u636e","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6570\u636e"),i.a.createElement("p",null,"District \u63d0\u4f9b polygon \u6570\u636e\u9700\u8981\u8ddf\u7528\u6237\u7684\u5c5e\u6027\u6570\u636e\uff0c\u901a\u8fc7\u5173\u7cfb\u5b57\u6bb5\u8fdb\u884c\u8fde\u63a5"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/b6fcd072-72a7-4875-8e05-9652ffc977d9.csv"},"\u56fd\u5bb6\u540d\u79f0\u5bf9\u7167\u8868"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/2aa6fb7b-3694-4df3-b601-6f6f9adac496.csv"},"\u7701\u7ea7\u884c\u653f\u540d\u79f0",i.a.createElement("em",null,"adcode"),"\u5bf9\u7167\u8868.csv"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/d2aefd78-f5df-486f-9310-7449cc7f5569.csv"},"\u5e02\u7ea7\u884c\u653f\u533a\u5212\u53ca\u7f16\u7801"))),i.a.createElement("li",null,i.a.createElement("p",null,i.a.createElement(a["Link"],{to:"https://gw.alipayobjects.com/os/bmw-prod/fafd299e-0e1e-4fa2-a8ac-10a984c6e983.csv"},"\u53bf\u7ea7\u884c\u653f\u533a\u540d\u79f0\u7ea7\u7f16\u7801")))),i.a.createElement("h3",{id:"\u5c5e\u6027"},i.a.createElement(a["AnchorLink"],{to:"#\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u5c5e\u6027"),i.a.createElement("p",null,"\u884c\u653f\u533a\u5212\u7ec4\u4ef6\u6bcf\u4e2a\u56fe\u5c42\u6709\u591a\u4e2a\u5b50\u56fe\u5c42\u7ec4\u6210\uff0c\u5982\u6807\u6ce8\u5c42\uff0c\u56fd\u754c\u7ebf\u3001\u7701\u754c\u7ebf\u7b49\u7b49\uff0c"),i.a.createElement("h4",{id:"filllayer"},i.a.createElement(a["AnchorLink"],{to:"#filllayer","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"fillLayer"),i.a.createElement("p",null,"\u56fe\u5c42\u4e8b\u4ef6\u53ef\u4ee5\u901a\u8fc7\u8be5\u5c5e\u6027\u8fdb\u884c\u8bbe\u7f6e"),i.a.createElement("h3",{id:"\u65b9\u6cd5"},i.a.createElement(a["AnchorLink"],{to:"#\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u65b9\u6cd5"),i.a.createElement("h4",{id:"updatedatadata-joinby"},i.a.createElement(a["AnchorLink"],{to:"#updatedatadata-joinby","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"updateData(data, joinBy)"),i.a.createElement("p",null,"\u66f4\u65b0\u663e\u793a\u6570\u636e\uff0c"),i.a.createElement("p",null,"\u53c2\u6570\uff1a"),i.a.createElement("ul",null,i.a.createElement("li",null,"data \u9700\u8981\u66f4\u65b0\u7684\u6570\u636e"),i.a.createElement("li",null,"joinBy \u5173\u8054\u5b57\u6bb5 \u53ef\u9009\uff0c\u5982\u679c\u4e0d\u8bbe\u7f6e\u4fdd\u6301\u548c\u521d\u59cb\u5316\u4e00\u81f4\u3002")),i.a.createElement("h3",{id:"getfilldata"},i.a.createElement(a["AnchorLink"],{to:"#getfilldata","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"getFillData"),i.a.createElement("p",null,"\u83b7\u53d6\u586b\u5145\u6570\u636e\uff0c\u53ef\u7528\u4e8e\u7ed8\u5236\u72ec\u7acb\u7684\u8fb9\u754c\u7ebf"),i.a.createElement("h4",{id:"show"},i.a.createElement(a["AnchorLink"],{to:"#show","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"show"),i.a.createElement("p",null,"\u663e\u793a\u56fe\u5c42"),i.a.createElement("h4",{id:"enablepopup"},i.a.createElement(a["AnchorLink"],{to:"#enablepopup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"enablePopup"),i.a.createElement("p",null,"\u5f00\u542f Popup"),i.a.createElement("h4",{id:"disablepopup"},i.a.createElement(a["AnchorLink"],{to:"#disablepopup","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"disablePopup"),i.a.createElement("p",null,"\u5173\u95ed Popup"),i.a.createElement("h4",{id:"hide"},i.a.createElement(a["AnchorLink"],{to:"#hide","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"hide"),i.a.createElement("p",null,"\u56fe\u5c42\u9690\u85cf\u4e0d\u663e\u793a"),i.a.createElement("h4",{id:"destroy"},i.a.createElement(a["AnchorLink"],{to:"#destroy","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"destroy"),i.a.createElement("p",null,"\u79fb\u9664\u5e76\u9500\u6bc1\u56fe\u5c42"))))},uWhJ:function(e,t,n){var r=n("I+eb"),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(e){return e*i}})},uciX:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("wx14"),a=n("1OyB"),o=n("vuIU"),s=n("JX7q"),u=n("Ji7U"),l=n("LK+K"),c=n("q1tI"),f=n.n(c),p=n("i8i4"),d=n.n(p),h=n("wgJM");function v(e,t){return!!e&&e.contains(t)}var m=n("m+aA"),y=n("c+Xe"),g=n("zT1h"),b=n("MNnm"),_=Object(c["forwardRef"])((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,a=Object(c["useRef"])();Object(c["useImperativeHandle"])(t,(function(){return{}}));var o=Object(c["useRef"])(!1);return!o.current&&Object(b["a"])()&&(a.current=r(),o.current=!0),Object(c["useEffect"])((function(){null===n||void 0===n||n(e)})),Object(c["useEffect"])((function(){return function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(a.current)}}),[]),a.current?d.a.createPortal(i,a.current):null})),x=_,w=n("TSYQ"),E=n.n(w);function S(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function k(e,t,n){var i=e[t]||{};return Object(r["a"])(Object(r["a"])({},i),n)}function O(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(S(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}var T=n("ODXe"),C=n("Ff2n"),A=n("5Z9U"),M=n("8XRh");function P(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function I(e){var t=e.prefixCls,n=e.visible,a=e.zIndex,o=e.mask,s=e.maskMotion,u=e.maskAnimation,l=e.maskTransitionName;if(!o)return null;var f={};return(s||l||u)&&(f=Object(r["a"])({motionAppear:!0},P({motion:s,prefixCls:t,transitionName:l,animation:u}))),c["createElement"](M["b"],Object(i["a"])({},f,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return c["createElement"]("div",{style:{zIndex:a},className:E()("".concat(t,"-mask"),n)})}))}var R,j=n("U8pU"),L=n("x/xZ");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function U(){if(void 0!==R)return R;R="";var e=document.createElement("p").style,t="Transform";for(var n in B)n+t in e&&(R=n);return R}function V(){return U()?"".concat(U(),"TransitionProperty"):"transitionProperty"}function H(){return U()?"".concat(U(),"Transform"):"transform"}function W(e,t){var n=V();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function q(e,t){var n=H();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function G(e){return e.style.transitionProperty||e.style[V()]}function Z(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(H());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var Y=/matrix\((.*)\)/,X=/matrix3d\((.*)\)/;function K(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(H());if(r&&"none"!==r){var i,a=r.match(Y);if(a)a=a[1],i=a.split(",").map((function(e){return parseFloat(e,10)})),i[4]=t.x,i[5]=t.y,q(e,"matrix(".concat(i.join(","),")"));else{var o=r.match(X)[1];i=o.split(",").map((function(e){return parseFloat(e,10)})),i[12]=t.x,i[13]=t.y,q(e,"matrix3d(".concat(i.join(","),")"))}}else q(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}var J,Q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function $(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ee(e,t,n){var r=n;if("object"!==F(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):J(e,t);for(var i in t)t.hasOwnProperty(i)&&ee(e,i,t[i])}function te(e){var t,n,r,i=e.ownerDocument,a=i.body,o=i&&i.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=o.clientLeft||a.clientLeft||0,r-=o.clientTop||a.clientTop||0,{left:n,top:r}}function ne(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;n=i.documentElement[r],"number"!==typeof n&&(n=i.body[r])}return n}function re(e){return ne(e)}function ie(e){return ne(e,!0)}function ae(e){var t=te(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=re(r),t.top+=ie(r),t}function oe(e){return null!==e&&void 0!==e&&e==e.window}function se(e){return oe(e)?e.document:9===e.nodeType?e:e.ownerDocument}function ue(e,t,n){var r=n,i="",a=se(e);return r=r||a.defaultView.getComputedStyle(e,null),r&&(i=r.getPropertyValue(t)||r[t]),i}var le=new RegExp("^(".concat(Q,")(?!px)[a-z%]+$"),"i"),ce=/^(top|right|bottom|left)$/,fe="currentStyle",pe="runtimeStyle",de="left",he="px";function ve(e,t){var n=e[fe]&&e[fe][t];if(le.test(n)&&!ce.test(t)){var r=e.style,i=r[de],a=e[pe][de];e[pe][de]=e[fe][de],r[de]="fontSize"===t?"1em":n||0,n=r.pixelLeft+he,r[de]=i,e[pe][de]=a}return""===n?"auto":n}function me(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function ye(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function ge(e,t,n){"static"===ee(e,"position")&&(e.style.position="relative");var r=-999,i=-999,a=me("left",n),o=me("top",n),s=ye(a),u=ye(o);"left"!==a&&(r=999),"top"!==o&&(i=999);var l="",c=ae(e);("left"in t||"top"in t)&&(l=G(e)||"",W(e,"none")),"left"in t&&(e.style[s]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[o]="".concat(i,"px")),$(e);var f=ae(e),p={};for(var d in t)if(t.hasOwnProperty(d)){var h=me(d,n),v="left"===d?r:i,m=c[d]-f[d];p[h]=h===d?v+m:v-m}ee(e,p),$(e),("left"in t||"top"in t)&&W(e,l);var y={};for(var g in t)if(t.hasOwnProperty(g)){var b=me(g,n),_=t[g]-c[g];y[b]=g===b?p[b]+_:p[b]-_}ee(e,y)}function be(e,t){var n=ae(e),r=Z(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),K(e,i)}function _e(e,t,n){if(n.ignoreShake){var r=ae(e),i=r.left.toFixed(0),a=r.top.toFixed(0),o=t.left.toFixed(0),s=t.top.toFixed(0);if(i===o&&a===s)return}n.useCssRight||n.useCssBottom?ge(e,t,n):n.useCssTransform&&H()in document.body.style?be(e,t):ge(e,t,n)}function xe(e,t){for(var n=0;n<e.length;n++)t(e[n])}function we(e){return"border-box"===J(e,"boxSizing")}"undefined"!==typeof window&&(J=window.getComputedStyle?ue:ve);var Ee=["margin","border","padding"],Se=-1,ke=2,Oe=1,Te=0;function Ce(e,t,n){var r,i={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=i[r])}function Ae(e,t,n){var r,i,a,o=0;for(i=0;i<t.length;i++)if(r=t[i],r)for(a=0;a<n.length;a++){var s=void 0;s="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],o+=parseFloat(J(e,s))||0}return o}var Me={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Pe(e,t,n){var r=n;if(oe(e))return"width"===t?Me.viewportWidth(e):Me.viewportHeight(e);if(9===e.nodeType)return"width"===t?Me.docWidth(e):Me.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,o=we(e),s=0;(null===a||void 0===a||a<=0)&&(a=void 0,s=J(e,t),(null===s||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=o?Oe:Se);var u=void 0!==a||o,l=a||s;return r===Se?u?l-Ae(e,["border","padding"],i):s:u?r===Oe?l:l+(r===ke?-Ae(e,["border"],i):Ae(e,["margin"],i)):s+Ae(e,Ee.slice(r),i)}xe(["Width","Height"],(function(e){Me["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Me["viewport".concat(e)](n))},Me["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,a=r.documentElement,o=a[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var Ie={position:"absolute",visibility:"hidden",display:"block"};function Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=Pe.apply(void 0,t):Ce(i,Ie,(function(){r=Pe.apply(void 0,t)})),r}function je(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}xe(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Me["outer".concat(t)]=function(t,n){return t&&Re(t,e,n?Te:Oe)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Me[e]=function(t,r){var i=r;if(void 0===i)return t&&Re(t,e,Se);if(t){var a=we(t);return a&&(i+=Ae(t,["padding","border"],n)),ee(t,e,i)}}}));var Le={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:se,offset:function(e,t,n){if("undefined"===typeof t)return ae(e);_e(e,t,n||{})},isWindow:oe,each:xe,css:ee,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:je,getWindowScrollLeft:function(e){return re(e)},getWindowScrollTop:function(e){return ie(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Le.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};je(Le,Me);var Ne=Le.getParent;function De(e){if(Le.isWindow(e)||9===e.nodeType)return null;var t,n=Le.getDocument(e),r=n.body,i=Le.css(e,"position"),a="fixed"===i||"absolute"===i;if(!a)return"html"===e.nodeName.toLowerCase()?null:Ne(e);for(t=Ne(e);t&&t!==r&&9!==t.nodeType;t=Ne(t))if(i=Le.css(t,"position"),"static"!==i)return t;return null}var Fe=Le.getParent;function ze(e){if(Le.isWindow(e)||9===e.nodeType)return!1;var t=Le.getDocument(e),n=t.body,r=null;for(r=Fe(e);r&&r!==n&&r!==t;r=Fe(r)){var i=Le.css(r,"position");if("fixed"===i)return!0}return!1}function Be(e,t){var n={left:0,right:1/0,top:0,bottom:1/0},r=De(e),i=Le.getDocument(e),a=i.defaultView||i.parentWindow,o=i.body,s=i.documentElement;while(r){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===o||r===s||"visible"===Le.css(r,"overflow")){if(r===o||r===s)break}else{var u=Le.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=De(r)}var l=null;if(!Le.isWindow(e)&&9!==e.nodeType){l=e.style.position;var c=Le.css(e,"position");"absolute"===c&&(e.style.position="fixed")}var f=Le.getWindowScrollLeft(a),p=Le.getWindowScrollTop(a),d=Le.viewportWidth(a),h=Le.viewportHeight(a),v=s.scrollWidth,m=s.scrollHeight,y=window.getComputedStyle(o);if("hidden"===y.overflowX&&(v=a.innerWidth),"hidden"===y.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=l),t||ze(e))n.left=Math.max(n.left,f),n.top=Math.max(n.top,p),n.right=Math.min(n.right,f+d),n.bottom=Math.min(n.bottom,p+h);else{var g=Math.max(v,f+d);n.right=Math.min(n.right,g);var b=Math.max(m,p+h);n.bottom=Math.min(n.bottom,b)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ue(e,t,n,r){var i=Le.clone(e),a={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+a.width>n.right&&(a.width-=i.left+a.width-n.right),r.adjustX&&i.left+a.width>n.right&&(i.left=Math.max(n.right-a.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+a.height>n.bottom&&(a.height-=i.top+a.height-n.bottom),r.adjustY&&i.top+a.height>n.bottom&&(i.top=Math.max(n.bottom-a.height,n.top)),Le.mix(i,a)}function Ve(e){var t,n,r;if(Le.isWindow(e)||9===e.nodeType){var i=Le.getWindow(e);t={left:Le.getWindowScrollLeft(i),top:Le.getWindowScrollTop(i)},n=Le.viewportWidth(i),r=Le.viewportHeight(i)}else t=Le.offset(e),n=Le.outerWidth(e),r=Le.outerHeight(e);return t.width=n,t.height=r,t}function He(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,a=e.height,o=e.left,s=e.top;return"c"===n?s+=a/2:"b"===n&&(s+=a),"c"===r?o+=i/2:"r"===r&&(o+=i),{left:o,top:s}}function We(e,t,n,r,i){var a=He(t,n[1]),o=He(e,n[0]),s=[o.left-a.left,o.top-a.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function qe(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Ge(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Ze(e,t,n){return e.left>n.right||e.left+t.width<n.left}function Ye(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function Xe(e,t,n){var r=[];return Le.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Ke(e,t){return e[t]=-e[t],e}function Je(e,t){var n;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function Qe(e,t){e[0]=Je(e[0],t.width),e[1]=Je(e[1],t.height)}function $e(e,t,n,r){var i=n.points,a=n.offset||[0,0],o=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;a=[].concat(a),o=[].concat(o),s=s||{};var l={},c=0,f=!(!s||!s.alwaysByViewport),p=Be(u,f),d=Ve(u);Qe(a,d),Qe(o,t);var h=We(d,t,i,a,o),v=Le.merge(d,h);if(p&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&qe(h,d,p)){var m=Xe(i,/[lr]/gi,{l:"r",r:"l"}),y=Ke(a,0),g=Ke(o,0),b=We(d,t,m,y,g);Ze(b,d,p)||(c=1,i=m,a=y,o=g)}if(s.adjustY&&Ge(h,d,p)){var _=Xe(i,/[tb]/gi,{t:"b",b:"t"}),x=Ke(a,1),w=Ke(o,1),E=We(d,t,_,x,w);Ye(E,d,p)||(c=1,i=_,a=x,o=w)}c&&(h=We(d,t,i,a,o),Le.mix(v,h));var S=qe(h,d,p),k=Ge(h,d,p);if(S||k){var O=i;S&&(O=Xe(i,/[lr]/gi,{l:"r",r:"l"})),k&&(O=Xe(i,/[tb]/gi,{t:"b",b:"t"})),i=O,a=n.offset||[0,0],o=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&S,l.adjustY=s.adjustY&&k,(l.adjustX||l.adjustY)&&(v=Ue(h,d,p,l))}return v.width!==d.width&&Le.css(u,"width",Le.width(u)+v.width-d.width),v.height!==d.height&&Le.css(u,"height",Le.height(u)+v.height-d.height),Le.offset(u,{left:v.left,top:v.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:a,targetOffset:o,overflow:l}}function et(e,t){var n=Be(e,t),r=Ve(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function tt(e,t,n){var r=n.target||t,i=Ve(r),a=!et(r,n.overflow&&n.overflow.alwaysByViewport);return $e(e,i,n,a)}function nt(e,t,n){var r,i,a=Le.getDocument(e),o=a.defaultView||a.parentWindow,s=Le.getWindowScrollLeft(o),u=Le.getWindowScrollTop(o),l=Le.viewportWidth(o),c=Le.viewportHeight(o);r="pageX"in t?t.pageX:s+t.clientX,i="pageY"in t?t.pageY:u+t.clientY;var f={left:r,top:i,width:0,height:0},p=r>=0&&r<=s+l&&i>=0&&i<=u+c,d=[n.points[0],"cc"];return $e(e,f,D(D({},n),{},{points:d}),p)}tt.__getOffsetParent=De,tt.__getVisibleRectForElement=Be;var rt=n("Y+p1"),it=n.n(rt),at=n("bdgK");function ot(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&(e.clientX===t.clientX&&e.clientY===t.clientY))}function st(e,t){e!==document.activeElement&&v(t,e)&&"function"===typeof e.focus&&e.focus()}function ut(e,t){var n=null,r=null;function i(e){var i=Object(T["a"])(e,1),a=i[0].target;if(document.documentElement.contains(a)){var o=a.getBoundingClientRect(),s=o.width,u=o.height,l=Math.floor(s),c=Math.floor(u);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}var a=new at["a"](i);return e&&a.observe(e),function(){a.disconnect()}}var lt=function(e,t){var n=f.a.useRef(!1),r=f.a.useRef(null);function i(){window.clearTimeout(r.current)}function a(o){if(n.current&&!0!==o)i(),r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),t)}}return[a,function(){n.current=!1,i()}]};function ct(e){return"function"!==typeof e?null:e()}function ft(e){return"object"===Object(j["a"])(e)&&e?e:null}var pt=function(e,t){var n=e.children,r=e.disabled,i=e.target,a=e.align,o=e.onAlign,s=e.monitorWindowResize,u=e.monitorBufferTime,l=void 0===u?0:u,c=f.a.useRef({}),p=f.a.useRef(),d=f.a.Children.only(n),h=f.a.useRef({});h.current.disabled=r,h.current.target=i,h.current.align=a,h.current.onAlign=o;var v=lt((function(){var e=h.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var a,o=p.current,s=ct(n),u=ft(n);c.current.element=s,c.current.point=u,c.current.align=r;var l=document,f=l.activeElement;return s&&Object(L["a"])(s)?a=tt(o,s,r):u&&(a=nt(o,u,r)),st(f,o),i&&a&&i(o,a),!0}return!1}),l),m=Object(T["a"])(v,2),b=m[0],_=m[1],x=f.a.useRef({cancel:function(){}}),w=f.a.useRef({cancel:function(){}});f.a.useEffect((function(){var e=ct(i),t=ft(i);p.current!==w.current.element&&(w.current.cancel(),w.current.element=p.current,w.current.cancel=ut(p.current,b)),c.current.element===e&&ot(c.current.point,t)&&it()(c.current.align,a)||(b(),x.current.element!==e&&(x.current.cancel(),x.current.element=e,x.current.cancel=ut(e,b)))})),f.a.useEffect((function(){r?_():b()}),[r]);var E=f.a.useRef(null);return f.a.useEffect((function(){s?E.current||(E.current=Object(g["a"])(window,"resize",b)):E.current&&(E.current.remove(),E.current=null)}),[s]),f.a.useEffect((function(){return function(){x.current.cancel(),w.current.cancel(),E.current&&E.current.remove(),_()}}),[]),f.a.useImperativeHandle(t,(function(){return{forceAlign:function(){return b(!0)}}})),f.a.isValidElement(d)&&(d=f.a.cloneElement(d,{ref:Object(y["a"])(d.ref,p)})),d},dt=f.a.forwardRef(pt);dt.displayName="Align";var ht=dt,vt=ht,mt=n("o0o1"),yt=n.n(mt),gt=n("HaE+"),bt=["measure","align",null,"motion"],_t=function(e,t){var n=Object(c["useState"])(null),r=Object(T["a"])(n,2),i=r[0],a=r[1],o=Object(c["useRef"])(),s=Object(c["useRef"])(!1);function u(e){s.current||a(e)}function l(){h["a"].cancel(o.current)}function f(e){l(),o.current=Object(h["a"])((function(){u((function(e){switch(i){case"align":return"motion";case"motion":return"stable";default:}return e})),null===e||void 0===e||e()}))}return Object(c["useEffect"])((function(){u("measure")}),[e]),Object(c["useEffect"])((function(){switch(i){case"measure":t();break;default:}i&&(o.current=Object(h["a"])(Object(gt["a"])(yt.a.mark((function e(){var t,n;return yt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=bt.indexOf(i),n=bt[t+1],n&&-1!==t&&u(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),Object(c["useEffect"])((function(){return function(){s.current=!0,l()}}),[]),[i,f]},xt=function(e){var t=c["useState"]({width:0,height:0}),n=Object(T["a"])(t,2),r=n[0],i=n[1];function a(e){i({width:e.offsetWidth,height:e.offsetHeight})}var o=c["useMemo"]((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]);return[o,a]},wt=c["forwardRef"]((function(e,t){var n=e.visible,a=e.prefixCls,o=e.className,s=e.style,u=e.children,l=e.zIndex,f=e.stretch,p=e.destroyPopupOnHide,d=e.forceRender,h=e.align,v=e.point,m=e.getRootDomNode,y=e.getClassNameFromAlign,g=e.onAlign,b=e.onMouseEnter,_=e.onMouseLeave,x=e.onMouseDown,w=e.onTouchStart,S=Object(c["useRef"])(),k=Object(c["useRef"])(),O=Object(c["useState"])(),C=Object(T["a"])(O,2),A=C[0],I=C[1],R=xt(f),j=Object(T["a"])(R,2),L=j[0],N=j[1];function D(){f&&N(m())}var F=_t(n,D),z=Object(T["a"])(F,2),B=z[0],U=z[1],V=Object(c["useRef"])();function H(){return v||m}function W(){var e;null===(e=S.current)||void 0===e||e.forceAlign()}function q(e,t){var n=y(t);A!==n&&I(n),"align"===B&&(A!==n?Promise.resolve().then((function(){W()})):U((function(){var e;null===(e=V.current)||void 0===e||e.call(V)})),null===g||void 0===g||g(e,t))}var G=Object(r["a"])({},P(e));function Z(){return new Promise((function(e){V.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=G[e];G[e]=function(e,n){return U(),null===t||void 0===t?void 0:t(e,n)}})),c["useEffect"]((function(){G.motionName||"motion"!==B||U()}),[G.motionName,B]),c["useImperativeHandle"](t,(function(){return{forceAlign:W,getElement:function(){return k.current}}}));var Y=Object(r["a"])(Object(r["a"])({},L),{},{zIndex:l,opacity:"motion"!==B&&"stable"!==B&&n?0:void 0,pointerEvents:"stable"===B?void 0:"none"},s),X=!0;!(null===h||void 0===h?void 0:h.points)||"align"!==B&&"stable"!==B||(X=!1);var K=u;return c["Children"].count(u)>1&&(K=c["createElement"]("div",{className:"".concat(a,"-content")},u)),c["createElement"](M["b"],Object(i["a"])({visible:n,ref:k,leavedClassName:"".concat(a,"-hidden")},G,{onAppearPrepare:Z,onEnterPrepare:Z,removeOnLeave:p,forceRender:d}),(function(e,t){var n=e.className,i=e.style,s=E()(a,o,A,n);return c["createElement"](vt,{target:H(),key:"popup",ref:S,monitorWindowResize:!0,disabled:X,align:h,onAlign:q},c["createElement"]("div",{ref:t,className:s,onMouseEnter:b,onMouseLeave:_,onMouseDownCapture:x,onTouchStartCapture:w,style:Object(r["a"])(Object(r["a"])({},i),Y)},K))}))}));wt.displayName="PopupInner";var Et=wt,St=c["forwardRef"]((function(e,t){var n=e.prefixCls,a=e.visible,o=e.zIndex,s=e.children,u=e.mobile;u=void 0===u?{}:u;var l=u.popupClassName,f=u.popupStyle,p=u.popupMotion,d=void 0===p?{}:p,h=u.popupRender,v=c["useRef"]();c["useImperativeHandle"](t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var m=Object(r["a"])({zIndex:o},f),y=s;return c["Children"].count(s)>1&&(y=c["createElement"]("div",{className:"".concat(n,"-content")},s)),h&&(y=h(y)),c["createElement"](M["b"],Object(i["a"])({visible:a,ref:v,removeOnLeave:!0},d),(function(e,t){var i=e.className,a=e.style,o=E()(n,l,i);return c["createElement"]("div",{ref:t,className:o,style:Object(r["a"])(Object(r["a"])({},a),m)},y)}))}));St.displayName="MobilePopupInner";var kt=St,Ot=["visible","mobile"],Tt=c["forwardRef"]((function(e,t){var n=e.visible,a=e.mobile,o=Object(C["a"])(e,Ot),s=Object(c["useState"])(n),u=Object(T["a"])(s,2),l=u[0],f=u[1],p=Object(c["useState"])(!1),d=Object(T["a"])(p,2),h=d[0],v=d[1],m=Object(r["a"])(Object(r["a"])({},o),{},{visible:l});Object(c["useEffect"])((function(){f(n),n&&a&&v(Object(A["a"])())}),[n,a]);var y=h?c["createElement"](kt,Object(i["a"])({},m,{mobile:a,ref:t})):c["createElement"](Et,Object(i["a"])({},m,{ref:t}));return c["createElement"]("div",null,c["createElement"](I,m),y)}));Tt.displayName="Popup";var Ct=Tt,At=c["createContext"](null),Mt=At;function Pt(){}function It(){return""}function Rt(e){return e?e.ownerDocument:window.document}var jt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Lt(e){var t=function(t){Object(u["a"])(f,t);var n=Object(l["a"])(f);function f(e){var t,r;return Object(a["a"])(this,f),t=n.call(this,e),t.popupRef=c["createRef"](),t.triggerRef=c["createRef"](),t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&v(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();v(r,n)&&!t.isContextMenuOnly()||v(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Object(m["a"])(t.triggerRef.current);if(n)return n}catch(r){}return d.a.findDOMNode(Object(s["a"])(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,a=r.builtinPlacements,o=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&a&&n.push(O(a,o,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,a=e.popupClassName,o=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,l=e.popupTransitionName,f=e.popupStyle,p=e.mask,d=e.maskAnimation,h=e.maskTransitionName,v=e.maskMotion,m=e.zIndex,y=e.popup,g=e.stretch,b=e.alignPoint,_=e.mobile,x=e.forceRender,w=t.state,E=w.popupVisible,S=w.point,k=t.getPopupAlign(),O={};return t.isMouseEnterToShow()&&(O.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(O.onMouseLeave=t.onPopupMouseLeave),O.onMouseDown=t.onPopupMouseDown,O.onTouchStart=t.onPopupMouseDown,c["createElement"](Ct,Object(i["a"])({prefixCls:n,destroyPopupOnHide:r,visible:E,point:b&&S,className:a,align:k,onAlign:o,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},O,{stretch:g,getRootDomNode:t.getRootDomNode,style:f,mask:p,zIndex:m,transitionName:l,maskAnimation:d,maskTransitionName:h,maskMotion:v,ref:t.popupRef,motion:s,mobile:_,forceRender:x}),"function"===typeof y?y():y)},t.attachParent=function(e){h["a"].cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,a=r.getDocument,o=t.getRootDomNode();i?(o||0===i.length)&&(n=i(o)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Object(h["a"])((function(){t.attachParent(e)}))},t.getContainer=function(){var e=t.props.getDocument,n=e(t.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",t.attachParent(n),n},t.setPoint=function(e){var n=t.props.alignPoint;n&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},r="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:r,popupVisible:r},jt.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return Object(o["a"])(f,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props,n=this.state;if(n.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Object(g["a"])(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Object(g["a"])(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Object(g["a"])(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(g["a"])(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),h["a"].cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?k(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,a=n.forceRender,o=n.alignPoint,s=n.className,u=n.autoDestroy,l=c["Children"].only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,o&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=E()(l&&l.props&&l.props.className,s);p&&(f.className=p);var d=Object(r["a"])({},f);Object(y["c"])(l)&&(d.ref=Object(y["a"])(this.triggerRef,l.ref));var h,v=c["cloneElement"](l,d);return(t||this.popupRef.current||a)&&(h=c["createElement"](e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&u&&(h=null),c["createElement"](Mt.Provider,{value:this.triggerContextValue},v,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),f}(c["Component"]);return t.contextType=Mt,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:It,getDocument:Rt,onPopupVisibleChange:Pt,afterPopupVisibleChange:Pt,onPopupAlign:Pt,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}t["a"]=Lt(x)},uhBA:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,o),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(f-1);p<f;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,a);else{for(var s=0,l=[],c=o.length;s<c;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&l.push(o[s]);l.length?this._events[a]=1===l.length?l[0]:l:u(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},uigR:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("dEAq"),o=n("Zxc8"),s=n("Rsk4"),u=i.a.memo(s["default"]["docs-china"].component);t["default"]=e=>(i.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"\u6807\u51c6\u5730\u56fe"},i.a.createElement(a["AnchorLink"],{to:"#\u6807\u51c6\u5730\u56fe","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"\u6807\u51c6\u5730\u56fe"),i.a.createElement("h2",{id:"countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd"},i.a.createElement(a["AnchorLink"],{to:"#countrylayer-\u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:"icon icon-link"})),"CountryLayer \u56fd\u5bb6\u5730\u56fe\uff0c\u76ee\u524d\u53ea\u652f\u6301\u4e2d\u56fd")),i.a.createElement(o["default"],s["default"]["docs-china"].previewerProps,i.a.createElement(u,null)))))},ujMp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n("MON2");function i(e){if("function"===typeof e){var t=e;return t.name}if("symbol"===typeof e)return e.toString();t=e;return t}function a(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=c(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function s(e){function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}var n=t(e);return n.reverse().join(" --\x3e ")}function u(e){e.childRequests.forEach((function(e){if(o(e,e.serviceIdentifier)){var t=s(e);throw new Error(r.CIRCULAR_DEPENDENCY+" "+t)}u(e)}))}function l(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e}function c(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=a,t.circularDependencyToException=u,t.listMetadataForTarget=l,t.getFunctionName=c},unQa:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ImZN"),a=n("HAuM");r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;a(t);var r=a(n.set);return i(e,(function(e){r.call(n,t(e),e)})),n}})},uqXc:function(e,t,n){var r=n("I+eb"),i=n("5Yz+");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},"ut/Y":function(e,t,n){var r=n("ZCpW"),i=n("GDhZ"),a=n("zZ0H"),o=n("Z0cm"),s=n("+c4W");function u(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}e.exports=u},ux0f:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.polygonPath=u,t.circle=l,t.square=c,t.triangle=f,t.hexagon=p,t.pentagon=d,t.geometryShape=t.ShapeType2D=t.ShapeType3D=void 0;var i,a,o,s=r(n("lSNA"));function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/e,r=[],i=0;i<e;i++)r.push(n*i+t*Math.PI/12);var a=r.map((function(e){var t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]}));return a}function l(){return u(30)}function c(){return u(4)}function f(){return u(3)}function p(){return u(6,1)}function d(){return u(5)}t.ShapeType3D=a,function(e){e["CYLINDER"]="cylinder",e["SQUARECOLUMN"]="squareColumn",e["TRIANGLECOLUMN"]="triangleColumn",e["HEXAGONCOLUMN"]="hexagonColumn",e["PENTAGONCOLUMN"]="pentagonColumn"}(a||(t.ShapeType3D=a={})),t.ShapeType2D=o,function(e){e["CIRCLE"]="circle",e["SQUARE"]="square",e["TRIANGLE"]="triangle",e["HEXAGON"]="hexagon",e["PENTAGON"]="pentagon"}(o||(t.ShapeType2D=o={}));var h=(i={},(0,s["default"])(i,o.CIRCLE,l),(0,s["default"])(i,o.HEXAGON,p),(0,s["default"])(i,o.TRIANGLE,f),(0,s["default"])(i,o.SQUARE,c),(0,s["default"])(i,o.PENTAGON,d),(0,s["default"])(i,a.CYLINDER,l),(0,s["default"])(i,a.HEXAGONCOLUMN,p),(0,s["default"])(i,a.TRIANGLECOLUMN,f),(0,s["default"])(i,a.SQUARECOLUMN,c),(0,s["default"])(i,a.PENTAGONCOLUMN,d),i);t.geometryShape=h},uy83:function(e,t,n){var r=n("0Dky");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},uydJ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("f1zB")),p=r(n("qXrd")),d=n("i4Tg");function h(e){var t=v();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s["default"])(n,e);var t=h(n);function n(e,r,a){var s;(0,i["default"])(this,n);var u="touchend"===e?a.changedTouches:a.touches,l=p["default"].touchPos(r.getCanvasContainer(),u),d=l.map((function(e){return r.unproject(e)})),h=l.reduce((function(e,t,n,r){return e.add(t.div(r.length))}),new f["default"](0,0)),v=r.unproject(h);return s=t.call(this,e,{points:l,point:h,lngLats:d,lngLat:v,originalEvent:a}),(0,c["default"])((0,o["default"])(s),"type",void 0),(0,c["default"])((0,o["default"])(s),"target",void 0),(0,c["default"])((0,o["default"])(s),"originalEvent",void 0),(0,c["default"])((0,o["default"])(s),"lngLat",void 0),(0,c["default"])((0,o["default"])(s),"point",void 0),(0,c["default"])((0,o["default"])(s),"points",void 0),(0,c["default"])((0,o["default"])(s),"lngLats",void 0),(0,c["default"])((0,o["default"])(s),"defaultPrevented",void 0),s.defaultPrevented=!1,s}return(0,a["default"])(n,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),n}(d.Event);t["default"]=m},uzM9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceUtils=t.PerformanceMarkers=void 0;var r=null,i=[],a=30,o=1e3/a,s=window.performance,u={create:"create",load:"load",fullLoad:"fullLoad"};t.PerformanceMarkers=u;var l={mark:function(e){s.mark(e)},frame:function(e){var t=e;if(null!=r){var n=t-r;i.push(n)}r=t},clearMetrics:function(){for(var e in r=null,i=[],s.clearMeasures("loadTime"),s.clearMeasures("fullLoadTime"),u)s.clearMarks(u[e])},getPerformanceMetrics:function(){var e=s.measure("loadTime",u.create,u.load).duration,t=s.measure("fullLoadTime",u.create,u.fullLoad).duration,n=i.length,r=i.reduce((function(e,t){return e+t}),0)/n/1e3,a=1/r,l=i.filter((function(e){return e>o})).reduce((function(e,t){return e+(t-o)/o}),0),c=l/(n+l)*100;return{loadTime:e,fullLoadTime:t,fps:a,percentDroppedFrames:c}}};t.PerformanceUtils=l},v5b1:function(e,t,n){"use strict";var r=n("I+eb"),i=n("g6v/"),a=n("6x0u"),o=n("ewvW"),s=n("wE6v"),u=n("4WOD"),l=n("Bs8V").f;i&&r({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,n=o(this),r=s(e,!0);do{if(t=l(n,r))return t.get}while(n=u(n))}})},vBe5:function(e,t,n){"use strict";n.r(t),n.d(t,"bisect",(function(){return l})),n.d(t,"bisectRight",(function(){return s})),n.d(t,"bisectLeft",(function(){return u})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return p})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return m})),n.d(t,"extent",(function(){return y})),n.d(t,"histogram",(function(){return P})),n.d(t,"thresholdFreedmanDiaconis",(function(){return R})),n.d(t,"thresholdScott",(function(){return j})),n.d(t,"thresholdSturges",(function(){return M})),n.d(t,"max",(function(){return L})),n.d(t,"mean",(function(){return N})),n.d(t,"median",(function(){return D})),n.d(t,"merge",(function(){return F})),n.d(t,"min",(function(){return z})),n.d(t,"pairs",(function(){return c})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return I})),n.d(t,"range",(function(){return E})),n.d(t,"scan",(function(){return U})),n.d(t,"shuffle",(function(){return V})),n.d(t,"sum",(function(){return H})),n.d(t,"ticks",(function(){return T})),n.d(t,"tickIncrement",(function(){return C})),n.d(t,"tickStep",(function(){return A})),n.d(t,"transpose",(function(){return W})),n.d(t,"variance",(function(){return v})),n.d(t,"zip",(function(){return G}));var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){return 1===e.length&&(e=a(e)),{left:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);while(r<i){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}};function a(e){return function(t,n){return r(e(t),n)}}var o=i(r),s=o.right,u=o.left,l=s,c=function(e,t){null==t&&(t=f);var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);while(n<r)a[n]=t(i,i=e[++n]);return a};function f(e,t){return[e,t]}var p=function(e,t,n){var r,i,a,o,s=e.length,u=t.length,l=new Array(s*u);for(null==n&&(n=f),r=a=0;r<s;++r)for(o=e[r],i=0;i<u;++i,++a)l[a]=n(o,t[i]);return l},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},v=function(e,t){var n,r,i=e.length,a=0,o=-1,s=0,u=0;if(null==t)while(++o<i)isNaN(n=h(e[o]))||(r=n-s,s+=r/++a,u+=r*(n-s));else while(++o<i)isNaN(n=h(t(e[o],o,e)))||(r=n-s,s+=r/++a,u+=r*(n-s));if(a>1)return u/(a-1)},m=function(e,t){var n=v(e,t);return n?Math.sqrt(n):n},y=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){while(++o<a)if(null!=(n=e[o])&&n>=n){r=i=n;while(++o<a)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}}else while(++o<a)if(null!=(n=t(e[o],o,e))&&n>=n){r=i=n;while(++o<a)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n))}return[r,i]},g=Array.prototype,b=g.slice,_=g.map,x=function(e){return function(){return e}},w=function(e){return e},E=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);while(++r<i)a[r]=e+r*n;return a},S=Math.sqrt(50),k=Math.sqrt(10),O=Math.sqrt(2),T=function(e,t,n){var r,i,a,o,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=C(e,t,n))||!isFinite(o))return[];if(o>0){e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));while(++s<i)a[s]=(e+s)*o}else{e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));while(++s<i)a[s]=(e-s)/o}return r&&a.reverse(),a};function C(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=S?10:a>=k?5:a>=O?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=S?10:a>=k?5:a>=O?2:1)}function A(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=S?i*=10:a>=k?i*=5:a>=O&&(i*=2),t<e?-i:i}var M=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},P=function(){var e=w,t=y,n=M;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=e(r[i],i,r);var u=t(s),c=u[0],f=u[1],p=n(s,c,f);Array.isArray(p)||(p=A(c,f,p),p=E(Math.ceil(c/p)*p,f,p));var d=p.length;while(p[0]<=c)p.shift(),--d;while(p[d-1]>f)p.pop(),--d;var h,v=new Array(d+1);for(i=0;i<=d;++i)h=v[i]=[],h.x0=i>0?p[i-1]:c,h.x1=i<d?p[i]:f;for(i=0;i<o;++i)a=s[i],c<=a&&a<=f&&v[l(p,a,0,d)].push(r[i]);return v}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:x(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:x([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?x(b.call(e)):x(e),r):n},r},I=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}},R=function(e,t,n){return e=_.call(e,h).sort(r),Math.ceil((n-t)/(2*(I(e,.75)-I(e,.25))*Math.pow(e.length,-1/3)))},j=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},L=function(e,t){var n,r,i=e.length,a=-1;if(null==t){while(++a<i)if(null!=(n=e[a])&&n>=n){r=n;while(++a<i)null!=(n=e[a])&&n>r&&(r=n)}}else while(++a<i)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;while(++a<i)null!=(n=t(e[a],a,e))&&n>r&&(r=n)}return r},N=function(e,t){var n,r=e.length,i=r,a=-1,o=0;if(null==t)while(++a<r)isNaN(n=h(e[a]))?--i:o+=n;else while(++a<r)isNaN(n=h(t(e[a],a,e)))?--i:o+=n;if(i)return o/i},D=function(e,t){var n,i=e.length,a=-1,o=[];if(null==t)while(++a<i)isNaN(n=h(e[a]))||o.push(n);else while(++a<i)isNaN(n=h(t(e[a],a,e)))||o.push(n);return I(o.sort(r),.5)},F=function(e){var t,n,r,i=e.length,a=-1,o=0;while(++a<i)o+=e[a].length;n=new Array(o);while(--i>=0){r=e[i],t=r.length;while(--t>=0)n[--o]=r[t]}return n},z=function(e,t){var n,r,i=e.length,a=-1;if(null==t){while(++a<i)if(null!=(n=e[a])&&n>=n){r=n;while(++a<i)null!=(n=e[a])&&r>n&&(r=n)}}else while(++a<i)if(null!=(n=t(e[a],a,e))&&n>=n){r=n;while(++a<i)null!=(n=t(e[a],a,e))&&r>n&&(r=n)}return r},B=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r},U=function(e,t){if(n=e.length){var n,i,a=0,o=0,s=e[o];null==t&&(t=r);while(++a<n)(t(i=e[a],s)<0||0!==t(s,s))&&(s=i,o=a);return 0===t(s,s)?o:void 0}},V=function(e,t,n){var r,i,a=(null==n?e.length:n)-(t=null==t?0:+t);while(a)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,a=0;if(null==t)while(++i<r)(n=+e[i])&&(a+=n);else while(++i<r)(n=+t(e[i],i,e))&&(a+=n);return a},W=function(e){if(!(i=e.length))return[];for(var t=-1,n=z(e,q),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r};function q(e){return e.length}var G=function(){return W(arguments)}},vKKe:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("k1fw"),i=n("9og8"),a=n("tJVT"),o=n("WmNS"),s=n.n(o),u=n("rWO2"),l=n("1wtQ"),c=n("AAZ5");class f extends c["a"]{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.loadData().then((e=>{var t,n=Object(a["a"])(e,3),r=n[0],i=n[1],o=n[2];this.addFillLayer(r),this.options.showBorder&&this.addFillLine(i),null!==(t=this.options.label)&&void 0!==t&&t.enable&&this.addLabelLayer(o,"json"),this.emit("loaded"),this.loaded=!0}))}addFillLine(e){var t=e.features.filter((e=>"10"===e.properties.type||"1"===e.properties.type||"11"===e.properties.type||"8"===e.properties.type)),n={type:"FeatureCollection",features:t},r=e.features.filter((e=>"10"!==e.properties.type&&"1"!==e.properties.type&&"11"!==e.properties.type&&"8"!==e.properties.type)),i={type:"FeatureCollection",features:r};this.addNationBorder(i,n)}loadData(){var e=this;return Object(i["a"])(s.a.mark((function t(){var n,i,a,o;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(l["a"])(e.options.geoDataLevel).world,t.next=3,e.fetchData(n.fill);case 3:return i=t.sent,t.next=6,e.fetchData(n.line);case 6:return a=t.sent,o=i.features.map((e=>Object(r["a"])(Object(r["a"])({},e.properties),{},{center:[e.properties.x,e.properties.y]}))),t.abrupt("return",[i,a,o]);case 9:case"end":return t.stop()}}),t)})))()}addNationBorder(e,t){var n=this.options,r=n.nationalStroke,i=n.nationalWidth,a=n.coastlineStroke,o=n.chinaNationalStroke,s=n.chinaNationalWidth,l=n.coastlineWidth,c=n.visible,f=n.zIndex,p=new u["LineLayer"]({zIndex:f+.1,visible:c}).source(e).size("type",(e=>"0"===e?s:"2"===e||"9"===e?l:i)).color("type",(e=>"0"===e?o:"2"===e||"9"===e?a:r)),d=new u["LineLayer"]({zIndex:f+.1,visible:c}).source(t).size("type",(e=>"1"===e?s:i)).shape("line").color("type",(e=>"1"===e?o:r)).style({lineType:"dash",dashArray:[2,2]});this.scene.addLayer(p),this.scene.addLayer(d),this.layers.push(p,d)}}},"vN+2":function(e,t){function n(){}e.exports=n},vRGJ:function(e,t,n){var r=n("AqCL");e.exports=g,e.exports.parse=a,e.exports.compile=o,e.exports.tokensToFunction=l,e.exports.tokensToRegExp=y;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){var n,r=[],a=0,o=0,s="",u=t&&t.delimiter||"/";while(null!=(n=i.exec(e))){var l=n[0],p=n[1],d=n.index;if(s+=e.slice(o,d),o=d+l.length,p)s+=p[1];else{var h=e[o],v=n[2],m=n[3],y=n[4],g=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=v&&null!=h&&h!==v,w="+"===b||"*"===b,E="?"===b||"*"===b,S=n[2]||u,k=y||g;r.push({name:m||a++,prefix:v||"",delimiter:S,optional:E,repeat:w,partial:x,asterisk:!!_,pattern:k?f(k):_?".*":"[^"+c(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e,t){return l(a(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",o=t||{},l=i||{},c=l.pretty?s:encodeURIComponent,f=0;f<e.length;f++){var p=e[f];if("string"!==typeof p){var d,h=o[p.name];if(null==h){if(p.optional){p.partial&&(a+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(r(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var v=0;v<h.length;v++){if(d=c(h[v]),!n[f].test(d))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===v?p.prefix:p.delimiter)+d}}else{if(d=p.asterisk?u(h):c(h),!n[f].test(d))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+d+'"');a+=p.prefix+d}}else a+=p}return a}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}function v(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(g(e[i],t,n).source);var a=new RegExp("(?:"+r.join("|")+")",d(n));return p(a,t)}function m(e,t,n){return y(a(e,n),t,n)}function y(e,t,n){r(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=c(u);else{var l=c(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+l+f+")*"),f=u.optional?u.partial?l+"("+f+")?":"(?:"+l+"("+f+"))?":l+"("+f+")",o+=f}}var h=c(n.delimiter||"/"),v=o.slice(-h.length)===h;return i||(o=(v?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+h+"|$)",p(new RegExp("^"+o,d(n)),t)}function g(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?h(e,t):r(e)?v(e,t,n):m(e,t,n)}},vSse:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=n("JQ51"),u=function(){function e(t){(0,i["default"])(this,e),(0,o["default"])(this,"map",void 0),(0,o["default"])(this,"delayContextMenu",void 0),(0,o["default"])(this,"contextMenuEvent",void 0),this.map=t}return(0,a["default"])(e,[{key:"reset",value:function(){this.delayContextMenu=!1,delete this.contextMenuEvent}},{key:"mousemove",value:function(e){this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e))}},{key:"mousedown",value:function(){this.delayContextMenu=!0}},{key:"mouseup",value:function(){this.delayContextMenu=!1,this.contextMenuEvent&&(this.map.emit("contextmenu",new s.MapMouseEvent("contextmenu",this.map,this.contextMenuEvent)),delete this.contextMenuEvent)}},{key:"contextmenu",value:function(e){this.delayContextMenu?this.contextMenuEvent=e:this.map.emit(e.type,new s.MapMouseEvent(e.type,this.map,e)),this.map.listeners("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){return!0}},{key:"disable",value:function(){return!1}}]),e}();t["default"]=u},vZi8:function(e,t,n){var r=n("I+eb"),i=n("YGK4"),a=n("eDxR"),o=n("glrk"),s=n("4WOD"),u=n("ImZN"),l=a.keys,c=a.toKey,f=function(e){var t=[];return u(e,t.push,t),t},p=function(e,t){var n=l(e,t),r=s(e);if(null===r)return n;var a=p(r,t);return a.length?n.length?f(new i(n.concat(a))):a:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:c(arguments[1]);return p(o(e),t)}})},vcVg:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=r(n("f1zB")),u=r(n("QkVN")),l=n("VVEm");function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={linearity:.3,easing:(0,l.bezier)(0,0,.3,1)},h=(0,u["default"])({deceleration:2500,maxSpeed:1400},d),v=(0,u["default"])({deceleration:20,maxSpeed:1400},d),m=(0,u["default"])({deceleration:1e3,maxSpeed:360},d),y=(0,u["default"])({deceleration:1e3,maxSpeed:90},d),g=function(){function e(t){(0,i["default"])(this,e),(0,o["default"])(this,"map",void 0),(0,o["default"])(this,"inertiaBuffer",void 0),this.map=t,this.clear()}return(0,a["default"])(e,[{key:"clear",value:function(){this.inertiaBuffer=[]}},{key:"record",value:function(e){this.drainInertiaBuffer(),this.inertiaBuffer.push({time:(0,l.now)(),settings:e})}},{key:"drainInertiaBuffer",value:function(){var e=this.inertiaBuffer,t=(0,l.now)(),n=160;while(e.length>0&&t-e[0].time>n)e.shift()}},{key:"onMoveEnd",value:function(e){if(this.drainInertiaBuffer(),!(this.inertiaBuffer.length<2)){var t,n={zoom:0,bearing:0,pitch:0,pan:new s["default"](0,0),pinchAround:void 0,around:void 0},r=c(this.inertiaBuffer);try{for(r.s();!(t=r.n()).done;){var i=t.value.settings;n.zoom+=i.zoomDelta||0,n.bearing+=i.bearingDelta||0,n.pitch+=i.pitchDelta||0,i.panDelta&&n.pan._add(i.panDelta),i.around&&(n.around=i.around),i.pinchAround&&(n.pinchAround=i.pinchAround)}}catch(E){r.e(E)}finally{r.f()}var a=this.inertiaBuffer[this.inertiaBuffer.length-1],o=a.time-this.inertiaBuffer[0].time,f={};if(n.pan.mag()){var p=_(n.pan.mag(),o,(0,u["default"])({},h,e||{}));f.offset=n.pan.mult(p.amount/n.pan.mag()),f.center=this.map.transform.center,b(f,p)}if(n.zoom){var d=_(n.zoom,o,v);f.zoom=this.map.transform.zoom+d.amount,b(f,d)}if(n.bearing){var g=_(n.bearing,o,m);f.bearing=this.map.transform.bearing+(0,l.clamp)(g.amount,-179,179),b(f,g)}if(n.pitch){var x=_(n.pitch,o,y);f.pitch=this.map.transform.pitch+x.amount,b(f,x)}if(f.zoom||f.bearing){var w=void 0===n.pinchAround?n.around:n.pinchAround;f.around=w?this.map.unproject(w):this.map.getCenter()}return this.clear(),(0,u["default"])(f,{noMoveStart:!0})}}}]),e}();function b(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function _(e,t,n){var r=n.maxSpeed,i=n.linearity,a=n.deceleration,o=(0,l.clamp)(e*i/(t/1e3),-r,r),s=Math.abs(o)/(a*i);return{easing:n.easing,duration:1e3*s,amount:o*(s/2)}}t["default"]=g},vdRX:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},viRO:function(e,t,n){"use strict";var r=n("MgzW"),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var E=w.prototype=new x;E.constructor=w,r(E,_.prototype),E.isPureReactComponent=!0;var S={current:null},k=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function C(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}function M(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}var P=/\/+/g,I=[];function R(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function L(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var l=t+D(i,u);s+=L(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:(l=m&&e[m]||e["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)i=i.value,l=t+D(i,u++),s+=L(i,l,n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function N(e,t,n){return null==e?0:L(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?M(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=C(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(P,"$&/")+"/"),t=R(t,a,r,i),N(e,z,t),j(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(y(321));return e}var H={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=R(null,null,t,n),N(e,F,t),j(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(y(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=l,t.PureComponent=w,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},vo4V:function(e,t,n){var r=n("90hW"),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),u=a(2,127)*(2-s),l=a(2,-126),c=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,a=i(e),f=r(e);return a<l?f*c(a/l/s)*l*s:(t=(1+s/o)*a,n=t-(t-a),n>u||n!=n?f*(1/0):f*n)}},voyM:function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},vuIU:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},vxnP:function(e,t,n){"use strict";var r=n("I+eb");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},vzwy:function(e,t,n){"use strict";var r=n("I+eb"),i=n("ppGB"),a=n("wg0c"),o="Invalid number representation",s="Invalid radix",u=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(e,t){var n,r,l=1;if("string"!=typeof e)throw TypeError(o);if(!e.length)throw SyntaxError(o);if("-"==e.charAt(0)&&(l=-1,e=e.slice(1),!e.length))throw SyntaxError(o);if(n=void 0===t?10:i(t),n<2||n>36)throw RangeError(s);if(!u.test(e)||(r=a(e,n)).toString(n)!==e)throw SyntaxError(o);return l*r}})},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7"),a="[object Set]";function o(e){return i(e)&&r(e)==a}e.exports=o},w1rZ:function(e,t,n){var r=n("I+eb"),i=n("fhKU");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},w5oq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("iWIM")),u=r(n("7W2i")),l=r(n("a1gu")),c=r(n("Nsbk")),f=r(n("lSNA")),p=r(n("LgV6"));function d(e){var t=h();return function(){var n,r=(0,c["default"])(e);if(t){var i=(0,c["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,l["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=25;function m(e,t){return 180*e.angleWith(t)/Math.PI}var y=function(e){(0,u["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,f["default"])((0,o["default"])(e),"minDiameter",void 0),e}return(0,a["default"])(n,[{key:"reset",value:function(){(0,s["default"])((0,c["default"])(n.prototype),"reset",this).call(this),delete this.minDiameter,delete this.startVector,delete this.vector}},{key:"start",value:function(e){this.startVector=this.vector=e[0].sub(e[1]),this.minDiameter=e[0].dist(e[1])}},{key:"move",value:function(e,t){var n=this.vector;if(this.vector=e[0].sub(e[1]),this.active||!this.isBelowThreshold(this.vector))return this.active=!0,{bearingDelta:m(this.vector,n),pinchAround:t}}},{key:"isBelowThreshold",value:function(e){this.minDiameter=Math.min(this.minDiameter,e.mag());var t=Math.PI*this.minDiameter,n=v/t*360,r=m(e,this.startVector);return Math.abs(r)<n}}]),n}(p["default"]);t["default"]=y},w7s6:function(e,t,n){var r=n("I+eb");r({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},wBXm:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("DD0s"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","PolygonLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){this.layerModel=new p["default"](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"setLight",value:function(e){this.updateLayerConfig({time:e})}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){return"citybuilding"}}]),n}(f["default"]);t["default"]=v},wE6v:function(e,t,n){var r=n("hh1v");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"wEI+":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ue}));var r=n("wx14"),i=n("q1tI"),a=n("Pw59"),o=n("Ff2n"),s=n("rePB"),u=n("VTBJ"),l=n("KQm4"),c=n("1OyB"),f=n("vuIU"),p=n("JX7q"),d=n("Ji7U"),h=n("LK+K"),v=n("Zm9Q"),m=n("Kwbf"),y="RC_FORM_INTERNAL_HOOKS",g=function(){Object(m["a"])(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},b=i["createContext"]({getFieldValue:g,getFieldsValue:g,getFieldError:g,getFieldsError:g,isFieldsTouched:g,isFieldTouched:g,isFieldValidating:g,isFieldsValidating:g,resetFields:g,setFields:g,setFieldsValue:g,validateFields:g,submit:g,getInternalHooks:function(){return g(),{dispatch:g,initEntityValue:g,registerField:g,useSubscribe:g,setInitialValues:g,setCallbacks:g,getFields:g,setValidateMessages:g,setPreserve:g}}}),_=b;function x(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}var w=n("o0o1"),E=n.n(w),S=n("HaE+"),k=n("U8pU"),O=n("KpVd");function T(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var C=n("T5bk");function A(e,t,n,r){if(!t.length)return n;var i,a=Object(C["a"])(t),o=a[0],s=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Object(l["a"])(e):Object(u["a"])({},e):[],r&&void 0===n&&1===s.length?delete i[o][s[0]]:i[o]=A(i[o],s,n,r),i}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!T(e,t.slice(0,-1))?e:A(e,t,n,r)}function P(e){return x(e)}function I(e,t){var n=T(e,t);return n}function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=M(e,t,n,r);return i}function j(e,t){var n={};return t.forEach((function(t){var r=I(e,t);n=R(n,t,r)})),n}function L(e,t){return e&&e.some((function(e){return z(e,t)}))}function N(e){return"object"===Object(k["a"])(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function D(e,t){var n=Array.isArray(e)?Object(l["a"])(e):Object(u["a"])({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=N(r)&&N(i);n[e]=a?D(r,i||{}):i})),n):n}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return D(e,t)}),e)}function z(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function B(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Object(k["a"])(e)||"object"!==Object(k["a"])(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Object(l["a"])(n),Object(l["a"])(r)));return Object(l["a"])(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))}function U(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function V(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Object(l["a"])(e.slice(0,n)),[i],Object(l["a"])(e.slice(n,t)),Object(l["a"])(e.slice(t+1,r))):a<0?[].concat(Object(l["a"])(e.slice(0,t)),Object(l["a"])(e.slice(t+1,n+1)),[i],Object(l["a"])(e.slice(n+1,r))):e}var H="'${name}' is not a valid ${type}",W={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:H,method:H,array:H,object:H,number:H,date:H,boolean:H,integer:H,float:H,regexp:H,email:H,url:H,hex:H},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},q=O["a"];function G(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}function Z(e,t,n,r){var i=Object(u["a"])(Object(u["a"])({},n),{},{name:t,enum:(n["enum"]||[]).join(", ")}),a=function(e,t){return function(){return G(e,Object(u["a"])(Object(u["a"])({},i),t))}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){var i=e[n];"string"===typeof i?t[n]=a(i,r):i&&"object"===Object(k["a"])(i)?(t[n]={},o(i,t[n])):t[n]=i})),t}return o(F({},W,e))}function Y(e,t,n,r,i){return X.apply(this,arguments)}function X(){return X=Object(S["a"])(E.a.mark((function e(t,n,r,a,o){var c,f,p,d,h,v;return E.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(u["a"])({},r),f=null,c&&"array"===c.type&&c.defaultField&&(f=c.defaultField,delete c.defaultField),p=new q(Object(s["a"])({},t,[c])),d=Z(a.validateMessages,t,c,o),p.messages(d),h=[],e.prev=7,e.next=10,Promise.resolve(p.validate(Object(s["a"])({},t,n),Object(u["a"])({},a)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](7),e.t0.errors?h=e.t0.errors.map((function(e,t){var n=e.message;return i["isValidElement"](n)?i["cloneElement"](n,{key:"error_".concat(t)}):n})):(console.error(e.t0),h=[d["default"]()]);case 15:if(h.length||!f){e.next=20;break}return e.next=18,Promise.all(n.map((function(e,n){return Y("".concat(t,".").concat(n),e,f,a,o)})));case 18:return v=e.sent,e.abrupt("return",v.reduce((function(e,t){return[].concat(Object(l["a"])(e),Object(l["a"])(t))}),[]));case 20:return e.abrupt("return",h);case 21:case"end":return e.stop()}}),e,null,[[7,12]])}))),X.apply(this,arguments)}function K(e,t,n,r,i,a){var o,s=e.join("."),l=n.map((function(e){var t=e.validator;return t?Object(u["a"])(Object(u["a"])({},e),{},{validator:function(e,n,r){var i=!1,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Object(m["a"])(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))},o=t(e,n,a);i=o&&"function"===typeof o.then&&"function"===typeof o["catch"],Object(m["a"])(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()}))["catch"]((function(e){r(e||" ")}))}}):e}));if(!0===i)o=new Promise(function(){var e=Object(S["a"])(E.a.mark((function e(n,i){var o,u;return E.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=11;break}return e.next=4,Y(s,t,l[o],r,a);case 4:if(u=e.sent,!u.length){e.next=8;break}return i(u),e.abrupt("return");case 8:o+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return Y(s,t,e,r,a)}));o=(i?$(c):J(c)).then((function(e){return e.length?Promise.reject(e):[]}))}return o["catch"]((function(e){return e})),o}function J(e){return Q.apply(this,arguments)}function Q(){return Q=Object(S["a"])(E.a.mark((function e(t){return E.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t,n=(t=[]).concat.apply(t,Object(l["a"])(e));return n})));case 1:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return ee=Object(S["a"])(E.a.mark((function e(t){var n;return E.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),n+=1,n===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var ne=function(e){Object(d["a"])(n,e);var t=Object(h["a"])(n);function n(e){var r;if(Object(c["a"])(this,n),r=t.call(this,e),r.state={resetCount:0},r.cancelRegisterFunc=null,r.mounted=!1,r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=[],r.cancelRegister=function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,P(i)),r.cancelRegisterFunc=null},r.getNamePath=function(){var e=r.props,t=e.name,n=e.fieldContext,i=n.prefixName,a=void 0===i?[]:i;return void 0!==t?[].concat(Object(l["a"])(a),Object(l["a"])(t)):[]},r.getRules=function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))},r.refresh=function(){r.mounted&&r.setState((function(e){var t=e.resetCount;return{resetCount:t+1}}))},r.onStoreChange=function(e,t,n){var i=r.props,a=i.shouldUpdate,o=i.dependencies,s=void 0===o?[]:o,u=i.onReset,l=n.store,c=r.getNamePath(),f=r.getValue(e),p=r.getValue(l),d=t&&L(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&f!==p&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=[]),n.type){case"reset":if(!t||d)return r.touched=!1,r.dirty=!1,r.validatePromise=null,r.errors=[],u&&u(),void r.refresh();break;case"setField":if(d){var h=n.data;return"touched"in h&&(r.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(r.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(r.errors=h.errors||[]),r.dirty=!0,void r.reRender()}if(a&&!c.length&&te(a,e,l,f,p,n))return void r.reRender();break;case"dependenciesUpdate":var v=s.map(P);if(v.some((function(e){return L(n.relatedFields,e)})))return void r.reRender();break;default:if(d||(!s.length||c.length||a)&&te(a,e,l,f,p,n))return void r.reRender();break}!0===a&&r.reRender()},r.validateRules=function(e){var t=r.getNamePath(),n=r.getValue(),i=Promise.resolve().then((function(){if(!r.mounted)return[];var a=r.props,o=a.validateFirst,s=void 0!==o&&o,u=a.messageVariables,l=e||{},c=l.triggerName,f=r.getRules();c&&(f=f.filter((function(e){var t=e.validateTrigger;if(!t)return!0;var n=x(t);return n.includes(c)})));var p=K(t,n,f,e,s,u);return p["catch"]((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r.validatePromise===i&&(r.validatePromise=null,r.errors=e,r.reRender())})),p}));return r.validatePromise=i,r.dirty=!0,r.errors=[],r.reRender(),i},r.isFieldValidating=function(){return!!r.validatePromise},r.isFieldTouched=function(){return r.touched},r.isFieldDirty=function(){return r.dirty},r.getErrors=function(){return r.errors},r.isListField=function(){return r.props.isListField},r.isList=function(){return r.props.isList},r.isPreserve=function(){return r.props.preserve},r.getMeta=function(){r.prevValidating=r.isFieldValidating();var e={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,name:r.getNamePath()};return e},r.getOnlyChild=function(e){if("function"===typeof e){var t=r.getMeta();return Object(u["a"])(Object(u["a"])({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Object(v["a"])(e);return 1===n.length&&i["isValidElement"](n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},r.getValue=function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return I(e||t(!0),n)},r.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,i=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,l=t.valuePropName,c=t.getValueProps,f=t.fieldContext,p=void 0!==i?i:f.validateTrigger,d=r.getNamePath(),h=f.getInternalHooks,v=f.getFieldsValue,m=h(y),g=m.dispatch,b=r.getValue(),_=c||function(e){return Object(s["a"])({},l,e)},w=e[n],E=Object(u["a"])(Object(u["a"])({},e),_(b));E[n]=function(){var e;r.touched=!0,r.dirty=!0;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=a?a.apply(void 0,n):U.apply(void 0,[l].concat(n)),o&&(e=o(e,b,v(!0))),g({type:"updateValue",namePath:d,value:e}),w&&w.apply(void 0,n)};var S=x(p||[]);return S.forEach((function(e){var t=E[e];E[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&g({type:"validateField",namePath:d,triggerName:e})}})),E},e.fieldContext){var a=e.fieldContext.getInternalHooks,o=a(y),f=o.initEntityValue;f(Object(p["a"])(r))}return r}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=n.getInternalHooks,i=r(y),a=i.registerField;this.cancelRegisterFunc=a(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child,o=r.isFunction;return o?e=a:i["isValidElement"](a)?e=i["cloneElement"](a,this.getControlled(a.props)):(Object(m["a"])(!a,"`children` of Field is not validate ReactElement."),e=a),i["createElement"](i["Fragment"],{key:t},e)}}]),n}(i["Component"]);function re(e){var t=e.name,n=Object(o["a"])(e,["name"]),a=i["useContext"](_),s=void 0!==t?P(t):void 0,u="keep";return n.isListField||(u="_".concat((s||[]).join("_"))),i["createElement"](ne,Object(r["a"])({key:u,name:s},n,{fieldContext:a}))}ne.contextType=_,ne.defaultProps={trigger:"onChange",valuePropName:"value"};var ie=re,ae=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,o=e.validateTrigger,s=i["useContext"](_),c=i["useRef"]({keys:[],id:0}),f=c.current;if("function"!==typeof r)return Object(m["a"])(!1,"Form.List only accepts function as children."),null;var p=P(s.prefixName)||[],d=[].concat(Object(l["a"])(p),Object(l["a"])(P(t))),h=function(e,t,n){var r=n.source;return"internal"!==r&&e!==t};return i["createElement"](_.Provider,{value:Object(u["a"])(Object(u["a"])({},s),{},{prefixName:d})},i["createElement"](ie,{name:[],shouldUpdate:h,rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,i=void 0===n?[]:n,a=e.onChange,o=s.getFieldValue,u=function(){var e=o(d||[]);return e||[]},c={add:function(e,t){var n=u();t>=0&&t<=n.length?(f.keys=[].concat(Object(l["a"])(f.keys.slice(0,t)),[f.id],Object(l["a"])(f.keys.slice(t))),a([].concat(Object(l["a"])(n.slice(0,t)),[e],Object(l["a"])(n.slice(t))))):(f.keys=[].concat(Object(l["a"])(f.keys),[f.id]),a([].concat(Object(l["a"])(n),[e]))),f.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(f.keys=f.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(f.keys=V(f.keys,e,t),a(V(n,e,t)))}}},p=i||[];return Array.isArray(p)||(p=[]),r(p.map((function(e,t){var n=f.keys[t];return void 0===n&&(f.keys[t]=f.id,n=f.keys[t],f.id+=1),{name:t,key:n,isListField:!0}})),c,t)})))},oe=ae,se=n("ODXe");function ue(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e["catch"]((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}var le="__@field_split__";function ce(e){return e.map((function(e){return"".concat(Object(k["a"])(e),":").concat(e)})).join(le)}var fe=function(){function e(){Object(c["a"])(this,e),this.kvs=new Map}return Object(f["a"])(e,[{key:"set",value:function(e,t){this.kvs.set(ce(e),t)}},{key:"get",value:function(e){return this.kvs.get(ce(e))}},{key:"update",value:function(e,t){var n=this.get(e),r=t(n);r?this.set(e,r):this["delete"](e)}},{key:"delete",value:function(e){this.kvs["delete"](ce(e))}},{key:"map",value:function(e){return Object(l["a"])(this.kvs.entries()).map((function(t){var n=Object(se["a"])(t,2),r=n[0],i=n[1],a=r.split(le);return e({key:a.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=Object(se["a"])(t,3),r=n[1],i=n[2];return"number"===r?Number(i):i})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),pe=fe,de=function e(t){var n=this;Object(c["a"])(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===y?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):(Object(m["a"])(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=F({},e,n.store))},this.getInitialValue=function(e){return I(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new pe;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=P(e);return t.get(n)||{INVALIDATE_NAME_PATH:P(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),j(n.store,i.map(P))},this.getFieldValue=function(e){n.warningUnhooked();var t=P(e);return I(n.store,t)},this.getFieldsError=function(e){n.warningUnhooked();var t=n.getFieldEntitiesForNamePathList(e);return t.map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:P(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=P(e),r=n.getFieldsError([t])[0];return r.errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(P),s=!1):(i=null,s=a):(i=a.map(P),s=o);var u=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var f=new pe;i.forEach((function(e){f.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat(Object(l["a"])(t),[e])}))}))}));var p=function(e){return e.some(c)},d=f.map((function(e){var t=e.value;return t}));return s?d.every(p):d.some(p)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(P);return t.some((function(e){var t=e.getNamePath();return L(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new pe,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){var i=r.props.initialValue;if(void 0!==i){var a=r.getNamePath(),o=n.getInitialValue(a);if(void 0!==o)Object(m["a"])(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var s=t.get(a);if(s&&s.size>1)Object(m["a"])(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(s){var u=n.getFieldValue(a);e.skipExist&&void 0!==u||(n.store=R(n.store,a,Object(l["a"])(s)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Object(l["a"])(Object(l["a"])(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=F({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(P);r.forEach((function(e){var t=n.getInitialValue(e);n.store=R(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,Object(o["a"])(e,["name","errors"])),a=P(r);"value"in i&&(n.store=R(n.store,a,i.value)),n.notifyObservers(t,[a],{type:"setField",data:e})}))},this.getFields=function(){var e=n.getFieldEntities(!0),t=e.map((function(e){var t=e.getNamePath(),r=e.getMeta(),i=Object(u["a"])(Object(u["a"])({},r),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(i,"originRCField",{value:!0}),i}));return t},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath(),i=I(n.store,r);void 0===i&&(n.store=R(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var a=void 0!==r?r:n.preserve;if(!1===a&&(!t||i.length>1)){var o=e.getNamePath(),s=t?void 0:I(n.initialValues,o);o.length&&n.getFieldValue(o)!==s&&n.fieldEntities.every((function(e){return!z(e.getNamePath(),o)}))&&(n.store=R(n.store,o,s,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a});break;default:}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Object(u["a"])(Object(u["a"])({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){var r=n.onStoreChange;r(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=P(e),i=n.store;n.store=R(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var a=n.getDependencyChildrenFields(r);a.length&&n.validateFields(a),n.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[r].concat(Object(l["a"])(a))});var o=n.callbacks.onValuesChange;if(o){var s=j(n.store,[r]);o(s,n.getFieldsValue())}n.triggerOnFieldsChange([r].concat(Object(l["a"])(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=F(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new pe;n.getFieldEntities().forEach((function(e){var t=e.props.dependencies;(t||[]).forEach((function(t){var n=P(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));var a=function e(n){var a=i.get(n)||new Set;a.forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))};return a(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new pe;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var o=i.filter((function(t){var n=t.name;return L(e,n)}));r(o,i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(P):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=o.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(o.props.rules&&o.props.rules.length){var l=o.getNamePath();if(!r||L(i,l)){var c=o.validateRules(Object(u["a"])({validateMessages:Object(u["a"])(Object(u["a"])({},W),n.validateMessages)},t));a.push(c.then((function(){return{name:l,errors:[]}}))["catch"]((function(e){return Promise.reject({name:l,errors:e})})))}}}));var o=ue(a);n.lastValidatePromise=o,o["catch"]((function(e){return e})).then((function(e){var t=e.map((function(e){var t=e.name;return t}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])}))["catch"]((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return s["catch"]((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}}))["catch"]((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};function he(e){var t=i["useRef"](),n=i["useState"]({}),r=Object(se["a"])(n,2),a=r[1];if(!t.current)if(e)t.current=e;else{var o=function(){a({})},s=new de(o);t.current=s.getForm()}return[t.current]}var ve=he,me=i["createContext"]({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ye=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,o=i["useContext"](me),l=i["useRef"]({});return i["createElement"](me.Provider,{value:Object(u["a"])(Object(u["a"])({},o),{},{validateMessages:Object(u["a"])(Object(u["a"])({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:l.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:l.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(l.current=Object(u["a"])(Object(u["a"])({},l.current),{},Object(s["a"])({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=Object(u["a"])({},l.current);delete t[e],l.current=t,o.unregisterForm(e)}})},a)},ge=me,be=function(e,t){var n=e.name,a=e.initialValues,s=e.fields,l=e.form,c=e.preserve,f=e.children,p=e.component,d=void 0===p?"form":p,h=e.validateMessages,v=e.validateTrigger,m=void 0===v?"onChange":v,g=e.onValuesChange,b=e.onFieldsChange,x=e.onFinish,w=e.onFinishFailed,E=Object(o["a"])(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),S=i["useContext"](ge),k=ve(l),O=Object(se["a"])(k,1),T=O[0],C=T.getInternalHooks(y),A=C.useSubscribe,M=C.setInitialValues,P=C.setCallbacks,I=C.setValidateMessages,R=C.setPreserve;i["useImperativeHandle"](t,(function(){return T})),i["useEffect"]((function(){return S.registerForm(n,T),function(){S.unregisterForm(n)}}),[S,T,n]),I(Object(u["a"])(Object(u["a"])({},S.validateMessages),h)),P({onValuesChange:g,onFieldsChange:function(e){if(S.triggerFormChange(n,e),b){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];b.apply(void 0,[e].concat(r))}},onFinish:function(e){S.triggerFormFinish(n,e),x&&x(e)},onFinishFailed:w}),R(c);var j=i["useRef"](null);M(a,!j.current),j.current||(j.current=!0);var L=f,N="function"===typeof f;if(N){var D=T.getFieldsValue(!0);L=f(D,T)}A(!N);var F=i["useRef"]();i["useEffect"]((function(){B(F.current||[],s||[])||T.setFields(s||[]),F.current=s}),[s,T]);var z=i["useMemo"]((function(){return Object(u["a"])(Object(u["a"])({},T),{},{validateTrigger:m})}),[T,m]),U=i["createElement"](_.Provider,{value:z},L);return!1===d?U:i["createElement"](d,Object(r["a"])({},E,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),T.submit()},onReset:function(e){var t;e.preventDefault(),T.resetFields(),null===(t=E.onReset)||void 0===t||t.call(E,e)}}),U)},_e=be,xe=i["forwardRef"](_e),we=xe;we.FormProvider=ye,we.Field=ie,we.List=oe,we.useForm=ve;var Ee=n("YrtM"),Se=function(e,t,n){Object(m["a"])(e,"[antd: ".concat(t,"] ").concat(n))},ke=n("ZvpZ"),Oe=Object(r["a"])({},ke["a"].Modal);function Te(e){Oe=e?Object(r["a"])(Object(r["a"])({},Oe),e):Object(r["a"])({},ke["a"].Modal)}var Ce=n("YlG9"),Ae="internalMark",Me=function(e){Object(d["a"])(n,e);var t=Object(h["a"])(n);function n(e){var r;return Object(c["a"])(this,n),r=t.call(this,e),Te(e.locale&&e.locale.Modal),Se(e._ANT_MARK__===Ae,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),r}return Object(f["a"])(n,[{key:"componentDidMount",value:function(){Te(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&Te(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){Te()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children;return i["createElement"](Ce["a"].Provider,{value:Object(r["a"])(Object(r["a"])({},t),{exist:!0})},n)}}]),n}(i["Component"]);Me.defaultProps={locale:{}};var Pe,Ie=n("YMnH"),Re=n("H84U"),je=n("3Nzz"),Le=n("tsqr"),Ne=n("TeRw"),De=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"],Fe="ant",ze=function(e){void 0!==e.prefixCls&&(Pe=e.prefixCls)};function Be(){return Pe||Fe}var Ue=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(Be(),"-").concat(e):Be())},getRootPrefixCls:function(e,t){return e||(Pe||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):Be()))}}},Ve=function(e){var t,n,o=e.children,s=e.csp,u=e.autoInsertSpaceInButton,l=e.form,c=e.locale,f=e.componentSize,p=e.direction,d=e.space,h=e.virtual,v=e.dropdownMatchSelectWidth,m=e.legacyLocale,y=e.parentContext,g=e.iconPrefixCls,b=i["useCallback"]((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||y.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[y.getPrefixCls,e.prefixCls]),_=Object(r["a"])(Object(r["a"])({},y),{csp:s,autoInsertSpaceInButton:u,locale:c||m,direction:p,space:d,virtual:h,dropdownMatchSelectWidth:v,getPrefixCls:b});De.forEach((function(t){var n=e[t];n&&(_[t]=n)}));var x=Object(Ee["a"])((function(){return _}),_,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=i["useMemo"]((function(){return{prefixCls:g,csp:s}}),[g]),E=o,S={};return c&&(S=(null===(t=c.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=ke["a"].Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),l&&l.validateMessages&&(S=Object(r["a"])(Object(r["a"])({},S),l.validateMessages)),Object.keys(S).length>0&&(E=i["createElement"](ye,{validateMessages:S},o)),c&&(E=i["createElement"](Me,{locale:c,_ANT_MARK__:Ae},E)),g&&(E=i["createElement"](a["a"].Provider,{value:w},E)),f&&(E=i["createElement"](je["a"],{size:f},E)),i["createElement"](Re["b"].Provider,{value:x},E)},He=function(e){return i["useEffect"]((function(){e.direction&&(Le["default"].config({rtl:"rtl"===e.direction}),Ne["default"].config({rtl:"rtl"===e.direction}))}),[e.direction]),i["createElement"](Ie["a"],null,(function(t,n,a){return i["createElement"](Re["a"],null,(function(t){return i["createElement"](Ve,Object(r["a"])({parentContext:t,legacyLocale:a},e))}))}))};He.ConfigContext=Re["b"],He.SizeContext=je["b"],He.config=ze},"wF/u":function(e,t,n){var r=n("e5cp"),i=n("ExA7");function a(e,t,n,o,s){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,o,a,s))}e.exports=a},wJg7:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},wQEU:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("iBA9")),p=r(n("e0ch"));function d(e){var t=h();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s["default"])(n,e);var t=d(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"type","ImageLayer"),e}return(0,a["default"])(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new p["default"][e](this),this.models=this.layerModel.initModels()}},{key:"rebuildModels",value:function(){this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={image:{}};return t[e]}},{key:"getModelType",value:function(){return"image"}}]),n}(f["default"]);t["default"]=v},wTVA:function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"wZ/5":function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("Yhre"),o=n("JiZb"),s="ArrayBuffer",u=a[s],l=i[s];r({global:!0,forced:l!==u},{ArrayBuffer:u}),o(s)},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu"),a=i(r);e.exports=a},wdbq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=n("4cb6");n("mNvP");var c,f,p=r(n("2stA"));function d(e){var t=h();return function(){var n,r=(0,u["default"])(e);if(t){var i=(0,u["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s["default"])(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var v="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",m="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}",y=(c=(0,l.injectable)(),c(f=function(e){(0,o["default"])(n,e);var t=d(n);function n(){return(0,i["default"])(this,n),t.apply(this,arguments)}return(0,a["default"])(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:v,fs:m}),this.shaderModuleService.getModule("sepia-pass")}}]),n}(p["default"]))||f);t["default"]=y},wfmh:function(e,t,n){var r=n("I+eb"),i=n("ImZN"),a=n("hBjN");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){a(t,e,n)}),void 0,!0),t}})},wg0c:function(e,t,n){var r=n("2oRo"),i=n("WKiH").trim,a=n("WJkJ"),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");e.exports=u?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},wgJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=function(e){return+setTimeout(e,16)},i=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(r=function(e){return window.requestAnimationFrame(e)},i=function(e){return window.cancelAnimationFrame(e)});var a=0,o=new Map;function s(e){o["delete"](e)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a+=1;var n=a;function i(t){if(0===t)s(n),e();else{var a=r((function(){i(t-1)}));o.set(n,a)}}return i(t),n}u.cancel=function(e){var t=o.get(e);return s(t),i(t)}},wgYD:function(e,t,n){"use strict";var r=n("I+eb"),i=n("xDBR"),a=n("Cg3G");r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},wkBT:function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},wnjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n("xfSm"),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(r.PARAM_TYPES,e),n=Reflect.getMetadata(r.TAGGED,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:n||{}}},e.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(r.TAGGED_PROP,e)||[];return t},e}();t.MetadataReader=i},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),a=n("b2z7"),o=n("otv/"),s=n("yP5f"),u="[object Boolean]",l="[object Date]",c="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",O="[object Uint32Array]";function T(e,t,n){var T=e.constructor;switch(t){case m:return r(e);case u:case l:return new T(+e);case y:return i(e,n);case g:case b:case _:case x:case w:case E:case S:case k:case O:return s(e,n);case c:return new T;case f:case h:return new T(e);case p:return a(e);case d:return new T;case v:return o(e)}}e.exports=T},wrfV:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("rWO2"),o=n("/7QA"),s=n("mDLg");t["default"]=()=>(i.a.useEffect((()=>{var e=new a["Scene"]({id:"city",map:new s["Mapbox"]({center:[116.2825,39.9],pitch:0,style:"blank",zoom:3,minZoom:0,maxZoom:10})});e.on("loaded",(()=>{new o["CityLayer"](e,{adcode:["330000","330100"],fill:{color:{field:"NAME_CHN",values:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"]}},stroke:"#ccc",label:{enable:!0,textAllowOverlap:!1,field:"NAME_CHN"},popup:{enable:!0,Html:e=>"<span>".concat(e.NAME_CHN,"</span>")}})}))}),[]),i.a.createElement("div",{style:{height:"400px",position:"relative"},id:"city"}))},wuf2:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("lSNA")),s=function(){function e(t,n,r,a){(0,i["default"])(this,e),(0,o["default"])(this,"el",void 0),(0,o["default"])(this,"touchZoom",void 0),(0,o["default"])(this,"touchRotate",void 0),(0,o["default"])(this,"tapDragZoom",void 0),(0,o["default"])(this,"rotationDisabled",void 0),(0,o["default"])(this,"enabled",void 0),this.el=t,this.touchZoom=n,this.touchRotate=r,this.tapDragZoom=a,this.rotationDisabled=!1,this.enabled=!0}return(0,a["default"])(e,[{key:"enable",value:function(e){this.touchZoom.enable(e),this.rotationDisabled||this.touchRotate.enable(e),this.tapDragZoom.enable(),this.el.classList.add("l7-touch-zoom-rotate")}},{key:"disable",value:function(){this.touchZoom.disable(),this.touchRotate.disable(),this.tapDragZoom.disable(),this.el.classList.remove("l7-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this.touchZoom.isEnabled()&&(this.rotationDisabled||this.touchRotate.isEnabled())&&this.tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this.touchZoom.isActive()||this.touchRotate.isActive()||this.tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this.rotationDisabled=!0,this.touchRotate.disable()}},{key:"enableRotation",value:function(){this.rotationDisabled=!1,this.touchZoom.isEnabled()&&this.touchRotate.enable()}}]),e}();t["default"]=s},wx14:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},wy8a:function(e,t,n){var r=n("KxBF");function i(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}e.exports=i},"x/xZ":function(e,t,n){"use strict";t["a"]=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}},x2v5:function(e){e.exports=JSON.parse("{}")},xDBR:function(e,t){e.exports=!1},xYSL:function(e,t){function n(e,t){return e.has(t)}e.exports=n},xbqb:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},xfSm:function(e,t,n){"use strict";function r(){return[t.INJECT_TAG,t.MULTI_INJECT_TAG,t.NAME_TAG,t.UNMANAGED_TAG,t.NAMED_TAG,t.OPTIONAL_TAG]}Object.defineProperty(t,"__esModule",{value:!0}),t.NON_CUSTOM_TAG_KEYS=t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct",t.NON_CUSTOM_TAG_KEYS=r()},xfeJ:function(e,t){function n(e){return-1!==Function.toString.call(e).indexOf("[native code]")}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},xiII:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n("d9O0"),i=function(){function e(e,t,n,i,a){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=a,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},xkGU:function(e,t,n){e.exports=n("bNQv")},xp6e:function(e,t,n){"use strict";n.r(t),function(e){function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?n(e.value):i(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(o)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{while((void 0===t||t-- >0)&&!(r=a.next()).done)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(i)throw i.error}}return o}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function u(e,t){return t={exports:{}},e(t,t.exports),t.exports}n.d(t,"AsyncParallelHook",(function(){return P})),n.d(t,"SyncBailHook",(function(){return L})),n.d(t,"SyncHook",(function(){return T})),n.d(t,"SyncWaterfallHook",(function(){return j}));var l=u((function(e,t){function n(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(l);var c=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t["default"]}));s(c);var f=u((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=o,n.wrap=s;var r,i=n.hasSetImmediate="function"===typeof setImmediate&&setImmediate,a=n.hasNextTick="object"===typeof e&&"function"===typeof e.nextTick;function o(e){setTimeout(e,0)}function s(e){return function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return e((function(){return t.apply(void 0,n)}))}}r=i?setImmediate:a?e.nextTick:o,n["default"]=s(r)}));s(f);f.fallback,f.wrap,f.hasSetImmediate,f.hasNextTick;var p=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=i(c),r=i(f);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(0,d.isAsync)(e)?function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop(),i=e.apply(this,t);return o(i,r)}:(0,n["default"])((function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}if(r&&"function"===typeof r.then)return o(r,n);n(null,r)}))}function o(e,t){return e.then((function(e){s(t,null,e)}),(function(e){s(t,e&&e.message?e:new Error(e))}))}function s(e,t,n){try{e(t,n)}catch(i){(0,r["default"])((function(e){throw e}),i)}}e.exports=t["default"]}));s(p);var d=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=r(p);function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"AsyncFunction"===e[Symbol.toStringTag]}function a(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function o(e){return"function"===typeof e[Symbol.asyncIterator]}function s(e){if("function"!==typeof e)throw new Error("expected a function");return i(e)?(0,n["default"])(e):e}t["default"]=s,t.isAsync=i,t.isAsyncGenerator=a,t.isAsyncIterable=o}));s(d);d.isAsyncIterable,d.isAsyncGenerator,d.isAsync;var h=u((function(e,t){function n(e,t){if(void 0===t&&(t=e.length),!t)throw new Error("arity is undefined");function n(){var n=this,r=[],i=arguments.length;while(i--)r[i]=arguments[i];return"function"===typeof r[t-1]?e.apply(this,r):new Promise((function(i,a){r[t-1]=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];if(e)return a(e);i(t.length>1?t:t[0])},e.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+e.name+")"}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(h);var v=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(l),r=a(d),i=a(h);function a(e){return e&&e.__esModule?e:{default:e}}t["default"]=(0,i["default"])((function(e,t,i){var a=(0,n["default"])(t)?[]:{};e(t,(function(e,t,n){(0,r["default"])(e)((function(e){var r,i=[],o=arguments.length-1;while(o-- >0)i[o]=arguments[o+1];i.length<2&&(r=i,i=r[0]),a[t]=i,n(e)}))}),(function(e){return i(e,a)}))}),3),e.exports=t["default"]}));s(v);var m=u((function(e,t){function n(e){function t(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(m);var y=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t["default"]}));s(y);var g=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var n=i(l),r=i(y);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function o(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function s(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}function u(e){if((0,n["default"])(e))return a(e);var t=(0,r["default"])(e);return t?o(t):s(e)}e.exports=t["default"]}));s(g);var b=u((function(e,t){function n(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}));s(b);var _=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t["default"]=n,e.exports=t["default"]}));s(_);var x=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var n=r(_);function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r,i){var a=!1,o=!1,s=!1,u=0,l=0;function c(){u>=t||s||a||(s=!0,e.next().then((function(e){var t=e.value,n=e.done;if(!o&&!a){if(s=!1,n)return a=!0,void(u<=0&&i(null));u++,r(t,l,f),l++,c()}}))["catch"](p))}function f(e,t){if(u-=1,!o)return e?p(e):!1===e?(a=!0,void(o=!0)):t===n["default"]||a&&u<=0?(a=!0,i(null)):void c()}function p(e){o||(s=!1,a=!0,i(e))}c()}e.exports=t["default"]}));s(x);var w=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=s(m),r=s(g),i=s(b),a=s(x),o=s(_);function s(e){return e&&e.__esModule?e:{default:e}}t["default"]=function(e){return function(t,s,u){if(u=(0,n["default"])(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,d.isAsyncGenerator)(t))return(0,a["default"])(t,e,s,u);if((0,d.isAsyncIterable)(t))return(0,a["default"])(t[Symbol.asyncIterator](),e,s,u);var l=(0,r["default"])(t),c=!1,f=!1,p=0,h=!1;function v(e,t){if(!f)if(p-=1,e)c=!0,u(e);else if(!1===e)c=!0,f=!0;else{if(t===o["default"]||c&&p<=0)return c=!0,u(null);h||m()}}function m(){h=!0;while(p<e&&!c){var t=l();if(null===t)return c=!0,void(p<=0&&u(null));p+=1,s(t.value,t.key,(0,i["default"])(v))}h=!1}m()}},e.exports=t["default"]}));s(w);var E=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(w),r=a(d),i=a(h);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i,a){return(0,n["default"])(t)(e,(0,r["default"])(i),a)}t["default"]=(0,i["default"])(o,4),e.exports=t["default"]}));s(E);var S=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(E),r=i(h);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return(0,n["default"])(e,1,t,r)}t["default"]=(0,r["default"])(a,3),e.exports=t["default"]}));s(S);var k=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=i(v),r=i(S);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,n["default"])(r["default"],e,t)}e.exports=t["default"]})),O=s(k),T=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,O(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push((function(r){t.apply(void 0,o(n.args)),r(null,e)}))},e}(),C=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c(l),r=c(_),i=c(E),a=c(m),o=c(b),s=c(d),u=c(h);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){n=(0,a["default"])(n);var i=0,s=0,u=e.length,l=!1;function c(e,t){!1===e&&(l=!0),!0!==l&&(e?n(e):++s!==u&&t!==r["default"]||n(null))}for(0===u&&n(null);i<u;i++)t(e[i],i,(0,o["default"])(c))}function p(e,t,n){return(0,i["default"])(e,1/0,t,n)}function v(e,t,r){var i=(0,n["default"])(e)?f:p;return i(e,(0,s["default"])(t),r)}t["default"]=(0,u["default"])(v,3),e.exports=t["default"]}));s(C);var A=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var n=i(C),r=i(v);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,r["default"])(n["default"],e,t)}e.exports=t["default"]})),M=s(A),P=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return M(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push((function(a){return r(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),a(null,e),[2]}}))}))}))},e}(),I=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(m),r=o(b),i=o(d),a=o(h);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(t=(0,n["default"])(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var a=0;function o(t){var n=(0,i["default"])(e[a++]);n.apply(void 0,t.concat([(0,r["default"])(s)]))}function s(n){var r=[],i=arguments.length-1;while(i-- >0)r[i]=arguments[i+1];if(!1!==n)return n||a===e.length?t.apply(void 0,[n].concat(r)):void o(r)}o([])}t["default"]=(0,a["default"])(s),e.exports=t["default"]})),R=s(I),j=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return R(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push((function(e){var n=t();e(!!n&&null,n)})):this.tasks.push((function(n,r){var i=t();r(!!i&&null,e)}))},e}(),L=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return O(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push((function(n){var r=t();n(r,e)}))},e}()}.call(this,n("Q2Ig"))},xqP6:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n("lwsE")),a=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),c=r(n("lSNA")),f=r(n("UB5X")),p=n("gHHc"),d=n("z0pJ"),h=r(n("YenN")),v=n("kIOg");function m(e){var t=y();return function(){var n,r=(0,l["default"])(e);if(t){var i=(0,l["default"])(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u["default"])(this,n)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var g='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\n\nuniform float u_opacity;\nuniform float u_textureBlend;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_line_texture: 0.0;\nuniform sampler2D u_texture;\nuniform vec2 u_textSize;\nvarying float v_segmentIndex;\nuniform float segmentNumber;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying float v_a;\nvarying vec2 v_offset;\nvarying vec2 v_iconMapUV;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\nuniform float u_linearColor: 0;\nuniform vec4 u_sourceColor;\nuniform vec4 u_targetColor;\n\nvarying mat4 styleMappingMat;\n\n#pragma include "picking"\n\nvoid main() {\n  float opacity = styleMappingMat[0][0];\n  float animateSpeed = 0.0; // \u8fd0\u52a8\u901f\u5ea6\n\n  if(u_linearColor == 1.0) { // \u4f7f\u7528\u6e10\u53d8\u989c\u8272\n    gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);\n  } else { // \u4f7f\u7528 color \u65b9\u6cd5\u4f20\u5165\u7684\u989c\u8272\n     gl_FragColor = v_color;\n  }\n\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      animateSpeed = u_time / u_aimate.y;\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      // alpha = smoothstep(0., 1., alpha);\n      alpha = clamp(alpha, 0.0, 1.0);\n      gl_FragColor.a *= alpha;\n  }\n\n  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture\n    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));\n    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);\n    float count = floor(v_arcDistrance/v_pixelLen);\n\n    float u = fract(arcRadio * count - animateSpeed * count);\n \n    if(u_aimate.x == Animate) {\n      u = gl_FragColor.a/opacity;\n    }\n    float v = length(v_offset)/(v_a); // \u6a2a\u5411\n\n    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;\n    vec4 pattern = texture2D(u_texture, uv);\n\n    if(u_textureBlend == 0.0) { // normal\n      pattern.a = 0.0;\n      gl_FragColor = filterColor(gl_FragColor + pattern);\n    } else { // replace\n        pattern.a *= opacity;\n        if(gl_FragColor.a <= 0.0) {\n          pattern.a = 0.0;\n          discard;\n        } else {\n          gl_FragColor = filterColor(pattern);\n        }\n    }\n\n  } else {\n    gl_FragColor = filterColor(gl_FragColor);\n  }\n\n  // gl_FragColor = filterColor(gl_FragColor);\n}\n',b='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n#define LineTexture 1.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_Mvp;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\nuniform float u_icon_step: 100;\nuniform float u_line_texture: 0.0;\nvarying float v_segmentIndex;\nvarying float v_arcDistrance;\nvarying float v_pixelLen;\nvarying float v_a;\nvarying vec2 v_offset;\nattribute vec2 a_iconMapUV;\nvarying vec2 v_iconMapUV;\n\nuniform float u_opacity: 1.0;\nvarying mat4 styleMappingMat; // \u7528\u4e8e\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u8ba1\u7b97\u597d\u7684\u6837\u5f0f\u503c\u4f20\u9012\u7ed9\u7247\u5143\n\n#pragma include "styleMapping"\n#pragma include "styleMappingCalOpacity"\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n  styleMappingMat = mat4(\n    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty\n    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA\n    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]\n    0.0, 0.0, 0.0, 0.0\n  );\n\n  float rowCount = u_cellTypeLayout[0][0];    // \u5f53\u524d\u7684\u6570\u636e\u7eb9\u7406\u6709\u51e0\u884c\n  float columnCount = u_cellTypeLayout[0][1]; // \u5f53\u770b\u5230\u6570\u636e\u7eb9\u7406\u6709\u51e0\u5217\n  float columnWidth = 1.0/columnCount;  // \u5217\u5bbd\n  float rowHeight = 1.0/rowCount;       // \u884c\u9ad8\n  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets\n  float id = a_vertexId; // \u7b2cn\u4e2a\u9876\u70b9\n  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u884c\n  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8d77\u59cb\u70b9\u5728\u7b2c\u51e0\u5217\n  \n  // cell \u56fa\u5b9a\u987a\u5e8f opacity -> strokeOpacity -> strokeWidth -> stroke ... \n  // \u6309\u987a\u5e8f\u4ece cell \u4e2d\u53d6\u503c\u3001\u82e5\u6ca1\u6709\u5219\u81ea\u52a8\u5f80\u4e0b\u53d6\u503c\n  float textureOffset = 0.0; // \u5728 cell \u4e2d\u53d6\u503c\u7684\u504f\u79fb\u91cf\n\n  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);\n  styleMappingMat[0][0] = opacityAndOffset.r;\n  textureOffset = opacityAndOffset.g;\n  // cal style mapping - \u6570\u636e\u7eb9\u7406\u6620\u5c04\u90e8\u5206\u7684\u8ba1\u7b97\n\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n   if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    vec2 s = source;\n    vec2 t = target;\n    \n    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n      s = unProjCustomCoord(source);\n      t = unProjCustomCoord(target);\n    }\n    float total_Distance = pixelDistance(s, t) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n\n  v_segmentIndex = a_Position.x;\n  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5f00\u542f\u8d34\u56fe\u6a21\u5f0f  \n    v_arcDistrance = length(source - target);\n    v_pixelLen = project_pixel(u_icon_step);\n\n    vec2 projectOffset = project_pixel(offset);\n    v_offset = projectOffset + projectOffset * sign(a_Position.y);\n    v_a = project_pixel(a_Size);\n    v_iconMapUV = a_iconMapUV;\n  }\n  \n\n  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x\n    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  } else {\n    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  }\n  setPickingColor(a_PickingColor);\n}\n',_={solid:0,dash:1},x=function(e){(0,s["default"])(n,e);var t=m(n);function n(){var e;(0,i["default"])(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,c["default"])((0,o["default"])(e),"texture",void 0),(0,c["default"])((0,o["default"])(e),"updateTexture",(function(){var t=e.rendererService.createTexture2D;if(e.texture)return e.texture.update({data:e.iconService.getCanvas()}),void e.layer.render();e.texture=t({data:e.iconService.getCanvas(),mag:p.gl.NEAREST,min:p.gl.NEAREST,premultiplyAlpha:!1,width:1024,height:e.iconService.canvasHeight||128})})),e}return(0,a["default"])(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.sourceColor,r=e.targetColor,i=e.textureBlend,a=void 0===i?"normal":i,o=e.lineType,s=void 0===o?"solid":o,u=e.dashArray,l=void 0===u?[10,5]:u,c=e.lineTexture,h=void 0!==c&&c,v=e.iconStep,m=void 0===v?100:v;2===l.length&&l.push(0,0);var y=0,g=[0,0,0,0],b=[0,0,0,0];if(n&&r&&(g=(0,d.rgb2arr)(n),b=(0,d.rgb2arr)(r),y=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:t})){this.judgeStyleAttributes({opacity:t});var x=this.layer.getEncodedData(),w=this.calDataFrame(this.cellLength,x,this.cellProperties),E=w.data,S=w.width,k=w.height;this.rowCount=k,this.dataTexture=this.cellLength>0&&E.length>0?this.createTexture2D({flipY:!0,data:E,format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:S,height:k}):this.createTexture2D({flipY:!0,data:[1],format:p.gl.LUMINANCE,type:p.gl.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,f["default"])(t)?t:1,u_textureBlend:"normal"===a?0:1,segmentNumber:30,u_line_type:_[s]||0,u_dash_array:l,u_texture:this.texture,u_line_texture:h?1:0,u_icon_step:m,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:y,u_sourceColor:g,u_targetColor:b}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),this.buildModels()}},{key:"clearModels",value:function(){var e,t;null===(e=this.texture)||void 0===e||e.destroy(),null===(t=this.dataTexture)||void 0===t||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:b,fragmentShader:g,triangulation:v.LineArcTriangulation,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:p.AttributeType.Attribute,descriptor:{name:"a_Size",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:1,update:function(e,t,n,r){var i=e.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0]]:[a]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:p.AttributeType.Attribute,descriptor:{name:"a_Instance",buffer:{usage:p.gl.STATIC_DRAW,data:[],type:p.gl.FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:p.AttributeType.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:p.gl.DYNAMIC_DRAW,data:[],type:p.gl.FLOAT},size:2,update:function(t,n,r,i){var a=e.iconService.getIconMap(),o=t.texture,s=a[o]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}}]),n}(h["default"]);t["default"]=x},xrYK:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},xs3f:function(e,t,n){var r=n("2oRo"),i=n("zk60"),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},xtoG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SceneEventList=void 0;var r=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];t.SceneEventList=r},y1pI:function(e,t,n){var r=n("ljhN");function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},y6zh:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PassType=void 0,t.PassType=r,function(e){e["Normal"]="normal",e["PostProcessing"]="post-processing"}(r||(t.PassType=r={}))},yG8O:function(e,t){function n(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},yGk4:function(e,t,n){var r=n("Cwc5"),i=n("Kz5y"),a=r(i,"Set");e.exports=a},yHx3:function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=i},yLV6:function(e,t,n){var r;(function(i,a,o,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=a.createElement("div"),f="function",p=Math.round,d=Math.abs,h=Date.now;function v(e,t,n){return setTimeout(w(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s){r=0;while(r<e.length)t.call(n,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=i.console&&(i.console.warn||i.console.log);return a&&a.call(i.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=g((function(e,t,n){var r=Object.keys(t),i=0;while(i<r.length)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),_=g((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function x(e,t,n){var r,i=t.prototype;r=e.prototype=Object.create(i),r.constructor=e,r._super=i,n&&u(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return typeof e==f?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function k(e,t,n){y(A(t),(function(t){e.addEventListener(t,n,!1)}))}function O(e,t,n){y(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);var r=0;while(r<e.length){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){var r=[],i=[],a=0;while(a<e.length){var o=t?e[a][t]:e[a];M(i,o)<0&&r.push(e[a]),i[a]=o,a++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function R(e,t){var n,r,i=t[0].toUpperCase()+t.slice(1),a=0;while(a<l.length){if(n=l[a],r=n?n+i:t,r in e)return r;a++}return s}var j=1;function L(){return j++}function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var D=/mobile|tablet|ip(ad|hone|od)|android/i,F="ontouchstart"in i,z=R(i,"PointerEvent")!==s,B=F&&D.test(navigator.userAgent),U="touch",V="pen",H="mouse",W="kinect",q=25,G=1,Z=2,Y=4,X=8,K=1,J=2,Q=4,$=8,ee=16,te=J|Q,ne=$|ee,re=te|ne,ie=["x","y"],ae=["clientX","clientY"];function oe(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function se(e){var t,n=e.options.inputClass;return t=n||(z?Ce:B?Ne:F?Be:Ee),new t(e,ue)}function ue(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,a=t&G&&r-i===0,o=t&(Y|X)&&r-i===0;n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,le(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function le(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=pe(t)),i>1&&!n.firstMultiple?n.firstMultiple=pe(t):1===i&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,u=t.center=de(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=ye(s,u),t.distance=me(s,u),ce(n,t),t.offsetDirection=ve(t.deltaX,t.deltaY);var l=he(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=d(l.x)>d(l.y)?l.x:l.y,t.scale=o?be(o.pointers,r):1,t.rotation=o?ge(o.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,fe(n,t);var c=e.element;T(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function ce(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},a=e.prevInput||{};t.eventType!==G&&a.eventType!==Y||(i=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}function fe(e,t){var n,r,i,a,o=e.lastInterval||t,u=t.timeStamp-o.timeStamp;if(t.eventType!=X&&(u>q||o.velocity===s)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,f=he(u,l,c);r=f.x,i=f.y,n=d(f.x)>d(f.y)?f.x:f.y,a=ve(l,c),e.lastInterval=t}else n=o.velocity,r=o.velocityX,i=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=a}function pe(e){var t=[],n=0;while(n<e.pointers.length)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:de(t),deltaX:e.deltaX,deltaY:e.deltaY}}function de(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};var n=0,r=0,i=0;while(i<t)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:p(n/t),y:p(r/t)}}function he(e,t,n){return{x:t/e||0,y:n/e||0}}function ve(e,t){return e===t?K:d(e)>=d(t)?e<0?J:Q:t<0?$:ee}function me(e,t,n){n||(n=ie);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function ye(e,t,n){n||(n=ie);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function ge(e,t){return ye(t[1],t[0],ae)+ye(e[1],e[0],ae)}function be(e,t){return me(t[0],t[1],ae)/me(e[0],e[1],ae)}oe.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(N(this.element),this.evWin,this.domHandler)}};var _e={mousedown:G,mousemove:Z,mouseup:Y},xe="mousedown",we="mousemove mouseup";function Ee(){this.evEl=xe,this.evWin=we,this.pressed=!1,oe.apply(this,arguments)}x(Ee,oe,{handler:function(e){var t=_e[e.type];t&G&&0===e.button&&(this.pressed=!0),t&Z&&1!==e.which&&(t=Y),this.pressed&&(t&Y&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:H,srcEvent:e}))}});var Se={pointerdown:G,pointermove:Z,pointerup:Y,pointercancel:X,pointerout:X},ke={2:U,3:V,4:H,5:W},Oe="pointerdown",Te="pointermove pointerup pointercancel";function Ce(){this.evEl=Oe,this.evWin=Te,oe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Oe="MSPointerDown",Te="MSPointerMove MSPointerUp MSPointerCancel"),x(Ce,oe,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Se[r],a=ke[e.pointerType]||e.pointerType,o=a==U,s=M(t,e.pointerId,"pointerId");i&G&&(0===e.button||o)?s<0&&(t.push(e),s=t.length-1):i&(Y|X)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(s,1))}});var Ae={touchstart:G,touchmove:Z,touchend:Y,touchcancel:X},Me="touchstart",Pe="touchstart touchmove touchend touchcancel";function Ie(){this.evTarget=Me,this.evWin=Pe,this.started=!1,oe.apply(this,arguments)}function Re(e,t){var n=P(e.touches),r=P(e.changedTouches);return t&(Y|X)&&(n=I(n.concat(r),"identifier",!0)),[n,r]}x(Ie,oe,{handler:function(e){var t=Ae[e.type];if(t===G&&(this.started=!0),this.started){var n=Re.call(this,e,t);t&(Y|X)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:e})}}});var je={touchstart:G,touchmove:Z,touchend:Y,touchcancel:X},Le="touchstart touchmove touchend touchcancel";function Ne(){this.evTarget=Le,this.targetIds={},oe.apply(this,arguments)}function De(e,t){var n=P(e.touches),r=this.targetIds;if(t&(G|Z)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,a,o=P(e.changedTouches),s=[],u=this.target;if(a=n.filter((function(e){return T(e.target,u)})),t===G){i=0;while(i<a.length)r[a[i].identifier]=!0,i++}i=0;while(i<o.length)r[o[i].identifier]&&s.push(o[i]),t&(Y|X)&&delete r[o[i].identifier],i++;return s.length?[I(a.concat(s),"identifier",!0),s]:void 0}x(Ne,oe,{handler:function(e){var t=je[e.type],n=De.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:U,srcEvent:e})}});var Fe=2500,ze=25;function Be(){oe.apply(this,arguments);var e=w(this.handler,this);this.touch=new Ne(this.manager,e),this.mouse=new Ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ue(e,t){e&G?(this.primaryTouch=t.changedPointers[0].identifier,Ve.call(this,t)):e&(Y|X)&&Ve.call(this,t)}function Ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)};setTimeout(i,Fe)}}function He(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],a=Math.abs(t-i.x),o=Math.abs(n-i.y);if(a<=ze&&o<=ze)return!0}return!1}x(Be,oe,{handler:function(e,t,n){var r=n.pointerType==U,i=n.pointerType==H;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ue.call(this,t,n);else if(i&&He.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var We=R(c.style,"touchAction"),qe=We!==s,Ge="compute",Ze="auto",Ye="manipulation",Xe="none",Ke="pan-x",Je="pan-y",Qe=tt();function $e(e,t){this.manager=e,this.set(t)}function et(e){if(C(e,Xe))return Xe;var t=C(e,Ke),n=C(e,Je);return t&&n?Xe:t||n?t?Ke:Je:C(e,Ye)?Ye:Ze}function tt(){if(!qe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}$e.prototype={set:function(e){e==Ge&&(e=this.compute()),qe&&this.manager.element.style&&Qe[e]&&(this.manager.element.style[We]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),et(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,Xe)&&!Qe[Xe],a=C(r,Je)&&!Qe[Je],o=C(r,Ke)&&!Qe[Ke];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!o||!a)return i||a&&n&te||o&&n&ne?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var nt=1,rt=2,it=4,at=8,ot=at,st=16,ut=32;function lt(e){this.options=u({},this.defaults,e||{}),this.id=L(),this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=nt,this.simultaneous={},this.requireFail=[]}function ct(e){return e&st?"cancel":e&at?"end":e&it?"move":e&rt?"start":""}function ft(e){return e==ee?"down":e==$?"up":e==J?"left":e==Q?"right":""}function pt(e,t){var n=t.manager;return n?n.get(e):e}function dt(){lt.apply(this,arguments)}function ht(){dt.apply(this,arguments),this.pX=null,this.pY=null}function vt(){dt.apply(this,arguments)}function mt(){lt.apply(this,arguments),this._timer=null,this._input=null}function yt(){dt.apply(this,arguments)}function gt(){dt.apply(this,arguments)}function bt(){lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _t(e,t){return t=t||{},t.recognizers=S(t.recognizers,_t.defaults.preset),new Et(e,t)}lt.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=pt(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=pt(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return e=pt(e,this),-1===M(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=pt(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<at&&r(t.options.event+ct(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=at&&r(t.options.event+ct(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=ut},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(ut|nt)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=ut);this.state&(ot|st|ut)&&(this.state=nt),this.state=this.process(t),this.state&(rt|it|at|st)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(dt,lt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(rt|it),i=this.attrTest(e);return r&&(n&X||!i)?t|st:r||i?n&Y?t|at:t&rt?t|it:rt:ut}}),x(ht,dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:re},getTouchAction:function(){var e=this.options.direction,t=[];return e&te&&t.push(Je),e&ne&&t.push(Ke),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,a=e.deltaX,o=e.deltaY;return i&t.direction||(t.direction&te?(i=0===a?K:a<0?J:Q,n=a!=this.pX,r=Math.abs(e.deltaX)):(i=0===o?K:o<0?$:ee,n=o!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return dt.prototype.attrTest.call(this,e)&&(this.state&rt||!(this.state&rt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ft(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(vt,dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&rt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(mt,lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ze]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(Y|X)&&!i)this.reset();else if(e.eventType&G)this.reset(),this._timer=v((function(){this.state=ot,this.tryEmit()}),t.time,this);else if(e.eventType&Y)return ot;return ut},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ot&&(e&&e.eventType&Y?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),x(yt,dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&rt)}}),x(gt,dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:te|ne,pointers:1},getTouchAction:function(){return ht.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(te|ne)?t=e.overallVelocity:n&te?t=e.overallVelocityX:n&ne&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&e.eventType&Y},emit:function(e){var t=ft(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(bt,lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ye]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&G&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=Y)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||me(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e;var s=this.count%t.taps;if(0===s)return this.hasRequireFailures()?(this._timer=v((function(){this.state=ot,this.tryEmit()}),t.interval,this),rt):ot}return ut},failTimeout:function(){return this._timer=v((function(){this.state=ut}),this.options.interval,this),ut},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ot&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:Ge,enable:!0,inputTarget:null,inputClass:null,preset:[[yt,{enable:!1}],[vt,{enable:!1},["rotate"]],[gt,{direction:te}],[ht,{direction:te},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[mt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xt=1,wt=2;function Et(e,t){this.options=u({},_t.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=se(this),this.touchAction=new $e(this,this.options.touchAction),St(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function St(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,a){n=R(r.style,a),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}function kt(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}Et.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:xt},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&ot)&&(i=t.curRecognizer=null);var a=0;while(a<r.length)n=r[a],t.stopped===wt||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(rt|it|at)&&(i=t.curRecognizer=n),a++}},get:function(e){if(e instanceof lt)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return y(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return y(A(e),(function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&kt(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](t),r++}},destroy:function(){this.element&&St(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(_t,{INPUT_START:G,INPUT_MOVE:Z,INPUT_END:Y,INPUT_CANCEL:X,STATE_POSSIBLE:nt,STATE_BEGAN:rt,STATE_CHANGED:it,STATE_ENDED:at,STATE_RECOGNIZED:ot,STATE_CANCELLED:st,STATE_FAILED:ut,DIRECTION_NONE:K,DIRECTION_LEFT:J,DIRECTION_RIGHT:Q,DIRECTION_UP:$,DIRECTION_DOWN:ee,DIRECTION_HORIZONTAL:te,DIRECTION_VERTICAL:ne,DIRECTION_ALL:re,Manager:Et,Input:oe,TouchAction:$e,TouchInput:Ne,MouseInput:Ee,PointerEventInput:Ce,TouchMouseInput:Be,SingleTouchInput:Ie,Recognizer:lt,AttrRecognizer:dt,Tap:bt,Pan:ht,Swipe:gt,Pinch:vt,Rotate:yt,Press:mt,on:k,off:O,each:y,merge:_,extend:b,assign:u,inherit:x,bindFn:w,prefixed:R});var Ot="undefined"!==typeof i?i:"undefined"!==typeof self?self:{};Ot.Hammer=_t,r=function(){return _t}.call(t,n,t,e),r===s||(e.exports=r)})(window,document)},yMAV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;var r=function(){function e(e,t){this.parentContext=e,this.rootRequest=t}return e}();t.Plan=r},yNLB:function(e,t,n){var r=n("0Dky"),i=n("WJkJ"),a="\u200b\x85\u180e";e.exports=function(e){return r((function(){return!!i[e]()||a[e]()!=a||i[e].name!==e}))}},yOY4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),o=h(a),s=n("/FUP"),u=h(s),l=n("THLb"),c=d(l),f=n("Nq3d"),p=h(f);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=t.Alpha=function(e){function t(){var e,n,r,i;v(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n=r,r.handleChange=function(e){var t=c.calculateChange(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},i=n,m(r,i)}return y(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,u["default"])({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return o["default"].createElement("div",{style:n.alpha},o["default"].createElement("div",{style:n.checkboard},o["default"].createElement(p["default"],{renderers:this.props.renderers})),o["default"].createElement("div",{style:n.gradient}),o["default"].createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o["default"].createElement("div",{style:n.pointer},this.props.pointer?o["default"].createElement(this.props.pointer,this.props):o["default"].createElement("div",{style:n.slider}))))}}]),t}(a.PureComponent||a.Component);t["default"]=g},yP5f:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},yU0y:function(e,t,n){"use strict";n.r(t),n.d(t,"EPSILON",(function(){return r})),n.d(t,"ARRAY_TYPE",(function(){return i})),n.d(t,"RANDOM",(function(){return a})),n.d(t,"setMatrixArrayType",(function(){return o})),n.d(t,"toRadian",(function(){return u})),n.d(t,"equals",(function(){return l}));var r=1e-6,i="undefined"!==typeof Float32Array?Float32Array:Array,a=Math.random;function o(e){i=e}var s=Math.PI/180;function u(e){return e*s}function l(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))}Math.hypot||(Math.hypot=function(){var e=0,t=arguments.length;while(t--)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},yXPU:function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},yXV3:function(e,t,n){"use strict";var r=n("I+eb"),i=n("TWQb").indexOf,a=n("pkCn"),o=n("rkAj"),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),c=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!l||!c},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ydwA:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.packUint8ToFloat=O,t.packCircleVertex=T,t.packOpacity=C,t.LEFT_SHIFT25=t.LEFT_SHIFT24=t.LEFT_SHIFT23=t.LEFT_SHIFT22=t.LEFT_SHIFT21=t.LEFT_SHIFT20=t.LEFT_SHIFT19=t.LEFT_SHIFT18=t.LEFT_SHIFT17=t.LEFT_SHIFT16=t.LEFT_SHIFT15=t.LEFT_SHIFT14=t.LEFT_SHIFT13=t.LEFT_SHIFT9=t.LEFT_SHIFT8=t.LEFT_SHIFT7=t.LEFT_SHIFT6=t.LEFT_SHIFT2=t.LEFT_SHIFT1=void 0;var i=r(n("J4zp")),a=r(n("9nhX")),o=n("tUxQ"),s=2;t.LEFT_SHIFT1=s;var u=4;t.LEFT_SHIFT2=u;var l=64;t.LEFT_SHIFT6=l;var c=128;t.LEFT_SHIFT7=c;var f=256;t.LEFT_SHIFT8=f;var p=512;t.LEFT_SHIFT9=p;var d=8192;t.LEFT_SHIFT13=d;var h=16384;t.LEFT_SHIFT14=h;var v=32768;t.LEFT_SHIFT15=v;var m=65536;t.LEFT_SHIFT16=m;var y=131072;t.LEFT_SHIFT17=y;var g=262144;t.LEFT_SHIFT18=g;var b=524288;t.LEFT_SHIFT19=b;var _=1048576;t.LEFT_SHIFT20=_;var x=2097152;t.LEFT_SHIFT21=x;var w=4194304;t.LEFT_SHIFT22=w;var E=8388608;t.LEFT_SHIFT23=E;var S=16777216;t.LEFT_SHIFT24=S;var k=33554432;function O(e,t){return e=(0,a["default"])(Math.floor(e),0,255),t=(0,a["default"])(Math.floor(t),0,255),256*e+t}function T(e){var t=e.color,n=e.radius,r=e.tileX,a=e.tileY,s=e.shape,u=e.opacity,c=e.stroke,f=e.strokeWidth,p=e.strokeOpacity,d=[],h=[],v=[],m=[O(t[0],t[1]),O(t[2],t[3])],g=[O(c[0],c[1]),O(c[2],c[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach((function(e){var t=(0,i["default"])(e,2),c=t[0],_=t[1];d.push([].concat(m,[(c+1)*E+(_+1)*x+(0,o.getShapeIndex)(s)*y+n,(r+512)*b+(a+512)*l])),h.push([].concat(g,[f,p])),v.push([u,0,0,0])})),{packedBuffer:d,packedBuffer2:h,packedBuffer3:v}}function C(e,t){if(0===e&&!t)return 0;if(1===e&&t)return 4294967295;var n=t?1:0,r=Math.floor(127*e);return r*k+n*S+r*y+n*m+r*p+n*f+r*s+n}t.LEFT_SHIFT25=k},ye1Q:function(e,t,n){"use strict";var r=n("VTBJ"),i=n("q1tI"),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},o=a,s=n("6VBw"),u=function(e,t){return i["createElement"](s["a"],Object(r["a"])(Object(r["a"])({},e),{},{ref:t,icon:o}))};u.displayName="LoadingOutlined";t["a"]=i["forwardRef"](u)},yl30:function(e,t,n){"use strict";var r=n("q1tI"),i=n("MgzW"),a=n("QCnb");function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,f=null,p={onError:function(e){u=!0,l=e}};function d(e,t,n,r,i,a,o,c,f){u=!1,l=null,s.apply(p,arguments)}function h(e,t,n,r,i,a,s,p,h){if(d.apply(this,arguments),u){if(!u)throw Error(o(198));var v=l;u=!1,l=null,c||(c=!0,f=v)}}var v=null,m=null,y=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),h(r,t,void 0,e),e.currentTarget=null}var b=null,_={};function x(){if(b)for(var e in _){var t=_[e],n=b.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!E[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in E[n]=t,n=t.eventTypes,n){var i=void 0,a=n[r],s=t,u=r;if(S.hasOwnProperty(u))throw Error(o(99,u));S[u]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&w(l[i],s,u);i=!0}else a.registrationName?(w(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(k[e])throw Error(o(100,e));k[e]=t,O[e]=t.eventTypes[n].dependencies}var E=[],S={},k={},O={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!_.hasOwnProperty(t)||_[t]!==r){if(_[t])throw Error(o(102,t));_[t]=r,n=!0}}n&&x()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,M=null,P=null;function I(e){if(e=m(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=v(t),A(e.stateNode,e.type,t))}}function R(e){M?P?P.push(e):P=[e]:M=e}function j(){if(M){var e=M,t=P;if(P=M=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function L(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function D(){}var F=L,z=!1,B=!1;function U(){null===M&&null===P||(D(),j())}function V(e,t,n){if(B)return e(t,n);B=!0;try{return F(e,t,n)}finally{B=!1,U()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,q={},G={};function Z(e){return!!W.call(G,e)||!W.call(q,e)&&(H.test(e)?G[e]=!0:(q[e]=!0,!1))}function Y(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}function X(e,t,n,r){if(null===t||"undefined"===typeof t||Y(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function K(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){J[e]=new K(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];J[t]=new K(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){J[e]=new K(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){J[e]=new K(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){J[e]=new K(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){J[e]=new K(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){J[e]=new K(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){J[e]=new K(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){J[e]=new K(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,$);J[t]=new K(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,$);J[t]=new K(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,$);J[t]=new K(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){J[e]=new K(e,1,!1,e.toLowerCase(),null,!1)})),J.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){J[e]=new K(e,1,!1,e.toLowerCase(),null,!0)}));var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function te(e,t,n,r){var i=J.hasOwnProperty(t)?J[t]:null,a=null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));a||(X(t,n,i,r)&&(n=null),r||null===i?Z(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null}),ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});var ne=/^(.*)[\\\/]/,re="function"===typeof Symbol&&Symbol.for,ie=re?Symbol.for("react.element"):60103,ae=re?Symbol.for("react.portal"):60106,oe=re?Symbol.for("react.fragment"):60107,se=re?Symbol.for("react.strict_mode"):60108,ue=re?Symbol.for("react.profiler"):60114,le=re?Symbol.for("react.provider"):60109,ce=re?Symbol.for("react.context"):60110,fe=re?Symbol.for("react.concurrent_mode"):60111,pe=re?Symbol.for("react.forward_ref"):60112,de=re?Symbol.for("react.suspense"):60113,he=re?Symbol.for("react.suspense_list"):60120,ve=re?Symbol.for("react.memo"):60115,me=re?Symbol.for("react.lazy"):60116,ye=re?Symbol.for("react.block"):60121,ge="function"===typeof Symbol&&Symbol.iterator;function be(e){return null===e||"object"!==typeof e?null:(e=ge&&e[ge]||e["@@iterator"],"function"===typeof e?e:null)}function _e(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function xe(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case oe:return"Fragment";case ae:return"Portal";case ue:return"Profiler";case se:return"StrictMode";case de:return"Suspense";case he:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case le:return"Context.Provider";case pe:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ve:return xe(e.type);case ye:return xe(e.render);case me:if(e=1===e._status?e._result:null)return xe(e)}return null}function we(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=xe(e.type);n=null,r&&(n=xe(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(ne,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oe(e){e._valueTracker||(e._valueTracker=ke(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ae(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ee(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Me(e,t){t=t.checked,null!=t&&te(e,"checked",t,!1)}function Pe(e,t){Me(e,t);var n=Ee(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Re(e,t.type,n):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Re(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function je(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function Le(e,t){return e=i({children:void 0},t),(t=je(t.children))&&(e.children=t),e}function Ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function De(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ee(n)}}function ze(e,t){var n=Ee(t.value),r=Ee(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Be(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var We,qe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n,r,i)}))}:e}((function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=We.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ye={animationend:Ze("Animation","AnimationEnd"),animationiteration:Ze("Animation","AnimationIteration"),animationstart:Ze("Animation","AnimationStart"),transitionend:Ze("Transition","TransitionEnd")},Xe={},Ke={};function Je(e){if(Xe[e])return Xe[e];if(!Ye[e])return e;var t,n=Ye[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return Xe[e]=n[t];return e}C&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete Ye.animationend.animation,delete Ye.animationiteration.animation,delete Ye.animationstart.animation),"TransitionEvent"in window||delete Ye.transitionend.transition);var Qe=Je("animationend"),$e=Je("animationiteration"),et=Je("animationstart"),tt=Je("transitionend"),nt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rt=new("function"===typeof WeakMap?WeakMap:Map);function it(e){var t=rt.get(e);return void 0===t&&(t=new Map,rt.set(e,t)),t}function at(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ot(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function st(e){if(at(e)!==e)throw Error(o(188))}function ut(e){var t=e.alternate;if(!t){if(t=at(e),null===t)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(r=i.return,null!==r){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return st(i),e;if(a===r)return st(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function lt(e){if(e=ut(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ct(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ft(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var pt=null;function dt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ht(e){if(null!==e&&(pt=ct(pt,e)),e=pt,pt=null,e){if(ft(e,dt),pt)throw Error(o(95));if(c)throw e=f,c=!1,f=null,e}}function vt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function mt(e){if(!C)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"===typeof t[e]),t}var yt=[];function gt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>yt.length&&yt.push(e)}function bt(e,t,n,r){if(yt.length){var i=yt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function _t(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,5!==t&&6!==t||e.ancestors.push(n),n=Un(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=vt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<E.length;u++){var l=E[u];l&&(l=l.extractEvents(r,t,a,i,o))&&(s=ct(s,l))}ht(s)}}function xt(e,t,n){if(!n.has(e)){switch(e){case"scroll":rn(t,"scroll",!0);break;case"focus":case"blur":rn(t,"focus",!0),rn(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":mt(e)&&rn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===nt.indexOf(e)&&nn(e,t)}n.set(e,null)}}var wt,Et,St,kt=!1,Ot=[],Tt=null,Ct=null,At=null,Mt=new Map,Pt=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),jt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Lt(e,t){var n=it(t);Rt.forEach((function(e){xt(e,t,n)})),jt.forEach((function(e){xt(e,t,n)}))}function Nt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Dt(e,t){switch(e){case"focus":case"blur":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Nt(t,n,r,i,a),null!==t&&(t=Vn(t),null!==t&&Et(t)),e):(e.eventSystemFlags|=r,e)}function zt(e,t,n,r,i){switch(t){case"focus":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Ft(Ct,e,t,n,r,i),!0;case"mouseover":return At=Ft(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Mt.set(a,Ft(Mt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}function Bt(e){var t=Un(e.target);if(null!==t){var n=at(t);if(null!==n)if(t=n.tag,13===t){if(t=ot(n),null!==t)return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;var t=un(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Vn(t);return null!==n&&Et(n),e.blockedOn=t,!1}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Ht(){for(kt=!1;0<Ot.length;){var e=Ot[0];if(null!==e.blockedOn){e=Vn(e.blockedOn),null!==e&&wt(e);break}var t=un(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Ot.shift()}null!==Tt&&Ut(Tt)&&(Tt=null),null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),Mt.forEach(Vt),Pt.forEach(Vt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ht)))}function qt(e){function t(t){return Wt(t,e)}if(0<Ot.length){Wt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Wt(Tt,e),null!==Ct&&Wt(Ct,e),null!==At&&Wt(At,e),Mt.forEach(t),Pt.forEach(t),n=0;n<It.length;n++)r=It[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&(n=It[0],null===n.blockedOn);)Bt(n),null===n.blockedOn&&It.shift()}var Gt={},Zt=new Map,Yt=new Map,Xt=["abort","abort",Qe,"animationEnd",$e,"animationIteration",et,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",tt,"transitionEnd","waiting","waiting"];function Kt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Yt.set(r,t),Zt.set(r,a),Gt[i]=a}}Kt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Kt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Kt(Xt,2);for(var Jt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qt=0;Qt<Jt.length;Qt++)Yt.set(Jt[Qt],0);var $t=a.unstable_UserBlockingPriority,en=a.unstable_runWithPriority,tn=!0;function nn(e,t){rn(t,e,!1)}function rn(e,t,n){var r=Yt.get(t);switch(void 0===r?2:r){case 0:r=an.bind(null,t,1,e);break;case 1:r=on.bind(null,t,1,e);break;default:r=sn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function an(e,t,n,r){z||D();var i=sn,a=z;z=!0;try{N(i,e,t,n,r)}finally{(z=a)||U()}}function on(e,t,n,r){en($t,sn.bind(null,e,t,n,r))}function sn(e,t,n,r){if(tn)if(0<Ot.length&&-1<Rt.indexOf(e))e=Nt(null,e,t,n,r),Ot.push(e);else{var i=un(e,t,n,r);if(null===i)Dt(e,r);else if(-1<Rt.indexOf(e))e=Nt(i,e,t,n,r),Ot.push(e);else if(!zt(i,e,t,n,r)){Dt(e,r),e=bt(e,r,null,t);try{V(_t,e)}finally{gt(e)}}}}function un(e,t,n,r){if(n=vt(r),n=Un(n),null!==n){var i=at(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(n=ot(i),null!==n)return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=bt(e,r,n,t);try{V(_t,e)}finally{gt(e)}return null}var ln={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cn=["Webkit","ms","Moz","O"];function fn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function pn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ln).forEach((function(e){cn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]}))}));var dn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hn(e,t){if(t){if(dn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function vn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=Ue.html;function yn(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=it(e);t=O[t];for(var r=0;r<t.length;r++)xt(t[r],e,n)}function gn(){}function bn(e){if(e=e||("undefined"!==typeof document?document:void 0),"undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function _n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xn(e,t){var n,r=_n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_n(r)}}function wn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function En(){for(var e=window,t=bn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=t.contentWindow,t=bn(e.document)}return t}function Sn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var kn="$",On="/$",Tn="$?",Cn="$!",An=null,Mn=null;function Pn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function In(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Rn="function"===typeof setTimeout?setTimeout:void 0,jn="function"===typeof clearTimeout?clearTimeout:void 0;function Ln(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Nn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===kn||n===Cn||n===Tn){if(0===t)return e;t--}else n===On&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),Fn="__reactInternalInstance$"+Dn,zn="__reactEventHandlers$"+Dn,Bn="__reactContainere$"+Dn;function Un(e){var t=e[Fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bn]||n[Fn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Nn(e);null!==e;){if(n=e[Fn])return n;e=Nn(e)}return t}e=n,n=e.parentNode}return null}function Vn(e){return e=e[Fn]||e[Bn],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Hn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Wn(e){return e[zn]||null}function qn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t){var n=e.stateNode;if(!n)return null;var r=v(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Zn(e,t,n){(t=Gn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ct(n._dispatchListeners,t),n._dispatchInstances=ct(n._dispatchInstances,e))}function Yn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=qn(t);for(t=n.length;0<t--;)Zn(n[t],"captured",e);for(t=0;t<n.length;t++)Zn(n[t],"bubbled",e)}}function Xn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Gn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ct(n._dispatchListeners,t),n._dispatchInstances=ct(n._dispatchInstances,e))}function Kn(e){e&&e.dispatchConfig.registrationName&&Xn(e._targetInst,null,e)}function Jn(e){ft(e,Yn)}var Qn=null,$n=null,er=null;function tr(){if(er)return er;var e,t,n=$n,r=n.length,i="value"in Qn?Qn.value:Qn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return er=i.slice(e,1<t?1-t:void 0)}function nr(){return!0}function rr(){return!1}function ir(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface,e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?nr:rr,this.isPropagationStopped=rr,this}function ar(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function or(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function sr(e){e.eventPool=[],e.getPooled=ar,e.release=or}i(ir.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){this.isPersistent=nr},isPersistent:rr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=rr,this._dispatchInstances=this._dispatchListeners=null}}),ir.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ir.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,sr(n),n},sr(ir);var ur=ir.extend({data:null}),lr=ir.extend({data:null}),cr=[9,13,27,32],fr=C&&"CompositionEvent"in window,pr=null;C&&"documentMode"in document&&(pr=document.documentMode);var dr=C&&"TextEvent"in window&&!pr,hr=C&&(!fr||pr&&8<pr&&11>=pr),vr=String.fromCharCode(32),mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},yr=!1;function gr(e,t){switch(e){case"keyup":return-1!==cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function br(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}var _r=!1;function xr(e,t){switch(e){case"compositionend":return br(t);case"keypress":return 32!==t.which?null:(yr=!0,vr);case"textInput":return e=t.data,e===vr&&yr?null:e;default:return null}}function wr(e,t){if(_r)return"compositionend"===e||!fr&&gr(e,t)?(e=tr(),er=$n=Qn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hr&&"ko"!==t.locale?null:t.data;default:return null}}var Er={eventTypes:mr,extractEvents:function(e,t,n,r){var i;if(fr)e:{switch(e){case"compositionstart":var a=mr.compositionStart;break e;case"compositionend":a=mr.compositionEnd;break e;case"compositionupdate":a=mr.compositionUpdate;break e}a=void 0}else _r?gr(e,n)&&(a=mr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=mr.compositionStart);return a?(hr&&"ko"!==n.locale&&(_r||a!==mr.compositionStart?a===mr.compositionEnd&&_r&&(i=tr()):(Qn=r,$n="value"in Qn?Qn.value:Qn.textContent,_r=!0)),a=ur.getPooled(a,t,n,r),i?a.data=i:(i=br(n),null!==i&&(a.data=i)),Jn(a),i=a):i=null,(e=dr?xr(e,n):wr(e,n))?(t=lr.getPooled(mr.beforeInput,t,n,r),t.data=e,Jn(t)):t=null,null===i?t:null===t?i:[i,t]}},Sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Sr[e.type]:"textarea"===t}var Or={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Tr(e,t,n){return e=ir.getPooled(Or.change,e,t,n),e.type="change",R(n),Jn(e),e}var Cr=null,Ar=null;function Mr(e){ht(e)}function Pr(e){var t=Hn(e);if(Te(t))return e}function Ir(e,t){if("change"===e)return t}var Rr=!1;function jr(){Cr&&(Cr.detachEvent("onpropertychange",Lr),Ar=Cr=null)}function Lr(e){if("value"===e.propertyName&&Pr(Ar))if(e=Tr(Ar,e,vt(e)),z)ht(e);else{z=!0;try{L(Mr,e)}finally{z=!1,U()}}}function Nr(e,t,n){"focus"===e?(jr(),Cr=t,Ar=n,Cr.attachEvent("onpropertychange",Lr)):"blur"===e&&jr()}function Dr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Pr(Ar)}function Fr(e,t){if("click"===e)return Pr(t)}function zr(e,t){if("input"===e||"change"===e)return Pr(t)}C&&(Rr=mt("input")&&(!document.documentMode||9<document.documentMode));var Br={eventTypes:Or,_isInputEventSupported:Rr,extractEvents:function(e,t,n,r){var i=t?Hn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=Ir;else if(kr(i))if(Rr)o=zr;else{o=Dr;var s=Nr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Fr);if(o&&(o=o(e,t)))return Tr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Re(i,"number",i.value)}},Ur=ir.extend({view:null,detail:null}),Vr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vr[e])&&!!t[e]}function Wr(){return Hr}var qr=0,Gr=0,Zr=!1,Yr=!1,Xr=Ur.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=qr;return qr=e.screenX,Zr?"mousemove"===e.type?e.screenX-t:0:(Zr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gr;return Gr=e.screenY,Yr?"mousemove"===e.type?e.screenY-t:0:(Yr=!0,0)}}),Kr=Xr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qr={eventTypes:Jr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o){if(o=t,t=(t=n.relatedTarget||n.toElement)?Un(t):null,null!==t){var s=at(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Xr,l=Jr.mouseLeave,c=Jr.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Kr,l=Jr.pointerLeave,c=Jr.pointerEnter,f="pointer");if(e=null==o?a:Hn(o),a=null==t?a:Hn(t),l=u.getPooled(l,o,n,r),l.type=f+"leave",l.target=e,l.relatedTarget=a,n=u.getPooled(c,t,n,r),n.type=f+"enter",n.target=a,n.relatedTarget=e,r=o,f=t,r&&f)e:{for(u=r,c=f,o=0,e=u;e;e=qn(e))o++;for(e=0,t=c;t;t=qn(t))e++;for(;0<o-e;)u=qn(u),o--;for(;0<e-o;)c=qn(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=qn(u),c=qn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c;){if(o=r.alternate,null!==o&&o===c)break;u.push(r),r=qn(r)}for(r=[];f&&f!==c;){if(o=f.alternate,null!==o&&o===c)break;r.push(f),f=qn(f)}for(f=0;f<u.length;f++)Xn(u[f],"bubbled",l);for(f=r.length;0<f--;)Xn(r[f],"captured",n);return 0===(64&i)?[l]:[l,n]}};function $r(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var ei="function"===typeof Object.is?Object.is:$r,ti=Object.prototype.hasOwnProperty;function ni(e,t){if(ei(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ti.call(t,n[r])||!ei(e[n[r]],t[n[r]]))return!1;return!0}var ri=C&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ai=null,oi=null,si=null,ui=!1;function li(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ui||null==ai||ai!==bn(n)?null:(n=ai,"selectionStart"in n&&Sn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&ni(si,n)?null:(si=n,e=ir.getPooled(ii.select,oi,e,t),e.type="select",e.target=ai,Jn(e),e))}var ci={eventTypes:ii,extractEvents:function(e,t,n,r,i,a){if(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(a=!i)){e:{i=it(i),a=O.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Hn(t):window,e){case"focus":(kr(i)||"true"===i.contentEditable)&&(ai=i,oi=t,si=null);break;case"blur":si=oi=ai=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":return ui=!1,li(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return li(n,r)}return null}},fi=ir.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pi=ir.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),di=Ur.extend({relatedTarget:null});function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,10===e&&(e=13),32<=e||13===e?e:0}var vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi=Ur.extend({key:function(e){if(e.key){var t=vi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=hi(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?mi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wr,charCode:function(e){return"keypress"===e.type?hi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),gi=Xr.extend({dataTransfer:null}),bi=Ur.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wr}),_i=ir.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),xi=Xr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wi={eventTypes:Gt,extractEvents:function(e,t,n,r){var i=Zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===hi(n))return null;case"keydown":case"keyup":e=yi;break;case"blur":case"focus":e=di;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=bi;break;case Qe:case $e:case et:e=fi;break;case tt:e=_i;break;case"scroll":e=Ur;break;case"wheel":e=xi;break;case"copy":case"cut":case"paste":e=pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kr;break;default:e=ir}return t=e.getPooled(i,t,n,r),Jn(t),t}};if(b)throw Error(o(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x();var Ei=Vn;v=Wn,m=Ei,y=Hn,T({SimpleEventPlugin:wi,EnterLeaveEventPlugin:Qr,ChangeEventPlugin:Br,SelectEventPlugin:ci,BeforeInputEventPlugin:Er});var Si=[],ki=-1;function Oi(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ti(e,t){ki++,Si[ki]=e.current,e.current=t}var Ci={},Ai={current:Ci},Mi={current:!1},Pi=Ci;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return e=e.childContextTypes,null!==e&&void 0!==e}function ji(){Oi(Mi),Oi(Ai)}function Li(e,t,n){if(Ai.current!==Ci)throw Error(o(168));Ti(Ai,t),Ti(Mi,n)}function Ni(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext(),r)if(!(a in e))throw Error(o(108,xe(t)||"Unknown",a));return i({},n,{},r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ai.current,Ti(Ai,e),Ti(Mi,Mi.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Oi(Mi),Oi(Ai),Ti(Ai,e)):Oi(Mi),Ti(Mi,n)}var zi=a.unstable_runWithPriority,Bi=a.unstable_scheduleCallback,Ui=a.unstable_cancelCallback,Vi=a.unstable_requestPaint,Hi=a.unstable_now,Wi=a.unstable_getCurrentPriorityLevel,qi=a.unstable_ImmediatePriority,Gi=a.unstable_UserBlockingPriority,Zi=a.unstable_NormalPriority,Yi=a.unstable_LowPriority,Xi=a.unstable_IdlePriority,Ki={},Ji=a.unstable_shouldYield,Qi=void 0!==Vi?Vi:function(){},$i=null,ea=null,ta=!1,na=Hi(),ra=1e4>na?Hi:function(){return Hi()-na};function ia(){switch(Wi()){case qi:return 99;case Gi:return 98;case Zi:return 97;case Yi:return 96;case Xi:return 95;default:throw Error(o(332))}}function aa(e){switch(e){case 99:return qi;case 98:return Gi;case 97:return Zi;case 96:return Yi;case 95:return Xi;default:throw Error(o(332))}}function oa(e,t){return e=aa(e),zi(e,t)}function sa(e,t,n){return e=aa(e),Bi(e,t,n)}function ua(e){return null===$i?($i=[e],ea=Bi(qi,ca)):$i.push(e),Ki}function la(){if(null!==ea){var e=ea;ea=null,Ui(e)}ca()}function ca(){if(!ta&&null!==$i){ta=!0;var e=0;try{var t=$i;oa(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),$i=null}catch(n){throw null!==$i&&($i=$i.slice(e+1)),Bi(qi,la),n}finally{ta=!1}}}function fa(e,t,n){return n/=10,1073741821-(1+((1073741821-e+t/10)/n|0))*n}function pa(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps,e)void 0===t[n]&&(t[n]=e[n]);return t}var da={current:null},ha=null,va=null,ma=null;function ya(){ma=va=ha=null}function ga(e){var t=da.current;Oi(da),e.type._context._currentValue=t}function ba(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function _a(e,t){ha=e,ma=va=null,e=e.dependencies,null!==e&&null!==e.firstContext&&(e.expirationTime>=t&&(Yo=!0),e.firstContext=null)}function xa(e,t){if(ma!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ma=e,t=1073741823),t={context:e,observedBits:t,next:null},null===va){if(null===ha)throw Error(o(308));va=t,ha.dependencies={expirationTime:0,firstContext:t,responders:null}}else va=va.next=t;return e._currentValue}var wa=!1;function Ea(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ka(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function Oa(e,t){if(e=e.updateQueue,null!==e){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Ta(e,t){var n=e.alternate;null!==n&&Sa(n,e),e=e.updateQueue,n=e.baseQueue,null===n?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Ca(e,t,n,r){var a=e.updateQueue;wa=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,u=e.alternate,null!==u&&(u=u.updateQueue,null!==u&&(u.baseQueue=s))}if(null!==o){u=o.next;var l=a.baseState,c=0,f=null,p=null,d=null;if(null!==u){var h=u;do{if(s=h.expirationTime,s<r){var v={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===d?(p=d=v,f=l):d=d.next=v,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Nu(s,h.suspenseConfig);e:{var m=e,y=h;switch(s=t,v=n,y.tag){case 1:if(m=y.payload,"function"===typeof m){l=m.call(v,l,s);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=y.payload,s="function"===typeof m?m.call(v,l,s):m,null===s||void 0===s)break e;l=i({},l,s);break e;case 2:wa=!0}}null!==h.callback&&(e.effectTag|=32,s=a.effects,null===s?a.effects=[h]:s.push(h))}if(h=h.next,null===h||h===u){if(s=a.shared.pending,null===s)break;h=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}while(1)}null===d?f=l:d.next=p,a.baseState=f,a.baseQueue=d,Du(c),e.expirationTime=c,e.memoizedState=l}}function Aa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Ma=ee.ReactCurrentBatchConfig,Pa=(new r.Component).refs;function Ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ra={isMounted:function(e){return!!(e=e._reactInternalFiber)&&at(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=wu(),i=Ma.suspense;r=Eu(r,e,i),i=ka(r,i),i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Oa(e,i),Su(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=wu(),i=Ma.suspense;r=Eu(r,e,i),i=ka(r,i),i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Oa(e,i),Su(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=wu(),r=Ma.suspense;n=Eu(n,e,r),r=ka(n,r),r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Oa(e,r),Su(e,n)}};function ja(e,t,n,r,i,a,o){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,a))}function La(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ri(t)?Pi:Ai.current,r=t.contextTypes,a=(r=null!==r&&void 0!==r)?Ii(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ra,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Na(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ra.enqueueReplaceState(t,t.state,null)}function Da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Pa,Ea(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ri(t)?Pi:Ai.current,i.context=Ii(e,a)),Ca(e,n,i,r),i.state=e.memoizedState,a=t.getDerivedStateFromProps,"function"===typeof a&&(Ia(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ra.enqueueReplaceState(i,i.state,null),Ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Fa=Array.isArray;function za(e,t,n){if(e=n.ref,null!==e&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===Pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ba(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ua(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return e=al(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=ul(n,e.mode,r),t.return=e,t):(t=i(t,n),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=i(t,n.props),r.ref=za(e,t,n),r.return=e,r):(r=ol(n.type,n.key,n.props,null,e.mode,r),r.ref=za(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ll(n,e.mode,r),t.return=e,t):(t=i(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?(t=sl(n,e.mode,r,a),t.return=e,t):(t=i(t,n),t.return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return t=ul(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ie:return n=ol(t.type,t.key,t.props,null,e.mode,n),n.ref=za(e,null,t),n.return=e,n;case ae:return t=ll(t,e.mode,n),t.return=e,t}if(Fa(t)||be(t))return t=sl(t,e.mode,n,null),t.return=e,t;Ba(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ie:return n.key===i?n.type===oe?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case ae:return n.key===i?c(e,t,n,r):null}if(Fa(n)||be(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ie:return e=e.get(null===r.key?n:r.key)||null,r.type===oe?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case ae:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i)}if(Fa(r)||be(r))return e=e.get(n)||null,f(t,e,r,i,null);Ba(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),l;if(null===f){for(;v<s.length;v++)f=p(i,s[v],u),null!==f&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<s.length;v++)m=h(f,i,v,s[v],u),null!==m&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,s,u,l){var c=be(u);if("function"!==typeof c)throw Error(o(150));if(u=c.call(u),null==u)throw Error(o(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),c;if(null===v){for(;!g.done;m++,g=u.next())g=p(i,g.value,l),null!==g&&(s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return c}for(v=r(i,v);!g.done;m++,g=u.next())g=h(v,i,m,g.value,l),null!==g&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===oe&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ie:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===oe){n(e,l.sibling),r=i(l,a.props.children),r.return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),r=i(l,a.props),r.ref=za(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===oe?(r=sl(a.props.children,e.mode,u,a.key),r.return=e,e=r):(u=ol(a.type,a.key,a.props,null,e.mode,u),u.ref=za(e,r,a),u.return=e,e=u)}return s(e);case ae:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),r=i(r,a.children||[]),r.return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}r=ll(a,e.mode,u),r.return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,a),r.return=e,e=r):(n(e,r),r=ul(a,e.mode,u),r.return=e,e=r),s(e);if(Fa(a))return v(e,r,a,u);if(be(a))return m(e,r,a,u);if(c&&Ba(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Va=Ua(!0),Ha=Ua(!1),Wa={},qa={current:Wa},Ga={current:Wa},Za={current:Wa};function Ya(e){if(e===Wa)throw Error(o(174));return e}function Xa(e,t){switch(Ti(Za,t),Ti(Ga,e),Ti(qa,Wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=He(t,e)}Oi(qa),Ti(qa,t)}function Ka(){Oi(qa),Oi(Ga),Oi(Za)}function Ja(e){Ya(Za.current);var t=Ya(qa.current),n=He(t,e.type);t!==n&&(Ti(Ga,e),Ti(qa,n))}function Qa(e){Ga.current===e&&(Oi(qa),Oi(Ga))}var $a={current:0};function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||n.data===Tn||n.data===Cn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function to(e,t){return{responder:e,props:t}}var no=ee.ReactCurrentDispatcher,ro=ee.ReactCurrentBatchConfig,io=0,ao=null,oo=null,so=null,uo=!1;function lo(){throw Error(o(321))}function co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,a){if(io=a,ao=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,no.current=null===e||null===e.memoizedState?Lo:No,e=n(r,i),t.expirationTime===io){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,so=oo=null,t.updateQueue=null,no.current=Do,e=n(r,i)}while(t.expirationTime===io)}if(no.current=jo,t=null!==oo&&null!==oo.next,io=0,so=oo=ao=null,uo=!1,t)throw Error(o(300));return e}function po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===so?ao.memoizedState=so=e:so=so.next=e,so}function ho(){if(null===oo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=oo.next;var t=null===so?ao.memoizedState:so.next;if(null!==t)so=t,oo=e;else{if(null===e)throw Error(o(310));oo=e,e={memoizedState:oo.memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null},null===so?ao.memoizedState=so=e:so=so.next=e}return so}function vo(e,t){return"function"===typeof t?t(e):t}function mo(e){var t=ho(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=oo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.expirationTime;if(c<io){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,c>ao.expirationTime&&(ao.expirationTime=c,Du(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Nu(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,ei(r,t.memoizedState)||(Yo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function yo(e){var t=ho(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);ei(a,t.memoizedState)||(Yo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function go(e){var t=po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},e=e.dispatch=Ro.bind(null,ao,e),[t.memoizedState,e]}function bo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ao.updateQueue,null===t?(t={lastEffect:null},ao.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _o(){return ho().memoizedState}function xo(e,t,n,r){var i=po();ao.effectTag|=e,i.memoizedState=bo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=ho();r=void 0===r?null:r;var a=void 0;if(null!==oo){var o=oo.memoizedState;if(a=o.destroy,null!==r&&co(r,o.deps))return void bo(t,n,a,r)}ao.effectTag|=e,i.memoizedState=bo(1|t,n,a,r)}function Eo(e,t){return xo(516,4,e,t)}function So(e,t){return wo(516,4,e,t)}function ko(e,t){return wo(4,2,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Oo.bind(null,t,e),n)}function Co(){}function Ao(e,t){return po().memoizedState=[e,void 0===t?null:t],e}function Mo(e,t){var n=ho();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t){var n=ho();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Io(e,t,n){var r=ia();oa(98>r?98:r,(function(){e(!0)})),oa(97<r?97:r,(function(){var r=ro.suspense;ro.suspense=void 0===t?null:t;try{e(!1),n()}finally{ro.suspense=r}}))}function Ro(e,t,n){var r=wu(),i=Ma.suspense;r=Eu(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===ao||null!==a&&a===ao)uo=!0,i.expirationTime=io,ao.expirationTime=io;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&(a=t.lastRenderedReducer,null!==a))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,ei(s,o))return}catch(u){}Su(e,r)}}var jo={readContext:xa,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useResponder:lo,useDeferredValue:lo,useTransition:lo},Lo={readContext:xa,useCallback:Ao,useContext:xa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=po();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=po();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Ro.bind(null,ao,e),[r.memoizedState,e]},useRef:function(e){var t=po();return e={current:e},t.memoizedState=e},useState:go,useDebugValue:Co,useResponder:to,useDeferredValue:function(e,t){var n=go(e),r=n[0],i=n[1];return Eo((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=go(!1),n=t[0];return t=t[1],[Ao(Io.bind(null,t,e),[t,e]),n]}},No={readContext:xa,useCallback:Mo,useContext:xa,useEffect:So,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Po,useReducer:mo,useRef:_o,useState:function(){return mo(vo)},useDebugValue:Co,useResponder:to,useDeferredValue:function(e,t){var n=mo(vo),r=n[0],i=n[1];return So((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=mo(vo),n=t[0];return t=t[1],[Mo(Io.bind(null,t,e),[t,e]),n]}},Do={readContext:xa,useCallback:Mo,useContext:xa,useEffect:So,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Po,useReducer:yo,useRef:_o,useState:function(){return yo(vo)},useDebugValue:Co,useResponder:to,useDeferredValue:function(e,t){var n=yo(vo),r=n[0],i=n[1];return So((function(){var n=ro.suspense;ro.suspense=void 0===t?null:t;try{i(e)}finally{ro.suspense=n}}),[e,t]),r},useTransition:function(e){var t=yo(vo),n=t[0];return t=t[1],[Mo(Io.bind(null,t,e),[t,e]),n]}},Fo=null,zo=null,Bo=!1;function Uo(e,t){var n=nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,null!==t&&(e.stateNode=t,!0);case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t&&(e.stateNode=t,!0);case 13:return!1;default:return!1}}function Ho(e){if(Bo){var t=zo;if(t){var n=t;if(!Vo(e,t)){if(t=Ln(n.nextSibling),!t||!Vo(e,t))return e.effectTag=-1025&e.effectTag|2,Bo=!1,void(Fo=e);Uo(Fo,n)}Fo=e,zo=Ln(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Bo=!1,Fo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fo=e}function qo(e){if(e!==Fo)return!1;if(!Bo)return Wo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!In(t,e.memoizedProps))for(t=zo;t;)Uo(e,t),t=Ln(t.nextSibling);if(Wo(e),13===e.tag){if(e=e.memoizedState,e=null!==e?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===On){if(0===t){zo=Ln(e.nextSibling);break e}t--}else n!==kn&&n!==Cn&&n!==Tn||t++}e=e.nextSibling}zo=null}}else zo=Fo?Ln(e.stateNode.nextSibling):null;return!0}function Go(){zo=Fo=null,Bo=!1}var Zo=ee.ReactCurrentOwner,Yo=!1;function Xo(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Va(t,e.child,n,r)}function Ko(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=fo(e,t,n,r,a,i),null===e||Yo?(t.effectTag|=1,Xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ds(e,t,i))}function Jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=ol(n.type,null,r,null,t.mode,a),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,n=n.compare,n=null!==n?n:ni,n(i,r)&&e.ref===t.ref)?ds(e,t,a):(t.effectTag|=1,e=al(o,r),e.ref=t.ref,e.return=t,t.child=e)}function Qo(e,t,n,r,i,a){return null!==e&&ni(e.memoizedProps,r)&&e.ref===t.ref&&(Yo=!1,i<a)?(t.expirationTime=e.expirationTime,ds(e,t,a)):es(e,t,n,r,a)}function $o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function es(e,t,n,r,i){var a=Ri(n)?Pi:Ai.current;return a=Ii(t,a),_a(t,i),n=fo(e,t,n,r,a,i),null===e||Yo?(t.effectTag|=1,Xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ds(e,t,i))}function ts(e,t,n,r,i){if(Ri(n)){var a=!0;Di(t)}else a=!1;if(_a(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),La(t,n,r),Da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):(l=Ri(n)?Pi:Ai.current,l=Ii(t,l));var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Na(t,o,r,l),wa=!1;var p=t.memoizedState;o.state=p,Ca(t,r,o,i),u=t.memoizedState,s!==r||p!==u||Mi.current||wa?("function"===typeof c&&(Ia(t,n,c,r),u=t.memoizedState),(s=wa||ja(t,n,s,r,p,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,Sa(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:pa(t.type,s),u=o.context,l=n.contextType,"object"===typeof l&&null!==l?l=xa(l):(l=Ri(n)?Pi:Ai.current,l=Ii(t,l)),c=n.getDerivedStateFromProps,(f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Na(t,o,r,l),wa=!1,u=t.memoizedState,o.state=u,Ca(t,r,o,i),p=t.memoizedState,s!==r||u!==p||Mi.current||wa?("function"===typeof c&&(Ia(t,n,c,r),p=t.memoizedState),(c=wa||ja(t,n,s,r,u,p,l))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ns(e,t,n,r,a,i)}function ns(e,t,n,r,i,a){$o(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Fi(t,n,!1),ds(e,t,a);r=t.stateNode,Zo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Va(t,e.child,null,a),t.child=Va(t,null,s,a)):Xo(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function rs(e){var t=e.stateNode;t.pendingContext?Li(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(e,t.context,!1),Xa(e,t.containerInfo)}var is,as,os,ss,us={dehydrated:null,retryTime:0};function ls(e,t,n){var r,i=t.mode,a=t.pendingProps,o=$a.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),Ti($a,1&o),null===e){if(void 0!==a.fallback&&Ho(t),s){if(s=a.fallback,a=sl(null,i,0,null),a.return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return n=sl(s,i,n,null),n.return=t,a.sibling=n,t.memoizedState=us,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Ha(t,null,i,n)}if(null!==e.memoizedState){if(e=e.child,i=e.sibling,s){if(a=a.fallback,n=al(e,e.pendingProps),n.return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child,s!==e.child))for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=al(i,a),i.return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=us,t.child=n,i}return n=Va(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,a=sl(null,i,0,null),a.return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return n=sl(s,i,n,null),n.return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=us,t.child=a,n}return t.memoizedState=null,t.child=Va(t,e,a.children,n)}function cs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ba(e.return,t)}function fs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function ps(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Xo(e,t,r.children,n),r=$a.current,0!==(2&r))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n);else if(19===e.tag)cs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti($a,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===eo(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(e=i.alternate,null!==e&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fs(t,!0,n,null,a,t.lastEffect);break;case"together":fs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ds(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Du(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ri(t.type)&&ji(),null;case 3:return Ka(),Oi(Mi),Oi(Ai),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!qo(t)||(t.effectTag|=4),as(t),null;case 5:Qa(t),n=Ya(Za.current);var a=t.type;if(null!==e&&null!=t.stateNode)os(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ya(qa.current),qo(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Fn]=t,r[zn]=s,a){case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(e=0;e<nt.length;e++)nn(nt[e],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"form":nn("reset",r),nn("submit",r);break;case"details":nn("toggle",r);break;case"input":Ae(r,s),nn("invalid",r),yn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r),yn(n,"onChange");break;case"textarea":Fe(r,s),nn("invalid",r),yn(n,"onChange")}for(var u in hn(a,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(u)&&null!=l&&yn(n,u)}switch(a){case"input":Oe(r),Ie(r,s,!0);break;case"textarea":Oe(r),Be(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=gn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===mn&&(e=Ve(a)),e===mn?"script"===a?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[Fn]=t,e[zn]=r,is(e,t,!1,!1),t.stateNode=e,u=vn(a,r),a){case"iframe":case"object":case"embed":nn("load",e),l=r;break;case"video":case"audio":for(l=0;l<nt.length;l++)nn(nt[l],e);l=r;break;case"source":nn("error",e),l=r;break;case"img":case"image":case"link":nn("error",e),nn("load",e),l=r;break;case"form":nn("reset",e),nn("submit",e),l=r;break;case"details":nn("toggle",e),l=r;break;case"input":Ae(e,r),l=Ce(e,r),nn("invalid",e),yn(n,"onChange");break;case"option":l=Le(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),nn("invalid",e),yn(n,"onChange");break;case"textarea":Fe(e,r),l=De(e,r),nn("invalid",e),yn(n,"onChange");break;default:l=r}hn(a,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?pn(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&qe(e,f)):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&Ge(e,f):"number"===typeof f&&Ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=f&&yn(n,s):null!=f&&te(e,s,f,u))}switch(a){case"input":Oe(e),Ie(e,r,!1);break;case"textarea":Oe(e),Be(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ee(r.value));break;case"select":e.multiple=!!r.multiple,n=r.value,null!=n?Ne(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=gn)}Pn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ss(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ya(Za.current),Ya(qa.current),qo(t)?(n=t.stateNode,r=t.memoizedProps,n[Fn]=t,n.nodeValue!==r&&(t.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),n[Fn]=t,t.stateNode=n)}return null;case 13:return Oi($a),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):(a=e.memoizedState,r=null!==a,n||null===a||(a=e.child.sibling,null!==a&&(s=t.firstEffect,null!==s?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8))),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&$a.current)?nu===Gs&&(nu=Xs):(nu!==Gs&&nu!==Xs||(nu=Ks),0!==su&&null!==$s&&(pl($s,tu),dl($s,su)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ka(),as(t),null;case 10:return ga(t),null;case 17:return Ri(t.type)&&ji(),null;case 19:if(Oi($a),r=t.memoizedState,null===r)return null;if(a=0!==(64&t.effectTag),s=r.rendering,null===s){if(a)hs(r,!1);else if(nu!==Gs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(e=eo(s),null!==e){for(t.effectTag|=64,hs(r,!1),a=e.updateQueue,null!==a&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=r,s=n,a.effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,e=a.alternate,null===e?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ti($a,1&$a.current|2),t.child}s=s.sibling}}else{if(!a)if(e=eo(s),null!==e){if(t.effectTag|=64,a=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.effectTag|=4),hs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return t=t.lastEffect=r.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ra()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,hs(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(n=r.last,null!==n?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ra()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ra(),n.sibling=null,t=$a.current,Ti($a,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ms(e){switch(e.tag){case 1:Ri(e.type)&&ji();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ka(),Oi(Mi),Oi(Ai),t=e.effectTag,0!==(64&t))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Qa(e),null;case 13:return Oi($a),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Oi($a),null;case 4:return Ka(),null;case 10:return ga(e),null;default:return null}}function ys(e,t){return{value:e,source:t,stack:we(t)}}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(){},os=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,l=t.stateNode;switch(Ya(qa.current),e=null,n){case"input":o=Ce(l,o),r=Ce(l,r),e=[];break;case"option":o=Le(l,o),r=Le(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=De(l,o),r=De(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=gn)}for(s in hn(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in l=o[s],l)l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=c&&yn(a,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},ss=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var gs="function"===typeof WeakSet?WeakSet:Set;function bs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=we(n)),null!==n&&xe(n.type),t=t.value,null!==e&&1===e.tag&&xe(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function _s(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Xu(e,n)}}function xs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Xu(e,n)}else t.current=null}function ws(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:pa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Es(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ss(e,t){if(t=t.updateQueue,t=null!==t?t.lastEffect:null,null!==t){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ks(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Ss(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:pa(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return t=n.updateQueue,void(null!==t&&Aa(n,t,e));case 3:if(t=n.updateQueue,null!==t){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Aa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Pn(n.type,n.memoizedProps)&&e.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&qt(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function Os(e,t,n){switch("function"===typeof $u&&$u(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,null!==e&&(e=e.lastEffect,null!==e)){var r=e.next;oa(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Xu(i,a)}}e=e.next}while(e!==r)}))}break;case 1:xs(t),n=t.stateNode,"function"===typeof n.componentWillUnmount&&_s(t,n);break;case 5:xs(t);break;case 4:Is(e,t,n)}}function Ts(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Ts(t)}function Cs(e){return 5===e.tag||3===e.tag||4===e.tag}function As(e){e:{for(var t=e.return;null!==t;){if(Cs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ge(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Cs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?Ms(e,n,t):Ps(e,n,t)}function Ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==t.onclick||(t.onclick=gn));else if(4!==r&&(e=e.child,null!==e))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function Ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(e=e.child,null!==e))for(Ps(e,t,n),e=e.sibling;null!==e;)Ps(e,t,n),e=e.sibling}function Is(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:r=r.containerInfo,i=!0;break e;case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,f=l;;)if(Os(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Os(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return,4===a.tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Rs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Es(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[zn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Me(n,r),vn(e,i),t=vn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?pn(n,u):"dangerouslySetInnerHTML"===s?qe(n,u):"children"===s?Ge(n,u):te(n,s,u,t)}switch(e){case"input":Pe(n,r);break;case"textarea":ze(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,e=r.value,null!=e?Ne(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ne(n,!!r.multiple,r.defaultValue,!0):Ne(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,qt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,lu=ra()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?(a=a.style,"function"===typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,i=e.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=fn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){a=e.child.sibling,a.return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void js(t);case 19:return void js(t);case 17:return}throw Error(o(163))}function js(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new gs),t.forEach((function(t){var r=Ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ls="function"===typeof WeakMap?WeakMap:Map;function Ns(e,t,n){n=ka(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pu||(pu=!0,du=r),bs(e,t)},n}function Ds(e,t,n){n=ka(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return bs(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===hu?hu=new Set([this]):hu.add(this),bs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Fs,zs=Math.ceil,Bs=ee.ReactCurrentDispatcher,Us=ee.ReactCurrentOwner,Vs=0,Hs=8,Ws=16,qs=32,Gs=0,Zs=1,Ys=2,Xs=3,Ks=4,Js=5,Qs=Vs,$s=null,eu=null,tu=0,nu=Gs,ru=null,iu=1073741823,au=1073741823,ou=null,su=0,uu=!1,lu=0,cu=500,fu=null,pu=!1,du=null,hu=null,vu=!1,mu=null,yu=90,gu=null,bu=0,_u=null,xu=0;function wu(){return(Qs&(Ws|qs))!==Vs?1073741821-(ra()/10|0):0!==xu?xu:xu=1073741821-(ra()/10|0)}function Eu(e,t,n){if(t=t.mode,0===(2&t))return 1073741823;var r=ia();if(0===(4&t))return 99===r?1073741823:1073741822;if((Qs&Ws)!==Vs)return tu;if(null!==n)e=fa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=fa(e,150,100);break;case 97:case 96:e=fa(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==$s&&e===tu&&--e,e}function Su(e,t){if(50<bu)throw bu=0,_u=null,Error(o(185));if(e=ku(e,t),null!==e){var n=ia();1073741823===t?(Qs&Hs)!==Vs&&(Qs&(Ws|qs))===Vs?Au(e):(Tu(e),Qs===Vs&&la()):Tu(e),(4&Qs)===Vs||98!==n&&99!==n||(null===gu?gu=new Map([[e,t]]):(n=gu.get(e),(void 0===n||n>t)&&gu.set(e,t)))}}function ku(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&($s===i&&(Du(t),nu===Ks&&pl(i,tu)),dl(i,t)),i}function Ou(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!fl(e,t))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Tu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ua(Au.bind(null,e));else{var t=Ou(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=wu();if(1073741823===t?r=99:1===t||2===t?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ki&&Ui(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?ua(Au.bind(null,e)):sa(r,Cu.bind(null,e),{timeout:10*(1073741821-t)-ra()}),e.callbackNode=t}}}function Cu(e,t){if(xu=0,t)return t=wu(),hl(e,t),Tu(e),null;var n=Ou(e);if(0!==n){if(t=e.callbackNode,(Qs&(Ws|qs))!==Vs)throw Error(o(327));if(Gu(),e===$s&&n===tu||Ru(e,n),null!==eu){var r=Qs;Qs|=Ws;var i=Lu();do{try{zu();break}catch(u){ju(e,u)}}while(1);if(ya(),Qs=r,Bs.current=i,nu===Zs)throw t=ru,Ru(e,n),pl(e,n),Tu(e),t;if(null===eu)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=nu,$s=null,r){case Gs:case Zs:throw Error(o(345));case Ys:hl(e,2<n?2:n);break;case Xs:if(pl(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Vu(i)),1073741823===iu&&(i=lu+cu-ra(),10<i)){if(uu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Ru(e,n);break}}if(a=Ou(e),0!==a&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Rn(Hu.bind(null,e),i);break}Hu(e);break;case Ks:if(pl(e,n),r=e.lastSuspendedTime,n===r&&(e.nextKnownPendingLevel=Vu(i)),uu&&(i=e.lastPingedTime,0===i||i>=n)){e.lastPingedTime=n,Ru(e,n);break}if(i=Ou(e),0!==i&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==au?r=10*(1073741821-au)-ra():1073741823===iu?r=0:(r=10*(1073741821-iu)-5e3,i=ra(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zs(r/1960))-r,n<r&&(r=n)),10<r){e.timeoutHandle=Rn(Hu.bind(null,e),r);break}Hu(e);break;case Js:if(1073741823!==iu&&null!==ou){a=iu;var s=ou;if(r=0|s.busyMinDurationMs,0>=r?r=0:(i=0|s.busyDelayMs,a=ra()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),r=a<=i?0:i+r-a),10<r){pl(e,n),e.timeoutHandle=Rn(Hu.bind(null,e),r);break}}Hu(e);break;default:throw Error(o(329))}if(Tu(e),e.callbackNode===t)return Cu.bind(null,e)}}return null}function Au(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Qs&(Ws|qs))!==Vs)throw Error(o(327));if(Gu(),e===$s&&t===tu||Ru(e,t),null!==eu){var n=Qs;Qs|=Ws;var r=Lu();do{try{Fu();break}catch(i){ju(e,i)}}while(1);if(ya(),Qs=n,Bs.current=r,nu===Zs)throw n=ru,Ru(e,t),pl(e,t),Tu(e),n;if(null!==eu)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,$s=null,Hu(e),Tu(e)}return null}function Mu(){if(null!==gu){var e=gu;gu=null,e.forEach((function(e,t){hl(t,e),Tu(t)})),la()}}function Pu(e,t){var n=Qs;Qs|=1;try{return e(t)}finally{Qs=n,Qs===Vs&&la()}}function Iu(e,t){var n=Qs;Qs&=-2,Qs|=Hs;try{return e(t)}finally{Qs=n,Qs===Vs&&la()}}function Ru(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,jn(n)),null!==eu)for(n=eu.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&ji();break;case 3:Ka(),Oi(Mi),Oi(Ai);break;case 5:Qa(r);break;case 4:Ka();break;case 13:Oi($a);break;case 19:Oi($a);break;case 10:ga(r)}n=n.return}$s=e,eu=al(e.current,null),tu=t,nu=Gs,ru=null,au=iu=1073741823,ou=null,su=0,uu=!1}function ju(e,t){do{try{if(ya(),no.current=jo,uo)for(var n=ao.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(io=0,so=oo=ao=null,uo=!1,null===eu||null===eu.return)return nu=Zs,ru=t,eu=null;e:{var i=e,a=eu.return,o=eu,s=t;if(t=tu,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&$a.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var h=f.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(p){var v=f.updateQueue;if(null===v){var m=new Set;m.add(u),f.updateQueue=m}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=ka(1073741823,null);y.tag=2,Oa(o,y)}o.expirationTime=1073741823;break e}s=void 0,o=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new Ls,s=new Set,g.set(u,s)):(s=g.get(u),void 0===s&&(s=new Set,g.set(u,s))),!s.has(o)){s.add(o);var b=Ku.bind(null,i,u,o);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((xe(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+we(o))}nu!==Js&&(nu=Ys),s=ys(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t;var _=Ns(f,u,t);Ta(f,_);break e;case 1:u=s;var x=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===hu||!hu.has(w)))){f.effectTag|=4096,f.expirationTime=t;var E=Ds(f,u,t);Ta(f,E);break e}}f=f.return}while(null!==f)}eu=Uu(eu)}catch(S){t=S;continue}break}while(1)}function Lu(){var e=Bs.current;return Bs.current=jo,null===e?jo:e}function Nu(e,t){e<iu&&2<e&&(iu=e),null!==t&&e<au&&2<e&&(au=e,ou=t)}function Du(e){e>su&&(su=e)}function Fu(){for(;null!==eu;)eu=Bu(eu)}function zu(){for(;null!==eu&&!Ji();)eu=Bu(eu)}function Bu(e){var t=Fs(e.alternate,e,tu);return e.memoizedProps=e.pendingProps,null===t&&(t=Uu(e)),Us.current=null,t}function Uu(e){eu=e;do{var t=eu.alternate;if(e=eu.return,0===(2048&eu.effectTag)){if(t=vs(t,eu,tu),1===tu||1!==eu.childExpirationTime){for(var n=0,r=eu.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}eu.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=eu.firstEffect),null!==eu.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=eu.firstEffect),e.lastEffect=eu.lastEffect),1<eu.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=eu:e.firstEffect=eu,e.lastEffect=eu))}else{if(t=ms(eu),null!==t)return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(t=eu.sibling,null!==t)return t;eu=e}while(null!==eu);return nu===Gs&&(nu=Js),null}function Vu(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function Hu(e){var t=ia();return oa(99,Wu.bind(null,e,t)),null}function Wu(e,t){do{Gu()}while(null!==mu);if((Qs&(Ws|qs))!==Vs)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Vu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===$s&&(eu=$s=null,tu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Qs;Qs|=qs,Us.current=null,An=tn;var s=En();if(Sn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var l=u.getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(O){u=null;break e}var p=0,d=-1,h=-1,v=0,m=0,y=s,g=null;t:for(;;){for(var b;;){if(y!==u||0!==c&&3!==y.nodeType||(d=p+c),y!==f||0!==l&&3!==y.nodeType||(h=p+l),3===y.nodeType&&(p+=y.nodeValue.length),null===(b=y.firstChild))break;g=y,y=b}for(;;){if(y===s)break t;if(g===u&&++v===c&&(d=p),g===f&&++m===l&&(h=p),null!==(b=y.nextSibling))break;y=g,g=y.parentNode}y=b}u=-1===d||-1===h?null:{start:d,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;Mn={activeElementDetached:null,focusedElem:s,selectionRange:u},tn=!1,fu=i;do{try{qu()}catch(O){if(null===fu)throw Error(o(330));Xu(fu,O),fu=fu.nextEffect}}while(null!==fu);fu=i;do{try{for(s=e,u=t;null!==fu;){var _=fu.effectTag;if(16&_&&Ge(fu.stateNode,""),128&_){var x=fu.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:As(fu),fu.effectTag&=-3;break;case 6:As(fu),fu.effectTag&=-3,Rs(fu.alternate,fu);break;case 1024:fu.effectTag&=-1025;break;case 1028:fu.effectTag&=-1025,Rs(fu.alternate,fu);break;case 4:Rs(fu.alternate,fu);break;case 8:c=fu,Is(s,c,u),Ts(c)}fu=fu.nextEffect}}catch(O){if(null===fu)throw Error(o(330));Xu(fu,O),fu=fu.nextEffect}}while(null!==fu);if(w=Mn,x=En(),_=w.focusedElem,u=w.selectionRange,x!==_&&_&&_.ownerDocument&&wn(_.ownerDocument.documentElement,_)){null!==u&&Sn(_)&&(x=u.start,w=u.end,void 0===w&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window,w.getSelection&&(w=w.getSelection(),c=_.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!w.extend&&s>u&&(c=u,u=s,s=c),c=xn(_,s),f=xn(_,u),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&(x=x.createRange(),x.setStart(c.node,c.offset),w.removeAllRanges(),s>u?(w.addRange(x),w.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),w.addRange(x)))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)w=x[_],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}tn=!!An,Mn=An=null,e.current=n,fu=i;do{try{for(_=e;null!==fu;){var E=fu.effectTag;if(36&E&&ks(_,fu.alternate,fu),128&E){x=void 0;var S=fu.ref;if(null!==S){var k=fu.stateNode;switch(fu.tag){case 5:x=k;break;default:x=k}"function"===typeof S?S(x):S.current=x}}fu=fu.nextEffect}}catch(O){if(null===fu)throw Error(o(330));Xu(fu,O),fu=fu.nextEffect}}while(null!==fu);fu=null,Qi(),Qs=a}else e.current=n;if(vu)vu=!1,mu=e,yu=t;else for(fu=i;null!==fu;)t=fu.nextEffect,fu.nextEffect=null,fu=t;if(t=e.firstPendingTime,0===t&&(hu=null),1073741823===t?e===_u?bu++:(bu=0,_u=e):bu=0,"function"===typeof Qu&&Qu(n.stateNode,r),Tu(e),pu)throw pu=!1,e=du,du=null,e;return(Qs&Hs)!==Vs||la(),null}function qu(){for(;null!==fu;){var e=fu.effectTag;0!==(256&e)&&ws(fu.alternate,fu),0===(512&e)||vu||(vu=!0,sa(97,(function(){return Gu(),null}))),fu=fu.nextEffect}}function Gu(){if(90!==yu){var e=97<yu?97:yu;return yu=90,oa(e,Zu)}}function Zu(){if(null===mu)return!1;var e=mu;if(mu=null,(Qs&(Ws|qs))!==Vs)throw Error(o(331));var t=Qs;for(Qs|=qs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Es(5,n),Ss(5,n)}}catch(r){if(null===e)throw Error(o(330));Xu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Qs=t,la(),!0}function Yu(e,t,n){t=ys(n,t),t=Ns(e,t,1073741823),Oa(e,t),e=ku(e,1073741823),null!==e&&Tu(e)}function Xu(e,t){if(3===e.tag)Yu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Yu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===hu||!hu.has(r))){e=ys(t,e),e=Ds(n,e,1073741823),Oa(n,e),n=ku(n,1073741823),null!==n&&Tu(n);break}}n=n.return}}function Ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),$s===e&&tu===n?nu===Ks||nu===Xs&&1073741823===iu&&ra()-lu<cu?Ru(e,tu):uu=!0:fl(e,n)&&(t=e.lastPingedTime,0!==t&&t<n||(e.lastPingedTime=n,Tu(e)))}function Ju(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=wu(),t=Eu(t,e,null)),e=ku(e,t),null!==e&&Tu(e)}Fs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Mi.current)Yo=!0;else{if(r<n){switch(Yo=!1,t.tag){case 3:rs(t),Go();break;case 5:if(Ja(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Ri(t.type)&&Di(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Ti(da,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return r=t.child.childExpirationTime,0!==r&&r>=n?ls(e,t,n):(Ti($a,1&$a.current),t=ds(e,t,n),null!==t?t.sibling:null);Ti($a,1&$a.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return ps(e,t,n);t.effectTag|=64}if(i=t.memoizedState,null!==i&&(i.rendering=null,i.tail=null),Ti($a,$a.current),!r)return null}return ds(e,t,n)}Yo=!1}}else Yo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Ii(t,Ai.current),_a(t,n),i=fo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)){var a=!0;Di(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ea(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&Ia(t,r,s,e),i.updater=Ra,t.stateNode=i,i._reactInternalFiber=t,Da(t,r,e,n),t=ns(null,t,r,!0,a,n)}else t.tag=0,Xo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,_e(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=il(i),e=pa(i,e),a){case 0:t=es(null,t,i,e,n);break e;case 1:t=ts(null,t,i,e,n);break e;case 11:t=Ko(null,t,i,e,n);break e;case 14:t=Jo(null,t,i,pa(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pa(r,i),es(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pa(r,i),ts(e,t,r,i,n);case 3:if(rs(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=t.memoizedState,i=null!==i?i.element:null,Sa(e,t),Ca(t,r,null,n),r=t.memoizedState.element,r===i)Go(),t=ds(e,t,n);else{if((i=t.stateNode.hydrate)&&(zo=Ln(t.stateNode.containerInfo.firstChild),Fo=t,i=Bo=!0),i)for(n=Ha(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Xo(e,t,r,n),Go();t=t.child}return t;case 5:return Ja(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,In(r,i)?s=null:null!==a&&In(r,a)&&(t.effectTag|=16),$o(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Xo(e,t,s,n),t=t.child),t;case 6:return null===e&&Ho(t),null;case 13:return ls(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Va(t,null,r,n):Xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pa(r,i),Ko(e,t,r,i,n);case 7:return Xo(e,t,t.pendingProps,n),t.child;case 8:return Xo(e,t,t.pendingProps.children,n),t.child;case 12:return Xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(Ti(da,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,a=ei(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823),0===a){if(s.children===i.children&&!Mi.current){t=ds(e,t,n);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&(c=ka(n,null),c.tag=2,Oa(u,c)),u.expirationTime<n&&(u.expirationTime=n),c=u.alternate,null!==c&&c.expirationTime<n&&(c.expirationTime=n),ba(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(u=s.sibling,null!==u){u.return=s.return,s=u;break}s=s.return}u=s}Xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps,r=a.children,_a(t,n),i=xa(i,a.unstable_observedBits),r=r(i),t.effectTag|=1,Xo(e,t,r,n),t.child;case 14:return i=t.type,a=pa(i,t.pendingProps),a=pa(i.type,a),Jo(e,t,i,a,r,n);case 15:return Qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pa(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ri(r)?(e=!0,Di(t)):e=!1,_a(t,n),La(t,r,i),Da(t,r,i,n),ns(null,t,r,!0,e,n);case 19:return ps(e,t,n)}throw Error(o(156,t.tag))};var Qu=null,$u=null;function el(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Qu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},$u=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}function tl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function nl(e,t,n,r){return new tl(e,t,n,r)}function rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e){if("function"===typeof e)return rl(e)?1:0;if(void 0!==e&&null!==e){if(e=e.$$typeof,e===pe)return 11;if(e===ve)return 14}return 2}function al(e,t){var n=e.alternate;return null===n?(n=nl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case oe:return sl(n.children,i,a,t);case fe:s=8,i|=7;break;case se:s=8,i|=1;break;case ue:return e=nl(12,n,t,8|i),e.elementType=ue,e.type=ue,e.expirationTime=a,e;case de:return e=nl(13,n,t,i),e.type=de,e.elementType=de,e.expirationTime=a,e;case he:return e=nl(19,n,t,i),e.elementType=he,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case le:s=10;break e;case ce:s=9;break e;case pe:s=11;break e;case ve:s=14;break e;case me:s=16,r=null;break e;case ye:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return t=nl(s,n,t,i),t.elementType=e,t.type=r,t.expirationTime=a,t}function sl(e,t,n,r){return e=nl(7,e,r,t),e.expirationTime=n,e}function ul(e,t,n){return e=nl(6,e,null,t),e.expirationTime=n,e}function ll(e,t,n){return t=nl(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function pl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function dl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function hl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function vl(e,t,n,r){var i=t.current,a=wu(),s=Ma.suspense;a=Eu(a,i,s);e:if(n){n=n._reactInternalFiber;t:{if(at(n)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ri(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(Ri(l)){n=Ni(n,l,u);break e}}n=u}else n=Ci;return null===t.context?t.context=n:t.pendingContext=n,t=ka(a,s),t.payload={element:e},r=void 0===r?null:r,null!==r&&(t.callback=r),Oa(i,t),Su(i,a),a}function ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yl(e,t){e=e.memoizedState,null!==e&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function gl(e,t){yl(e,t),(e=e.alternate)&&yl(e,t)}function bl(e,t,n){n=null!=n&&!0===n.hydrate;var r=new cl(e,t,n),i=nl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Ea(i),e[Bn]=r.current,n&&0!==t&&Lt(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function _l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function xl(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new bl(e,0,t?{hydrate:!0}:void 0)}function wl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ml(o);s.call(e)}}vl(t,o,e,i)}else{if(a=n._reactRootContainer=xl(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ml(o);u.call(e)}}Iu((function(){vl(t,o,e,i)}))}return ml(o)}function El(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ae,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Sl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!_l(t))throw Error(o(200));return El(e,t,null,n)}bl.prototype.render=function(e){vl(e,this._internalRoot,null,null)},bl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;vl(null,e,null,(function(){t[Bn]=null}))},wt=function(e){if(13===e.tag){var t=fa(wu(),150,100);Su(e,t),gl(e,t)}},Et=function(e){13===e.tag&&(Su(e,3),gl(e,3))},St=function(e){if(13===e.tag){var t=wu();t=Eu(t,e,null),Su(e,t),gl(e,t)}},A=function(e,t,n){switch(t){case"input":if(Pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Wn(r);if(!i)throw Error(o(90));Te(r),Pe(r,i)}}}break;case"textarea":ze(e,n);break;case"select":t=n.value,null!=t&&Ne(e,!!n.multiple,t,!1)}},L=Pu,N=function(e,t,n,r,i){var a=Qs;Qs|=4;try{return oa(98,e.bind(null,t,n,r,i))}finally{Qs=a,Qs===Vs&&la()}},D=function(){(Qs&(1|Ws|qs))===Vs&&(Mu(),Gu())},F=function(e,t){var n=Qs;Qs|=2;try{return e(t)}finally{Qs=n,Qs===Vs&&la()}};var kl={Events:[Vn,Hn,Wn,T,S,Jn,function(e){ft(e,Kn)},R,j,sn,ht,Gu,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;el(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lt(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Un,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kl,t.createPortal=Sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=lt(t),e=null===e?null:e.stateNode,e},t.flushSync=function(e,t){if((Qs&(Ws|qs))!==Vs)throw Error(o(187));var n=Qs;Qs|=1;try{return oa(99,e.bind(null,t))}finally{Qs=n,la()}},t.hydrate=function(e,t,n){if(!_l(t))throw Error(o(200));return wl(null,e,t,!0,n)},t.render=function(e,t,n){if(!_l(t))throw Error(o(200));return wl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!_l(e))throw Error(o(40));return!!e._reactRootContainer&&(Iu((function(){wl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Bn]=null}))})),!0)},t.unstable_batchedUpdates=Pu,t.unstable_createPortal=function(e,t){return Sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_l(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return wl(e,t,n,!1,r)},t.version="16.14.0"},yoRg:function(e,t,n){var r=n("UTVS"),i=n("/GqU"),a=n("TWQb").indexOf,o=n("0BK2");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)!r(o,n)&&r(s,n)&&l.push(n);while(t.length>u)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},yq1k:function(e,t,n){"use strict";var r=n("I+eb"),i=n("TWQb").includes,a=n("RNIs"),o=n("rkAj"),s=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},yyrp:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TouchPanHandler",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(t,"TouchPitchHandler",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(t,"TouchRotateHandler",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"TouchZoomHandler",{enumerable:!0,get:function(){return s["default"]}});var i=r(n("5Fkd")),a=r(n("KKr/")),o=r(n("w5oq")),s=r(n("Hn/y"))},z0pJ:function(e,t,n){"use strict";var r=n("284h");Object.defineProperty(t,"__esModule",{value:!0});var i={djb2hash:!0,BKDRHash:!0,DOM:!0,Satistics:!0};Object.defineProperty(t,"djb2hash",{enumerable:!0,get:function(){return a.djb2hash}}),Object.defineProperty(t,"BKDRHash",{enumerable:!0,get:function(){return a.BKDRHash}}),t.Satistics=t.DOM=void 0;var a=n("5Bwl"),o=r(n("/sMl"));t.DOM=o;var s=n("GSMU");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n("1TtJ");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n("/+Gl");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n("/s5C");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var f=n("OgxK");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n("Z9SM");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=r(n("HwBb"));t.Satistics=d},z4Hk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n("406g"),i=n("RR/i"),a=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var t=null!==e.target&&!e.target.isNamed()&&!e.target.isTagged();return t},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=a},z8NH:function(e,t,n){var r=n("dOgj");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},zBJ4:function(e,t,n){var r=n("2oRo"),i=n("hh1v"),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),a=n("mdPL"),o=a&&a.isMap,s=o?i(o):r;e.exports=s},zKZe:function(e,t,n){var r=n("I+eb"),i=n("YNrV");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},zLVn:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},zT1h:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("i8i4"),i=n.n(r);function a(e,t,n,r){var a=i.a.unstable_batchedUpdates?function(e){i.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,a,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,a)}}}},zT9C:function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",a=9007199254740991,o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",p="[object GeneratorFunction]",d="[object Map]",h="[object Number]",v="[object Object]",m="[object Promise]",y="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",x="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",O="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",M="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",R=/[\\^$.*+?()[\]{}|]/g,j=/\w*$/,L=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,D={};D[o]=D[s]=D[w]=D[E]=D[u]=D[l]=D[S]=D[k]=D[O]=D[T]=D[C]=D[d]=D[h]=D[v]=D[y]=D[g]=D[b]=D[_]=D[A]=D[M]=D[P]=D[I]=!0,D[c]=D[f]=D[x]=!1;var F="object"==typeof e&&e&&e.Object===Object&&e,z="object"==typeof self&&self&&self.Object===Object&&self,B=F||z||Function("return this")(),U=t&&!t.nodeType&&t,V=U&&"object"==typeof n&&n&&!n.nodeType&&n,H=V&&V.exports===U;function W(e,t){return e.set(t[0],t[1]),e}function q(e,t){return e.add(t),e}function G(e,t){var n=-1,r=e?e.length:0;while(++n<r)if(!1===t(e[n],n,e))break;return e}function Z(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function Y(e,t,n,r){var i=-1,a=e?e.length:0;r&&a&&(n=e[++i]);while(++i<a)n=t(n,e[i],i,e);return n}function X(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function K(e,t){return null==e?void 0:e[t]}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function Q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function $(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=B["__core-js_shared__"],ae=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=ne.toString,se=re.hasOwnProperty,ue=re.toString,le=RegExp("^"+oe.call(se).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=H?B.Buffer:void 0,fe=B.Symbol,pe=B.Uint8Array,de=$(Object.getPrototypeOf,Object),he=Object.create,ve=re.propertyIsEnumerable,me=te.splice,ye=Object.getOwnPropertySymbols,ge=ce?ce.isBuffer:void 0,be=$(Object.keys,Object),_e=Ot(B,"DataView"),xe=Ot(B,"Map"),we=Ot(B,"Promise"),Ee=Ot(B,"Set"),Se=Ot(B,"WeakMap"),ke=Ot(Object,"create"),Oe=Nt(_e),Te=Nt(xe),Ce=Nt(we),Ae=Nt(Ee),Me=Nt(Se),Pe=fe?fe.prototype:void 0,Ie=Pe?Pe.valueOf:void 0;function Re(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function je(){this.__data__=ke?ke(null):{}}function Le(e){return this.has(e)&&delete this.__data__[e]}function Ne(e){var t=this.__data__;if(ke){var n=t[e];return n===i?void 0:n}return se.call(t,e)?t[e]:void 0}function De(e){var t=this.__data__;return ke?void 0!==t[e]:se.call(t,e)}function Fe(e,t){var n=this.__data__;return n[e]=ke&&void 0===t?i:t,this}function ze(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Be(){this.__data__=[]}function Ue(e){var t=this.__data__,n=at(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():me.call(t,n,1),!0}function Ve(e){var t=this.__data__,n=at(t,e);return n<0?void 0:t[n][1]}function He(e){return at(this.__data__,e)>-1}function We(e,t){var n=this.__data__,r=at(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function qe(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ge(){this.__data__={hash:new Re,map:new(xe||ze),string:new Re}}function Ze(e){return kt(this,e)["delete"](e)}function Ye(e){return kt(this,e).get(e)}function Xe(e){return kt(this,e).has(e)}function Ke(e,t){return kt(this,e).set(e,t),this}function Je(e){this.__data__=new ze(e)}function Qe(){this.__data__=new ze}function $e(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function nt(e,t){var n=this.__data__;if(n instanceof ze){var i=n.__data__;if(!xe||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new qe(i)}return n.set(e,t),this}function rt(e,t){var n=Bt(e)||zt(e)?X(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!se.call(e,a)||i&&("length"==a||It(a,r))||n.push(a);return n}function it(e,t,n){var r=e[t];se.call(e,t)&&Ft(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function at(e,t){var n=e.length;while(n--)if(Ft(e[n][0],t))return n;return-1}function ot(e,t){return e&&wt(t,Yt(t),e)}function st(e,t,n,r,i,a,s){var u;if(r&&(u=a?r(e,i,a,s):r(e)),void 0!==u)return u;if(!Gt(e))return e;var l=Bt(e);if(l){if(u=At(e),!t)return xt(e,u)}else{var c=Ct(e),d=c==f||c==p;if(Ht(e))return dt(e,t);if(c==v||c==o||d&&!a){if(J(e))return a?e:{};if(u=Mt(d?{}:e),!t)return Et(e,ot(u,e))}else{if(!D[c])return a?e:{};u=Pt(e,c,st,t)}}s||(s=new Je);var h=s.get(e);if(h)return h;if(s.set(e,u),!l)var m=n?St(e):Yt(e);return G(m||e,(function(i,a){m&&(a=i,i=e[a]),it(u,a,st(i,t,n,r,a,e,s))})),u}function ut(e){return Gt(e)?he(e):{}}function lt(e,t,n){var r=t(e);return Bt(e)?r:Z(r,n(e))}function ct(e){return ue.call(e)}function ft(e){if(!Gt(e)||jt(e))return!1;var t=Wt(e)||J(e)?le:L;return t.test(Nt(e))}function pt(e){if(!Lt(e))return be(e);var t=[];for(var n in Object(e))se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function dt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ht(e){var t=new e.constructor(e.byteLength);return new pe(t).set(new pe(e)),t}function vt(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function mt(e,t,n){var r=t?n(Q(e),!0):Q(e);return Y(r,W,new e.constructor)}function yt(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}function gt(e,t,n){var r=t?n(ee(e),!0):ee(e);return Y(r,q,new e.constructor)}function bt(e){return Ie?Object(Ie.call(e)):{}}function _t(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xt(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function wt(e,t,n,r){n||(n={});var i=-1,a=t.length;while(++i<a){var o=t[i],s=r?r(n[o],e[o],o,n,e):void 0;it(n,o,void 0===s?e[o]:s)}return n}function Et(e,t){return wt(e,Tt(e),t)}function St(e){return lt(e,Yt,Tt)}function kt(e,t){var n=e.__data__;return Rt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ot(e,t){var n=K(e,t);return ft(n)?n:void 0}Re.prototype.clear=je,Re.prototype["delete"]=Le,Re.prototype.get=Ne,Re.prototype.has=De,Re.prototype.set=Fe,ze.prototype.clear=Be,ze.prototype["delete"]=Ue,ze.prototype.get=Ve,ze.prototype.has=He,ze.prototype.set=We,qe.prototype.clear=Ge,qe.prototype["delete"]=Ze,qe.prototype.get=Ye,qe.prototype.has=Xe,qe.prototype.set=Ke,Je.prototype.clear=Qe,Je.prototype["delete"]=$e,Je.prototype.get=et,Je.prototype.has=tt,Je.prototype.set=nt;var Tt=ye?$(ye,Object):Xt,Ct=ct;function At(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Mt(e){return"function"!=typeof e.constructor||Lt(e)?{}:ut(de(e))}function Pt(e,t,n,r){var i=e.constructor;switch(t){case w:return ht(e);case u:case l:return new i(+e);case E:return vt(e,r);case S:case k:case O:case T:case C:case A:case M:case P:case I:return _t(e,r);case d:return mt(e,r,n);case h:case b:return new i(e);case y:return yt(e);case g:return gt(e,r,n);case _:return bt(e)}}function It(e,t){return t=null==t?a:t,!!t&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Rt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function jt(e){return!!ae&&ae in e}function Lt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||re;return e===n}function Nt(e){if(null!=e){try{return oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Dt(e){return st(e,!0,!0)}function Ft(e,t){return e===t||e!==e&&t!==t}function zt(e){return Vt(e)&&se.call(e,"callee")&&(!ve.call(e,"callee")||ue.call(e)==o)}(_e&&Ct(new _e(new ArrayBuffer(1)))!=E||xe&&Ct(new xe)!=d||we&&Ct(we.resolve())!=m||Ee&&Ct(new Ee)!=g||Se&&Ct(new Se)!=x)&&(Ct=function(e){var t=ue.call(e),n=t==v?e.constructor:void 0,r=n?Nt(n):void 0;if(r)switch(r){case Oe:return E;case Te:return d;case Ce:return m;case Ae:return g;case Me:return x}return t});var Bt=Array.isArray;function Ut(e){return null!=e&&qt(e.length)&&!Wt(e)}function Vt(e){return Zt(e)&&Ut(e)}var Ht=ge||Kt;function Wt(e){var t=Gt(e)?ue.call(e):"";return t==f||t==p}function qt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Gt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Zt(e){return!!e&&"object"==typeof e}function Yt(e){return Ut(e)?rt(e):pt(e)}function Xt(){return[]}function Kt(){return!1}n.exports=Dt}).call(this,n("IyRk"),n("hOG+")(e))},zYLY:function(e,t,n){"use strict";function r(){var e=n("q1tI");return r=function(){return e},e}function i(e,t){return l(e)||u(e,t)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0)if(a.push(r.value),t&&a.length===t)break}catch(u){s=!0,i=u}finally{try{o||null==n["return"]||n["return"]()}finally{if(s)throw i}}return a}}function l(e){if(Array.isArray(e))return e}function c(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(a<t.length){var o=t[a],s=function(){return c(e,t,n,a+1)},u=o.match(/^([^:]+):?(.*)$/)||[],l=i(u,3),f=l[1],p=l[2];switch(f){case"autoplay":s();break;case"click":var d=p.match(/^(global\()?(.+?)\)?$/)||[],h=i(d,3),v=h[1],m=h[2],y=v?document:e;null===(r=y.querySelector(m))||void 0===r||r.click(),s();break;case"timeout":setTimeout(s,Number(p));break;case"capture":window.postMessage({type:"dumi:capture-element",value:p},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(o,"', skip.")),s()}}else n()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var f=function(e,t){var n=(0,r().useState)(!1),a=i(n,2),o=a[0],s=a[1],u=(0,r().useCallback)((function(){o||(c(t,e,(function(){s(!1)})),s(!0))}),[e,t,o]);return(0,r().useEffect)((function(){"autoplay"===e[0]&&t&&u()}),[e,t]),[u,o]};t["default"]=f},zZ0H:function(e,t){function n(e){return e}e.exports=n},zfnd:function(e,t,n){var r=n("glrk"),i=n("hh1v"),a=n("8GlL");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},ziQ1:function(e,t,n){"use strict";n.r(t),n.d(t,"scaleBand",(function(){return g})),n.d(t,"scalePoint",(function(){return _})),n.d(t,"scaleIdentity",(function(){return Ae})),n.d(t,"scaleLinear",(function(){return Ce})),n.d(t,"scaleLog",(function(){return Be})),n.d(t,"scaleSymlog",(function(){return We})),n.d(t,"scaleOrdinal",(function(){return y})),n.d(t,"scaleImplicit",(function(){return m})),n.d(t,"scalePow",(function(){return Xe})),n.d(t,"scaleSqrt",(function(){return Ke})),n.d(t,"scaleQuantile",(function(){return Je})),n.d(t,"scaleQuantize",(function(){return Qe})),n.d(t,"scaleThreshold",(function(){return $e})),n.d(t,"scaleTime",(function(){return Sr})),n.d(t,"scaleUtc",(function(){return Pr})),n.d(t,"scaleSequential",(function(){return jr})),n.d(t,"scaleSequentialLog",(function(){return Lr})),n.d(t,"scaleSequentialPow",(function(){return Dr})),n.d(t,"scaleSequentialSqrt",(function(){return Fr})),n.d(t,"scaleSequentialSymlog",(function(){return Nr})),n.d(t,"scaleSequentialQuantile",(function(){return zr})),n.d(t,"scaleDiverging",(function(){return Ur})),n.d(t,"scaleDivergingLog",(function(){return Vr})),n.d(t,"scaleDivergingPow",(function(){return Wr})),n.d(t,"scaleDivergingSqrt",(function(){return qr})),n.d(t,"scaleDivergingSymlog",(function(){return Hr})),n.d(t,"tickFormat",(function(){return Oe}));var r=n("vBe5");function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function a(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var o="$";function s(){}function u(e,t){var n=new s;if(e instanceof s)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)while(++i<a)n.set(i,e[i]);else while(++i<a)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}s.prototype=u.prototype={constructor:s,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}};var l=u;function c(){}var f=l.prototype;function p(e,t){var n=new c;if(e instanceof c)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)while(++r<i)n.add(e[r]);else while(++r<i)n.add(t(e[r],r,e))}return n}c.prototype=p.prototype={constructor:c,has:f.has,add:function(e){return e+="",this[o+e]=e,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var d=Array.prototype,h=d.map,v=d.slice,m={name:"implicit"};function y(){var e=l(),t=[],n=[],r=m;function a(i){var a=i+"",o=e.get(a);if(!o){if(r!==m)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=l();var r,i,o=-1,s=n.length;while(++o<s)e.has(i=(r=n[o])+"")||e.set(i,t.push(r));return a},a.range=function(e){return arguments.length?(n=v.call(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return y(t,n).unknown(r)},i.apply(a,arguments),a}function g(){var e,t,n=y().unknown(void 0),a=n.domain,o=n.range,s=[0,1],u=!1,l=0,c=0,f=.5;function p(){var n=a().length,i=s[1]<s[0],p=s[i-0],d=s[1-i];e=(d-p)/Math.max(1,n-l+2*c),u&&(e=Math.floor(e)),p+=(d-p-e*(n-l))*f,t=e*(1-l),u&&(p=Math.round(p),t=Math.round(t));var h=Object(r["range"])(n).map((function(t){return p+e*t}));return o(i?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(a(e),p()):a()},n.range=function(e){return arguments.length?(s=[+e[0],+e[1]],p()):s.slice()},n.rangeRound=function(e){return s=[+e[0],+e[1]],u=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,p()):u},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),p()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),p()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,p()):c},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),p()):f},n.copy=function(){return g(a(),s).round(u).paddingInner(l).paddingOuter(c).align(f)},i.apply(p(),arguments)}function b(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b(t())},e}function _(){return b(g.apply(null,arguments).paddingInner(1))}var x=n("FmoU");function w(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}var E=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return w((n-r/t)*t,o,i,a,s)}},S=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return w((n-r/t)*t,i,a,o,s)}},k=function(e){return function(){return e}};function O(e,t){return function(n){return e+n*t}}function T(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function C(e){return 1===(e=+e)?A:function(t,n){return n-t?T(t,n,e):k(isNaN(t)?n:t)}}function A(e,t){var n=t-e;return n?O(e,n):k(isNaN(e)?t:e)}var M=function e(t){var n=C(t);function r(e,t){var r=n((e=Object(x["g"])(e)).r,(t=Object(x["g"])(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=A(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function P(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Object(x["g"])(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}P(E),P(S);var I=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}};function R(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=H(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}var L=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},N=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},D=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=H(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},F=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp(F.source,"g");function B(e){return function(){return e}}function U(e){return function(t){return e(t)+""}}var V=function(e,t){var n,r,i,a=F.lastIndex=z.lastIndex=0,o=-1,s=[],u=[];e+="",t+="";while((n=F.exec(e))&&(r=z.exec(t)))(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:N(n,r)})),a=z.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?U(u[0].x):B(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},H=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?k(t):("number"===r?N:"string"===r?(n=Object(x["e"])(t))?(t=n,M):V:t instanceof x["e"]?M:t instanceof Date?L:R(t)?I:Array.isArray(t)?j:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?D:N)(e,t)},W=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},q=function(e){return function(){return e}},G=function(e){return+e},Z=[0,1];function Y(e){return e}function X(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:q(isNaN(t)?NaN:.5)}function K(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function J(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=X(i,r),a=n(o,a)):(r=X(r,i),a=n(a,o)),function(e){return a(r(e))}}function Q(e,t,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++s<i)a[s]=X(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=Object(r["bisect"])(e,t,1,i)-1;return o[n](a[n](t))}}function $(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ee(){var e,t,n,r,i,a,o=Z,s=Z,u=H,l=Y;function c(){return r=Math.min(o.length,s.length)>2?Q:J,i=a=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(o.map(e),s,u)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(s,o.map(e),N)))(n)))},f.domain=function(e){return arguments.length?(o=h.call(e,G),l===Y||(l=K(o)),c()):o.slice()},f.range=function(e){return arguments.length?(s=v.call(e),c()):s.slice()},f.rangeRound=function(e){return s=v.call(e),u=W,c()},f.clamp=function(e){return arguments.length?(l=e?K(o):Y,f):l!==Y},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function te(e,t){return ee()(e,t)}var ne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function re(e){if(!(t=ne.exec(e)))throw new Error("invalid format: "+e);var t;return new ie({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ie(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}re.prototype=ie.prototype,ie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ae=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)};function oe(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var se,ue,le,ce,fe=function(e){return e=oe(Math.abs(e)),e?e[1]:NaN},pe=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fe(t)/3)))-fe(Math.abs(e)))},de=function(e,t){return function(n,r){var i=n.length,a=[],o=0,s=e[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=e[o=(o+1)%e.length]}return a.reverse().join(t)}},he=function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}},ve=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(t+1):e},me=function(e,t){var n=oe(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(se=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+oe(e,Math.max(0,t+a-1))[0]},ye=function(e,t){var n=oe(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},ge={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:ae,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ye(100*e,t)},r:ye,s:me,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},be=function(e){return e},_e=Array.prototype.map,xe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],we=function(e){var t=void 0===e.grouping||void 0===e.thousands?be:de(_e.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?be:he(_e.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function l(e){e=re(e);var l=e.fill,c=e.align,f=e.sign,p=e.symbol,d=e.zero,h=e.width,v=e.comma,m=e.precision,y=e.trim,g=e.type;"n"===g?(v=!0,g="g"):ge[g]||(void 0===m&&(m=12),y=!0,g="g"),(d||"0"===l&&"="===c)&&(d=!0,l="0",c="=");var b="$"===p?n:"#"===p&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===p?r:/[%p]/.test(g)?o:"",x=ge[g],w=/[defgprs%]/.test(g);function E(e){var n,r,o,p=b,E=_;if("c"===g)E=x(e)+E,e="";else{e=+e;var S=e<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),m),y&&(e=ve(e)),S&&0===+e&&"+"!==f&&(S=!1),p=(S?"("===f?f:s:"-"===f||"("===f?"":f)+p,E=("s"===g?xe[8+se/3]:"")+E+(S&&"("===f?")":""),w){n=-1,r=e.length;while(++n<r)if(o=e.charCodeAt(n),48>o||o>57){E=(46===o?i+e.slice(n+1):e.slice(n))+E,e=e.slice(0,n);break}}}v&&!d&&(e=t(e,1/0));var k=p.length+e.length+E.length,O=k<h?new Array(h-k+1).join(l):"";switch(v&&d&&(e=t(O+e,O.length?h-E.length:1/0),O=""),c){case"<":e=p+e+E+O;break;case"=":e=p+O+e+E;break;case"^":e=O.slice(0,k=O.length>>1)+p+e+E+O.slice(k);break;default:e=O+p+e+E;break}return a(e)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),E.toString=function(){return e+""},E}function c(e,t){var n=l((e=re(e),e.type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(fe(t)/3))),i=Math.pow(10,-r),a=xe[8+r/3];return function(e){return n(i*e)+a}}return{format:l,formatPrefix:c}};function Ee(e){return ue=we(e),le=ue.format,ce=ue.formatPrefix,ue}Ee({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Se=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fe(t)-fe(e))+1},ke=function(e){return Math.max(0,-fe(Math.abs(e)))},Oe=function(e,t,n,i){var a,o=Object(r["tickStep"])(e,t,n);switch(i=re(null==i?",f":i),i.type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(a=pe(o,s))||(i.precision=a),ce(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(a=Se(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=a-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(a=ke(o))||(i.precision=a-2*("%"===i.type));break}return le(i)};function Te(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(r["ticks"])(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Oe(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,a=t(),o=0,s=a.length-1,u=a[o],l=a[s];return l<u&&(i=u,u=l,l=i,i=o,o=s,s=i),i=Object(r["tickIncrement"])(u,l,n),i>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=Object(r["tickIncrement"])(u,l,n)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=Object(r["tickIncrement"])(u,l,n)),i>0?(a[o]=Math.floor(u/i)*i,a[s]=Math.ceil(l/i)*i,t(a)):i<0&&(a[o]=Math.ceil(u*i)/i,a[s]=Math.floor(l*i)/i,t(a)),e},e}function Ce(){var e=te(Y,Y);return e.copy=function(){return $(e,Ce())},i.apply(e,arguments),Te(e)}function Ae(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=h.call(t,G),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Ae(e).unknown(t)},e=arguments.length?h.call(e,G):[0,1],Te(n)}var Me=function(e,t){e=e.slice();var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e};function Pe(e){return Math.log(e)}function Ie(e){return Math.exp(e)}function Re(e){return-Math.log(-e)}function je(e){return-Math.exp(-e)}function Le(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ne(e){return 10===e?Le:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function De(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Fe(e){return function(t){return-e(-t)}}function ze(e){var t,n,i=e(Pe,Ie),a=i.domain,o=10;function s(){return t=De(o),n=Ne(o),a()[0]<0?(t=Fe(t),n=Fe(n),e(Re,je)):e(Pe,Ie),i}return i.base=function(e){return arguments.length?(o=+e,s()):o},i.domain=function(e){return arguments.length?(a(e),s()):a()},i.ticks=function(e){var i,s=a(),u=s[0],l=s[s.length-1];(i=l<u)&&(d=u,u=l,l=d);var c,f,p,d=t(u),h=t(l),v=null==e?10:+e,m=[];if(!(o%1)&&h-d<v){if(d=Math.round(d)-1,h=Math.round(h)+1,u>0){for(;d<h;++d)for(f=1,c=n(d);f<o;++f)if(p=c*f,!(p<u)){if(p>l)break;m.push(p)}}else for(;d<h;++d)for(f=o-1,c=n(d);f>=1;--f)if(p=c*f,!(p<u)){if(p>l)break;m.push(p)}}else m=Object(r["ticks"])(d,h,Math.min(h-d,v)).map(n);return i?m.reverse():m},i.tickFormat=function(e,r){if(null==r&&(r=10===o?".0e":","),"function"!==typeof r&&(r=le(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,o*e/i.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*o<o-.5&&(i*=o),i<=a?r(e):""}},i.nice=function(){return a(Me(a(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},i}function Be(){var e=ze(ee()).domain([1,10]);return e.copy=function(){return $(e,Be()).base(e.base())},i.apply(e,arguments),e}function Ue(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ve(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function He(e){var t=1,n=e(Ue(t),Ve(t));return n.constant=function(n){return arguments.length?e(Ue(t=+n),Ve(t)):t},Te(n)}function We(){var e=He(ee());return e.copy=function(){return $(e,We()).constant(e.constant())},i.apply(e,arguments)}function qe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ze(e){return e<0?-e*e:e*e}function Ye(e){var t=e(Y,Y),n=1;function r(){return 1===n?e(Y,Y):.5===n?e(Ge,Ze):e(qe(n),qe(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Te(t)}function Xe(){var e=Ye(ee());return e.copy=function(){return $(e,Xe()).exponent(e.exponent())},i.apply(e,arguments),e}function Ke(){return Xe.apply(null,arguments).exponent(.5)}function Je(){var e,t=[],n=[],a=[];function o(){var e=0,i=Math.max(1,n.length);a=new Array(i-1);while(++e<i)a[e-1]=Object(r["quantile"])(t,e/i);return s}function s(t){return isNaN(t=+t)?e:n[Object(r["bisect"])(a,t)]}return s.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?a[r-1]:t[0],r<a.length?a[r]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,i=0,a=e.length;i<a;++i)n=e[i],null==n||isNaN(n=+n)||t.push(n);return t.sort(r["ascending"]),o()},s.range=function(e){return arguments.length?(n=v.call(e),o()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return a.slice()},s.copy=function(){return Je().domain(t).range(n).unknown(e)},i.apply(s,arguments)}function Qe(){var e,t=0,n=1,a=1,o=[.5],s=[0,1];function u(t){return t<=t?s[Object(r["bisect"])(o,t,0,a)]:e}function l(){var e=-1;o=new Array(a);while(++e<a)o[e]=((e+1)*n-(e-a)*t)/(a+1);return u}return u.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],l()):[t,n]},u.range=function(e){return arguments.length?(a=(s=v.call(e)).length-1,l()):s.slice()},u.invertExtent=function(e){var r=s.indexOf(e);return r<0?[NaN,NaN]:r<1?[t,o[0]]:r>=a?[o[a-1],n]:[o[r-1],o[r]]},u.unknown=function(t){return arguments.length?(e=t,u):u},u.thresholds=function(){return o.slice()},u.copy=function(){return Qe().domain([t,n]).range(s).unknown(e)},i.apply(Te(u),arguments)}function $e(){var e,t=[.5],n=[0,1],a=1;function o(i){return i<=i?n[Object(r["bisect"])(t,i,0,a)]:e}return o.domain=function(e){return arguments.length?(t=v.call(e),a=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=v.call(e),a=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return $e().domain(t).range(n).unknown(e)},i.apply(o,arguments)}var et=new Date,tt=new Date;function nt(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=function(n){return nt((function(t){if(t>=t)while(e(t),!n(t))t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)while(++r<=0)while(t(e,-1),!n(e));else while(--r>=0)while(t(e,1),!n(e));}))},n&&(i.count=function(t,r){return et.setTime(+t),tt.setTime(+r),e(et),e(tt),Math.floor(n(et,tt))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var rt=nt((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));rt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?nt((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var it=rt,at=(rt.range,nt((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),ot=at,st=(at.range,1e3),ut=6e4,lt=36e5,ct=864e5,ft=6048e5;function pt(e){return nt((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ut)/ft}))}var dt=pt(0),ht=pt(1),vt=pt(2),mt=pt(3),yt=pt(4),gt=pt(5),bt=pt(6),_t=(dt.range,ht.range,vt.range,mt.range,yt.range,gt.range,bt.range,nt((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ut)/ct}),(function(e){return e.getDate()-1}))),xt=_t,wt=(_t.range,nt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*st-e.getMinutes()*ut)}),(function(e,t){e.setTime(+e+t*lt)}),(function(e,t){return(t-e)/lt}),(function(e){return e.getHours()}))),Et=wt,St=(wt.range,nt((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*st)}),(function(e,t){e.setTime(+e+t*ut)}),(function(e,t){return(t-e)/ut}),(function(e){return e.getMinutes()}))),kt=St,Ot=(St.range,nt((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*st)}),(function(e,t){return(t-e)/st}),(function(e){return e.getUTCSeconds()}))),Tt=Ot,Ct=(Ot.range,nt((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));Ct.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?nt((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):Ct:null};var At=Ct;Ct.range;function Mt(e){return nt((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/ft}))}var Pt=Mt(0),It=Mt(1),Rt=Mt(2),jt=Mt(3),Lt=Mt(4),Nt=Mt(5),Dt=Mt(6),Ft=(Pt.range,It.range,Rt.range,jt.range,Lt.range,Nt.range,Dt.range,nt((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/ct}),(function(e){return e.getUTCDate()-1}))),zt=Ft,Bt=(Ft.range,nt((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));Bt.every=function(e){return isFinite(e=Math.floor(e))&&e>0?nt((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Ut=Bt;Bt.range;function Vt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ht(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=tn(i),c=nn(i),f=tn(a),p=nn(a),d=tn(o),h=nn(o),v=tn(s),m=nn(s),y=tn(u),g=nn(u),b={a:R,A:j,b:L,B:N,c:null,d:Sn,e:Sn,f:An,g:Bn,G:Vn,H:kn,I:On,j:Tn,L:Cn,m:Mn,M:Pn,p:D,q:F,Q:fr,s:pr,S:In,u:Rn,U:jn,V:Nn,w:Dn,W:Fn,x:null,X:null,y:zn,Y:Un,Z:Hn,"%":cr},_={a:z,A:B,b:U,B:V,c:null,d:Wn,e:Wn,f:Xn,g:or,G:ur,H:qn,I:Gn,j:Zn,L:Yn,m:Kn,M:Jn,p:H,q:W,Q:fr,s:pr,S:Qn,u:$n,U:er,V:nr,w:rr,W:ir,x:null,X:null,y:ar,Y:sr,Z:lr,"%":cr},x={a:O,A:T,b:C,B:A,c:M,d:hn,e:hn,f:_n,g:cn,G:ln,H:mn,I:mn,j:vn,L:bn,m:dn,M:yn,p:k,q:pn,Q:wn,s:En,S:gn,u:an,U:on,V:sn,w:rn,W:un,x:P,X:I,y:cn,Y:ln,Z:fn,"%":xn};function w(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,l=e.length;n instanceof Date||(n=new Date(+n));while(++s<l)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=Xt[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function E(e,t){return function(n){var r,i,a=Wt(1900,void 0,1),o=S(a,e,n+="",0);if(o!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=Ht(Wt(a.y,0,1)),i=r.getUTCDay(),r=i>4||0===i?It.ceil(r):It(r),r=zt.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=Vt(Wt(a.y,0,1)),i=r.getDay(),r=i>4||0===i?ht.ceil(r):ht(r),r=xt.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Ht(Wt(a.y,0,1)).getUTCDay():Vt(Wt(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ht(a)):Vt(a)}}function S(e,t,n,r){var i,a,o=0,s=t.length,u=n.length;while(o<s){if(r>=u)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=x[i in Xt?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function k(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1}function O(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1}function T(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1}function C(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1}function A(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m[r[0].toLowerCase()],n+r[0].length):-1}function M(e,n,r){return S(e,t,n,r)}function P(e,t,r){return S(e,n,t,r)}function I(e,t,n){return S(e,r,t,n)}function R(e){return o[e.getDay()]}function j(e){return a[e.getDay()]}function L(e){return u[e.getMonth()]}function N(e){return s[e.getMonth()]}function D(e){return i[+(e.getHours()>=12)]}function F(e){return 1+~~(e.getMonth()/3)}function z(e){return o[e.getUTCDay()]}function B(e){return a[e.getUTCDay()]}function U(e){return u[e.getUTCMonth()]}function V(e){return s[e.getUTCMonth()]}function H(e){return i[+(e.getUTCHours()>=12)]}function W(e){return 1+~~(e.getUTCMonth()/3)}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}var Gt,Zt,Yt,Xt={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,Jt=/^%/,Qt=/[\\^$*+?|[\]().{}]/g;function $t(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function en(e){return e.replace(Qt,"\\$&")}function tn(e){return new RegExp("^(?:"+e.map(en).join("|")+")","i")}function nn(e){var t={},n=-1,r=e.length;while(++n<r)t[e[n].toLowerCase()]=n;return t}function rn(e,t,n){var r=Kt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function an(e,t,n){var r=Kt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function on(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function un(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ln(e,t,n){var r=Kt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pn(e,t,n){var r=Kt.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function dn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function vn(e,t,n){var r=Kt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function mn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function yn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gn(e,t,n){var r=Kt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bn(e,t,n){var r=Kt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _n(e,t,n){var r=Kt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xn(e,t,n){var r=Jt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wn(e,t,n){var r=Kt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function En(e,t,n){var r=Kt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Sn(e,t){return $t(e.getDate(),t,2)}function kn(e,t){return $t(e.getHours(),t,2)}function On(e,t){return $t(e.getHours()%12||12,t,2)}function Tn(e,t){return $t(1+xt.count(it(e),e),t,3)}function Cn(e,t){return $t(e.getMilliseconds(),t,3)}function An(e,t){return Cn(e,t)+"000"}function Mn(e,t){return $t(e.getMonth()+1,t,2)}function Pn(e,t){return $t(e.getMinutes(),t,2)}function In(e,t){return $t(e.getSeconds(),t,2)}function Rn(e){var t=e.getDay();return 0===t?7:t}function jn(e,t){return $t(dt.count(it(e)-1,e),t,2)}function Ln(e){var t=e.getDay();return t>=4||0===t?yt(e):yt.ceil(e)}function Nn(e,t){return e=Ln(e),$t(yt.count(it(e),e)+(4===it(e).getDay()),t,2)}function Dn(e){return e.getDay()}function Fn(e,t){return $t(ht.count(it(e)-1,e),t,2)}function zn(e,t){return $t(e.getFullYear()%100,t,2)}function Bn(e,t){return e=Ln(e),$t(e.getFullYear()%100,t,2)}function Un(e,t){return $t(e.getFullYear()%1e4,t,4)}function Vn(e,t){var n=e.getDay();return e=n>=4||0===n?yt(e):yt.ceil(e),$t(e.getFullYear()%1e4,t,4)}function Hn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function Wn(e,t){return $t(e.getUTCDate(),t,2)}function qn(e,t){return $t(e.getUTCHours(),t,2)}function Gn(e,t){return $t(e.getUTCHours()%12||12,t,2)}function Zn(e,t){return $t(1+zt.count(Ut(e),e),t,3)}function Yn(e,t){return $t(e.getUTCMilliseconds(),t,3)}function Xn(e,t){return Yn(e,t)+"000"}function Kn(e,t){return $t(e.getUTCMonth()+1,t,2)}function Jn(e,t){return $t(e.getUTCMinutes(),t,2)}function Qn(e,t){return $t(e.getUTCSeconds(),t,2)}function $n(e){var t=e.getUTCDay();return 0===t?7:t}function er(e,t){return $t(Pt.count(Ut(e)-1,e),t,2)}function tr(e){var t=e.getUTCDay();return t>=4||0===t?Lt(e):Lt.ceil(e)}function nr(e,t){return e=tr(e),$t(Lt.count(Ut(e),e)+(4===Ut(e).getUTCDay()),t,2)}function rr(e){return e.getUTCDay()}function ir(e,t){return $t(It.count(Ut(e)-1,e),t,2)}function ar(e,t){return $t(e.getUTCFullYear()%100,t,2)}function or(e,t){return e=tr(e),$t(e.getUTCFullYear()%100,t,2)}function sr(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function ur(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Lt(e):Lt.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function lr(){return"+0000"}function cr(){return"%"}function fr(e){return+e}function pr(e){return Math.floor(+e/1e3)}function dr(e){return Gt=qt(e),Zt=Gt.format,Gt.parse,Yt=Gt.utcFormat,Gt.utcParse,Gt}dr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var hr=1e3,vr=60*hr,mr=60*vr,yr=24*mr,gr=7*yr,br=30*yr,_r=365*yr;function xr(e){return new Date(e)}function wr(e){return e instanceof Date?+e:+new Date(+e)}function Er(e,t,n,i,a,o,s,u,l){var c=te(Y,Y),f=c.invert,p=c.domain,d=l(".%L"),v=l(":%S"),m=l("%I:%M"),y=l("%I %p"),g=l("%a %d"),b=l("%b %d"),_=l("%B"),x=l("%Y"),w=[[s,1,hr],[s,5,5*hr],[s,15,15*hr],[s,30,30*hr],[o,1,vr],[o,5,5*vr],[o,15,15*vr],[o,30,30*vr],[a,1,mr],[a,3,3*mr],[a,6,6*mr],[a,12,12*mr],[i,1,yr],[i,2,2*yr],[n,1,gr],[t,1,br],[t,3,3*br],[e,1,_r]];function E(r){return(s(r)<r?d:o(r)<r?v:a(r)<r?m:i(r)<r?y:t(r)<r?n(r)<r?g:b:e(r)<r?_:x)(r)}function S(t,n,i,a){if(null==t&&(t=10),"number"===typeof t){var o=Math.abs(i-n)/t,s=Object(r["bisector"])((function(e){return e[2]})).right(w,o);s===w.length?(a=Object(r["tickStep"])(n/_r,i/_r,t),t=e):s?(s=w[o/w[s-1][2]<w[s][2]/o?s-1:s],a=s[1],t=s[0]):(a=Math.max(Object(r["tickStep"])(n,i,t),1),t=u)}return null==a?t:t.every(a)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?p(h.call(e,wr)):p().map(xr)},c.ticks=function(e,t){var n,r=p(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=S(e,i,a,t),n=n?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(e,t){return null==t?E:l(t)},c.nice=function(e,t){var n=p();return(e=S(e,n[0],n[n.length-1],t))?p(Me(n,e)):c},c.copy=function(){return $(c,Er(e,t,n,i,a,o,s,u,l))},c}var Sr=function(){return i.apply(Er(it,ot,dt,xt,Et,kt,Tt,At,Zt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},kr=nt((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Or=kr,Tr=(kr.range,nt((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*lt)}),(function(e,t){return(t-e)/lt}),(function(e){return e.getUTCHours()}))),Cr=Tr,Ar=(Tr.range,nt((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*ut)}),(function(e,t){return(t-e)/ut}),(function(e){return e.getUTCMinutes()}))),Mr=Ar,Pr=(Ar.range,function(){return i.apply(Er(Ut,Or,Pt,zt,Cr,Mr,Tt,At,Yt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)});function Ir(){var e,t,n,r,i,a=0,o=1,s=Y,u=!1;function l(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}return l.domain=function(i){return arguments.length?(e=r(a=+i[0]),t=r(o=+i[1]),n=e===t?0:1/(t-e),l):[a,o]},l.clamp=function(e){return arguments.length?(u=!!e,l):u},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),l}}function Rr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jr(){var e=Te(Ir()(Y));return e.copy=function(){return Rr(e,jr())},a.apply(e,arguments)}function Lr(){var e=ze(Ir()).domain([1,10]);return e.copy=function(){return Rr(e,Lr()).base(e.base())},a.apply(e,arguments)}function Nr(){var e=He(Ir());return e.copy=function(){return Rr(e,Nr()).constant(e.constant())},a.apply(e,arguments)}function Dr(){var e=Ye(Ir());return e.copy=function(){return Rr(e,Dr()).exponent(e.exponent())},a.apply(e,arguments)}function Fr(){return Dr.apply(null,arguments).exponent(.5)}function zr(){var e=[],t=Y;function n(n){if(!isNaN(n=+n))return t((Object(r["bisect"])(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var i,a=0,o=t.length;a<o;++a)i=t[a],null==i||isNaN(i=+i)||e.push(i);return e.sort(r["ascending"]),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return zr(t).domain(e)},a.apply(n,arguments)}function Br(){var e,t,n,r,i,a,o,s=0,u=.5,l=1,c=Y,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(e<t?r:i),c(f?Math.max(0,Math.min(1,e)):e))}return p.domain=function(o){return arguments.length?(e=a(s=+o[0]),t=a(u=+o[1]),n=a(l=+o[2]),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p):[s,u,l]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(c=e,p):c},p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(u),n=o(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),p}}function Ur(){var e=Te(Br()(Y));return e.copy=function(){return Rr(e,Ur())},a.apply(e,arguments)}function Vr(){var e=ze(Br()).domain([.1,1,10]);return e.copy=function(){return Rr(e,Vr()).base(e.base())},a.apply(e,arguments)}function Hr(){var e=He(Br());return e.copy=function(){return Rr(e,Hr()).constant(e.constant())},a.apply(e,arguments)}function Wr(){var e=Ye(Br());return e.copy=function(){return Rr(e,Wr()).exponent(e.exponent())},a.apply(e,arguments)}function qr(){return Wr.apply(null,arguments).exponent(.5)}},zk60:function(e,t,n){var r=n("2oRo"),i=n("kRJp");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),a=n("Z0cm"),o=n("/9aa"),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;function c(e){if("string"==typeof e)return e;if(a(e))return i(e,c)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},zqmC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LinkWrapper=void 0;var r=o(n("q1tI")),i=n("LtsZ"),a=["to"];function o(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var c=function(e){return function(t){var n=t.to,i=u(t,a),o=/^(\w+:)?\/\//.test(n)||!n,l=r["default"].isValidElement(i.children);return r["default"].createElement(e,s({to:n||"",component:o?function(){return r["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},i.children,n&&!l&&r["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,o?{}:{onClick:function(){var e;window.scrollTo({top:0});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=i.onClick)||void 0===e||e.apply(this,n)}}))}};t.LinkWrapper=c;var f=c(i.Link);t["default"]=f},"zu+z":function(e,t,n){var r=n("I+eb"),i=n("qY7S");r({target:"Map",stat:!0},{from:i})},zvhG:function(e,t){function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}e.exports=n,n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var n,r,i,a,o;for("undefined"===typeof t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;while(n<r){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},zxMA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var r=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t="",n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=r}});